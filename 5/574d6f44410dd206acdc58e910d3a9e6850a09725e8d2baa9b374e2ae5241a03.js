
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.2.0",d.prototype.close=function(b){function c(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.2.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),d[e](null==f[b]?this.options[b]:f[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b).on("keydown.bs.carousel",a.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0",c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.to=function(b){var c=this,d=this.getItemIndex(this.$active=this.$element.find(".item.active"));return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=e[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:g});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(e)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:g});return a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one("bsTransitionEnd",function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),f&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(b=!b),e||d.data("bs.collapse",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};c.VERSION="3.2.0",c.DEFAULTS={toggle:!0},c.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$parent&&this.$parent.find("> .panel > .in");if(d&&d.length){var e=d.data("bs.collapse");if(e&&e.transitioning)return;b.call(d,"hide"),e||d.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return g.call(this);var h=a.camelCase(["scroll",f].join("-"));this.$element.one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(350)[f](this.$element[0][h])}}},c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=b,a.fn.collapse.Constructor=c,a.fn.collapse.noConflict=function(){return a.fn.collapse=d,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var d,e=a(this),f=e.attr("data-target")||c.preventDefault()||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(f),h=g.data("bs.collapse"),i=h?"toggle":e.data(),j=e.attr("data-parent"),k=j&&a(j);h&&h.transitioning||(k&&k.find('[data-toggle="collapse"][data-parent="'+j+'"]').not(e).addClass("collapsed"),e[g.hasClass("in")?"addClass":"removeClass"]("collapsed")),b.call(g,i)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f+', [role="menu"], [role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.2.0",c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}else b&&b()},c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.2.0",c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(document.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.$element.parent(),o=this.getPosition(n);g="bottom"==g&&j.top+j.height+l-o.scroll>o.height?"top":"top"==g&&j.top-o.scroll-l<0?"bottom":"right"==g&&j.right+k>o.width?"left":"left"==g&&j.left-k<o.left?"right":g,e.removeClass(m).addClass(g)}var p=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(p,g);var q=function(){d.$element.trigger("shown.bs."+d.type),d.hoverState=null};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(150):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=k.left?2*k.left-e+i:2*k.top-f+j,m=k.left?"left":"top",n=k.left?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(l,d[0][n],m)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.2.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.2.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.2.0",c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.closest("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},c.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault(),b.call(a(this),"show")})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.2.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=b-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){null!=this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:b-this.$element.height()-h}))}}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);!function(a,b,c){var d=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=c(d):"function"==typeof define&&define.amd?define(function(){return b[a]=c(d)}):b[a]=c(d)}("enquire",this,function(a){"use strict";function b(a,b){var c,d=0,e=a.length;for(d;e>d&&(c=b(a[d],d),c!==!1);d++);}function c(a){return"[object Array]"===Object.prototype.toString.apply(a)}function d(a){return"function"==typeof a}function e(a){this.options=a,!a.deferSetup&&this.setup()}function f(b,c){this.query=b,this.isUnconditional=c,this.handlers=[],this.mql=a(b);var d=this;this.listener=function(a){d.mql=a,d.assess()},this.mql.addListener(this.listener)}function g(){if(!a)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!a("only all").matches}return e.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===a||this.options.match===a}},f.prototype={addHandler:function(a){var b=new e(a);this.handlers.push(b),this.matches()&&b.on()},removeHandler:function(a){var c=this.handlers;b(c,function(b,d){return b.equals(a)?(b.destroy(),!c.splice(d,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){b(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";b(this.handlers,function(b){b[a]()})}},g.prototype={register:function(a,e,g){var h=this.queries,i=g&&this.browserIsIncapable;return h[a]||(h[a]=new f(a,i)),d(e)&&(e={match:e}),c(e)||(e=[e]),b(e,function(b){d(b)&&(b={match:b}),h[a].addHandler(b)}),this},unregister:function(a,b){var c=this.queries[a];return c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a])),this}},new g});;(function(window,document){'use strict';var nextTick,addEvent;nextTick=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);};addEvent=(function(){if(document.addEventListener){return function addStandardEventListener(el,eventName,fn){return el.addEventListener(eventName,fn,false);};}
else{return function addIEEventListener(el,eventName,fn){return el.attachEvent('on'+eventName,fn);};}})();function Imager(elements,opts){var self=this,doc=document;opts=opts||{};this.elements=elements||'.js-responsive-image';this.className=opts.className||'js-responsive-image-replaced';this.onResize=opts.hasOwnProperty('onResize')?opts.onResize:true;this.onImagesReplaced=opts.onImagesReplaced||function(){};this.eles=$(elements);nextTick(function(){self.init();});}
Imager.prototype.init=function(){this.checkImagesNeedReplacing(this.eles);if(this.onResize){this.registerResizeEvent();}};Imager.prototype.checkImagesNeedReplacing=function(images){var self=this;if(!this.isResizing){this.isResizing=true;images.each(function(){self.replaceImagesBasedOnScreenDimensions(this);});this.isResizing=false;this.onImagesReplaced(images);}};Imager.prototype.replaceImagesBasedOnScreenDimensions=function(image){var srcData,availableWidths=[],cwidth;if($(image).attr("data-media")){var eMedia=$(image).attr("data-media")
$(image).removeAttr("data-media")
eMedia=$.parseJSON(eMedia)
$.each(eMedia,function(key,value){availableWidths.push(parseInt(key));});$(image).data("width",availableWidths);$(image).data("media",eMedia);}
srcData=$(image).data("media");if(!$.isEmptyObject(srcData)){cwidth=Imager.getClosestValue($(window).width(),$.extend([],$(image).data("width")));if(image.src!==srcData[cwidth]){image.src=srcData[cwidth];}}else{image.src='';}};Imager.getClosestValue=function getClosestValue(baseValue,candidates){if(baseValue<candidates[0]||candidates.length<2){return candidates[0];}
var minClosestValues=candidates.filter(function(v){return v<baseValue});var maxClosestValues=candidates.filter(function(v){return v>=baseValue});return maxClosestValues[0]||minClosestValues[minClosestValues.length-1];}
Imager.prototype.registerResizeEvent=function(){var self=this;addEvent(window,'resize',function(){self.checkImagesNeedReplacing(self.eles);});};if(typeof module==='object'&&typeof module.exports==='object'){module.exports=exports=Imager;}else if(typeof define==='function'&&define.amd){define(function(){return Imager;});}else if(typeof window==='object'){window.Imager=Imager;}}(window,document));;(function(){"use strict";function setup($){$.fn._fadeIn=$.fn.fadeIn;var noOp=$.noop||function(){};var msie=/MSIE/.test(navigator.userAgent);var ie6=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var mode=document.documentMode||0;var setExpr=$.isFunction(document.createElement('div').style.setExpression);$.blockUI=function(opts){install(window,opts);};$.unblockUI=function(opts){remove(window,opts);};$.growlUI=function(title,message,timeout,onClose){var $m=$('<div class="growlUI"></div>');if(title)$m.append('<h1>'+title+'</h1>');if(message)$m.append('<h2>'+message+'</h2>');if(timeout===undefined)timeout=3000;var callBlock=function(opts){opts=opts||{};$.blockUI({message:$m,fadeIn:typeof opts.fadeIn!=='undefined'?opts.fadeIn:700,fadeOut:typeof opts.fadeOut!=='undefined'?opts.fadeOut:1000,timeout:typeof opts.timeout!=='undefined'?opts.timeout:timeout,centerY:false,showOverlay:false,onUnblock:onClose,css:$.blockUI.defaults.growlCSS});};callBlock();var nonmousedOpacity=$m.css('opacity');$m.mouseover(function(){callBlock({fadeIn:0,timeout:30000});var displayBlock=$('.blockMsg');displayBlock.stop();displayBlock.fadeTo(300,1);}).mouseout(function(){$('.blockMsg').fadeOut(1000);});};$.fn.block=function(opts){if(this[0]===window){$.blockUI(opts);return this;}
var fullOpts=$.extend({},$.blockUI.defaults,opts||{});this.each(function(){var $el=$(this);if(fullOpts.ignoreIfBlocked&&$el.data('blockUI.isBlocked'))
return;$el.unblock({fadeOut:0});});return this.each(function(){if($.css(this,'position')=='static'){this.style.position='relative';$(this).data('blockUI.static',true);}
this.style.zoom=1;install(this,opts);});};$.fn.unblock=function(opts){if(this[0]===window){$.unblockUI(opts);return this;}
return this.each(function(){remove(this,opts);});};$.blockUI.version=2.66;$.blockUI.defaults={message:'<h1>Please wait...</h1>',title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:'30%',top:'40%',left:'35%',textAlign:'center',color:'#000',border:'3px solid #aaa',backgroundColor:'#fff',cursor:'wait'},themedCSS:{width:'30%',top:'40%',left:'35%'},overlayCSS:{backgroundColor:'#000',opacity:0.6,cursor:'wait'},cursorReset:'default',growlCSS:{width:'350px',top:'10px',left:'',right:'10px',border:'none',padding:'5px',opacity:0.6,cursor:'default',color:'#fff',backgroundColor:'#000','-webkit-border-radius':'10px','-moz-border-radius':'10px','border-radius':'10px'},iframeSrc:/^https/i.test(window.location.href||'')?'javascript:false':'about:blank',forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:':input:enabled:visible',onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:'blockMsg',ignoreIfBlocked:false};var pageBlock=null;var pageBlockEls=[];function install(el,opts){var css,themedCSS;var full=(el==window);var msg=(opts&&opts.message!==undefined?opts.message:undefined);opts=$.extend({},$.blockUI.defaults,opts||{});if(opts.ignoreIfBlocked&&$(el).data('blockUI.isBlocked'))
return;opts.overlayCSS=$.extend({},$.blockUI.defaults.overlayCSS,opts.overlayCSS||{});css=$.extend({},$.blockUI.defaults.css,opts.css||{});if(opts.onOverlayClick)
opts.overlayCSS.cursor='pointer';themedCSS=$.extend({},$.blockUI.defaults.themedCSS,opts.themedCSS||{});msg=msg===undefined?opts.message:msg;if(full&&pageBlock)
remove(window,{fadeOut:0});if(msg&&typeof msg!='string'&&(msg.parentNode||msg.jquery)){var node=msg.jquery?msg[0]:msg;var data={};$(el).data('blockUI.history',data);data.el=node;data.parent=node.parentNode;data.display=node.style.display;data.position=node.style.position;if(data.parent)
data.parent.removeChild(node);}
$(el).data('blockUI.onUnblock',opts.onUnblock);var z=opts.baseZ;var lyr1,lyr2,lyr3,s;if(msie||opts.forceIframe)
lyr1=$('<iframe class="blockUI" style="z-index:'+(z++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+opts.iframeSrc+'"></iframe>');else
lyr1=$('<div class="blockUI" style="display:none"></div>');if(opts.theme)
lyr2=$('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(z++)+';display:none"></div>');else
lyr2=$('<div class="blockUI blockOverlay" style="z-index:'+(z++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');if(opts.theme&&full){s='<div class="blockUI '+opts.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:fixed">';if(opts.title){s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||'&nbsp;')+'</div>';}
s+='<div class="ui-widget-content ui-dialog-content"></div>';s+='</div>';}
else if(opts.theme){s='<div class="blockUI '+opts.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:absolute">';if(opts.title){s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||'&nbsp;')+'</div>';}
s+='<div class="ui-widget-content ui-dialog-content"></div>';s+='</div>';}
else if(full){s='<div class="blockUI '+opts.blockMsgClass+' blockPage" style="z-index:'+(z+10)+';display:none;position:fixed"></div>';}
else{s='<div class="blockUI '+opts.blockMsgClass+' blockElement" style="z-index:'+(z+10)+';display:none;position:absolute"></div>';}
lyr3=$(s);if(msg){if(opts.theme){lyr3.css(themedCSS);lyr3.addClass('ui-widget-content');}
else
lyr3.css(css);}
if(!opts.theme)
lyr2.css(opts.overlayCSS);lyr2.css('position',full?'fixed':'absolute');if(msie||opts.forceIframe)
lyr1.css('opacity',0.0);var layers=[lyr1,lyr2,lyr3],$par=full?$('body'):$(el);$.each(layers,function(){this.appendTo($par);});if(opts.theme&&opts.draggable&&$.fn.draggable){lyr3.draggable({handle:'.ui-dialog-titlebar',cancel:'li'});}
var expr=setExpr&&(!$.support.boxModel||$('object,embed',full?null:el).length>0);if(ie6||expr){if(full&&opts.allowBodyStretch&&$.support.boxModel)
$('html,body').css('height','100%');if((ie6||!$.support.boxModel)&&!full){var t=sz(el,'borderTopWidth'),l=sz(el,'borderLeftWidth');var fixT=t?'(0 - '+t+')':0;var fixL=l?'(0 - '+l+')':0;}
$.each(layers,function(i,o){var s=o[0].style;s.position='absolute';if(i<2){if(full)
s.setExpression('height','Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:'+opts.quirksmodeOffsetHack+') + "px"');else
s.setExpression('height','this.parentNode.offsetHeight + "px"');if(full)
s.setExpression('width','jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');else
s.setExpression('width','this.parentNode.offsetWidth + "px"');if(fixL)s.setExpression('left',fixL);if(fixT)s.setExpression('top',fixT);}
else if(opts.centerY){if(full)s.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');s.marginTop=0;}
else if(!opts.centerY&&full){var top=(opts.css&&opts.css.top)?parseInt(opts.css.top,10):0;var expression='((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+top+') + "px"';s.setExpression('top',expression);}});}
if(msg){if(opts.theme)
lyr3.find('.ui-widget-content').append(msg);else
lyr3.append(msg);if(msg.jquery||msg.nodeType)
$(msg).show();}
if((msie||opts.forceIframe)&&opts.showOverlay)
lyr1.show();if(opts.fadeIn){var cb=opts.onBlock?opts.onBlock:noOp;var cb1=(opts.showOverlay&&!msg)?cb:noOp;var cb2=msg?cb:noOp;if(opts.showOverlay)
lyr2._fadeIn(opts.fadeIn,cb1);if(msg)
lyr3._fadeIn(opts.fadeIn,cb2);}
else{if(opts.showOverlay)
lyr2.show();if(msg)
lyr3.show();if(opts.onBlock)
opts.onBlock();}
bind(1,el,opts);if(full){pageBlock=lyr3[0];pageBlockEls=$(opts.focusableElements,pageBlock);if(opts.focusInput)
setTimeout(focus,20);}
else
center(lyr3[0],opts.centerX,opts.centerY);if(opts.timeout){var to=setTimeout(function(){if(full)
$.unblockUI(opts);else
$(el).unblock(opts);},opts.timeout);$(el).data('blockUI.timeout',to);}}
function remove(el,opts){var count;var full=(el==window);var $el=$(el);var data=$el.data('blockUI.history');var to=$el.data('blockUI.timeout');if(to){clearTimeout(to);$el.removeData('blockUI.timeout');}
opts=$.extend({},$.blockUI.defaults,opts||{});bind(0,el,opts);if(opts.onUnblock===null){opts.onUnblock=$el.data('blockUI.onUnblock');$el.removeData('blockUI.onUnblock');}
var els;if(full)
els=$('body').children().filter('.blockUI').add('body > .blockUI');else
els=$el.find('>.blockUI');if(opts.cursorReset){if(els.length>1)
els[1].style.cursor=opts.cursorReset;if(els.length>2)
els[2].style.cursor=opts.cursorReset;}
if(full)
pageBlock=pageBlockEls=null;if(opts.fadeOut){count=els.length;els.stop().fadeOut(opts.fadeOut,function(){if(--count===0)
reset(els,data,opts,el);});}
else
reset(els,data,opts,el);}
function reset(els,data,opts,el){var $el=$(el);if($el.data('blockUI.isBlocked'))
return;els.each(function(i,o){if(this.parentNode)
this.parentNode.removeChild(this);});if(data&&data.el){data.el.style.display=data.display;data.el.style.position=data.position;if(data.parent)
data.parent.appendChild(data.el);$el.removeData('blockUI.history');}
if($el.data('blockUI.static')){$el.css('position','static');}
if(typeof opts.onUnblock=='function')
opts.onUnblock(el,opts);var body=$(document.body),w=body.width(),cssW=body[0].style.width;body.width(w-1).width(w);body[0].style.width=cssW;}
function bind(b,el,opts){var full=el==window,$el=$(el);if(!b&&(full&&!pageBlock||!full&&!$el.data('blockUI.isBlocked')))
return;$el.data('blockUI.isBlocked',b);if(!full||!opts.bindEvents||(b&&!opts.showOverlay))
return;var events='mousedown mouseup keydown keypress keyup touchstart touchend touchmove';if(b)
$(document).bind(events,opts,handler);else
$(document).unbind(events,handler);}
function handler(e){if(e.type==='keydown'&&e.keyCode&&e.keyCode==9){if(pageBlock&&e.data.constrainTabKey){var els=pageBlockEls;var fwd=!e.shiftKey&&e.target===els[els.length-1];var back=e.shiftKey&&e.target===els[0];if(fwd||back){setTimeout(function(){focus(back);},10);return false;}}}
var opts=e.data;var target=$(e.target);if(target.hasClass('blockOverlay')&&opts.onOverlayClick)
opts.onOverlayClick(e);if(target.parents('div.'+opts.blockMsgClass).length>0)
return true;return target.parents().children().filter('div.blockUI').length===0;}
function focus(back){if(!pageBlockEls)
return;var e=pageBlockEls[back===true?pageBlockEls.length-1:0];if(e)
e.focus();}
function center(el,x,y){var p=el.parentNode,s=el.style;var l=((p.offsetWidth-el.offsetWidth)/2)-sz(p,'borderLeftWidth');var t=((p.offsetHeight-el.offsetHeight)/2)-sz(p,'borderTopWidth');if(x)s.left=l>0?(l+'px'):'0';if(y)s.top=t>0?(t+'px'):'0';}
function sz(el,p){return parseInt($.css(el,p),10)||0;}}
if(typeof define==='function'&&define.amd&&define.amd.jQuery){define(['jquery'],setup);}else{setup(jQuery);}})();!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var i=this;if(i.clk=r,"image"==r.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){var a,n,i=e.param(r,t.traditional).split("&"),o=i.length,s=[];for(a=0;o>a;a++)i[a]=i[a].replace(/\+/g," "),n=i[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function o(a){for(var n=new FormData,i=0;i<a.length;i++)n.append(a[i].name,a[i].value);if(t.extraData){var o=r(t.extraData);for(i=0;i<o.length;i++)o[i]&&n.append(o[i][0],o[i][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,r){r.data=t.formData?t.formData:n,c&&c.call(this,e,r)},e.ajax(s)}function s(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(r){a("cannot get iframe.contentWindow document: "+r)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function o(){function t(){try{var e=n(g).readyState;a("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(r){a("Server abort: ",r," (",r.name,")"),s(k),j&&clearTimeout(j),j=void 0}}var r=f.attr2("target"),i=f.attr2("action"),o="multipart/form-data",c=f.attr("enctype")||f.attr("encoding")||o;w.setAttribute("target",p),(!u||/post/i.test(u))&&w.setAttribute("method","POST"),i!=m.url&&w.setAttribute("action",m.url),m.skipEncodingOverride||u&&!/post/i.test(u)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(j=setTimeout(function(){T=!0,s(D)},m.timeout));var l=[];try{if(m.extraData)for(var d in m.extraData)m.extraData.hasOwnProperty(d)&&l.push(e.isPlainObject(m.extraData[d])&&m.extraData[d].hasOwnProperty("name")&&m.extraData[d].hasOwnProperty("value")?e('<input type="hidden" name="'+m.extraData[d].name+'">').val(m.extraData[d].value).appendTo(w)[0]:e('<input type="hidden" name="'+d+'">').val(m.extraData[d]).appendTo(w)[0]);m.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1),setTimeout(t,15);try{w.submit()}catch(h){var x=document.createElement("form").submit;x.apply(w)}}finally{w.setAttribute("action",i),w.setAttribute("enctype",c),r?w.setAttribute("target",r):f.removeAttr("target"),e(l).remove()}}function s(t){if(!x.aborted&&!F){if(M=n(g),M||(a("cannot access response document"),t=k),t===D&&x)return x.abort("timeout"),void S.reject(x,"timeout");if(t==k&&x)return x.abort("server abort"),void S.reject(x,"error","server abort");if(M&&M.location.href!=m.iframeSrc||T){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,i="success";try{if(T)throw"timeout";var o="xml"==m.dataType||M.XMLDocument||e.isXMLDoc(M);if(a("isXml="+o),!o&&window.opera&&(null===M.body||!M.body.innerHTML)&&--O)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var u=M.body?M.body:M.documentElement;x.responseText=u?u.innerHTML:null,x.responseXML=M.XMLDocument?M.XMLDocument:M,o&&(m.dataType="xml"),x.getResponseHeader=function(e){var t={"content-type":m.dataType};return t[e.toLowerCase()]},u&&(x.status=Number(u.getAttribute("status"))||x.status,x.statusText=u.getAttribute("statusText")||x.statusText);var c=(m.dataType||"").toLowerCase(),l=/(json|script|text)/.test(c);if(l||m.textarea){var f=M.getElementsByTagName("textarea")[0];if(f)x.responseText=f.value,x.status=Number(f.getAttribute("status"))||x.status,x.statusText=f.getAttribute("statusText")||x.statusText;else if(l){var p=M.getElementsByTagName("pre")[0],h=M.getElementsByTagName("body")[0];p?x.responseText=p.textContent?p.textContent:p.innerText:h&&(x.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==c&&!x.responseXML&&x.responseText&&(x.responseXML=X(x.responseText));try{E=_(x,c,m)}catch(y){i="parsererror",x.error=r=y||i}}catch(y){a("error caught: ",y),i="error",x.error=r=y||i}x.aborted&&(a("upload aborted"),i=null),x.status&&(i=x.status>=200&&x.status<300||304===x.status?"success":"error"),"success"===i?(m.success&&m.success.call(m.context,E,"success",x),S.resolve(x.responseText,"success",x),d&&e.event.trigger("ajaxSuccess",[x,m])):i&&(void 0===r&&(r=x.statusText),m.error&&m.error.call(m.context,x,i,r),S.reject(x,"error",r),d&&e.event.trigger("ajaxError",[x,m,r])),d&&e.event.trigger("ajaxComplete",[x,m]),d&&!--e.active&&e.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,x,i),F=!0,m.timeout&&clearTimeout(j),setTimeout(function(){m.iframeTarget?v.attr("src",m.iframeSrc):v.remove(),x.responseXML=null},100)}}}var c,l,m,d,p,v,g,x,y,b,T,j,w=f[0],S=e.Deferred();if(S.abort=function(e){x.abort(e)},r)for(l=0;l<h.length;l++)c=e(h[l]),i?c.prop("disabled",!1):c.removeAttr("disabled");if(m=e.extend(!0,{},e.ajaxSettings,t),m.context=m.context||m,p="jqFormIO"+(new Date).getTime(),m.iframeTarget?(v=e(m.iframeTarget),b=v.attr2("name"),b?p=b:v.attr2("name",p)):(v=e('<iframe name="'+p+'" src="'+m.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(n){}v.attr("src",m.iframeSrc),x.error=r,m.error&&m.error.call(m.context,x,r,t),d&&e.event.trigger("ajaxError",[x,m,r]),m.complete&&m.complete.call(m.context,x,r)}},d=m.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[x,m]),m.beforeSend&&m.beforeSend.call(m.context,x,m)===!1)return m.global&&e.active--,S.reject(),S;if(x.aborted)return S.reject(),S;y=w.clk,y&&(b=y.name,b&&!y.disabled&&(m.extraData=m.extraData||{},m.extraData[b]=y.value,"image"==y.type&&(m.extraData[b+".x"]=w.clk_x,m.extraData[b+".y"]=w.clk_y)));var D=1,k=2,A=e("meta[name=csrf-token]").attr("content"),L=e("meta[name=csrf-param]").attr("content");L&&A&&(m.extraData=m.extraData||{},m.extraData[L]=A),m.forceSync?o():setTimeout(o,10);var E,M,F,O=50,X=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=e.parseJSON||function(e){return window.eval("("+e+")")},_=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i="xml"===r||!r&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&("json"===r||!r&&n.indexOf("json")>=0?o=C(o):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var u,c,l,f=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),u=t.type||this.attr2("method"),c=t.url||this.attr2("action"),l="string"==typeof c?e.trim(c):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,success:e.ajaxSettings.success,type:u||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var p,h=[],v=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,p=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(v,d);p&&(g=g?g+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var x=[];if(t.resetForm&&x.push(function(){f.resetForm()}),t.clearForm&&x.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};x.push(function(r){var a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](r).each(y,arguments)})}else t.success&&x.push(t.success);if(t.success=function(e,r,a){for(var n=t.context||this,i=0,o=x.length;o>i;i++)x[i].apply(n,[e,r,a||f,f])},t.error){var b=t.error;t.error=function(e,r,a){var n=t.context||this;b.apply(n,[e,r,a,f])}}if(t.complete){var T=t.complete;t.complete=function(e,r){var a=t.context||this;T.apply(a,[e,r,f])}}var j=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),w=j.length>0,S="multipart/form-data",D=f.attr("enctype")==S||f.attr("encoding")==S,k=n.fileapi&&n.formdata;a("fileAPI :"+k);var A,L=(w||D)&&!k;t.iframe!==!1&&(t.iframe||L)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){A=s(v)}):A=s(v):A=(w||D)&&k?o(v):e.ajax(t),f.removeData("jqxhr").data("jqxhr",A);for(var E=0;E<h.length;E++)h[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var a=[];if(0===this.length)return a;var i,o=this[0],s=this.attr("id"),u=t?o.getElementsByTagName("*"):o.elements;if(u&&!/MSIE [678]/.test(navigator.userAgent)&&(u=e(u).get()),s&&(i=e(':input[form="'+s+'"]').get(),i.length&&(u=(u||[]).concat(i))),!u||!u.length)return a;var c,l,f,m,d,p,h;for(c=0,p=u.length;p>c;c++)if(d=u[c],f=d.name,f&&!d.disabled)if(t&&o.clk&&"image"==d.type)o.clk==d&&(a.push({name:f,value:e(d).val(),type:d.type}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));else if(m=e.fieldValue(d,!0),m&&m.constructor==Array)for(r&&r.push(d),l=0,h=m.length;h>l;l++)a.push({name:f,value:m[l]});else if(n.fileapi&&"file"==d.type){r&&r.push(d);var v=d.files;if(v.length)for(l=0;l<v.length;l++)a.push({name:f,value:v[l],type:d.type});else a.push({name:f,value:"",type:d.type})}else null!==m&&"undefined"!=typeof m&&(r&&r.push(d),a.push({name:f,value:m,type:d.type,required:d.required}));if(!t&&o.clk){var g=e(o.clk),x=g[0];f=x.name,f&&!x.disabled&&"image"==x.type&&(a.push({name:f,value:g.val()}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var i=0,o=n.length;o>i;i++)r.push({name:a,value:n[i]});else null!==n&&"undefined"!=typeof n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;n>a;a++){var i=this[a],o=e.fieldValue(i,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,n=t.type,i=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==i&&-1==t.selectedIndex))return null;if("select"==i){var o=t.selectedIndex;if(0>o)return null;for(var s=[],u=t.options,c="select-one"==n,l=c?o+1:u.length,f=c?o:0;l>f;f++){var m=u[f];if(m.selected){var d=m.value;if(d||(d=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),c)return d;s.push(d)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"==n?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});(function($){$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var cfg={interval:100,sensitivity:6,timeout:0};if(typeof handlerIn==="object"){cfg=$.extend(cfg,handlerIn);}else if($.isFunction(handlerOut)){cfg=$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector});}else{cfg=$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});}
var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if(Math.sqrt((pX-cX)*(pX-cX)+(pY-cY)*(pY-cY))<cfg.sensitivity){$(ob).off("mousemove.hoverIntent",track);ob.hoverIntent_s=true;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=false;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var ev=$.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}
if(e.type==="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove.hoverIntent",track);if(!ob.hoverIntent_s){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).off("mousemove.hoverIntent",track);if(ob.hoverIntent_s){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.on({'mouseenter.hoverIntent':handleHover,'mouseleave.hoverIntent':handleHover},cfg.selector);};})(jQuery);(function($){$.extend($.fn,{pstrength:function(options){var options=$.extend({verdicts:["Too Short!","Very Weak","Weak","Medium","Strong","Very Strong"],colors:["#ccc","#f00","#c06","#f60","#3c0","#3f0"],values:[20,30,40,60,80,100],scores:[10,15,30,40],minchar:5,minCharText:"Minimum length is %d characters"},options);return this.each(function(){var infoarea=$(this).attr('id');$(this).after('<div id="'+infoarea+'_bar" class="progress" style="display: none;"><div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><span  id="'+infoarea+'_text">0%<span></div></div>');if(options.minchar>0){$(this).after('<div class="help-block" id="'+infoarea+'_minchar">'+options.minCharText.replace('%d',options.minchar)+'</div>');}
options.$ctlBar=$("#"+infoarea+"_bar .progress-bar");options.$ctlText=$("#"+infoarea+"_text");$(this).keyup(function(){if(options.minchar<=$(this).val().length&&$("#"+infoarea+'_bar:hidden')){$("#"+infoarea+'_bar').show()}
$.fn.runPassword($(this).val(),infoarea,options);});});},runPassword:function(password,infoarea,options){nPerc=$.fn.checkPassword(password,options);var statusNum;if(nPerc<0){statusNum=0}
else if(nPerc<=options.scores[0]){statusNum=1}
else if(nPerc>options.scores[0]&&nPerc<=options.scores[1]){statusNum=2}
else if(nPerc>options.scores[1]&&nPerc<=options.scores[2]){statusNum=3}
else if(nPerc>options.scores[2]&&nPerc<=options.scores[3]){statusNum=4}
else{statusNum=5}
options.$ctlBar.css({width:options.values[statusNum]+"%"});options.$ctlBar.attr("aria-valuenow",options.values[statusNum]);options.$ctlBar.css({backgroundColor:options.colors[statusNum]});options.$ctlText.html(options.verdicts[statusNum]);},checkPassword:function(password,options)
{var intScore=0;var strVerdict=options.verdicts[0];if(password.length<options.minchar){intScore=(intScore-100)}
else if(password.length>options.minchar+1&&password.length<options.minchar+3){intScore=(intScore+6)}
else if(password.length>options.minchar+2&&password.length<options.minchar+4){intScore=(intScore+12)}
else if(password.length>options.minchar*2){intScore=(intScore+18)}
if(password.match(/[a-z]/)){intScore=(intScore+1)}
if(password.match(/[A-Z]/)){intScore=(intScore+5)}
if(password.match(/\d+/)){intScore=(intScore+5)}
if(password.match(/(.*[0-9].*[0-9].*[0-9])/)){intScore=(intScore+5)}
if(password.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)){intScore=(intScore+5)}
if(password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)){intScore=(intScore+5)}
if(password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)){intScore=(intScore+2)}
if(password.match(/([a-zA-Z])/)&&password.match(/([0-9])/)){intScore=(intScore+2)}
if(password.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)){intScore=(intScore+2)}
return intScore;}});})(jQuery);(function($){var getHeightProperty=function(){var browser_id=0;var property=[['min-height','0px'],['height','1%']];var bMatch=/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[],browser=bMatch[1]||"",browserVersion=bMatch[2]||"0";if(browser==='msie'&&browserVersion<7){browser_id=1;}
return{'name':property[browser_id][0],'autoheightVal':property[browser_id][1]};};$.getSyncedHeight=function(selector){var max=0;var heightProperty=getHeightProperty();$(selector).each(function(){$(this).css(heightProperty.name,heightProperty.autoheightVal);var val=parseInt($(this).css('height'),10);if(val>max){max=val;}});return max;};$.fn.syncHeight=function(config){var defaults={updateOnResize:false,height:false};var options=$.extend(defaults,config);var e=this;var max=0;var heightPropertyName=getHeightProperty().name;if(options.parent==true){$(this).each(function(){$(this).css(heightPropertyName,0+'px');});$(this).each(function(){$(this).css(heightPropertyName,$(this).parent().innerHeight()+'px');});}else{if(typeof(options.height)==="number"){max=options.height;}else{max=$.getSyncedHeight(this);}
$(this).each(function(){$(this).css(heightPropertyName,max+'px');});}
if(options.updateOnResize===true){$(window).bind('resize.syncHeight',function(){options["updateOnResize"]=false;$(e).syncHeight(options);});}
return this;};$.fn.unSyncHeight=function(){$(window).unbind('resize.syncHeight');var heightPropertyName=getHeightProperty().name;$(this).each(function(){$(this).css(heightPropertyName,'');});};})(jQuery);(function($){var debugMode=false;$.fn.extend({getUniqueId:function(p,q,r){if(r===undefined){r='';}else{r='-'+r;}
return p+q+r;},accessibleTabs:function(config){var defaults={wrapperClass:'content',currentClass:'current',tabhead:'h4',tabheadClass:'tabhead',tabbody:'.tabbody',fx:'show',fxspeed:'normal',currentInfoText:'current tab: ',currentInfoPosition:'prepend',currentInfoClass:'current-info',tabsListClass:'tabs-list',syncheights:false,syncHeightMethodName:'syncHeight',cssClassAvailable:false,saveState:false,autoAnchor:false,pagination:false,position:'top',wrapInnerNavLinks:'',firstNavItemClass:'first',lastNavItemClass:'last',clearfixClass:'clearfix'};var keyCodes={37:-1,38:-1,39:+1,40:+1};var positions={top:'prepend',bottom:'append'};this.options=$.extend(defaults,config);var tabsCount=0;if($("body").data('accessibleTabsCount')!==undefined){tabsCount=$("body").data('accessibleTabsCount');}
$("body").data('accessibleTabsCount',this.size()+tabsCount);var o=this;return this.each(function(t){var el=$(this);var list='';var tabCount=0;var ids=[];$(el).wrapInner('<div class="'+o.options.wrapperClass+'"></div>');debug($(el).find(o.options.tabhead).children("a"))
$(el).find(o.options.tabhead).each(function(i){debug($(this))
var id='';var elId=$(this).attr('id');if(elId){if(elId.indexOf('accessibletabscontent')===0){return;}
id=' id="'+elId+'"';}
var tabId=o.getUniqueId('accessibletabscontent',tabsCount+t,i);var navItemId=o.getUniqueId('accessibletabsnavigation',tabsCount+t,i);ids.push(tabId);var navItemText=($(this).children("a").length>0)?$(this).children("a").html():$(this).html();var ariaLabel="";if($(this).attr("aria-label")){ariaLabel='aria-label="'+$(this).attr("aria-label")+'"'}
if(o.options.cssClassAvailable===true){var cssClass='';if($(this).attr('class')){cssClass=$(this).attr('class');cssClass=' class="'+cssClass+'"';}
list+='<li id="'+navItemId+'"><a'+id+''+cssClass+' href="#'+tabId+'" '+ariaLabel+'>'+navItemText+'</a></li>';}else{list+='<li id="'+navItemId+'"><a'+id+' href="#'+tabId+'" '+ariaLabel+'>'+navItemText+'</a></li>';}
$(this).attr({"id":tabId,"class":o.options.tabheadClass,"tabindex":"-1"});tabCount++;});if(o.options.syncheights&&$.fn[o.options.syncHeightMethodName]){$(el).find(o.options.tabbody)[o.options.syncHeightMethodName]();$(window).resize(function(){$(el).find(o.options.tabbody)[o.options.syncHeightMethodName]();});}
var tabs_selector='.'+o.options.tabsListClass;if(!$(el).find(tabs_selector).length){$(el)[positions[o.options.position]]('<ul class="'+o.options.clearfixClass+' '+o.options.tabsListClass+' tabamount'+tabCount+'"></ul>');}
$(el).find(tabs_selector).append(list);var content=$(el).find(o.options.tabbody);if(content.length>0){$(content).hide();$(content[0]).show();}
$(el).find("ul."+o.options.tabsListClass+">li:first").addClass(o.options.currentClass).addClass(o.options.firstNavItemClass).find('a')[o.options.currentInfoPosition]('<span class="'+o.options.currentInfoClass+'">'+o.options.currentInfoText+'</span>').parents("ul."+o.options.tabsListClass).children('li:last').addClass(o.options.lastNavItemClass);var tabheads=$(el).find(o.options.tabhead);if(tabheads.length>0){$(tabheads[0]).addClass(o.options.currentClass).addClass(o.options.firstNavItemClass);$(tabheads[tabheads.length-1]).addClass(o.options.lastNavItemClass);}
if(o.options.wrapInnerNavLinks){$(el).find('ul.'+o.options.tabsListClass+'>li>a').wrapInner(o.options.wrapInnerNavLinks);}
$(el).find('ul.'+o.options.tabsListClass+'>li>a').each(function(i){$(this).click(function(event){event.preventDefault();el.trigger("showTab.accessibleTabs",[$(event.target)]);if(o.options.saveState&&$.cookie){$.cookie('accessibletab_'+el.attr('id')+'_active',i);}
$(el).find('ul.'+o.options.tabsListClass+'>li.'+o.options.currentClass).removeClass(o.options.currentClass).find("span."+o.options.currentInfoClass).remove();$(el).find(o.options.tabhead).removeClass(o.options.currentClass);$(this).blur();$(el).find(o.options.tabbody+':visible').hide();$(el).find(o.options.tabbody).eq(i)[o.options.fx](o.options.fxspeed);$(this)[o.options.currentInfoPosition]('<span class="'+o.options.currentInfoClass+'">'+o.options.currentInfoText+'</span>').parent().addClass(o.options.currentClass);$($(this).attr("href")).addClass(o.options.currentClass);$($(this).attr("href")).focus().keyup(function(event){if(keyCodes[event.keyCode]){o.showAccessibleTab(i+keyCodes[event.keyCode]);$(this).unbind("keyup");}});});$(this).focus(function(){$(document).keyup(function(event){if(keyCodes[event.keyCode]){o.showAccessibleTab(i+keyCodes[event.keyCode]);}});});$(this).blur(function(){$(document).unbind("keyup");});});if(o.options.saveState&&$.cookie){var savedState=$.cookie('accessibletab_'+el.attr('id')+'_active');debug($.cookie('accessibletab_'+el.attr('id')+'_active'));if(savedState!==null){o.showAccessibleTab(savedState,el.attr('id'));}}
if(o.options.autoAnchor&&window.location.hash){var anchorTab=$('.'+o.options.tabsListClass).find(window.location.hash);if(anchorTab.size()){anchorTab.click();}}
if(o.options.pagination){var m='<ul class="pagination">';m+='    <li class="previous"><a href="#{previousAnchor}"><span>{previousHeadline}</span></a></li>';m+='    <li class="next"><a href="#{nextAnchor}"><span>{nextHeadline}</span></a></li>';m+='</ul>';var tabs=$(el).find('.tabbody');var tabcount=tabs.size();tabs.each(function(idx){$(this).append(m);var next=idx+1;if(next>=tabcount){next=0;}
var previous=idx-1;if(previous<0){previous=tabcount-1;}
var p=$(this).find('.pagination');var previousEl=p.find('.previous');previousEl.find('span').text($('#'+ids[previous]).text());previousEl.find('a').attr('href','#'+ids[previous]).click(function(event){event.preventDefault();$(el).find('.tabs-list a').eq(previous).click();});var nextEl=p.find('.next');nextEl.find('span').text($('#'+ids[next]).text());nextEl.find('a').attr('href','#'+ids[next]).click(function(event){event.preventDefault();$(el).find('.tabs-list a').eq(next).click();});});}});},showAccessibleTab:function(index,id){debug('showAccessibleTab');var o=this;if(id){var el=$('#'+id);var links=el.find('ul.'+o.options.tabsListClass+'>li>a');el.trigger("showTab.accessibleTabs",[links.eq(index)]);links.eq(index).click();}else{return this.each(function(){var el=$(this);el.trigger("showTab.accessibleTabs");var links=el.find('ul.'+o.options.tabsListClass+'>li>a');el.trigger("showTab.accessibleTabs",[links.eq(index)]);links.eq(index).click();});}},showAccessibleTabSelector:function(selector){debug('showAccessibleTabSelector');var el=$(selector);if(el){if(el.get(0).nodeName.toLowerCase()==='a'){el.click();}else{debug('the selector of a showAccessibleTabSelector() call needs to point to a tabs headline!');}}}});function debug(msg,info){if(debugMode&&window.console&&window.console.log){if(info){window.console.log(info+': ',msg);}else{window.console.log(msg);}}}})(jQuery);(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var s=0,n=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,o=n.call(arguments,1),a=0,r=o.length;r>a;a++)for(i in o[a])s=o[a][i],o[a].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=n.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,n=t.data(this,s);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,r),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,l=t(this),h=l.outerWidth(),c=l.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=h+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),T=e(k.my,l.outerWidth(),l.outerHeight());"right"===n.my[0]?D.left-=h:"center"===n.my[0]&&(D.left-=h/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=T[0],D.top+=T[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:h,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+T[0],u[1]+T[1]],my:n.my,at:n.at,within:b,elem:l})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-h,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:D.left,top:D.top,width:h,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};h>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),l.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-r-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(i,s){var n,o,a,r,l,h=i.nodeName.toLowerCase();return"area"===h?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(h)?(r=!i.disabled,r&&(l=t(i).closest("fieldset")[0],l&&(r=!l.disabled))):r="a"===h?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var o=!1;t(document).on("mouseup",function(){o=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,l=e.pageY;return o>r&&(i=r,r=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:l-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?h=!(c.left>r||o>c.right||c.top>l||a>c.bottom):"fit"===n.tolerance&&(h=c.left>o&&r>c.right&&c.top>a&&l>c.bottom),h?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+h>r&&l>s+h,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],l=[],h=this._connectWith();if(h&&e)for(s=h.length-1;s>=0;s--)for(o=t(h[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=l.length-1;s>=0;s--)l[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,h=r.length;h>s;s++)l=t(r[s]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,l,h,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(l=this.items[s].item.offset()[a],h=!1,e[u]-l>this.items[s][r]/2&&(h=!0),n>Math.abs(e[u]-l)&&(n=Math.abs(e[u]-l),o=this.items[s],this.direction=h?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var a=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var l=n[s]("widget");t.data(l[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(l[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(a,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:i(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:i(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:i(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:i(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:i(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(i(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner});(function(o){var t={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};o.zoom=function(t,n,e,i){var u,c,a,r,m,l,s,f=o(t),h=f.css("position"),d=o(n);return t.style.position=/(absolute|fixed)/.test(h)?h:"relative",t.style.overflow="hidden",e.style.width=e.style.height="",o(e).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:e.width*i,height:e.height*i,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(t),{init:function(){c=f.outerWidth(),u=f.outerHeight(),n===t?(r=c,a=u):(r=d.outerWidth(),a=d.outerHeight()),m=(e.width-c)/r,l=(e.height-u)/a,s=d.offset()},move:function(o){var t=o.pageX-s.left,n=o.pageY-s.top;n=Math.max(Math.min(n,a),0),t=Math.max(Math.min(t,r),0),e.style.left=t*-m+"px",e.style.top=n*-l+"px"}}},o.fn.zoom=function(n){return this.each(function(){var e=o.extend({},t,n||{}),i=e.target&&o(e.target)[0]||this,u=this,c=o(u),a=document.createElement("img"),r=o(a),m="mousemove.zoom",l=!1,s=!1;if(!e.url){var f=u.querySelector("img");if(f&&(e.url=f.getAttribute("data-src")||f.currentSrc||f.src),!e.url)return}c.one("zoom.destroy",function(o,t){c.off(".zoom"),i.style.position=o,i.style.overflow=t,a.onload=null,r.remove()}.bind(this,i.style.position,i.style.overflow)),a.onload=function(){function t(t){f.init(),f.move(t),r.stop().fadeTo(o.support.opacity?e.duration:0,1,o.isFunction(e.onZoomIn)?e.onZoomIn.call(a):!1)}function n(){r.stop().fadeTo(e.duration,0,o.isFunction(e.onZoomOut)?e.onZoomOut.call(a):!1)}var f=o.zoom(i,u,a,e.magnify);"grab"===e.on?c.on("mousedown.zoom",function(e){1===e.which&&(o(document).one("mouseup.zoom",function(){n(),o(document).off(m,f.move)}),t(e),o(document).on(m,f.move),e.preventDefault())}):"click"===e.on?c.on("click.zoom",function(e){return l?void 0:(l=!0,t(e),o(document).on(m,f.move),o(document).one("click.zoom",function(){n(),l=!1,o(document).off(m,f.move)}),!1)}):"toggle"===e.on?c.on("click.zoom",function(o){l?n():t(o),l=!l}):"mouseover"===e.on&&(f.init(),c.on("mouseenter.zoom",t).on("mouseleave.zoom",n).on(m,f.move)),e.touch&&c.on("touchstart.zoom",function(o){o.preventDefault(),s?(s=!1,n()):(s=!0,t(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(o){o.preventDefault(),f.move(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0])}).on("touchend.zoom",function(o){o.preventDefault(),s&&(s=!1,n())}),o.isFunction(e.callback)&&e.callback.call(a)},a.setAttribute("role","presentation"),a.alt="",a.src=e.url})},o.fn.zoom.defaults=t})(window.jQuery);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.submitButton=b.currentTarget,a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.submitButton&&(c.settings.submitHandler||c.formSubmitted)&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),!(c.settings.submitHandler&&!c.settings.debug)||(e=c.settings.submitHandler.call(c,c.currentForm,b),d&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0],k="undefined"!=typeof this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=j&&(!j.form&&k&&(j.form=this.closest("form")[0],j.name=this.attr("name")),null!=j.form)){if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(a,b){i[b]=f[b],delete f[b]}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g)),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr.pseudos||a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||a.inArray(c.keyCode,d)!==-1||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c="undefined"!=typeof a(this).attr("contenteditable")&&"false"!==a(this).attr("contenteditable");if(!this.form&&c&&(this.form=a(this).closest("form")[0],this.name=a(this).attr("name")),d===this.form){var e=a.data(this.form,"validator"),f="on"+b.type.replace(/^validate/,""),g=e.settings;g[f]&&!a(this).is(g.ignore)&&g[f].call(e,this,b)}}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.currentForm,e=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){e[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)void 0!==a[b]&&null!==a[b]&&a[b]!==!1&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name"),e="undefined"!=typeof a(this).attr("contenteditable")&&"false"!==a(this).attr("contenteditable");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),e&&(this.form=a(this).closest("form")[0],this.name=d),this.form===b.currentForm&&(!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0))})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type,g="undefined"!=typeof e.attr("contenteditable")&&"false"!==e.attr("contenteditable");return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":e.val():(c=g?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f,g=a(b).rules(),h=a.map(g,function(a,b){return b}).length,i=!1,j=this.elementValue(b);"function"==typeof g.normalizer?f=g.normalizer:"function"==typeof this.settings.normalizer&&(f=this.settings.normalizer),f&&(j=f.call(b,j),delete g.normalizer);for(d in g){e={method:d,parameters:g[d]};try{if(c=a.validator.methods[d].call(this,j,b,e.parameters),"dependency-mismatch"===c&&1===h){i=!0;continue}if(i=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(k){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",k),k instanceof TypeError&&(k.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),k}}if(!i)return this.objectLength(g)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){"string"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.submitButton&&a("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c="string"==typeof c&&c||"remote",a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),""===d&&(d=!0),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:void 0!==b&&null!==b&&b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(){var a=!1;return function(b,c){return a||(a=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(c)||!/Invalid|NaN/.test(new Date(b).toString())}}(),dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e,f=a(c).attr("type"),g="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],i=new RegExp("\\b"+f+"\\b"),j=f&&!i.test(h.join()),k=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(b)>e||l(b)%l(d)!==0)&&(m=!1),this.optional(c)||m},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a});!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:["width","items","settings"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:["items","settings"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g--;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i;this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c)}},{filter:["width","items","settings"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var b,c,e;b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&e<=0&&this.preloadAutoWidthImages(b)}this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),"function"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(b,c){var d=-1,e=30,f=this.width(),g=this.coordinates();return this.settings.freeDrag||a.each(g,a.proxy(function(a,h){return"left"===c&&b>h-e&&b<h+e?d=a:"right"===c&&b>h-f-e&&b<h-f+e?d=a+1:this.op(b,"<",h)&&this.op(b,">",g[a+1]||h-f)&&(d="left"===c?a+1:a),d===-1},this)),this.settings.loop||(this.op(b,">",g[this.minimum()])?d=b=this.minimum():this.op(b,"<",g[this.maximum()])&&(d=b=this.maximum())),d},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){for(b=this._items.length,c=this._items[--b].width(),d=this.$element.width();b--&&(c+=this._items[b].width()+this.settings.margin,!(c>d)););f=b+1}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=f*-1*g),a=c+e,d=((a-h)%g+g)%g+h,d!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.$element.is(":visible")&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn("Can not detect viewport width."),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"))},this))},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),this.settings.responsive!==!1&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:a<c;case">":return d?a<c:a>c;case">=":return d?a<=c:a>=c;case"<=":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&a.namespace.indexOf("owl")!==-1?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==typeof b&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&e*-1||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b)},this);f++<e;)this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.$stage.children().toArray().slice(b,c),e=[],f=0;a.each(d,function(b,c){e.push(a(c).height())}),f=Math.max.apply(null,e),this._core.$stage.parent().height(f).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"}(),d=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else if(d[3].indexOf("vimeo")>-1)c="vimeo";else{if(!(d[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");c="vzaar"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(d),b.after(e)};if(b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length)return l(h.attr(i)),h.remove(),!1;"youtube"===c.type?(f="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}):"vzaar"===c.type&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest("."+this._core.settings.itemClass),f=this._videos[e.attr("data-video")],g=f.width||"100%",h=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),"youtube"===f.type?c='<iframe width="'+g+'" height="'+h+'" src="//www.youtube.com/embed/'+f.id+"?autoplay=1&rel=0&v="+f.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===f.type?c='<iframe src="//player.vimeo.com/video/'+f.id+'?autoplay=1" width="'+g+'" height="'+h+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===f.type&&(c='<iframe frameborder="0"height="'+h+'"width="'+g+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+f.id+'/player?autoplay=true"></iframe>'),a('<div class="owl-video-frame">'+c+"</div>").insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame")},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type)},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&"position"===a.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype.play=function(a,b){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},e.prototype._getNextTimeout=function(d,e){return this._timeout&&b.clearTimeout(this._timeout),b.setTimeout(a.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||c.hidden||this._core.next(e||this._core.settings.autoplaySpeed)},this),d||this._core.settings.autoplayTimeout)},e.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},e.prototype.stop=function(){this._core.is("rotating")&&(b.clearTimeout(this._timeout),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a("<div>").addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+h.join(f+" ")+f).split(" "),function(a,b){if(g[b]!==d)return e=!c||b,!1}),e}function f(a){return e(a,!0)}var g=a("<support>").get(0).style,h="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},j={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}};j.csstransitions()&&(a.support.transition=new String(f("transition")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f("animation")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f("transform")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document);!function t(e,n,r){function o(l,a){if(!n[l]){if(!e[l]){var s="function"==typeof require&&require;if(!a&&s)return s(l,!0);if(i)return i(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[l]={exports:{}};e[l][0].call(u.exports,function(t){var n=e[l][1][t];return o(n?n:t)},u,u.exports,t,e,n,r)}return n[l].exports}for(var i="function"==typeof require&&require,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(t,e,n){"use strict";function r(t){t.fn.perfectScrollbar=function(t){return this.each(function(){if("object"==typeof t||"undefined"==typeof t){var e=t;i.get(this)||o.initialize(this,e)}else{var n=t;"update"===n?o.update(this):"destroy"===n&&o.destroy(this)}})}}var o=t("../main"),i=t("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],r);else{var l=window.jQuery?window.jQuery:window.$;"undefined"!=typeof l&&r(l)}e.exports=r},{"../main":7,"../plugin/instances":18}],2:[function(t,e,n){"use strict";function r(t,e){var n=t.className.split(" ");n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")}function o(t,e){var n=t.className.split(" "),r=n.indexOf(e);r>=0&&n.splice(r,1),t.className=n.join(" ")}n.add=function(t,e){t.classList?t.classList.add(e):r(t,e)},n.remove=function(t,e){t.classList?t.classList.remove(e):o(t,e)},n.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e,n){"use strict";function r(t,e){return window.getComputedStyle(t)[e]}function o(t,e,n){return"number"==typeof n&&(n=n.toString()+"px"),t.style[e]=n,t}function i(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r=r.toString()+"px"),t.style[n]=r}return t}var l={};l.e=function(t,e){var n=document.createElement(t);return n.className=e,n},l.appendTo=function(t,e){return e.appendChild(t),t},l.css=function(t,e,n){return"object"==typeof e?i(t,e):"undefined"==typeof n?r(t,e):o(t,e,n)},l.matches=function(t,e){return"undefined"!=typeof t.matches?t.matches(e):"undefined"!=typeof t.matchesSelector?t.matchesSelector(e):"undefined"!=typeof t.webkitMatchesSelector?t.webkitMatchesSelector(e):"undefined"!=typeof t.mozMatchesSelector?t.mozMatchesSelector(e):"undefined"!=typeof t.msMatchesSelector?t.msMatchesSelector(e):void 0},l.remove=function(t){"undefined"!=typeof t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},l.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return l.matches(t,e)})},e.exports=l},{}],4:[function(t,e,n){"use strict";var r=function(t){this.element=t,this.events={}};r.prototype.bind=function(t,e){"undefined"==typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},r.prototype.unbind=function(t,e){var n="undefined"!=typeof e;this.events[t]=this.events[t].filter(function(r){return n&&r!==e?!0:(this.element.removeEventListener(t,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return"undefined"==typeof e&&(e=new r(t),this.eventElements.push(e)),e},o.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},o.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},o.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},o.prototype.once=function(t,e,n){var r=this.eventElement(t),o=function(t){r.unbind(e,o),n(t)};r.bind(e,o)},e.exports=o},{}],5:[function(t,e,n){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,n){"use strict";var r=t("./class"),o=t("./dom"),i=n.toInt=function(t){return parseInt(t,10)||0},l=n.clone=function(t){if(null===t)return null;if(t.constructor===Array)return t.map(l);if("object"==typeof t){var e={};for(var n in t)e[n]=l(t[n]);return e}return t};n.extend=function(t,e){var n=l(t);for(var r in e)n[r]=l(e[r]);return n},n.isEditable=function(t){return o.matches(t,"input,[contenteditable]")||o.matches(t,"select,[contenteditable]")||o.matches(t,"textarea,[contenteditable]")||o.matches(t,"button,[contenteditable]")},n.removePsClasses=function(t){for(var e=r.list(t),n=0;n<e.length;n++){var o=e[n];0===o.indexOf("ps-")&&r.remove(t,o)}},n.outerWidth=function(t){return i(o.css(t,"width"))+i(o.css(t,"paddingLeft"))+i(o.css(t,"paddingRight"))+i(o.css(t,"borderLeftWidth"))+i(o.css(t,"borderRightWidth"))},n.startScrolling=function(t,e){r.add(t,"ps-in-scrolling"),"undefined"!=typeof e?r.add(t,"ps-"+e):(r.add(t,"ps-x"),r.add(t,"ps-y"))},n.stopScrolling=function(t,e){r.remove(t,"ps-in-scrolling"),"undefined"!=typeof e?r.remove(t,"ps-"+e):(r.remove(t,"ps-x"),r.remove(t,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e,n){"use strict";var r=t("./plugin/destroy"),o=t("./plugin/initialize"),i=t("./plugin/update");e.exports={initialize:o,update:i,destroy:r}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e,n){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(t,e,n){"use strict";var r=t("../lib/helper"),o=t("../lib/dom"),i=t("./instances");e.exports=function(t){var e=i.get(t);e&&(e.event.unbindAll(),o.remove(e.scrollbarX),o.remove(e.scrollbarY),o.remove(e.scrollbarXRail),o.remove(e.scrollbarYRail),r.removePsClasses(t),i.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e,n){"use strict";function r(t,e){function n(t){return t.getBoundingClientRect()}var r=function(t){t.stopPropagation()};e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarY,"click",r),e.event.bind(e.scrollbarYRail,"click",function(r){var i=o.toInt(e.scrollbarYHeight/2),s=e.railYRatio*(r.pageY-window.pageYOffset-n(e.scrollbarYRail).top-i),c=e.railYRatio*(e.railYHeight-e.scrollbarYHeight),u=s/c;0>u?u=0:u>1&&(u=1),a(t,"top",(e.contentHeight-e.containerHeight)*u),l(t),r.stopPropagation()}),e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarX,"click",r),e.event.bind(e.scrollbarXRail,"click",function(r){var i=o.toInt(e.scrollbarXWidth/2),s=e.railXRatio*(r.pageX-window.pageXOffset-n(e.scrollbarXRail).left-i),c=e.railXRatio*(e.railXWidth-e.scrollbarXWidth),u=s/c;0>u?u=0:u>1&&(u=1),a(t,"left",(e.contentWidth-e.containerWidth)*u-e.negativeScrollAdjustment),l(t),r.stopPropagation()})}var o=t("../../lib/helper"),i=t("../instances"),l=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){var e=i.get(t);r(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e,n){"use strict";function r(t,e){function n(n){var o=r+n*e.railXRatio,l=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);0>o?e.scrollbarXLeft=0:o>l?e.scrollbarXLeft=l:e.scrollbarXLeft=o;var a=i.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;c(t,"left",a)}var r=null,o=null,a=function(e){n(e.pageX-o),s(t),e.stopPropagation(),e.preventDefault()},u=function(){i.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",a)};e.event.bind(e.scrollbarX,"mousedown",function(n){o=n.pageX,r=i.toInt(l.css(e.scrollbarX,"left"))*e.railXRatio,i.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",a),e.event.once(e.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function o(t,e){function n(n){var o=r+n*e.railYRatio,l=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);0>o?e.scrollbarYTop=0:o>l?e.scrollbarYTop=l:e.scrollbarYTop=o;var a=i.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));c(t,"top",a)}var r=null,o=null,a=function(e){n(e.pageY-o),s(t),e.stopPropagation(),e.preventDefault()},u=function(){i.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",a)};e.event.bind(e.scrollbarY,"mousedown",function(n){o=n.pageY,r=i.toInt(l.css(e.scrollbarY,"top"))*e.railYRatio,i.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",a),e.event.once(e.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var i=t("../../lib/helper"),l=t("../../lib/dom"),a=t("../instances"),s=t("../update-geometry"),c=t("../update-scroll");e.exports=function(t){var e=a.get(t);r(t,e),o(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e,n){"use strict";function r(t,e){function n(n,r){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&0>r)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===i&&0>n||i>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}var r=!1;e.event.bind(t,"mouseenter",function(){r=!0}),e.event.bind(t,"mouseleave",function(){r=!1});var l=!1;e.event.bind(e.ownerDocument,"keydown",function(c){if(!c.isDefaultPrevented||!c.isDefaultPrevented()){var u=i.matches(e.scrollbarX,":focus")||i.matches(e.scrollbarY,":focus");if(r||u){var d=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(d){if("IFRAME"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(o.isEditable(d))return}var p=0,f=0;switch(c.which){case 37:p=-30;break;case 38:f=30;break;case 39:p=30;break;case 40:f=-30;break;case 33:f=90;break;case 32:f=c.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=c.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:f=c.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}s(t,"top",t.scrollTop-f),s(t,"left",t.scrollLeft+p),a(t),l=n(p,f),l&&c.preventDefault()}}})}var o=t("../../lib/helper"),i=t("../../lib/dom"),l=t("../instances"),a=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){var e=l.get(t);r(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e,n){"use strict";function r(t,e){function n(n,r){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&0>r)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===i&&0>n||i>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}function r(t){var e=t.deltaX,n=-1*t.deltaY;return"undefined"!=typeof e&&"undefined"!=typeof n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!==e&&n!==n&&(e=0,n=t.wheelDelta),[e,n]}function o(e,n){var r=t.querySelector("textarea:hover, .ps-child:hover");if(r){if("TEXTAREA"!==r.tagName&&!window.getComputedStyle(r).overflow.match(/(scroll|auto)/))return!1;var o=r.scrollHeight-r.clientHeight;if(o>0&&!(0===r.scrollTop&&n>0||r.scrollTop===o&&0>n))return!0;var i=r.scrollLeft-r.clientWidth;if(i>0&&!(0===r.scrollLeft&&0>e||r.scrollLeft===i&&e>0))return!0}return!1}function a(a){var c=r(a),u=c[0],d=c[1];o(u,d)||(s=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(d?l(t,"top",t.scrollTop-d*e.settings.wheelSpeed):l(t,"top",t.scrollTop+u*e.settings.wheelSpeed),s=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(u?l(t,"left",t.scrollLeft+u*e.settings.wheelSpeed):l(t,"left",t.scrollLeft-d*e.settings.wheelSpeed),s=!0):(l(t,"top",t.scrollTop-d*e.settings.wheelSpeed),l(t,"left",t.scrollLeft+u*e.settings.wheelSpeed)),i(t),s=s||n(u,d),s&&(a.stopPropagation(),a.preventDefault()))}var s=!1;"undefined"!=typeof window.onwheel?e.event.bind(t,"wheel",a):"undefined"!=typeof window.onmousewheel&&e.event.bind(t,"mousewheel",a)}var o=t("../instances"),i=t("../update-geometry"),l=t("../update-scroll");e.exports=function(t){var e=o.get(t);r(t,e)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e,n){"use strict";function r(t,e){e.event.bind(t,"scroll",function(){i(t)})}var o=t("../instances"),i=t("../update-geometry");e.exports=function(t){var e=o.get(t);r(t,e)}},{"../instances":18,"../update-geometry":19}],15:[function(t,e,n){"use strict";function r(t,e){function n(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}function r(){c||(c=setInterval(function(){return i.get(t)?(a(t,"top",t.scrollTop+u.top),a(t,"left",t.scrollLeft+u.left),void l(t)):void clearInterval(c)},50))}function s(){c&&(clearInterval(c),c=null),o.stopScrolling(t)}var c=null,u={top:0,left:0},d=!1;e.event.bind(e.ownerDocument,"selectionchange",function(){t.contains(n())?d=!0:(d=!1,s())}),e.event.bind(window,"mouseup",function(){d&&(d=!1,s())}),e.event.bind(window,"mousemove",function(e){if(d){var n={x:e.pageX,y:e.pageY},i={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};n.x<i.left+3?(u.left=-5,o.startScrolling(t,"x")):n.x>i.right-3?(u.left=5,o.startScrolling(t,"x")):u.left=0,n.y<i.top+3?(i.top+3-n.y<5?u.top=-5:u.top=-20,o.startScrolling(t,"y")):n.y>i.bottom-3?(n.y-i.bottom+3<5?u.top=5:u.top=20,o.startScrolling(t,"y")):u.top=0,0===u.top&&0===u.left?s():r()}})}var o=t("../../lib/helper"),i=t("../instances"),l=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){var e=i.get(t);r(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e,n){"use strict";function r(t,e,n,r){function o(n,r){var o=t.scrollTop,i=t.scrollLeft,l=Math.abs(n),a=Math.abs(r);if(a>l){if(0>r&&o===e.contentHeight-e.containerHeight||r>0&&0===o)return!e.settings.swipePropagation}else if(l>a&&(0>n&&i===e.contentWidth-e.containerWidth||n>0&&0===i))return!e.settings.swipePropagation;return!0}function s(e,n){a(t,"top",t.scrollTop-n),a(t,"left",t.scrollLeft-e),l(t)}function c(){Y=!0}function u(){Y=!1}function d(t){return t.targetTouches?t.targetTouches[0]:t}function p(t){return t.targetTouches&&1===t.targetTouches.length?!0:!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function f(t){if(p(t)){w=!0;var e=d(t);v.pageX=e.pageX,v.pageY=e.pageY,g=(new Date).getTime(),null!==y&&clearInterval(y),t.stopPropagation()}}function h(t){if(!w&&e.settings.swipePropagation&&f(t),!Y&&w&&p(t)){var n=d(t),r={pageX:n.pageX,pageY:n.pageY},i=r.pageX-v.pageX,l=r.pageY-v.pageY;s(i,l),v=r;var a=(new Date).getTime(),c=a-g;c>0&&(m.x=i/c,m.y=l/c,g=a),o(i,l)&&(t.stopPropagation(),t.preventDefault())}}function b(){!Y&&w&&(w=!1,clearInterval(y),y=setInterval(function(){return i.get(t)?Math.abs(m.x)<.01&&Math.abs(m.y)<.01?void clearInterval(y):(s(30*m.x,30*m.y),m.x*=.8,void(m.y*=.8)):void clearInterval(y)},10))}var v={},g=0,m={},y=null,Y=!1,w=!1;n&&(e.event.bind(window,"touchstart",c),e.event.bind(window,"touchend",u),e.event.bind(t,"touchstart",f),e.event.bind(t,"touchmove",h),e.event.bind(t,"touchend",b)),r&&(window.PointerEvent?(e.event.bind(window,"pointerdown",c),e.event.bind(window,"pointerup",u),e.event.bind(t,"pointerdown",f),e.event.bind(t,"pointermove",h),e.event.bind(t,"pointerup",b)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",c),e.event.bind(window,"MSPointerUp",u),e.event.bind(t,"MSPointerDown",f),e.event.bind(t,"MSPointerMove",h),e.event.bind(t,"MSPointerUp",b)))}var o=t("../../lib/helper"),i=t("../instances"),l=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){if(o.env.supportsTouch||o.env.supportsIePointer){var e=i.get(t);r(t,e,o.env.supportsTouch,o.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e,n){"use strict";var r=t("../lib/helper"),o=t("../lib/class"),i=t("./instances"),l=t("./update-geometry"),a={"click-rail":t("./handler/click-rail"),"drag-scrollbar":t("./handler/drag-scrollbar"),keyboard:t("./handler/keyboard"),wheel:t("./handler/mouse-wheel"),touch:t("./handler/touch"),selection:t("./handler/selection")},s=t("./handler/native-scroll");e.exports=function(t,e){e="object"==typeof e?e:{},o.add(t,"ps-container");var n=i.add(t);n.settings=r.extend(n.settings,e),o.add(t,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(e){a[e](t)}),s(t),l(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,n){"use strict";function r(t){function e(){s.add(t,"ps-focus")}function n(){s.remove(t,"ps-focus")}var r=this;r.settings=a.clone(c),r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl="rtl"===u.css(t,"direction"),r.isNegativeScroll=function(){var e=t.scrollLeft,n=null;return t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=e,n}(),r.negativeScrollAdjustment=r.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.event=new d,r.ownerDocument=t.ownerDocument||document,r.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),t),r.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),r.scrollbarXRail),r.scrollbarX.setAttribute("tabindex",0),r.event.bind(r.scrollbarX,"focus",e),r.event.bind(r.scrollbarX,"blur",n),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=a.toInt(u.css(r.scrollbarXRail,"bottom")),r.isScrollbarXUsingBottom=r.scrollbarXBottom===r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:a.toInt(u.css(r.scrollbarXRail,"top")),r.railBorderXWidth=a.toInt(u.css(r.scrollbarXRail,"borderLeftWidth"))+a.toInt(u.css(r.scrollbarXRail,"borderRightWidth")),u.css(r.scrollbarXRail,"display","block"),r.railXMarginWidth=a.toInt(u.css(r.scrollbarXRail,"marginLeft"))+a.toInt(u.css(r.scrollbarXRail,"marginRight")),u.css(r.scrollbarXRail,"display",""),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),t),r.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),r.scrollbarYRail),r.scrollbarY.setAttribute("tabindex",0),r.event.bind(r.scrollbarY,"focus",e),r.event.bind(r.scrollbarY,"blur",n),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=a.toInt(u.css(r.scrollbarYRail,"right")),r.isScrollbarYUsingRight=r.scrollbarYRight===r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:a.toInt(u.css(r.scrollbarYRail,"left")),r.scrollbarYOuterWidth=r.isRtl?a.outerWidth(r.scrollbarY):null,r.railBorderYWidth=a.toInt(u.css(r.scrollbarYRail,"borderTopWidth"))+a.toInt(u.css(r.scrollbarYRail,"borderBottomWidth")),u.css(r.scrollbarYRail,"display","block"),r.railYMarginHeight=a.toInt(u.css(r.scrollbarYRail,"marginTop"))+a.toInt(u.css(r.scrollbarYRail,"marginBottom")),u.css(r.scrollbarYRail,"display",""),r.railYHeight=null,r.railYRatio=null}function o(t){return t.getAttribute("data-ps-id")}function i(t,e){t.setAttribute("data-ps-id",e)}function l(t){t.removeAttribute("data-ps-id")}var a=t("../lib/helper"),s=t("../lib/class"),c=t("./default-setting"),u=t("../lib/dom"),d=t("../lib/event-manager"),p=t("../lib/guid"),f={};n.add=function(t){var e=p();return i(t,e),f[e]=new r(t),f[e]},n.remove=function(t){delete f[o(t)],l(t)},n.get=function(t){return f[o(t)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e,n){"use strict";function r(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function o(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,a.css(e.scrollbarXRail,n);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,a.css(e.scrollbarYRail,r),a.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),a.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var i=t("../lib/helper"),l=t("../lib/class"),a=t("../lib/dom"),s=t("./instances"),c=t("./update-scroll");e.exports=function(t){var e=s.get(t);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight;var n;t.contains(e.scrollbarXRail)||(n=a.queryChildren(t,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(t){a.remove(t)}),a.appendTo(e.scrollbarXRail,t)),t.contains(e.scrollbarYRail)||(n=a.queryChildren(t,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(t){a.remove(t)}),a.appendTo(e.scrollbarYRail,t)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=r(e,i.toInt(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=i.toInt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=r(e,i.toInt(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=i.toInt(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),o(t,e),e.scrollbarXActive?l.add(t,"ps-active-x"):(l.remove(t,"ps-active-x"),e.scrollbarXWidth=0,e.scrollbarXLeft=0,c(t,"left",0)),e.scrollbarYActive?l.add(t,"ps-active-y"):(l.remove(t,"ps-active-y"),e.scrollbarYHeight=0,e.scrollbarYTop=0,c(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e,n){"use strict";var r,o,i=t("./instances"),l=document.createEvent("Event"),a=document.createEvent("Event"),s=document.createEvent("Event"),c=document.createEvent("Event"),u=document.createEvent("Event"),d=document.createEvent("Event"),p=document.createEvent("Event"),f=document.createEvent("Event"),h=document.createEvent("Event"),b=document.createEvent("Event");l.initEvent("ps-scroll-up",!0,!0),a.initEvent("ps-scroll-down",!0,!0),s.initEvent("ps-scroll-left",!0,!0),c.initEvent("ps-scroll-right",!0,!0),u.initEvent("ps-scroll-y",!0,!0),d.initEvent("ps-scroll-x",!0,!0),p.initEvent("ps-x-reach-start",!0,!0),f.initEvent("ps-x-reach-end",!0,!0),h.initEvent("ps-y-reach-start",!0,!0),b.initEvent("ps-y-reach-end",!0,!0),e.exports=function(t,e,n){if("undefined"==typeof t)throw"You must provide an element to the update-scroll function";if("undefined"==typeof e)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof n)throw"You must provide a value to the update-scroll function";"top"===e&&0>=n&&(t.scrollTop=n=0,t.dispatchEvent(h)),"left"===e&&0>=n&&(t.scrollLeft=n=0,t.dispatchEvent(p));var v=i.get(t);"top"===e&&n>=v.contentHeight-v.containerHeight&&(n=v.contentHeight-v.containerHeight,n-t.scrollTop<=1?n=t.scrollTop:t.scrollTop=n,t.dispatchEvent(b)),"left"===e&&n>=v.contentWidth-v.containerWidth&&(n=v.contentWidth-v.containerWidth,n-t.scrollLeft<=1?n=t.scrollLeft:t.scrollLeft=n,t.dispatchEvent(f)),r||(r=t.scrollTop),o||(o=t.scrollLeft),"top"===e&&r>n&&t.dispatchEvent(l),"top"===e&&n>r&&t.dispatchEvent(a),"left"===e&&o>n&&t.dispatchEvent(s),"left"===e&&n>o&&t.dispatchEvent(c),"top"===e&&(t.scrollTop=r=n,t.dispatchEvent(u)),"left"===e&&(t.scrollLeft=o=n,t.dispatchEvent(d))}},{"./instances":18}],21:[function(t,e,n){"use strict";var r=t("../lib/helper"),o=t("../lib/dom"),i=t("./instances"),l=t("./update-geometry"),a=t("./update-scroll");e.exports=function(t){var e=i.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,o.css(e.scrollbarXRail,"display","block"),o.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=r.toInt(o.css(e.scrollbarXRail,"marginLeft"))+r.toInt(o.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=r.toInt(o.css(e.scrollbarYRail,"marginTop"))+r.toInt(o.css(e.scrollbarYRail,"marginBottom")),o.css(e.scrollbarXRail,"display","none"),o.css(e.scrollbarYRail,"display","none"),l(t),a(t,"top",t.scrollTop),a(t,"left",t.scrollLeft),o.css(e.scrollbarXRail,"display",""),o.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]);ACC.address={_autoload:["bindSuggestedDeliveryAddresses","bindSuggestedBillingAddresses","bindCountrySpecificAddressForms",],spinner:$("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif' />"),addressID:'',handleChangeAddressButtonClick:function()
{ACC.address.addressID=($(this).data("address"))?$(this).data("address"):'';$('#summaryDeliveryAddressFormContainer').show();$('#summaryOverlayViewAddressBook').show();$('#summaryDeliveryAddressBook').hide();$.getJSON(getDeliveryAddressesUrl,ACC.address.handleAddressDataLoad);return false;},handleAddressDataLoad:function(data)
{ACC.address.setupDeliveryAddressPopupForm(data);ACC.colorbox.open("",{inline:true,href:"#summaryDeliveryAddressOverlay",overlayClose:false,onOpen:function(){ACC.address.emptyAddressForm();$(document).on('change','#saveAddress',function()
{var saveAddressChecked=$(this).prop('checked');$('#defaultAddress').prop('disabled',!saveAddressChecked);if(!saveAddressChecked)
{$('#defaultAddress').prop('checked',false);}});}});},setupDeliveryAddressPopupForm:function(data)
{$('#summaryDeliveryAddressBook').html($('#deliveryAddressesTemplate').tmpl({addresses:data}));$('#summaryDeliveryAddressBook button.use_address').click(ACC.address.handleSelectExistingAddressClick);$('#summaryDeliveryAddressBook button.edit').click(ACC.address.handleEditAddressClick);$('#summaryDeliveryAddressBook button.default').click(ACC.address.handleDefaultAddressClick);},emptyAddressForm:function()
{var options={url:getDeliveryAddressFormUrl,data:{addressId:ACC.address.addressID,createUpdateStatus:''},type:'GET',success:function(data)
{$('#summaryDeliveryAddressFormContainer').html(data);ACC.address.bindCreateUpdateAddressForm();}};$.ajax(options);},handleSelectExistingAddressClick:function()
{var addressId=$(this).attr('data-address');$.postJSON(setDeliveryAddressUrl,{addressId:addressId},ACC.address.handleSelectExitingAddressSuccess);return false;},handleEditAddressClick:function()
{$('#summaryDeliveryAddressFormContainer').show();$('#summaryOverlayViewAddressBook').show();$('#summaryDeliveryAddressBook').hide();var addressId=$(this).attr('data-address');var options={url:getDeliveryAddressFormUrl,data:{addressId:addressId,createUpdateStatus:''},target:'#summaryDeliveryAddressFormContainer',type:'GET',success:function(data)
{ACC.address.bindCreateUpdateAddressForm();ACC.colorbox.resize();},error:function(xht,textStatus,ex)
{alert("Failed to update cart. Error details ["+xht+", "+textStatus+", "+ex+"]");}};$(this).ajaxSubmit(options);return false;},handleDefaultAddressClick:function()
{var addressId=$(this).attr('data-address');var options={url:setDefaultAddressUrl,data:{addressId:addressId},type:'GET',success:function(data)
{ACC.address.setupDeliveryAddressPopupForm(data);},error:function(xht,textStatus,ex)
{alert("Failed to update address book. Error details ["+xht+", "+textStatus+", "+ex+"]");}};$(this).ajaxSubmit(options);return false;},handleSelectExitingAddressSuccess:function(data)
{if(data!=null)
{ACC.refresh.refreshPage(data);ACC.colorbox.close();}
else
{alert("Failed to set delivery address");}},bindCreateUpdateAddressForm:function()
{$('.create_update_address_form').each(function()
{var options={type:'POST',beforeSubmit:function()
{$('#checkout_delivery_address').block({message:ACC.address.spinner});},success:function(data)
{$('#summaryDeliveryAddressFormContainer').html(data);var status=$('.create_update_address_id').attr('status');if(status!=null&&"success"===status.toLowerCase())
{ACC.refresh.getCheckoutCartDataAndRefreshPage();ACC.colorbox.close();}
else
{ACC.address.bindCreateUpdateAddressForm();ACC.colorbox.resize();}},error:function(xht,textStatus,ex)
{alert("Failed to update cart. Error details ["+xht+", "+textStatus+", "+ex+"]");},complete:function()
{$('#checkout_delivery_address').unblock();}};$(this).ajaxForm(options);});},refreshDeliveryAddressSection:function(data)
{$('.summaryDeliveryAddress').replaceWith($('#deliveryAddressSummaryTemplate').tmpl(data));},bindSuggestedDeliveryAddresses:function()
{var status=$('.add_edit_delivery_address_id').attr('status');if(status!=null&&"hasSuggestedAddresses"==status)
{ACC.address.showSuggestedAddressesPopup();}},bindSuggestedBillingAddresses:function()
{var status=$('#suggestedAddressModelWnd_js').attr('status');if(status!=null&&"hasSuggestedAddresses"==status)
{ACC.address.showSuggestedAddressesPopup();}},showSuggestedAddressesPopup:function()
{$('#suggestedAddressModelWnd_js').modal('toggle');$(".checkoutShippingFormWithoutAddress").css("display","block");$(".checkoutAccordianButtonNext").css("display","block");$(".checkoutAccordianButtonNext").html('<button id="addressSubmit" type="button" class="button button-main large checkout-next shipping-button-group">Continue</button>');},bindCountrySpecificAddressForms:function(){$(document).on("selectmenuchange change",'#countrySelector select',function(){var options={'countryIsoCode':$(this).val(),'addressCode':''};ACC.uniaddress.displayCountrySpecificAddressForm(options,wiley.onLoadCustomSelect);});},showAddressFormButtonPanel:function()
{if($('#countrySelector select').val()!=='')
{$('#addressform_button_panel').show();}},bindToColorboxClose:function()
{$(document).on("click",".closeColorBox",function()
{ACC.colorbox.close();})},bindToChangeAddressButton:function()
{$(document).on("click",'.summaryDeliveryAddress .editButton',ACC.address.handleChangeAddressButtonClick);},bindViewAddressBook:function()
{$(document).on("click",'#summaryOverlayViewAddressBook',function()
{$('#summaryDeliveryAddressFormContainer').hide();$('#summaryOverlayViewAddressBook').hide();$('#summaryDeliveryAddressBook').show();ACC.colorbox.resize();});},showRemoveAddressFromBookConfirmation:function()
{$(document).on("click",".removeAddressFromBookButton",function()
{var addressId=$(this).data("addressId");var popupTitle=$(this).data("popupTitle");ACC.colorbox.open(popupTitle,{inline:true,height:false,href:"#popup_confirm_address_removal_"+addressId,onComplete:function()
{$(this).colorbox.resize();}});})},backToListAddresses:function(){$(".addressBackBtn").on("click",function(){var sUrl=$(this).data("backToAddresses");window.location=sUrl;});},};ACC.autocomplete={_autoload:["bindSearchAutocomplete"],updateActionAndSubmitForm:function(form,actionType){var action=form.attr('action');if(actionType=='content-search'&&action.indexOf(actionType)<0){action=action.substring(0,action.lastIndexOf('search'))+actionType;form.attr('action',action);}
form.submit();},bindSearchAutocomplete:function(){$.widget("custom.yautocomplete",$.ui.autocomplete,{_create:function(){var option=this.element.data("options");this._setOptions({minLength:option.minCharactersBeforeRequest,displayProductImages:option.displayProductImages,delay:option.waitTimeBeforeRequest,autocompleteUrl:option.autocompleteUrl,source:this.source});$.ui.autocomplete.prototype._create.call(this);},options:{cache:{}},_renderMenu:function(ul,items){var that=this;$(ul).html($(".main-navigation-search-autocomplete-template").html());$(".search-related-content").hide();$(".related-content-products-section").hide();$(".related-content-other-section").hide();$(".link-view-more-products").hide();$(".link-view-more-other").hide();$.each(items,function(index,item){that._renderItem(ul,item);});$('.main-navigation-search-autocomplete').on('mousedown',function(e){if($(e.target).hasClass('link-corner-products')){e.preventDefault();ACC.autocomplete.updateActionAndSubmitForm($(this).closest("form"),"search")}else if($(e.target).hasClass('link-corner-other')){e.preventDefault();ACC.autocomplete.updateActionAndSubmitForm($(this).closest("form"),"content-search")}});},_renderItem:function(ul,item){if(item.type==="autoSuggestion"){$(".search-related-content").show();var appendTo=$(".search-list",ul);var renderHtml="<a  href='"+item.url+"'>"+item.value+"</a>";return $("<div class='searchresults-item'>").data("item.autocomplete",item).append(renderHtml).appendTo(appendTo);}
else if(item.type==="productResult"){$(".related-content-products-section").show();if(item.showSeeAllProducts){$(".link-view-more-products").show();}
var appendTo=$(".related-content-products",ul);var renderHtml="<a href='"+item.url+"'>"+item.value+"</a>";return $("<div class='searchresults-item'>").data("item.autocomplete",item).append(renderHtml).appendTo(appendTo);}
else if(item.type==="contentResult"){$(".related-content-other-section").show();if(item.showSeeAllPages){$(".link-view-more-other").show();}
var appendTo=$(".related-content-other",ul);var renderHtml="<a  href='"+item.url+"'>"+item.value+"</a>";return $("<div class='searchresults-item'>").data("item.autocomplete",item).append(renderHtml).appendTo(appendTo);}},source:function(request,response){var self=this;var term=request.term.toLowerCase();if(term in self.options.cache){return response(self.options.cache[term]);}
$.getJSON(self.options.autocompleteUrl,{term:request.term},function(data){var autoSearchData=[];if(data.suggestions!==null){$.each(data.suggestions,function(i,obj){var highlightOpen="<span class=\"search-highlight\">";var highlightClose="</span>";var newTerm=obj.term;if(newTerm.indexOf(highlightOpen)>=0&&newTerm.indexOf(highlightClose)>=0){newTerm=newTerm.replace(highlightOpen,"");newTerm=newTerm.replace(highlightClose,"");}
autoSearchData.push({value:obj.term,url:ACC.config.encodedContextPath+"/search?pq="+newTerm,type:"autoSuggestion"});});}
if(data.products!==null){$.each(data.products,function(i,obj){autoSearchData.push({showSeeAllProducts:data.showSeeAllProducts,value:obj.name,code:obj.code,desc:obj.description,authors:obj.authorsWithoutRoles,manufacturer:obj.manufacturer,url:ACC.config.encodedContextPath+obj.url,price:obj.price!==null?obj.price.formattedValue:"",type:"productResult",image:(obj.images!==null&&self.options.displayProductImages)?obj.images[0].url:null});});}
if(data.pages!==null){$.each(data.pages,function(i,obj){autoSearchData.push({showSeeAllPages:data.showSeeAllPages,value:obj.title,url:obj.url,type:"contentResult"});});}
self.options.cache[term]=autoSearchData;return response(autoSearchData);});}});var $search=$(".js-site-search-input");var searchForm=$('form[name^="search_form_"]');if($search.length>0){$search.keydown(function(e){var items=$('.ui-menu-item');var lastIndex=items.length-1;var activeClass='ui-state-focused';var activeItem=$('.ui-state-focused');var activeIndex=items.index(activeItem);function setFocus(next){var nextIndex=next&&(activeIndex<lastIndex)?activeIndex+1:next?0:activeIndex-1;items.removeClass(activeClass);$(items.get(nextIndex)).addClass(activeClass);}
if(e.keyCode===13||e.keyCode===40||e.keyCode===38){if(e.keyCode===13){if(activeItem.length){var activeLink=activeItem.find('a');activeLink[0].click();}else{e.preventDefault();ACC.autocomplete.updateActionAndSubmitForm(searchForm,"search")}}else{setFocus(e.keyCode===40)}
e.preventDefault();e.stopPropagation();}});$search.blur(function(){$('.main-navigation-search-autocomplete').find('ui-state-focused').removeClass('ui-state-focused')})
var appendTo=$search.closest("form");var auto=$search.yautocomplete({appendTo:appendTo,autoFocus:true});var oldParent=auto.data('custom-yautocomplete').menu.element.parent();auto.data('custom-yautocomplete').menu=$(".main-navigation-search-autocomplete-template").clone().removeClass("main-navigation-search-autocomplete-template").addClass("ui-autocomplete ui-front main-navigation-search-autocomplete").appendTo(oldParent).menu({role:null,items:".searchresults-item, .link-view-more-products, .link-view-more-other",select:function(e){var activeLink=$(this).find('.ui-state-focused').find('a');if(activeLink.length){if($(activeLink).hasClass('link-corner-products')){e.preventDefault();ACC.autocomplete.updateActionAndSubmitForm(searchForm,"search")}else if($(activeLink).hasClass('link-corner-other')){e.preventDefault();ACC.autocomplete.updateActionAndSubmitForm(searchForm,"content-search")}else{activeLink.click();}}}}).hide().data("ui-menu");}}};ACC.cart={_autoload:[["bindToReleaseVoucher",$("#js-applied-vouchers").length!=0]],bindHelp:function(){$(document).on("click",".js-cart-help",function(e){e.preventDefault();var title=$(this).data("help");ACC.colorbox.open(title,{html:$(".js-help-popup-content").html(),width:"300px"});})},cartRestoration:function(){$('.cartRestoration').click(function(){var sCartUrl=$(this).data("cartUrl");window.location=sCartUrl;});},bindApplyVoucher:function(){$("#js-voucher-apply-btn").on("click",function(e){ACC.cart.handleApplyVoucher(e);});$("#js-voucher-code-text").on("keypress",function(e){var code=(e.keyCode?e.keyCode:e.which);if(code==13){ACC.cart.handleApplyVoucher(e);}});},handleApplyVoucher:function(e){var voucherCode=$.trim($("#js-voucher-code-text").val());if(voucherCode!==''&&voucherCode.length>0){var loader=$("<div class='wiley-loader'></div>");$('body').append(loader);var applyVoucherForm=$("#applyVoucherForm");e.preventDefault();$.ajax({type:"POST",url:applyVoucherForm.attr("action"),data:applyVoucherForm.serialize(),contentType:"application/x-www-form-urlencoded",accept:"application/json",success:function(cartResult,statusText,xhr){ACC.cart.refreshCartPageWithJSONResponse(cartResult);loader.detach();},error:function(cartResult,statusText,xhr){loader.detach();},xhrFields:{withCredentials:true}})}},refreshCartPageWithJSONResponse:function(cartData){$('#initial-cart-totals').remove();$('#ajaxCart').html($("#cartTotalsTemplate").tmpl(cartData));},bindToReleaseVoucher:function(){$('.js-release-voucher-remove-btn').on("click",function(event){$(this).closest('form').submit();});}};ACC.cartitem={_autoload:["bindCartItem"],bindCartItem:function()
{$('.remove-entry-button').on("click",function()
{var loader=$("<div class='wiley-loader'></div>");$('body').append(loader);var entryNumber=$(this).attr('id').split("_")
var form=$('#updateCartForm'+entryNumber[1]);var productCode=form.find('input[name=productCode]').val();var initialCartQuantity=form.find('input[name=initialQuantity]');var cartQuantity=form.find('input[name=quantity]');ACC.track.trackRemoveFromCart(productCode,initialCartQuantity.val());cartQuantity.val(0);initialCartQuantity.val(0);form.submit();var sku=$(this).closest("#product-item-row").find("form[id^='updateCartForm']").find("input[name='productCode']").val();if($(this).closest("#product-item-row").find("form[id^='updateCartForm']").find(".eBookCount").length>0){var qty=$(this).closest("#product-item-row").find("form[id^='updateCartForm']").find(".eBookCount").val();}
else{var qty=$(this).closest("#product-item-row").find("form[id^='updateCartForm']").find(".cartItemBookQty").find(":selected").val();}
var name=$(this).closest("#product-item-row").find(".cartPageProductTitle").find(".product-title").text();var type=$(this).closest("#product-item-row").find("#purchaseOption").find("span").text();var priceText=$(this).closest("#product-item-row").find(".itemPriceProduct").find("span").text();var price=priceText.substring(priceText.lastIndexOf("$"));var priceValue=price.replace("$","");_satellite.track('removeFromCart',{'eventCategory':'cart','eventAction':'remove from cart','eventLabel':sku,'ecommerce':{'currency':$("main").data("currency-iso-code"),'products':[{'sku':sku,'name':name,'type':type,'price':price,'quantity':qty}]}});});$('.update-entry-quantity-input').on("blur",function()
{var entryNumber=$(this).attr('id').split("_")
var form=$('#updateCartForm'+entryNumber[1]);var productCode=form.find('input[name=productCode]').val();var initialCartQuantity=form.find('input[name=initialQuantity]').val();var newCartQuantity=form.find('input[name=quantity]').val();if(initialCartQuantity!=newCartQuantity)
{ACC.track.trackUpdateCart(productCode,initialCartQuantity,newCartQuantity);form.submit();}});}};ACC.checkout={_autoload:["bindCheckO","bindForms","bindCreateAccount","bindRegister","bindLoggedAccount","bindCreateAccountPassword","bindCountryRestriction"],bindCountryRestriction:function(){var status=$('#productRestrictionWnd_js').attr('status');if(status!=null&&"countryRestricted"==status)
{$('#productRestrictionWnd_js').modal('toggle');}
$(document).on("click","#use_product_restriction_return_cart_button",function(e){window.location.href=ACC.config.encodedContextPath+"/cart";});},checkProductRestriction:function()
{var jqXHR=$.ajax({url:ACC.config.encodedContextPath+"/checkout/multi/delivery-address/product-delivery-country-restrictions",type:'GET',cache:false,async:false});return jqXHR.responseText;},bindForms:function(){$(document).on("click","#accountPasswordFormSubmit",function(e){var pwdCheck=$("#pwdMandotaryCheck").val();var errorStstus=0;var pwd=$('#pwd').val();var confPwd=$('#confPwd').val();$(".error").remove();if(pwdCheck=="false"){}else{if(pwd==''||confPwd=='')
{$("#accountCreatePswMatchRulesPwd").css("color","#EB1730");$("#accountCreatePswMatchRulesPwd").attr("role","alert");errorStstus=1;}}
if(pwd!=confPwd){$("#accountCreatePswMatchRulesPwd").css("color","#EB1730");$("#accountCreatePswMatchRulesPwd").find('span').removeClass("glyphicon-warning-sign");$("#accountCreatePswMatchRulesPwd").find('span').removeClass("glyphicon-ok");$("#accountCreatePswMatchRulesPwd").find('span').addClass("glyphicon-remove");$("#accountCreatePswMatchRulesPwd").attr("role","alert");errorStstus=1;}
if(pwd==confPwd&&pwd!=''){$("#accountCreatePswMatchRulesPwd").css("color","#057245");$("#accountCreatePswMatchRulesPwd").find('span').removeClass("glyphicon-warning-sign");$("#accountCreatePswMatchRulesPwd").find('span').removeClass("glyphicon-remove");$("#accountCreatePswMatchRulesPwd").find('span').addClass("glyphicon-ok");}
var format=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;if(format.test(pwd)||format.test(confPwd)){$("#accountCreatePswMatchRulesSpclChar").css("color","#EB1730");$("#accountCreatePswMatchRulesSpclChar").find('span').removeClass("glyphicon-warning-sign");$("#accountCreatePswMatchRulesSpclChar").find('span').removeClass("glyphicon-ok");$("#accountCreatePswMatchRulesSpclChar").find('span').addClass("glyphicon-remove");$("#accountCreatePswMatchRulesSpclChar").attr("role","alert");errorStstus=1;}else{$("#accountCreatePswMatchRulesSpclChar").css("color","#057245");$("#accountCreatePswMatchRulesSpclChar").find('span').removeClass("glyphicon-warning-sign");$("#accountCreatePswMatchRulesSpclChar").find('span').removeClass("glyphicon-remove");$("#accountCreatePswMatchRulesSpclChar").find('span').addClass("glyphicon-ok");}
if(pwd.length>0||confPwd.length>0){if(pwd.length>=5&&confPwd.length<=20)
{$("#accountCreatePswMatchRulesCharLen").css("color","#057245");$("#accountCreatePswMatchRulesCharLen").find('span').removeClass("glyphicon-warning-sign");$("#accountCreatePswMatchRulesCharLen").find('span').removeClass("glyphicon-remove");$("#accountCreatePswMatchRulesCharLen").find('span').addClass("glyphicon-ok");}else{$("#accountCreatePswMatchRulesCharLen").css("color","#EB1730");$("#accountCreatePswMatchRulesCharLen").find('span').removeClass("glyphicon-warning-sign");$("#accountCreatePswMatchRulesCharLen").find('span').removeClass("glyphicon-ok");$("#accountCreatePswMatchRulesCharLen").find('span').addClass("glyphicon-remove");$("#accountCreatePswMatchRulesCharLen").attr("role","alert");errorStstus=1;}}
e.preventDefault();if(errorStstus==0){if($('#accountPasswordForm').valid()){var loader=$("<div class='wiley-loader'></div>");$('body').append(loader);$('#accountPasswordForm').submit();}}})},bindSavedPayments:function(){$(document).on("click",".js-saved-payments",function(e){e.preventDefault();ACC.colorbox.open("",{href:"#savedpayments",inline:true,width:"320px",});})},bindCheckO:function()
{var cartEntriesError=false;$('.doFlowSelectedChange').change(function()
{if('multistep-pci'==$('#selectAltCheckoutFlow').attr('value'))
{$('#selectPciOption').css('display','');}
else
{$('#selectPciOption').css('display','none');}});$('.continueShoppingButton').click(function()
{var checkoutUrl=$(this).data("continueShoppingUrl");window.location=checkoutUrl;});$(document).on("change",".confirmGuestEmail,.guestEmail",function(){var orginalEmail=$(".guestEmail").val();var confirmationEmail=$(".confirmGuestEmail").val();if(orginalEmail===confirmationEmail){$(".guestCheckoutBtn").removeAttr("disabled");}else{$(".guestCheckoutBtn").attr("disabled","disabled");}});$('.checkoutButton').click(function()
{var loader=$("<div class='wiley-loader'></div>");$('body').append(loader);var checkoutUrl=$(this).data("checkoutUrl");cartEntriesError=ACC.pickupinstore.validatePickupinStoreCartEntires();if(!cartEntriesError)
{var expressCheckoutObject=$('.express-checkout-checkbox');if(expressCheckoutObject.is(":checked"))
{window.location=expressCheckoutObject.data("expressCheckoutUrl");}
else
{var flow=$('#selectAltCheckoutFlow').attr('value');if(flow==undefined||flow=='')
{window.location=checkoutUrl;}
else
{if('multistep-pci'==flow)
{flow='multistep';}
var pci=$('#selectPciOption').attr('value');var redirectUrl=checkoutUrl+'/select-flow?flow='+flow+'&pci='+pci;window.location=redirectUrl;}}}
return false;});},bindCreateAccount:function(){$('.create-an-account-btn, .checkout-as-guest-btn').on('click',function(e){var email=$('#email').val();var emailReg=/^[_A-Za-z0-9-+']+(.[_A-Za-z0-9-+']+)*@[A-Za-z0-9-]+(.[A-Za-z0-9]+)*(.[A-Za-z]{2,})$/i;var errorStstus=0;$(".error").remove();$(".help-block").remove();$("#j_username").removeClass("validationErrorMsgColor");$("#j_password").removeClass("validationErrorMsgColor");$("#email").removeClass("validationErrorMsgColor");$(".form-field").css("border-color","#cccccc");if(email==''){$('#email').after('<div class="error" role="alert"><b>! Invalid email id</b></div>');$("#email").addClass("validationErrorMsgColor");errorStstus=1;e.preventDefault();}
if(!emailReg.test(email))
{$('#email').after('<div class="error" role="alert"><b>! Invalid email id</b></div>');$("#email").addClass("validationErrorMsgColor");errorStstus=1;e.preventDefault();}
if(errorStstus==0)
{var loader=$("<div class='wiley-loader'></div>");$('body').append(loader);var target=ACC.config.encodedContextPath+$(this).data('target');$('#guestForm').attr('action',target);}});},bindLoggedAccount:function(){$('#createAccount').on('click',function(e){var email1=$('#j_username').val();var email=email1.toLowerCase();var pwd=$('#j_password').val();var emailReg=/^[_A-Za-z0-9-+']+(.[_A-Za-z0-9-+']+)*@[A-Za-z0-9-]+(.[A-Za-z0-9]+)*(.[A-Za-z]{2,})$/i;var errorStstus=0;$(".error").remove();$(".help-block").remove();$("#j_password").removeClass("validationErrorMsgColor");$("#j_username").removeClass("validationErrorMsgColor");$("#email").removeClass("validationErrorMsgColor");if(email==''){$('#j_password').after('<div class="error" role="alert"><b>! Your username or password was incorrect</b></div>');$("#j_username").addClass("validationErrorMsgColor");$("#j_password").addClass("validationErrorMsgColor");errorStstus=1;e.preventDefault();}
if(!emailReg.test(email))
{$(".error").remove();$('#j_password').after('<div class="error" role="alert"><b>! Your username or password was incorrect</b></div>');$("#j_username").addClass("validationErrorMsgColor");$("#j_password").addClass("validationErrorMsgColor");errorStstus=1;e.preventDefault();}
if(pwd==''){$(".error").remove();$('#j_password').after('<div class="error" role="alert"><b>! Your username or password was incorrect</b></div>');$("#j_password").addClass("validationErrorMsgColor");errorStstus=1;e.preventDefault();}
if(errorStstus==0)
{var loader=$("<div class='wiley-loader'></div>");$('body').append(loader);var target=ACC.config.encodedContextPath+$(this).data('target');$('#loginForm').attr('action',target);}});$('#wiley-forgotPasswordSubmitBtn').on('click',function(e){var email1=$('.wiley-forgotEmailInput').val();var email=email1.toLowerCase();var emailReg=/^[_A-Za-z0-9-+']+(.[_A-Za-z0-9-+']+)*@[A-Za-z0-9-]+(.[A-Za-z0-9]+)*(.[A-Za-z]{2,})$/i;var errorStstus=0;$(".error").remove();$(".help-block").remove();$(".wiley-forgotEmailInput").removeClass("validationErrorMsgColor");if(email==''){$('.wiley-forgotEmailInput').after('<div class="error" role="alert"><b>! Your username was incorrect</b></div>');$(".wiley-forgotEmailInput").addClass("validationErrorMsgColor");$(".wiley-forgotEmailInput").addClass("validationErrorMsgColor");errorStstus=1;e.preventDefault();}
if(!emailReg.test(email))
{$(".error").remove();$('.wiley-forgotEmailInput').after('<div class="error" role="alert"><b>! Your username was incorrect</b></div>');$(".wiley-forgotEmailInput").addClass("validationErrorMsgColor");$(".wiley-forgotEmailInput").addClass("validationErrorMsgColor");errorStstus=1;e.preventDefault();}
if(errorStstus==0)
{var loader=$("<div class='wiley-loader'></div>");$('body').append(loader);$('#forgottenPwdForm').submit();}});$(".resetPassword").keyup(function(event){if(event.keyCode!=9){var confirmPwd=$(".resetConfirmPassword").val();var isConfirmPasswordAvailable=1;if(confirmPwd==undefined){confirmPwd="";isConfirmPasswordAvailable=0;}
var isValidPwd=checkPwdAndConfPwdOfResetPage($(this).val(),confirmPwd,isConfirmPasswordAvailable);}});$(".resetConfirmPassword").keyup(function(event){if(event.keyCode!=9){var pwd=$(".resetPassword").val();var isConfirmPasswordAvailable=1;if(pwd==undefined){pwd="";}
var isValidPwd=checkPwdAndConfPwdOfResetPage(pwd,$(this).val(),isConfirmPasswordAvailable);}});$("#wiley-resetPasswordSubmitBtn").click(function(){$(".help-block").remove();$(".help-block").hide();var formErrorFlag=0;var userinputForValidation="";var pwd=$(".resetPassword").val();userinputForValidation=$(".resetConfirmPassword").val().trim();var isConfirmPasswordAvailable=1;if(pwd==undefined){pwd="";}
var isValidPwd=checkPwdAndConfPwdOfResetPage(pwd,userinputForValidation,isConfirmPasswordAvailable);if(isValidPwd==1){$(".resetConfirmPassword").siblings("div.help-block").remove();$(".resetConfirmPassword").parent().siblings("div.help-block").hide();$(".error").remove();$(".resetConfirmPassword").after("<div class='error' role='alert'><b>! Please enter a password.</b></div>");formErrorFlag=1;}
var confirmPwd=$(".resetConfirmPassword").val().trim();userinputForValidation=$(".resetPassword").val();var isConfirmPasswordAvailable=1;if(confirmPwd==undefined){confirmPwd="";isConfirmPasswordAvailable=0;}
var isValidConfPwd=checkPwdAndConfPwdOfResetPage(userinputForValidation,confirmPwd,isConfirmPasswordAvailable);if(isValidConfPwd==1){$(".resetConfirmPassword").siblings("div.help-block").remove();$(".resetConfirmPassword").parent().siblings("div.help-block").hide();$(".error").remove();if(userinputForValidation==""){$(".resetConfirmPassword").after("<div class='error' role='alert'><b>! Please enter a password.</b></div>");}else{$(".resetConfirmPassword").after("<div class='error' role='alert'><b>! Please enter a password that meets the requirements below.</b></div>");}
formErrorFlag=1;}
if(formErrorFlag==0){$("#wileyUpdatePwdForm").submit();}});},bindRegister:function(){$('.registerButton').on('click',function(e){if(!ACC.validatePassword.validatePassword(e)){e.preventDefault();}else{var emailAddress=$('#emailAddress').data('email');$('#emailField').val(emailAddress);$('#titleField').val('notitle');}});},bindCreateAccountPassword:function(){if($('#accountPasswordFormSubmit').data('pwd-required'))
{$('[name=pwd], [name=confPwd]').keyup(function(){$('#accountPasswordForm').find('label.error').remove();if($('[name=pwd]').val().trim().length<=0){$('#accountPasswordFormSubmit').prop('disabled',true);}
else if($('[name=pwd]').val()==$('[name=confPwd]').val()){$('#accountPasswordFormSubmit').prop('disabled',false);}
else{$('#accountPasswordFormSubmit').prop('disabled',true);}});}
else{$('[name=pwd], [name=confPwd]').keyup(function(){$('#accountPasswordForm').find('label.error').remove();});}
$.validator.addMethod("accountPasswordLengthRule",function(value,element){if($('[name=pwd]').val().length>0||$('[name=confPwd]').val().length>0){if(value.length>=5&&value.length<=20&&/^[a-z0-9]+$/i.test(value))
{return true;}
return false;}
if($('#accountPasswordFormSubmit').data('pwd-required'))
{return false;}
else{return true;}},"Password must be between 5 and 20 characters and contains only alphanumerical values.");$('#accountPasswordForm').validate({"onfocusout":false,"onkeyup":false,rules:{confPwd:{equalTo:'[name="pwd"]'}},messages:{confPwd:{equalTo:'[name="pwd"]'}}});}};function checkPwdAndConfPwdOfResetPage(pwd,cpwd,isConfirmPasswordAvailable){$(".resetPassword").siblings("div.help-block").remove();$(".resetConfirmPassword").parent().siblings("div.help-block").hide();$(".resetConfirmPassword").siblings("div.help-block").remove();$(".resetConfirmPassword").parent().siblings("div.help-block").hide();pwd=pwd.trim();cpwd=cpwd.trim();var errAttrCount=0;var status=0;var tempStatus=0;if(pwd.length>0){var lowercase=/[a-z]/g;if(lowercase.test(pwd)){$("#registerCheckLowerCase").css("color","#158389");$("#registerCheckLowerCaseDiv").find("i").removeClass("fa-minus").removeClass("fa-check").addClass("fa-check");$("#registerCheckLowerCaseDiv").find("#registerCheckLowerCase").removeClass("paddingLeft20").removeClass("paddingLeft18").addClass("paddingLeft18");$("#registerCheckLowerCaseDiv").find("i").css("color","#158389");errAttrCount++;}else{$("#registerCheckLowerCase").css("color","#EB1730");$("#registerCheckLowerCaseDiv").find("i").removeClass("fa-check").removeClass("fa-minus").addClass("fa-minus");$("#registerCheckLowerCaseDiv").find("#registerCheckLowerCase").removeClass("paddingLeft18").removeClass("paddingLeft20").addClass("paddingLeft20");$("#registerCheckLowerCaseDiv").find("i").css("color","#EB1730");}
var uppercase=/[A-Z]/g;if(uppercase.test(pwd)){$("#registerCheckUpperCase").css("color","#158389");$("#registerCheckUpperCaseDiv").find("i").removeClass("fa-minus").removeClass("fa-check").addClass("fa-check");$("#registerCheckUpperCaseDiv").find("#registerCheckUpperCase").removeClass("paddingLeft20").removeClass("paddingLeft18").addClass("paddingLeft18");$("#registerCheckUpperCaseDiv").find("i").css("color","#158389");errAttrCount++;}else{$("#registerCheckUpperCase").css("color","#EB1730");$("#registerCheckUpperCaseDiv").find("i").removeClass("fa-check").removeClass("fa-minus").addClass("fa-minus");$("#registerCheckUpperCaseDiv").find("#registerCheckUpperCase").removeClass("paddingLeft18").removeClass("paddingLeft20").addClass("paddingLeft20");$("#registerCheckUpperCaseDiv").find("i").css("color","#EB1730");}
var numbers=/[0-9]/g;if(numbers.test(pwd)){$("#registerCheckNumCase").css("color","#158389");$("#registerCheckNumCaseDiv").find("i").removeClass("fa-minus").removeClass("fa-check").addClass("fa-check");$("#registerCheckNumCaseDiv").find("#registerCheckNumCase").removeClass("paddingLeft20").removeClass("paddingLeft18").addClass("paddingLeft18");$("#registerCheckNumCaseDiv").find("i").css("color","#158389");errAttrCount++;}else{$("#registerCheckNumCase").css("color","#EB1730");$("#registerCheckNumCaseDiv").find("i").removeClass("fa-check").removeClass("fa-minus").addClass("fa-minus");$("#registerCheckNumCaseDiv").find("#registerCheckNumCase").removeClass("paddingLeft18").removeClass("paddingLeft20").addClass("paddingLeft20");$("#registerCheckNumCaseDiv").find("i").css("color","#EB1730");}
var format=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;if(format.test(pwd)){$("#registerCheckSpclChar").css("color","#158389");$("#registerCheckSpclCharDiv").find("i").removeClass("fa-minus").removeClass("fa-check").addClass("fa-check");$("#registerCheckSpclCharDiv").find("#registerCheckSpclChar").removeClass("paddingLeft20").removeClass("paddingLeft18").addClass("paddingLeft18");$("#registerCheckSpclCharDiv").find("i").css("color","#158389");errAttrCount++;}else{$("#registerCheckSpclChar").css("color","#EB1730");$("#registerCheckSpclCharDiv").find("i").removeClass("fa-check").removeClass("fa-minus").addClass("fa-minus");$("#registerCheckSpclCharDiv").find("#registerCheckSpclChar").removeClass("paddingLeft18").removeClass("paddingLeft20").addClass("paddingLeft20");$("#registerCheckSpclCharDiv").find("i").css("color","#EB1730");}
if(errAttrCount<3){$("#registerCheckAttribute").find(".commonText").css("color","#EB1730");$("#registerCheckAttribute").find('i').removeClass("fa fa-circle");$("#registerCheckAttribute").find('i').removeClass("fa fa-check");$("#registerCheckAttribute").find('i').addClass("fa fa-times");$("#registerCheckAttribute").find(".commonText").removeClass("paddingLeft16");$("#registerCheckAttribute").find('i').css({"font-size":"15px","color":"#EB1730","top":"0px"});tempStatus=1;}else{$("#registerCheckAttribute").find(".commonText").addClass("paddingLeft16");$("#registerCheckAttribute").find(".commonText").css("color","#158389");$("#registerCheckAttribute").find('i').removeClass("fa fa-circle");$("#registerCheckAttribute").find('i').removeClass("fa fa-times");$("#registerCheckAttribute").find('i').addClass("fa fa-check");$("#registerCheckAttribute").find('i').css({"font-size":"15px","color":"#158389","top":"0px"});}
if(tempStatus==1){status=1;}
tempStatus=0;if(pwd.length>9)
{$("#registerCheckLength").find(".commonText").css("color","#158389");$("#registerCheckLength").find('i').removeClass("fa fa-circle");$("#registerCheckLength").find('i').removeClass("fa fa-times");$("#registerCheckLength").find('i').addClass("fa fa-check");$("#registerCheckLength").find(".commonText").addClass("paddingLeft16");$("#registerCheckLength").find('i').css({"font-size":"15px","color":"#158389","top":"0px"});}else{$("#registerCheckLength").find(".commonText").css("color","#EB1730");$("#registerCheckLength").find('i').removeClass("fa fa-circle");$("#registerCheckLength").find('i').removeClass("fa fa-check");$("#registerCheckLength").find(".commonText").removeClass("paddingLeft16");$("#registerCheckLength").find('i').addClass("fa fa-times");$("#registerCheckLength").find('i').css({"font-size":"15px","color":"#EB1730","top":"0px"});tempStatus=1;}
if(tempStatus==1){status=1;}
tempStatus=0;if(cpwd.length>0){if(pwd==cpwd){$("#registerCheckMatch").find(".commonText").css("color","#158389");$("#registerCheckMatch").find('i').removeClass("fa fa-circle");$("#registerCheckMatch").find('i').removeClass("fa fa-times");$("#registerCheckMatch").find('i').addClass("fa fa-check");$("#registerCheckMatch").find(".commonText").addClass("paddingLeft16");$("#registerCheckMatch").find('i').css({"font-size":"15px","color":"#158389","top":"0px"});}else{$("#registerCheckMatch").find(".commonText").css("color","#EB1730");$("#registerCheckMatch").find('i').removeClass("fa fa-circle");$("#registerCheckMatch").find('i').removeClass("fa fa-check");$("#registerCheckMatch").find(".commonText").removeClass("paddingLeft16");$("#registerCheckMatch").find('i').addClass("fa fa-times");$("#registerCheckMatch").find('i').css({"font-size":"15px","color":"#EB1730","top":"0px"});tempStatus=1;}}else{$("#registerCheckMatch").find(".commonText").css("color","#2f3032");$("#registerCheckMatch").find('i').removeClass("fa fa-check");$("#registerCheckMatch").find('i').removeClass("fa fa-times");$("#registerCheckMatch").find(".commonText").removeClass("paddingLeft16");$("#registerCheckMatch").find('i').addClass("fa fa-circle");$("#registerCheckMatch").find('i').css({"font-size":"10px","color":"#005589","top":"-2.5px"});if(isConfirmPasswordAvailable==1){tempStatus=1;}}
if(tempStatus==1){status=1;}
tempStatus=0;}else if(cpwd.length>0){if(pwd==cpwd){$("#registerCheckMatch").find(".commonText").css("color","#158389");$("#registerCheckMatch").find('i').removeClass("fa fa-circle");$("#registerCheckMatch").find('i').removeClass("fa fa-times");$("#registerCheckMatch").find('i').addClass("fa fa-check");$("#registerCheckMatch").find(".commonText").addClass("paddingLeft16");$("#registerCheckMatch").find('i').css({"font-size":"15px","color":"#158389","top":"0px"});}else{$("#registerCheckMatch").find(".commonText").css("color","#EB1730");$("#registerCheckMatch").find('i').removeClass("fa fa-circle");$("#registerCheckMatch").find('i').removeClass("fa fa-check");$("#registerCheckMatch").find(".commonText").removeClass("paddingLeft16");$("#registerCheckMatch").find('i').addClass("fa fa-times");$("#registerCheckMatch").find('i').css({"font-size":"15px","color":"#EB1730","top":"0px"});status=1;}}else{$("#registerCheckLowerCase").css("color","#2f3032");$("#registerCheckLowerCaseDiv").find("i").removeClass("fa-check").removeClass("fa-minus").addClass("fa-minus");$("#registerCheckLowerCaseDiv").find("#registerCheckLowerCase").removeClass("paddingLeft18").removeClass("paddingLeft20").addClass("paddingLeft20");$("#registerCheckLowerCaseDiv").find("i").css("color","#005589");$("#registerCheckUpperCase").css("color","#2f3032");$("#registerCheckUpperCaseDiv").find("i").removeClass("fa-check").removeClass("fa-minus").addClass("fa-minus");$("#registerCheckUpperCaseDiv").find("#registerCheckUpperCase").removeClass("paddingLeft18").removeClass("paddingLeft20").addClass("paddingLeft20");$("#registerCheckUpperCaseDiv").find("i").css("color","#005589");$("#registerCheckNumCase").css("color","#2f3032");$("#registerCheckNumCaseDiv").find("i").removeClass("fa-check").removeClass("fa-minus").addClass("fa-minus");$("#registerCheckNumCaseDiv").find("#registerCheckNumCase").removeClass("paddingLeft18").removeClass("paddingLeft20").addClass("paddingLeft20");$("#registerCheckNumCaseDiv").find("i").css("color","#005589");$("#registerCheckSpclChar").css("color","#2f3032");$("#registerCheckSpclCharDiv").find("i").removeClass("fa-check").removeClass("fa-minus").addClass("fa-minus");$("#registerCheckSpclCharDiv").find("#registerCheckSpclChar").removeClass("paddingLeft18").removeClass("paddingLeft20").addClass("paddingLeft20");$("#registerCheckSpclCharDiv").find("i").css("color","#005589");$("#registerCheckAttribute").find(".commonText").css("color","#2f3032");$("#registerCheckAttribute").find('i').removeClass("fa fa-times");$("#registerCheckAttribute").find('i').removeClass("fa fa-check");$("#registerCheckAttribute").find(".commonText").removeClass("paddingLeft16");$("#registerCheckAttribute").find('i').addClass("fa fa-circle");$("#registerCheckAttribute").find('i').css({"font-size":"10px","color":"#005589","top":"-2.5px"});$("#registerCheckLength").find(".commonText").css("color","#2f3032");$("#registerCheckLength").find('i').removeClass("fa fa-check");$("#registerCheckLength").find('i').removeClass("fa fa-times");$("#registerCheckLength").find(".commonText").removeClass("paddingLeft16");$("#registerCheckLength").find('i').addClass("fa fa-circle");$("#registerCheckLength").find('i').css({"font-size":"10px","color":"#005589","top":"-2.5px"});$("input[data-input_description='password']").parent().after("<div class='help-block commonErrorWelStyle' tabindex='0'><i class='fa fa-times'></i>&nbsp;Please enter a password.</div>");$("input[data-input_description='confirmpassword']").parent().after("<div class='help-block commonErrorWelStyle' tabindex='0'><i class='fa fa-times'></i>&nbsp;Please enter a password.</div>");status=1;}
return status;};ACC.checkoutaddress={spinner:$("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif' />"),addressID:'',showAddressBook:function()
{$(document).on("click","#viewAddressBook",function()
{var data=$("#savedAddressListHolder").html();$.colorbox({height:false,html:data,onComplete:function()
{$(this).colorbox.resize();}});})},showRemoveAddressConfirmation:function()
{$(document).on("click",".removeAddressButton",function()
{var addressId=$(this).data("addressId");$.colorbox({inline:true,height:false,href:"#popup_confirm_address_removal_"+addressId,onComplete:function()
{$(this).colorbox.resize();}});})}}
$(document).ready(function()
{with(ACC.checkoutaddress)
{}});ACC.checkoutsteps={_autoload:["permeateLinks"],permeateLinks:function(){$(document).on("click",".js-checkout-step",function(e){e.preventDefault();window.location=$(this).closest("a").attr("href")})}};ACC.colorbox={config:{maxWidth:"100%",opacity:0.7,width:"auto",transition:"none",close:'<span class="glyphicon glyphicon-remove"></span>',title:'<div class="headline"><span class="headline-text">{title}</span></div>',onComplete:function(){$.colorbox.resize();ACC.common.refreshScreenReaderBuffer();},onClosed:function(){ACC.common.refreshScreenReaderBuffer();}},open:function(title,config){var config=$.extend({},ACC.colorbox.config,config);config.title=config.title.replace(/{title}/g,title);return $.colorbox(config);},resize:function(){$.colorbox.resize();},close:function(){$.colorbox.close();$.colorbox.remove();}};ACC.common={processingMessage:$("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif'/>"),blockFormAndShowProcessingMessage:function(submitButton)
{var form=submitButton.parents('form:first');form.block({message:ACC.common.processingMessage});},refreshScreenReaderBuffer:function()
{$('#accesibility_refreshScreenReaderBufferField').attr('value',new Date().getTime());}};jQuery.extend({postJSON:function(url,data,callback)
{return jQuery.post(url,data,callback,"json");}});$.ajaxPrefilter(function(options,originalOptions,jqXHR)
{if(options.type==="post"||options.type==="POST")
{var noData=(typeof options.data==="undefined");if(noData||options.data.indexOf("CSRFToken")===-1)
{options.data=(!noData?options.data+"&":"")+"CSRFToken="+ACC.config.CSRFToken;}}});ACC.forgottenpassword={_autoload:["bindForgotPasswordLink","bindResetPasswordSubmit"],bindForgotPasswordLink:function(){$(document).on("click",".js-password-forgotten",function(e){e.preventDefault();var passwordURL=$(this).attr("href");$.get(passwordURL,function(data){$("#formForgotPassword").replaceWith(data);$("#formForgotPassword").modal('toggle');$('#formForgotPassword').on('shown.bs.modal',function(){$('#myInput').focus()})})})},bindResetPasswordSubmit:function(){$(document).on("click",".js-reset-password-submit",function(event){event.preventDefault();var forgottenPwdForm=$('#forgottenPwdForm');var resetPasswordUrl=forgottenPwdForm.attr("action");$.post(resetPasswordUrl,forgottenPwdForm.serialize(),function(data){if(data!=null&&$(data).closest('#validEmail').length&&$('#validEmail').length===0)
{$("#forgotten-modal-body").replaceWith(data);$("#forgotPasswordLink").replaceWith(data);}
else
{$("#forgotten-modal-body").replaceWith(data);$("#formForgotPassword").modal();}})})}};ACC.global={_autoload:[["passwordStrength",$('.password-strength').length>0],"bindToggleOffcanvas","bindToggleXsSearch","bindToggleHeaderLinks","bindHoverIntentMainNavigation","initImager","backToHome"],passwordStrength:function(){$('.password-strength').pstrength();},bindToggleOffcanvas:function(){$(document).on("click",".js-toggle-sm-navigation",function(){ACC.global.toggleClassState($("main"),"offcanvas");});},bindToggleXsSearch:function(){$(document).on("click",".js-toggle-xs-search",function(){ACC.global.toggleClassState($(".site-search"),"active");});},bindToggleHeaderLinks:function(){$(document).on("click",".js-toggle-header-links",function(){var $e=$(".md-secondary-navigation");$(this).blur();ACC.global.toggleClassState($(this),"active");ACC.global.toggleClassState($e,"active")?$e.slideDown(300):$e.slideUp(300);})},toggleClassState:function($e,c){$e.hasClass(c)?$e.removeClass(c):$e.addClass(c);return $e.hasClass(c);},bindHoverIntentMainNavigation:function(){$("nav.main-navigation > ul > li").hoverIntent(function(){$(this).addClass("md-show-sub")},function(){$(this).removeClass("md-show-sub")})},initImager:function(){new Imager('.js-responsive-image');},addGoogleMapsApi:function(callback){if(callback!=undefined&&$(".js-googleMapsApi").length==0){$('head').append('<script class="js-googleMapsApi" type="text/javascript" src="//maps.googleapis.com/maps/api/js?key='+ACC.config.googleApiKey+'&sensor=false&callback='+callback+'"></script>');}else if(callback!=undefined){eval(callback+"()");}},backToHome:function(){$(".backToHome").on("click",function(){var sUrl=ACC.config.encodedContextPath;window.location=sUrl;});}};ACC.hopdebug={bindAll:function()
{this.bindShowDebugMode();},bindShowDebugMode:function()
{var debugModeEnabled=$('#hopDebugMode').data("hopDebugMode");if(!debugModeEnabled&&!$('#showDebugPage').attr('value'))
{$('#hostedOrderPagePostForm').submit();}}};$(document).ready(function()
{ACC.hopdebug.bindAll();});ACC.imagegallery={_autoload:["bindImageGallery"],bindImageGallery:function(){$(".js-gallery").each(function(){var $image=$(this).find(".js-gallery-image");var $carousel=$(this).find(".js-gallery-carousel")
var imageTimeout;$image.owlCarousel({singleItem:true,pagination:true,navigation:true,lazyLoad:true,navigationText:["<span class='glyphicon glyphicon-chevron-left'></span>","<span class='glyphicon glyphicon-chevron-right'></span>"],afterAction:function(){ACC.imagegallery.syncPosition($image,$carousel,this.currentItem)
$image.data("zoomEnable",true)},afterMove:function(){var player=$(this.$owlItems[this.prevItem]).find('.video-js');if(player.length){videojs(player[0].id).pause();}},startDragging:function(){$image.data("zoomEnable",false)},afterLazyLoad:function(e){var b=$image.data("owlCarousel")||{}
if(!b.currentItem){b.currentItem=0}
var $e=$($image.find("img.lazyOwl")[b.currentItem]);startZoom($e.parent())}});$carousel.owlCarousel({navigation:true,navigationText:["<span class='glyphicon glyphicon-chevron-left'></span>","<span class='glyphicon glyphicon-chevron-right'></span>"],pagination:false,items:2,itemsDesktop:[5000,7],itemsDesktopSmall:[1200,5],itemsTablet:[768,4],itemsMobile:[480,3],lazyLoad:true,afterAction:function(){},});$carousel.on("click","a.item",function(e){e.preventDefault();$image.trigger("owl.goTo",$(this).parent(".owl-item").data("owlItem"));})
function startZoom(e){$(e).zoom({url:$(e).find("img.lazyOwl").data("zoomImage"),touch:true,on:"grab",touchduration:300,onZoomIn:function(){},onZoomOut:function(){var owl=$image.data('owlCarousel');owl.dragging(true)
$image.data("zoomEnable",true)},zoomEnableCallBack:function(){var bool=$image.data("zoomEnable")
var owl=$image.data('owlCarousel');if(bool==false){owl.dragging(true)}
else{owl.dragging(false)}
return bool;}});}})},syncPosition:function($image,$carousel,currentItem){$carousel.trigger("owl.goTo",currentItem);}};ACC.langcurrency={_autoload:["bindLangCurrencySelector"],bindLangCurrencySelector:function(){$('#lang-selector').change(function(){$('#lang-form').submit();});$('#currency-selector').change(function(){$('#currency-form').submit();});}};ACC.minicart={_autoload:[],bindMiniCart:function(){$(document).on("click",".js-mini-cart-link",function(e){e.preventDefault();var url=$(this).data("miniCartUrl");var cartName=($(this).find(".js-mini-cart-count").html()!=0)?$(this).data("miniCartName"):$(this).data("miniCartEmptyName");ACC.colorbox.open(cartName,{href:url,maxWidth:"100%",width:"320px",initialWidth:"320px"});})
$(document).on("click",".js-mini-cart-close-button",function(e){e.preventDefault();ACC.colorbox.close();})},updateMiniCartDisplay:function(){var miniCartRefreshUrl=$(".js-mini-cart-link").data("miniCartRefreshUrl");$.get(miniCartRefreshUrl,function(data){var data=$.parseJSON(data);$(".js-mini-cart-link .js-mini-cart-count").html(data.miniCartCount)
$(".js-mini-cart-link .js-mini-cart-price").html(data.miniCartPrice)})}};ACC.navigation={_autoload:["offcanvasNavigation","myAccountNavigation"],offcanvasNavigation:function(){enquire.register("screen and (max-width:"+screenSmMax+")",{match:function(){$(document).on("click",".js-enquire-offcanvas-navigation .js-enquire-has-sub > a",function(e){e.preventDefault();$(".js-enquire-offcanvas-navigation > ul").addClass("active");$(".js-enquire-offcanvas-navigation .js-enquire-has-sub").removeClass("active");$(this).parent(".js-enquire-has-sub").addClass("active");})
$(document).on("click",".js-enquire-offcanvas-navigation .js-enquire-sub-close",function(e){e.preventDefault();$(".js-enquire-offcanvas-navigation > ul").removeClass("active");$(".js-enquire-offcanvas-navigation .js-enquire-has-sub").removeClass("active");})},unmatch:function(){$(".js-enquire-offcanvas-navigation > ul").removeClass("active");$(".js-enquire-offcanvas-navigation .js-enquire-has-sub").removeClass("active");$(document).off("click",".js-enquire-offcanvas-navigation .js-enquire-has-sub > a");$(document).off("click",".js-enquire-offcanvas-navigation .js-enquire-sub-close");}});},myAccountNavigation:function(){var oDoc=document;var aAcctData=[];var sSignBtn="";var oMyAccountData=$(".accNavComponent");var oMMainNavDesktop=$(".accNavComponentDesktop > ul");var oMainNav=$(".main-navigation > ul.nav.nav-pills");if(oMyAccountData){var aLinks=oMyAccountData.find("a");for(var i=0;i<aLinks.length;i++){aAcctData.push({link:aLinks[i].href,text:aLinks[i].title});}}
var oUserInfo=$(".md-secondary-navigation ul li.logged_in")
if(oUserInfo&&oUserInfo.length===1){var sUserBtn='<li class=\"auto hidden-md hidden-lg\"><div class=\"userGroup\">';sUserBtn+='<span class="glyphicon glyphicon-user myAcctUserIcon"></span><div class=\"userName\">'+oUserInfo[0].innerHTML+'</div>';if(aAcctData.length>0){sUserBtn+='<a class=\"collapsed\" data-toggle=\"collapse\" data-target=\".offcanvasGroup1\"><span class="glyphicon glyphicon-chevron-up myAcctExp"></span></a>';}
sUserBtn+='</div></li>';$(sUserBtn).insertBefore($(oMainNav.children()[0]));}
var myAccountHook=$('<a class=\"myAccountLinksHeader collapsed\" data-toggle=\"collapse\" data-target=\"#accNavComponentDesktop\">'+oMyAccountData.data("title")+'</a>');myAccountHook.insertBefore(oMyAccountData);for(var i=aAcctData.length-1;i>=0;i--){var oLink=oDoc.createElement("a");oLink.title=aAcctData[i].text;oLink.href=aAcctData[i].link;oLink.innerHTML=aAcctData[i].text;var oListItem=oDoc.createElement("li");oListItem.appendChild(oLink);oListItem=$(oListItem)
oListItem.addClass("auto offcanvasGroup1 offcanvasNoBorder hidden-md hidden-lg collapse in");oListItem.insertAfter($(oMainNav.children()[0]));}
if($(".liOffcanvas a")&&$(".liOffcanvas a").length>0){sSignBtn+='<li class=\"auto hidden-md hidden-lg liUserSign\" ><a class=\"userSign\" href=\"'+$(".liOffcanvas a")[0].href+'\">'+$(".liOffcanvas a")[0].innerHTML+'</a></li>';if(oUserInfo&&oUserInfo.length===1){$(sSignBtn).insertAfter($(oMainNav.children()[aAcctData.length]));}else{$(sSignBtn).insertBefore($(oMainNav.children()[0]));}}
for(var i=0;i<aAcctData.length;i++){var oLink=oDoc.createElement("a");oLink.title=aAcctData[i].text;oLink.href=aAcctData[i].link;oLink.innerHTML=aAcctData[i].text;var oListItem=oDoc.createElement("li");oListItem.appendChild(oLink);oListItem=$(oListItem)
oListItem.addClass("auto col-md-4");oMMainNavDesktop.get(0).appendChild(oListItem.get(0));}
$('.offcanvasGroup1').on('hidden.bs.collapse',function(){$('.offcanvasGroup1 a').hide();$('.userGroup span.myAcctExp').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');});$('.offcanvasGroup1').on('show.bs.collapse',function(){$('.offcanvasGroup1 a').show();$('.userGroup span.myAcctExp').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');});$('.offcanvasGroup1').collapse();if(oUserInfo&&oUserInfo.length===1&&aAcctData.length>0){$('.userGroup').on("click",function(){var aCollapsibleElements=$('.offcanvasGroup1');if(aCollapsibleElements&&$('.offcanvasGroup1').length>0){if($(aCollapsibleElements[0]).hasClass('in')){aCollapsibleElements.addClass('offcanvasNoBorder').removeClass('offcanvasBorderColor');aCollapsibleElements.collapse('hide');}else{aCollapsibleElements.collapse('show');aCollapsibleElements.removeClass('offcanvasNoBorder').addClass('offcanvasBorderColor');}}});}}};ACC.order={_autoload:["backToOrderHistory","backToOrders"],backToOrderHistory:function(){$(".orderBackBtn").on("click",function(){var sUrl=$(this).data("backToOrders");window.location=sUrl;});},backToOrders:function(){$(".orderTopBackBtn").on("click",function(){var sUrl=$(this).data("backToOrders");window.location=sUrl;});}};ACC.paginationsort={downUpKeysPressed:false,bindAll:function()
{this.bindPaginationSort();},bindPaginationSort:function()
{with(ACC.paginationsort)
{}},bindSortSelect:function(sortSelect)
{sortSelect.on("selectmenuchange",function()
{if(!ACC.paginationsort.downUpPressed)
{this.closest("form").submit();}
ACC.paginationsort.downUpPressed=false;});},sortFormIEFix:function(sortOptions,selectedOption)
{sortOptions.keydown(function(e)
{if(e.keyCode===38||e.keyCode===40)
{ACC.paginationsort.downUpPressed=true;}
else if(e.keyCode===13&&selectedOption!==$(this).val())
{$(this).parent().submit();}
else
{ACC.paginationsort.downUpPressed=false;}});}};$(document).ready(function()
{ACC.paginationsort.bindAll();});ACC.payment={activateSavedPaymentButton:function(){$(document).on("click",".js-saved-payments",function(e){e.preventDefault();var title=$("#savedpaymentstitle").html();$.colorbox({href:"#savedpaymentsbody",inline:true,maxWidth:"100%",opacity:0.7,width:"320px",title:title,close:'<span class="glyphicon glyphicon-remove"></span>',onComplete:function(){}});})},bindPaymentCardTypeSelect:function()
{ACC.payment.filterCardInformationDisplayed();$("#card_cardType").change(function()
{var cardType=$(this).val();if(cardType=='024')
{$('#startDate, #issueNum').show();}
else
{$('#startDate, #issueNum').hide();}});},filterCardInformationDisplayed:function()
{var cardType=$('#card_cardType').val();if(cardType=='024')
{$('#startDate, #issueNum').show();}
else
{$('#startDate, #issueNum').hide();}},bindAddAnotherCreditCardButton:function(){var addAnotherCreditCard=$(".add-another-card");addAnotherCreditCard.on("click",function(event){$("#savePaymentInfo").val($("#savePaymentId").is(":checked"));$("#billingSameAsShipping").val($("#sameAsBilling").is(":checked"));$("#billingAddressForm").submit();});},bindPaymentMethodSelect:function(){$("#creditCard").click(function(){$("#payment_method").attr('value','creditcard');});$("#paypal").click(function(){$("#payment_method").attr('value','payPal');});}};$(document).ready(function(){with(ACC.payment){bindPaymentMethodSelect();}});ACC.paymentDetails={_autoload:["paymentDetailsConfirmation"],paymentDetailsConfirmation:function()
{$('#paymentBilling').click(function(event){var firstName=$('#firstName').val();var lastName=$('#lastName').val();var street1=$('#street1').val();var street2=$('#street2').val();var city=$('#city').val();var postalCode=$('#postalCode').val();var phoneNumber=$('#phoneNumber').val();var countrySelectedIso=$('#billingCountrySelector').find('.es-list').find('li.selected').attr('value');if($("#billingCountryValue").val()==""){$("#billingCountryValue").val(countrySelectedIso);}
if($("#i18nBillingAddressForm").find(".es-input").length>0){var regionSelectedIso=$("#i18nBillingAddressForm").find(".es-visible")[0].getAttribute("value");$("#billingRegionValue").val(regionSelectedIso);}
var excludeCountries=$('#excludeCountries').val();var nameArr=excludeCountries.split(',');var postCodecheckFlag=0;var i;for(i=0;i<nameArr.length;i++){if(countrySelectedIso==nameArr[i]){postCodecheckFlag=1;}}
var isFocused=0;var errorStstus=0;var errMsg="";var errorOccurred=0;var regx=/^\d+$/;var sameAsBillingStatus=$("#sameAsBilling:visible");var checkboxVal=$("#sameAsBilling").prop("checked");$('#billingSameAsShippingCheckboxValue').val(checkboxVal);if((sameAsBillingStatus.length==0)||(document.getElementById("sameAsBilling")!=null&&!document.getElementById("sameAsBilling").checked)){$(".error").remove();$('#consolidatedErrorMsg').html("");$("#firstName").removeClass("validationErrorMsgColor");$("#lastName").removeClass("validationErrorMsgColor");$("#street1").removeClass("validationErrorMsgColor");$("#street2").removeClass("validationErrorMsgColor");$("#city").removeClass("validationErrorMsgColor");$("#postalCode").removeClass("validationErrorMsgColor");$("#phoneNumber").removeClass("validationErrorMsgColor");$("#i18nBillingAddressForm").find(".es-input").removeClass("validationErrorMsgColor");if($(".countrySelection").val()===null){$("#billingInfoCountryError").html("<div class='error'><b>! Enter your Country</b></div>");$("#billingInfoCountryError").css('margin-top','-20px');$("#billingInfoCountryError").css('margin-bottom','20px');$("#billingCountrySelector").find(".ui-selectmenu-button-closed").focus();$("#billingCountrySelector").find(".ui-selectmenu-button-closed").addClass("validationErrorMsgColor");errorStstus=1;}
if(firstName.trim()==''){$('#firstName').after('<div class="error"><b>! Enter your First Name</b></div>');errMsg+="Please enter your First Name";errorOccurred=1;$("#firstName").addClass("validationErrorMsgColor");errorStstus=1;}
if(firstName.trim().length>30){$('#firstName').after('<div class="error"><b>! First Name can not be more than 30 Characters</b></div>');errMsg+="First Name can not be more than 30 Characters";$("#firstName").addClass("validationErrorMsgColor");errorStstus=1;}
if(lastName.trim()==''){$('#lastName').after('<div class="error"><b>! Enter your Last Name</b></div>');if(errorOccurred==1){errMsg+=", Last name";}
else{errMsg+=(errMsg?', ':'')+"Please enter your Last Name";errorOccurred=1;}
$("#lastName").addClass("validationErrorMsgColor");errorStstus=1;}
if(lastName.trim().length>30){$('#lastName').after('<div class="error"><b>! Last Name can not be more than 30 Characters</b></div>');errMsg+=(errMsg?', ':'')+"Last Name can not be more than 30 Characters";$("#lastName").addClass("validationErrorMsgColor");errorStstus=1;}
if(street1.trim()==''){$('#street1').after('<div class="error"><b>! Enter your Address</b></div>');if(errorOccurred==1){errMsg+=", Address";}
else{errMsg+=(errMsg?', ':'')+"Please enter your Address";errorOccurred=1;}
$("#street1").addClass("validationErrorMsgColor");errorStstus=1;}
if(street1.trim().length>30){$('#street1').after('<div class="error"><b>! Address 1 can not be more than 30 Characters</b></div>');errMsg+=(errMsg?', ':'')+"Address 1 can not be more than 30 Characters";errorOccurred=0;$("#street1").addClass("validationErrorMsgColor");errorStstus=1;}
if(street2.trim().length>30){$('#street2').after('<div class="error"><b>! Address 2 can not be more than 30 Characters</b></div>');errMsg+=(errMsg?', ':'')+"Address 2 can not be more than 30 Characters";errorOccurred=0;$("#street2").addClass("validationErrorMsgColor");errorStstus=1;}
if(city.trim()==''){$('#city').after('<div class="error"><b>! Enter your City</b></div>');if(errorOccurred==1){errMsg+=", City";}
else{errMsg+=(errMsg?', ':'')+"Please enter your City";errorOccurred=1;}
$("#city").addClass("validationErrorMsgColor");errorStstus=1;}
if(city.trim().length>24){$('#city').after('<div class="error"><b>! City can not be more than 24 Characters</b></div>');errMsg+=(errMsg?', ':'')+"City can not be more than 24 Characters";errorOccurred=0;$("#city").addClass("validationErrorMsgColor");errorStstus=1;}
if($("#i18nBillingAddressForm").find(".es-input").val()===""){$("#billingInfoStateError").html("<div class='error'><b>! Enter your State</b></div>");$("#billingInfoStateError").css('margin-top','-20px');if(errorOccurred==1){errMsg+=", State";}
else{errMsg+=(errMsg?', ':'')+"Please enter your State";errorOccurred=1;}
$("#i18nBillingAddressForm").find(".es-input").addClass("validationErrorMsgColor");errorStstus=1;}
if(postCodecheckFlag==0)
{if(postalCode!=undefined&&postalCode.trim()==''){$('#postalCode').after('<div class="error"><b>! Enter your Zip Code</b></div>');if(errorOccurred==1){errMsg+=", Zip Code";}
else{errMsg+=(errMsg?', ':'')+"Please enter your Zip Code";errorOccurred=1;}
$("#postalCode").addClass("validationErrorMsgColor");errorStstus=1;}
if(postalCode!=undefined&&postalCode.trim().length>9){$('#postalCode').after('<div class="error"><b>! Zipcode can not be more than 9 Characters</b></div>');errMsg+=(errMsg?', ':'')+"Zipcode can not be more than 9 Characters";errorOccurred=0;$("#postalCode").addClass("validationErrorMsgColor");errorStstus=1;}}
if(phoneNumber!=undefined&&phoneNumber.trim()==''){$('#phoneNumber').after('<div class="error"><b>! Enter your Phone Number</b></div>');if(errorOccurred==1){errMsg+=", Phone Number";}
else{errMsg+=(errMsg?', ':'')+"Please enter your Phone Number";errorOccurred=1;}
$("#phoneNumber").addClass("validationErrorMsgColor");errorStstus=1;}
if(phoneNumber!=undefined&&phoneNumber.trim().length>15){$('#phoneNumber').after('<div class="error"><b>! Phone can not exceed 15 digits</b></div>');errMsg+=(errMsg?', ':'')+"Phone can not exceed 15 digits";errorOccurred=0;$("#phoneNumber").addClass("validationErrorMsgColor");errorStstus=1;}
if(phoneNumber!=undefined&&phoneNumber.trim()!=''&&regx.test(phoneNumber)==false){$('#phoneNumber').after('<div class="error"><b>! Phone can only be digits</b></div>');errMsg+=(errMsg?', ':'')+"Phone can only be digits";errorOccurred=0;$("#phoneNumber").addClass("validationErrorMsgColor");errorStstus=1;}}
if(errorStstus==1){event.preventDefault();$('#consolidatedErrorMsg').html("! "+errMsg);$("html, body").animate({scrollTop:0},"slow");}
if(errorStstus==0)
{ACC.paymentDetails.paymentBillingFormContinueEventHandling(event);}});$('#paypal').click(function(event){ACC.paymentDetails.submitPaymentBillingForm();});},paymentBillingFormContinueEventHandling:function(event){event.preventDefault();HostedSession.clearErrors();ACC.paymentDetails.processOrder();},processOrder:function(){PaymentSession.updateSessionFromForm('card');},submitPaymentBillingForm:function(){$('#wileycomPaymentBillingAddressForm').submit();}};ACC.pickupinstore={_autoload:[],storeId:"",unbindPickupPaginationResults:function()
{$(document).off("click","#colorbox .js-pickup-store-pager-prev")
$(document).off("click","#colorbox .js-pickup-store-pager-next")},bindPickupPaginationResults:function()
{var listHeight=$("#colorbox .js-pickup-store-list").height();var $listitems=$("#colorbox .js-pickup-store-list > li");var listItemHeight=$listitems.height();var displayCount=5;var totalCount=$listitems.length;var curPos=0
var pageEndPos=(((totalCount/displayCount)-1)*(displayCount*listItemHeight))*-1;$("#colorbox .js-pickup-store-pager-item-all").html(totalCount);$("#colorbox .store-navigation-pager").show();checkPosition()
$(document).on("click","#colorbox .js-pickup-store-pager-prev",function(e){e.preventDefault();$listitems.css("transform","translateY("+(curPos+listHeight)+"px)")
curPos=curPos+listHeight;checkPosition("prev");})
$(document).on("click","#colorbox .js-pickup-store-pager-next",function(e){e.preventDefault();$listitems.css("transform","translateY("+(curPos-listHeight)+"px)")
curPos=curPos-listHeight;checkPosition("next");})
function checkPosition(){var curPage=Math.ceil((curPos/(displayCount*listItemHeight))*-1)+1;$("#colorbox .js-pickup-store-pager-item-from").html(curPage*displayCount-4);var tocount=(curPage*displayCount>totalCount)?totalCount:curPage*displayCount;if(curPage*displayCount-4==1){$("#colorbox .js-pickup-store-pager-prev").hide()}else{$("#colorbox .js-pickup-store-pager-prev").show()}
if(curPage*displayCount>totalCount){$("#colorbox .js-pickup-store-pager-next").hide()}else{$("#colorbox .js-pickup-store-pager-next").show()}
$("#colorbox .js-pickup-store-pager-item-to").html(tocount);}},bindPickupInStoreQuantity:function(){$('.pdpPickupQtyPlus').click(function(e){e.preventDefault();var inputQty=$('.js-add-pickup-cart #pdpPickupAddtoCartInput');var currentVal=parseInt(inputQty.val());var maxVal=inputQty.data('max');if(!isNaN(currentVal)&&currentVal<maxVal){inputQty.val(currentVal+1);inputQty.change();}});$('.pdpPickupQtyMinus').click(function(e){e.preventDefault();var inputQty=$('.js-add-pickup-cart #pdpPickupAddtoCartInput');var currentVal=parseInt(inputQty.val());var minVal=inputQty.data('min');if(!isNaN(currentVal)&&currentVal>minVal){inputQty.val(currentVal-1);inputQty.change();}});$("body").on("keyup",".js-add-pickup-cart #pdpPickupAddtoCartInput",function(event){var input=$(event.target);input.val(this.value.match(/[0-9]*/));var value=input.val();});},bindPickupInStoreSearch:function()
{$(document).on('click','#pickupstore_location_search_button',function(e)
{ACC.pickupinstore.locationSearchSubmit($('#locationForSearch').val(),$('#atCartPage').val(),$('#entryNumber').val(),$(this).parents('form').attr('action'));return false;});$(document).on('keypress','#locationForSearch',function(e)
{if(e.keyCode===13)
{e.preventDefault();ACC.pickupinstore.locationSearchSubmit($('#locationForSearch').val(),$('#atCartPage').val(),$('input.entryNumber').val(),$(this).parents('form').attr('action'));return false;}});},bindPickupHereInStoreButtonClick:function()
{$(document).on('click','.pickup_add_to_bag_instore_button',function(e){$(this).prev('.hiddenPickupQty').val($('#pickupQty').val());});$(document).on('click','.pickup_here_instore_button',function(e){$(this).prev('.hiddenPickupQty').val($('#pickupQty').val());ACC.colorbox.close();});},locationSearchSubmit:function(location,cartPage,entryNumber,productCode,latitude,longitude)
{$("#colorbox .js-add-to-cart-for-pickup-popup, #colorbox .js-qty-selector-minus, #colorbox .js-qty-selector-input, #colorbox .js-qty-selector-plus").attr("disabled","disabled");$.ajax({url:productCode,data:{locationQuery:location,cartPage:cartPage,entryNumber:entryNumber,latitude:latitude,longitude:longitude},type:"post",success:function(response)
{ACC.pickupinstore.refreshPickupInStoreColumn(response);}});},createListItemHtml:function(data,id){var item="";item+='<li class="pickup-store-list-entry">';item+='<input type="radio" name="storeNamePost" value="'+data.displayName+'" id="pickup-entry-'+id+'" class="js-pickup-store-input" data-id="'+id+'">';item+='<label for="pickup-entry-'+id+'" class="js-select-store-label">';item+='<span class="pickup-store-info">';item+='<span class="pickup-store-list-entry-name">'+data.displayName+'</span>';item+='<span class="pickup-store-list-entry-address">'+data.line1+' '+data.line2+'</span>';item+='<span class="pickup-store-list-entry-city">'+data.town+'</span>';item+='</span>';item+='<span class="store-availability">';item+='<span class="available">'+data.formattedDistance+'<br>'+data.stockPickup+'</span>';item+='</span>';item+='</label>';item+='</li>';return item;},refreshPickupInStoreColumn:function(data){data=$.parseJSON(data);var listitems="";$("#colorbox .js-pickup-component").data("data",data);for(i=0;i<data["data"].length;i++){listitems+=ACC.pickupinstore.createListItemHtml(data["data"][i],i)}
$('#colorbox .js-pickup-store-list').html(listitems);ACC.pickupinstore.unbindPickupPaginationResults()
ACC.pickupinstore.bindPickupPaginationResults()
var firstInput=$("#colorbox .js-pickup-store-input")[0];$(firstInput).click();$("#colorbox .js-add-to-cart-for-pickup-popup, #colorbox .js-qty-selector-minus, #colorbox .js-qty-selector-input, #colorbox .js-qty-selector-plus").removeAttr("disabled");},bindClickPickupInStoreButton:function()
{$(document).on("click",".js-pickup-in-store-button",function(e){e.preventDefault();var ele=$(this);var productId="pickupModal_"+$(this).attr('id');var cartItemProductPostfix='';var productIdNUM=$(this).attr('id');productIdNUM=productIdNUM.split("_");productIdNUM=productIdNUM[1];if(productId!==null)
{cartItemProductPostfix='_'+productId;}
var boxContent=$("#popup_store_pickup_form > #pickupModal").clone();var titleHeader=$('#pickupTitle > .pickup-header').html();ACC.colorbox.open(titleHeader,{html:boxContent,width:"870px",onComplete:function(){$("#colorbox .js-add-to-cart-for-pickup-popup, #colorbox .js-qty-selector-minus, #colorbox .js-qty-selector-input, #colorbox .js-qty-selector-plus").attr("disabled","disabled");boxContent.show();ACC.pickupinstore.pickupStorePager();var tabs=$("#colorbox .js-pickup-tabs").accessibleTabs({tabhead:'.tabhead',tabbody:'.tabbody',fx:'show',fxspeed:0,currentClass:'active',autoAnchor:true,cssClassAvailable:true});$("#colorbox #pickupModal *").each(function()
{if($(this).attr("data-id")!=undefined)
{$(this).attr("id",$(this).attr("data-id"));$(this).removeAttr("data-id");}});$("#colorbox input#locationForSearch").focus();$("#colorbox #pickupModal").attr("id",productId);$("#colorbox #"+productId+" .thumb").html(ele.data("img"));$("#colorbox #"+productId+" .js-pickup-product-price").html(ele.data("productcart"));var variants=ele.data("productcartVariants");var variantsOut="";$.each(variants,function(key,value){console.log(value)
variantsOut+="<span>"+value+"</span>";})
$("#colorbox #"+productId+" .js-pickup-product-variants").html(variantsOut);$("#colorbox  #"+productId+" .js-pickup-product-info").html(ele.data("productname"))
$("#colorbox #"+productId+" form.searchPOSForm").attr("action",ele.data("actionurl"));$("#colorbox #"+productId+" form.searchPOSForm").attr("id","pickup_in_store_search_form_product_"+productIdNUM);$("#colorbox #"+productId+" #pdpPickupAddtoCartInput").attr("value",($('#pdpPickupAddtoCartInput').val()!==undefined?$('#pdpPickupAddtoCartInput').val():ele.data("value")));$("#colorbox #"+productId+" input#entryNumber").attr("value",ele.data("entrynumber"));$("#colorbox #"+productId+" input#atCartPage").attr("value",ele.data("cartpage"));if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(position){ACC.pickupinstore.locationSearchSubmit('',$('#atCartPage').val(),ele.data("entrynumber"),ele.data("actionurl"),position.coords.latitude,position.coords.longitude);},function(error){console.log("An error occurred... The error code and message are: "+error.code+"/"+error.message);});}
ACC.product.bindToAddToCartStorePickUpForm();}});})},pickupStorePager:function()
{$(document).on("change","#colorbox .js-pickup-store-input",function(e){e.preventDefault();$("#colorbox .js-pickup-tabs li.first a").click();var storeData=$("#colorbox .js-pickup-component").data("data");storeData=storeData["data"];var storeId=$(this).data("id");var $ele=$("#colorbox .display-details");$.each(storeData[storeId],function(key,value){if(key=="url"){if(value!=""){$ele.find(".js-store-image").html('<img src="'+value+'" alt="" />');}else{$ele.find(".js-store-image").html('');}}else if(key=="productcode"){$ele.find(".js-store-productcode").val(value);}
else if(key=="openings"){if(value!=""){var $oele=$ele.find(".js-store-"+key);var openings="";$.each(value,function(key2,value2){openings+="<dt>"+key2+"</dt>";openings+="<dd>"+value2+"</dd>";});$oele.html(openings);}else{$ele.find(".js-store-"+key).html('');}}
else if(key=="specialOpenings"){}
else{if(value!=""){$ele.find(".js-store-"+key).html(value);}else{$ele.find(".js-store-"+key).html('');}}})
$(document).one("click","#colorbox .js-pickup-map-tab",function(){ACC.pickupinstore.storeId=storeData[storeId];ACC.global.addGoogleMapsApi("ACC.pickupinstore.drawMap");})
var e=$("#colorbox .pickup-store-list-entry input:checked");$("#add_to_cart_storepickup_form .js-store-id").attr("id",e.attr("id"))
$("#add_to_cart_storepickup_form .js-store-id").attr("name",e.attr("name"))
$("#add_to_cart_storepickup_form .js-store-id").val(e.val())
if(storeData[storeId]["stockLevel"]>0||storeData[storeId]["stockLevel"]=="")
{var input=$("#add_to_cart_storepickup_form .js-qty-selector-input");input.data("max",storeData[storeId]["stockLevel"]);ACC.productDetail.checkQtySelector(input,"reset");$("#add_to_cart_storepickup_form").show()}else{$("#add_to_cart_storepickup_form").hide()}})
$(document).on("click",".js-select-store-label",function(e){$("#colorbox .js-pickup-component").addClass("show-store")
$("#colorbox #cboxTitle .headline-inner").hide()
$("#colorbox #cboxTitle .back-to-storelist").show()})
$(document).on("click",".js-back-to-storelist",function(e){$("#colorbox .js-pickup-component").removeClass("show-store")
$("#colorbox #cboxTitle .headline-inner").show()
$("#colorbox #cboxTitle .back-to-storelist").hide()})},bindPickupButton:function(){$(document).on("click",".js-pickup-button",function(e){e.preventDefault();$e=$(this).parent().nextAll(".js-inline-layer")
$e.addClass("open")
var h=$e.height()
$e.removeClass("open")
$e.animate({height:h})})},bindPickupClose:function(){$(document).on("click",".js-close-inline-layer",function(e){e.preventDefault();$e=$(this).parents(".js-inline-layer")
$e.animate({height:0})})},checkIfPointOfServiceIsEmpty:function(cartEntryDeliveryModeForm)
{return(!cartEntryDeliveryModeForm.find('.pointOfServiceName').text().trim().length);},validatePickupinStoreCartEntires:function()
{var validationErrors=false;$("form.cartEntryShippingModeForm").each(function()
{var formid="#"+$(this).attr('id');if($(formid+' input[value=pickUp][checked]').length&&ACC.pickupinstore.checkIfPointOfServiceIsEmpty($(this)))
{$(this).addClass("shipError");validationErrors=true;}});if(validationErrors)
{$('div#noStoreSelected').show().focus();$(window).scrollTop(0);}
return validationErrors;},drawMap:function(){storeInformation=ACC.pickupinstore.storeId;if($("#colorbox .js-map-canvas").length>0)
{$("#colorbox .js-map-canvas").attr("id","pickup-map")
var centerPoint=new google.maps.LatLng(storeInformation["storeLatitude"],storeInformation["storeLongitude"]);var mapOptions={zoom:13,zoomControl:true,panControl:true,streetViewControl:false,mapTypeId:google.maps.MapTypeId.ROADMAP,center:centerPoint}
var map=new google.maps.Map(document.getElementById("pickup-map"),mapOptions);var marker=new google.maps.Marker({position:new google.maps.LatLng(storeInformation["storeLatitude"],storeInformation["storeLongitude"]),map:map,title:storeInformation["name"],icon:"https://maps.google.com/mapfiles/marker"+'A'+".png"});var infowindow=new google.maps.InfoWindow({content:storeInformation["name"],disableAutoPan:true});google.maps.event.addListener(marker,'click',function(){infowindow.open(map,marker);});}}};ACC.product={_autoload:["bindToAddToCartForm","enableStorePickupButton","enableAddToCartButton","enableVariantSelectors",],bindFacets:function(){$(document).on("click",".js-show-facets",function(e){e.preventDefault();ACC.colorbox.open("Select Refinements",{href:"#product-facet",inline:true,width:"320px",onComplete:function(){$(document).on("click",".js-product-facet .js-facet-name",function(e){e.preventDefault();$(".js-product-facet  .js-facet").removeClass("active");$(this).parents(".js-facet").addClass("active");$.colorbox.resize()})},onClosed:function(){$(document).off("click",".js-product-facet .js-facet-name");}});});enquire.register("screen and (min-width:"+screenSmMax+")",function(){$("#cboxClose").click();});},enableAddToCartButton:function()
{$('.js-add-to-cart').removeAttr("disabled");},enableVariantSelectors:function()
{$('.variant-select').removeAttr("disabled");},bindToAddToCartForm:function()
{var loader=$("<div class='wiley-loader'></div>");$('.add_to_cart_form').submit(function(e){$('body').append(loader);var addToCartForm=$(this);ACC.product.updateQuantityInAddToCartForm(addToCartForm);e.preventDefault();$.ajax({type:"POST",url:addToCartForm.attr("action"),data:addToCartForm.serialize(),contentType:"application/x-www-form-urlencoded",accept:"application/json",success:function(cartResult,statusText,xhr){loader.detach();ACC.product.displayAddToCartPopup(cartResult,statusText,xhr,addToCartForm);},error:function(cartResult,statusText,xhr){loader.detach();ACC.product.displayAddToCartErrorPopup(cartResult,statusText,xhr,addToCartForm)},xhrFields:{withCredentials:true}})});},updateQuantityInAddToCartForm:function($form)
{var productCode=$form.find(".productCodePost").val();var noOfProducts=$(".pquantity"+productCode).val();if(noOfProducts===undefined){noOfProducts=$form.closest(".table-row-content").find(".product-quantity .product-item-spinner").val();}
if(noOfProducts){$form.find(".productAQuantity").val(noOfProducts);}},bindToAddToCartStorePickUpForm:function()
{var addToCartStorePickUpForm=$('#colorbox #add_to_cart_storepickup_form');addToCartStorePickUpForm.ajaxForm({success:ACC.product.displayAddToCartPopup});},enableStorePickupButton:function()
{$('.js-pickup-in-store-button').removeAttr("disabled");},displayAddToCartPopupCarousel:function(){wiley.owlCarousel("#addToCartModalWnd .owl-carousel");},displayAddToCartErrorPopup:function(cartResult,statusText,xhr,formElement)
{var errorData={};errorData.withErrors=true;errorData.newlyAddedQuantity=0;errorData.newlyAddedQuantityLabel=addToCartPopupItemsLabel;$("#addToCartModalWnd").html(Mustache.render(addToCartModalWndTemplate,errorData));$("#addToCartModalWnd").modal('show');},displayAddToCartPopup:function(cartResult,statusText,xhr,formElement)
{$('#addToCartLayer').remove();var titleHeader=$('.addToCartTitle').html();var productCode=$('[name=productCodePost]',formElement).val();var quantityField=$('[name=PAQUANT]',formElement).val();var formData=[];formData=ACC.product.getFormData(formElement);var data=ACC.product.prepareDataForRendering(cartResult,formData);$("#addToCartModalWnd").html(Mustache.render(addToCartModalWndTemplate,data));$("#addToCartModalWnd").modal('show');var quantity=1;if(quantityField!=undefined)
{quantity=quantityField;}
$.ajax({type:"GET",url:ACC.product.getFormRelatedProductsUrl(formElement),accepts:"text/xml",success:function(data,statusText,xhr){wiley.updateMultipleSectionsAjax(data,ACC.product.displayAddToCartPopupCarousel)},error:function(data,statusText,xhr){console.log('error during ajax call for related products');}})
ACC.track.trackAddToCart(productCode,quantity,cartResult.cartData);ACC.product.miniCartDataLayer(productCode);},miniCartDataLayer:function(productCode){_satellite.track('virtualPage',{'event':{'name':'virtualPage'},'environment':digitalData.environment,'page':{'pageName':'www:wil:us:cart:minicart','section':'cart','type':'mini cart'},'ecommerce':{'currency':$(".currency").val(),'products':[{'sku':productCode,'name':$(".modal-body").find(".product-title").text()}]},'site':{'country':digitalData.site.country,'language':digitalData.site.language,'platform':digitalData.site.platform}})},prepareDataForRendering:function(addToCartResponse,formData){addToCartResponse.withErrors=ACC.product.isListEmpty(addToCartResponse.entries)||!ACC.product.isListEmpty(addToCartResponse.errors);if(addToCartResponse.errors){addToCartResponse.errors.forEach(function(error,i){error.isCodeEmpty=!error.code;error.isIsbnEmpty=!error.isbn;error.isShowContactUs=error.showContactUs;});}
var newlyAddedQuantity=0;if(!ACC.product.isListEmpty(addToCartResponse.entries)){addToCartResponse.withEntries=true;addToCartResponse.entries.forEach(function(entry,i){var formEntryData=ACC.product.getFormEntryData(formData,entry.isbn);entry.mediumType=formEntryData.mediumType;entry.name=jQuery('<p>'+formEntryData.name+'</p>').text();entry.authors=jQuery('<p>'+formEntryData.authors+'</p>').text();entry.image=formEntryData.image;entry.publicationDate=formEntryData.publicationDate;entry.formattedOriginalPrice=ACC.product.formatPrice(entry.originalPrice);entry.formattedDiscountedPrice=ACC.product.formatPrice(entry.discountedPrice);entry.originalTotal=ACC.product.formatPrice(entry.quantity*entry.originalPrice);if(entry.quantity==0)
{entry.total=ACC.product.formatPrice(entry.discountedPrice);}
else
{entry.total=ACC.product.formatPrice(entry.quantity*entry.discountedPrice);}
entry.isOriginalPriceVisible=(entry.formattedOriginalPrice!=entry.formattedDiscountedPrice);entry.originalTotal=ACC.product.formatPrice(entry.quantity*entry.originalPrice);entry.isCountable=formEntryData.countable;entry.productSetComponents=ACC.product.getFormEntrySetsData(formData,entry.isbn);newlyAddedQuantity+=parseInt(entry.quantity);productUrl=entry.productUrl;isbn=entry.isbn;entry.isbn=entry.isbn.replace(/R120|R150/g,'');});addToCartResponse.totalQuantityLabel=addToCartResponse.totalQuantity>0?ACC.product.getQuantityLabel(addToCartResponse.totalQuantity,addToCartPopupItemLabel,addToCartPopupItemsLabel):"";addToCartResponse.subtotalPrice=ACC.product.formatPrice(addToCartResponse.subtotalPrice);}
addToCartResponse.newlyAddedQuantity=newlyAddedQuantity;addToCartResponse.newlyAddedQuantityLabel=ACC.product.getQuantityLabel(newlyAddedQuantity,addToCartPopupItemLabel,addToCartPopupItemsLabel);cartCountFromCookie();return addToCartResponse;},formatPrice:function(price){if(price){return parseFloat(price).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,'$1,');}
return"";},isListEmpty:function(list){return!list||list.length==0},getQuantityLabel:function(quantity,oneItemLabel,severalItemsLabel){return quantity==1?oneItemLabel:severalItemsLabel;},getFormData:function(formElement){var formData=[];$('.js-add-to-cart-product, .js-add-to-cart-product-set-component',formElement).each(function(i,productSpan){var productSpanData=$(productSpan).data();formData.push(productSpanData)});return formData;},getFormEntryData:function(formData,code){var result=[];if(formData&&formData.length>0){formData.forEach(function(formEntryData,i){if(code==formEntryData.code||(code!=undefined&&code.replace(/R120|R150/g,'')==formEntryData.code)){result=formEntryData;}});}
return result;},getFormEntrySetsData:function(formData,code){var result=[];if(formData&&formData.length>0){formData.forEach(function(formEntryData,i){if(code==formEntryData.parentCode){result.push(formEntryData);}});}
return result;},getFormRelatedProductsUrl:function(formElement){var result=$(formElement).data('related-products-url');var codes=[];$('.js-add-to-cart-product',formElement).each(function(){codes.push($(this).data('code'))});result=result+'?productCode='+codes.join(',');return result;}};function cartCountFromCookie(){var siteCookie=document.cookie;if(siteCookie.includes("wileyb2c-cart-total-items")){var siteCookieArr=siteCookie.split(";");var cookieStr="";for(var i=0;i<siteCookieArr.length;i++){cookieStr=siteCookieArr[i].trim();if(cookieStr.includes("wileyb2c-cart-total-items")){$("#cartItemCount,#cartItemCountMobile").html(parseInt(cookieStr.substr(cookieStr.indexOf("=")+1)));}}}else{$("#cartItemCount,#cartItemCountMobile").html(0);}}
$(document).ready(function(){cartCountFromCookie();});ACC.productDetail={_autoload:["initPageEvents","bindVariantOptions"],checkQtySelector:function(self,mode){var input=$(self).parents(".js-qty-selector").find(".js-qty-selector-input");var inputVal=parseInt(input.val());var max=input.data("max");var minusBtn=$(self).parents(".js-qty-selector").find(".js-qty-selector-minus");var plusBtn=$(self).parents(".js-qty-selector").find(".js-qty-selector-plus");$(self).parents(".js-qty-selector").find(".btn").removeAttr("disabled");if(mode=="minus"){if(inputVal!=1){ACC.productDetail.updateQtyValue(self,inputVal-1)
if(inputVal-1==1){minusBtn.attr("disabled","disabled")}}else{minusBtn.attr("disabled","disabled")}}else if(mode=="reset"){ACC.productDetail.updateQtyValue(self,1)}else if(mode=="plus"){if(inputVal!=max){ACC.productDetail.updateQtyValue(self,inputVal+1)
if(inputVal+1==max){plusBtn.attr("disabled","disabled")}}else{plusBtn.attr("disabled","disabled")}}else if(mode=="input"){if(inputVal==1){$(self).parents(".js-qty-selector").find(".js-qty-selector-minus").attr("disabled","disabled")}else if(inputVal==max){$(self).parents(".js-qty-selector").find(".js-qty-selector-plus").attr("disabled","disabled")}else if(inputVal<1){ACC.productDetail.updateQtyValue(self,1)
$(self).parents(".js-qty-selector").find(".js-qty-selector-minus").attr("disabled","disabled")}else if(inputVal>max){ACC.productDetail.updateQtyValue(self,max)
$(self).parents(".js-qty-selector").find(".js-qty-selector-plus").attr("disabled","disabled")}}},updateQtyValue:function(self,value){var input=$(self).parents(".js-qty-selector").find(".js-qty-selector-input");var addtocartQty=$(self).parents(".addtocart-component").find("#addToCartForm").find(".js-qty-selector-input");;input.val(value);addtocartQty.val(value);},initPageEvents:function()
{$(document).on("click",'.js-qty-selector .js-qty-selector-minus',function(){ACC.productDetail.checkQtySelector(this,"minus");})
$(document).on("click",'.js-qty-selector .js-qty-selector-plus',function(){ACC.productDetail.checkQtySelector(this,"plus");})
$(document).on("keydown",'.js-qty-selector .js-qty-selector-input',function(e){if(($(this).val()!=" "&&((e.which>=48&&e.which<=57)||(e.which>=96&&e.which<=105)))||e.which==8||e.which==46||e.which==37||e.which==39||e.which==9){}
else if(e.which==38){ACC.productDetail.checkQtySelector(this,"plus");}
else if(e.which==40){ACC.productDetail.checkQtySelector(this,"minus");}
else{e.preventDefault();}})
$(document).on("keyup",'.js-qty-selector .js-qty-selector-input',function(e){ACC.productDetail.checkQtySelector(this,"input");ACC.productDetail.updateQtyValue(this,$(this).val());})
$("#Size").change(function(){var url="";var selectedIndex=0;$("#Size option:selected").each(function(){url=$(this).attr('value');selectedIndex=$(this).attr("index");});if(selectedIndex!=0){window.location.href=url;}});$("#variant").change(function(){var url="";var selectedIndex=0;$("#variant option:selected").each(function(){url=$(this).attr('value');selectedIndex=$(this).attr("index");});if(selectedIndex!=0){window.location.href=url;}});},bindVariantOptions:function()
{ACC.productDetail.bindCurrentStyle();ACC.productDetail.bindCurrentSize();ACC.productDetail.bindCurrentType();},bindCurrentStyle:function(){var currentStyle=$("#currentStyleValue").data("styleValue");var styleSpan=$(".styleName");if(currentStyle!=null){styleSpan.text(": "+currentStyle);}},bindCurrentSize:function(){var currentSize=$("#currentSizeValue").data("sizeValue");var sizeSpan=$(".sizeName");if(currentSize!=null){sizeSpan.text(": "+currentSize);}},bindCurrentType:function(){var currentSize=$("#currentTypeValue").data("typeValue");var sizeSpan=$(".typeName");if(currentSize!=null){sizeSpan.text(": "+currentSize);}}};ACC.quickview={_autoload:[],initQuickviewLightbox:function(){ACC.product.enableAddToCartButton();ACC.product.bindToAddToCartForm();ACC.product.enableStorePickupButton();},refreshScreenReaderBuffer:function()
{$('#accesibility_refreshScreenReaderBufferField').attr('value',new Date().getTime());},bindToUiCarouselLink:function()
{var titleHeader=$('#quickViewTitle').html();$(".js-owl-carousel-reference .js-reference-item").colorbox({close:'<span class="glyphicon glyphicon-remove"></span>',title:titleHeader,maxWidth:"100%",onComplete:function()
{ACC.quickview.refreshScreenReaderBuffer();ACC.quickview.initQuickviewLightbox();ACC.ratingstars.bindRatingStars($(".quick-view-stars"));},onClosed:function()
{ACC.quickview.refreshScreenReaderBuffer();}});}};ACC.ratingstars={_autoload:[["bindRatingStars",$(".js-ratingCalc").length>0],["bindRatingStarsSet",$(".js-ratingCalcSet").length>0]],bindRatingStars:function(){$e=$(".js-ratingCalc");$e.each(function(){var ratingData=$(this).data("rating");var $ratingIcon=$(this).find(".js-ratingIcon");var $clonelh;for(var i=1;i<=ratingData.total;i++){var $clone=$ratingIcon.clone().removeClass("js-ratingIcon");if(i<=ratingData.rating){$clone.addClass("active")}
if(i-0.5==ratingData.rating){$clone.addClass("active fh")
$clonelh=$ratingIcon.clone().removeClass("ratingIcon");$clonelh.addClass("lh")}
$clone.insertBefore($ratingIcon);if($clonelh){$clonelh.insertBefore($ratingIcon);$clonelh=null}}
$ratingIcon.remove()})},bindRatingStarsSet:function(){$e=$(".js-ratingCalcSet");$e.on("mouseenter",".js-rationIconSet",function(e){e.preventDefault();$(this).parent().children().removeClass("active")
var cindex=$(this).index()+1;var $i=$(this).parent().children(".js-rationIconSet:lt("+cindex+")")
$i.addClass("active")})
$(document).on("mouseleave",".js-ratingCalcSet",function(e){e.preventDefault();$(this).find(".js-rationIconSet").removeClass("active")
var rating=$(".js-ratingSetInput").val();var $i=$(this).find(".js-rationIconSet:lt("+rating*2+")")
$i.addClass("active")})
$e.on("click",".js-rationIconSet",function(e){e.preventDefault();var ratingData=$e.data("rating");var cindex=$(this).index()+1;ratingData.rating=cindex/2
$(".js-ratingSetInput").val(ratingData.rating)})
$e.each(function(){var ratingData=$(this).data("rating");var $ratingIcon=$(this).find(".js-ratingIcon");var $clonelh;for(var i=1;i<=ratingData.total;i++){var $clone=$ratingIcon.clone().removeClass("js-ratingIcon");$clone.addClass("fh")
$clonelh=$ratingIcon.clone().removeClass("js-ratingIcon");$clonelh.addClass("lh")
$clone.insertBefore($ratingIcon);if($clonelh){$clonelh.insertBefore($ratingIcon);$clonelh=null}}
$ratingIcon.remove()})}};ACC.refinements={_autoload:[["bindMoreLessToggles",$(".js-facet-form").length!=0],["bindMoreStoresToggles",$(".js-facet-form").length!=0]],bindMoreLessToggles:function(){$(document).on("click",".js-shop-stores-facet .js-facet-change-link",function(e){e.preventDefault();$(".js-shop-stores-facet .js-facet-container").hide();$(".js-shop-stores-facet .js-facet-form").show();})
$(document).on("change",".js-product-facet:not(.facets-panel-container) .js-facet-checkbox",function(){$(this).parents("form").submit();})
$(document).on("click",".js-product-facet .js-more-facet-values-link",function(e){e.preventDefault();$(this).parents(".js-facet").find(".js-facet-top-values").hide();$(this).parents(".js-facet").find(".js-facet-list-hidden").show();$(this).parents(".js-facet").find(".js-more-facet-values").hide();$(this).parents(".js-facet").find(".js-less-facet-values").show();})
$(document).on("click",".js-product-facet .js-less-facet-values-link",function(e){e.preventDefault();$(this).parents(".js-facet").find(".js-facet-top-values").show();$(this).parents(".js-facet").find(".js-facet-list-hidden").hide();$(this).parents(".js-facet").find(".js-more-facet-values").show();$(this).parents(".js-facet").find(".js-less-facet-values").hide();})},bindMoreStoresToggles:function()
{$(document).on("click",".js-shop-stores-facet .js-more-stores-facet-values",function(e){e.preventDefault();$(".js-shop-stores-facet ul.js-facet-list li.hidden").slice(0,5).removeClass('hidden').first().find('.js-facet-checkbox').focus();if($(".js-shop-stores-facet ul.js-facet-list li.hidden").length==0){$(".js-shop-stores-facet .js-more-stores-facet-values").hide()}})}};ACC.resetPassword={_autoload:["bindResetPassword"],bindResetPassword:function(){$('#resetPassword').on('click',function(e){if(!ACC.validatePassword.validatePassword(e)){e.preventDefault();}});}};ACC.silentorderpost={spinner:$("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif' />"),bindUseDeliveryAddress:function()
{$('#useDeliveryAddress').on('change',function()
{if($('#useDeliveryAddress').is(":checked"))
{var options={'countryIsoCode':$('#useDeliveryAddressData').data('countryisocode'),'useDeliveryAddress':true};ACC.silentorderpost.enableAddressForm();ACC.silentorderpost.displayCreditCardAddressForm(options,ACC.silentorderpost.useDeliveryAddressSelected);ACC.silentorderpost.disableAddressForm();}
else
{ACC.silentorderpost.clearAddressForm();ACC.silentorderpost.enableAddressForm();}});if($('#useDeliveryAddress').is(":checked"))
{var options={'countryIsoCode':$('#useDeliveryAddressData').data('countryisocode'),'useDeliveryAddress':true};ACC.silentorderpost.enableAddressForm();ACC.silentorderpost.displayCreditCardAddressForm(options,ACC.silentorderpost.useDeliveryAddressSelected);ACC.silentorderpost.disableAddressForm();}},bindSubmitSilentOrderPostForm:function()
{$('.submit_silentOrderPostForm').click(function()
{ACC.common.blockFormAndShowProcessingMessage($(this));$('.billingAddressForm').filter(":hidden").remove();ACC.silentorderpost.enableAddressForm();$('#silentOrderPostForm').submit();});},bindCycleFocusEvent:function()
{$('#lastInTheForm').blur(function()
{$('#silentOrderPostForm [tabindex$="10"]').focus();})},isEmpty:function(obj)
{if(typeof obj=='undefined'||obj===null||obj==='')return true;return false;},disableAddressForm:function()
{$('input[id^="address\\."]').prop('disabled',true);$('select[id^="address\\."]').prop('disabled',true);},enableAddressForm:function()
{$('input[id^="address\\."]').prop('disabled',false);$('select[id^="address\\."]').prop('disabled',false);},clearAddressForm:function()
{$('input[id^="address\\."]').val("");$('select[id^="address\\."]').val("");},useDeliveryAddressSelected:function()
{if($('#useDeliveryAddress').is(":checked"))
{$('#address\\.country').val($('#useDeliveryAddressData').data('countryisocode'));ACC.silentorderpost.disableAddressForm();}
else
{ACC.silentorderpost.clearAddressForm();ACC.silentorderpost.enableAddressForm();}},bindCreditCardAddressForm:function()
{$(document).on("selectmenuchange change",'#billingCountrySelector select',function(){var options={'countryIsoCode':$(this).val(),'addressCode':''};ACC.silentorderpost.displayCreditCardAddressForm(options,wiley.onLoadCustomSelect);});},displayCreditCardAddressForm:function(options,callback)
{$.ajax({url:ACC.config.encodedContextPath+'/checkout/multi/payment-method/show-billing-address-form',async:true,data:options,dataType:"html",beforeSend:function()
{$('#i18nBillingAddressForm').html(ACC.silentorderpost.spinner);}}).done(function(data)
{var postCodecheckFlag=0;var countrySelectedIso=$("#billingCountrySelector").find(".es-visible")[0].outerHTML.substr(11,2);var excludeCountries=$('#excludeCountries').val();var nameArr=excludeCountries.split(',');var i;for(i=0;i<nameArr.length;i++){if(countrySelectedIso==nameArr[i]){postCodecheckFlag=1;}}
if(postCodecheckFlag==1){setTimeout(function(){$("label[for='postalCode']").parent().removeClass("required");$("#postalCode").attr("aria-required","false");$("label[for='postalCode']").text("Post Code (optional)");},100);}
$("#i18nBillingAddressForm").html(data);$('.select-form-element').editableSelect();$("#i18nBillingAddressForm").find(".es-input").attr("placeholder","State");$(".checkout-payment-billing-address").find("input").keypress(function(event){if(event.which==13){event.preventDefault();$("#paymentBilling").click();}});if(typeof callback=='function')
{callback.call();}});}}
$(document).ready(function()
{with(ACC.silentorderpost)
{bindUseDeliveryAddress()
bindSubmitSilentOrderPostForm();bindCreditCardAddressForm();}
$("#useDeliveryAddress").click();});ACC.tabs={_autoload:[["bindTabs",$(".js-tabs").length>0],"hideReviewBtn","determineToDisplayReviews"],bindTabs:function(){$e=$(".js-tabs");var tabs=$e.accessibleTabs({tabhead:'.tabhead',tabbody:'.tabbody',fx:'show',fxspeed:0,currentClass:'active',autoAnchor:true});$e.on("click",".tabhead",function(e){e.preventDefault();if($(this).hasClass("active")){$(this).removeClass("active");}else{$(this).parents(".js-tabs").children(".tabs-list").find("a[href="+"#"+$(this).attr("id")+"]").click();var offset=$(this).position().top;$("body,html").scrollTop(offset)}});$e.on("click","#tabreview",function(e){e.preventDefault();ACC.tabs.showReviewsAction("reviews");});$e.on("click",".all-reviews-btn",function(e){e.preventDefault();ACC.tabs.showReviewsAction("allreviews");ACC.tabs.hideReviewBtn(".all-reviews-btn");ACC.tabs.showReviewBtn(".less-reviews-btn");});$e.on("click",".less-reviews-btn",function(e){e.preventDefault();ACC.tabs.showReviewsAction("reviews");ACC.tabs.hideReviewBtn(".less-reviews-btn");ACC.tabs.showReviewBtn(".all-reviews-btn");});$(document).on("click",'.js-writeReviewTab',function(e){e.preventDefault();tabs.showAccessibleTabSelector($(this).attr("href"));$(".js-review-write").show();$('#reviewForm input[name=headline]').focus();});$(document).on("click",".js-review-write-toggle",function(e){e.preventDefault();if($(".js-review-write:visible").length<1){$(".js-review-write").show();}else{$(".js-review-write").hide();}});$(document).on("click",".js-openTab",function(){tabs.showAccessibleTabSelector($(this).attr("href"));})},showReviewsAction:function(s)
{$.get($("#reviews").data(s),function(result){$('#reviews').html(result);if($(".js-ratingCalc").length>0){ACC.ratingstars.bindRatingStars();ACC.tabs.showingAllReviews();}});},hideReviewBtn:function(btnClass){btnClass=(btnClass==undefined)?".less-reviews-btn":btnClass;$(btnClass).hide();},showReviewBtn:function(btnClass){$(btnClass).show();},showingAllReviews:function()
{var isShowingAllReviews=$("#showingAllReviews").data("showingallreviews");if(isShowingAllReviews){ACC.tabs.hideReviewBtn(".all-reviews-btn");}},determineToDisplayReviews:function()
{if(location.hash=="#tabreview"){ACC.tabs.showReviewsAction('reviews');}},};ACC.termsandconditions={bindTermsAndConditionsLink:function(){$(document).on("click",".termsAndConditionsLink",function(e){e.preventDefault();var termsAndConditionsURL=$(this).attr("href");$.get(termsAndConditionsURL,function(data){$("#termsAndConditionsPopup").replaceWith(data);$("#termsAndConditionsPopup").modal();})});}}
$(function(){with(ACC.termsandconditions){bindTermsAndConditionsLink();}});ACC.track={trackAddToCart:function(productCode,quantity,cartData)
{window.mediator.publish('trackAddToCart',{productCode:productCode,quantity:quantity,cartData:cartData});},trackRemoveFromCart:function(productCode,initialCartQuantity)
{window.mediator.publish('trackRemoveFromCart',{productCode:productCode,initialCartQuantity:initialCartQuantity});},trackUpdateCart:function(productCode,initialCartQuantity,newCartQuantity)
{window.mediator.publish('trackUpdateCart',{productCode:productCode,initialCartQuantity:initialCartQuantity,newCartQuantity:newCartQuantity});}};ACC.storefinder={_autoload:[["init",$(".js-store-finder").length!=0],["bindStoreChange",$(".js-store-finder").length!=0],["bindSearch",$(".js-store-finder").length!=0],"bindPagination"],storeData:"",storeId:"",coords:{},storeSearchData:{},createListItemHtml:function(data,id){var item="";item+='<li class="store-finder-navigation-list-entry">';item+='<input type="radio" name="storeNamePost" value="'+data.displayName+'" id="store-filder-entry-'+id+'" class="js-store-finder-input" data-id="'+id+'">';item+='<label for="store-filder-entry-'+id+'" class="js-select-store-label">';item+='<span class="store-finder-navigation-list-entry-info">';item+='<span class="store-finder-navigation-list-entry-name">'+data.displayName+'</span>';item+='<span class="store-finder-navigation-list-entry-address">'+data.line1+' '+data.line2+'</span>';item+='<span class="store-finder-navigation-list-entry-city">'+data.town+'</span>';item+='</span>';item+='<span class="store-finder-navigation-list-entry-distance">';item+='<span>'+data.formattedDistance+'</span>';item+='</span>';item+='</label>';item+='</li>';return item;},refreshNavigation:function(){var listitems="";data=ACC.storefinder.storeData
if(data){for(i=0;i<data["data"].length;i++){listitems+=ACC.storefinder.createListItemHtml(data["data"][i],i)}
$(".js-store-finder-navigation-list").html(listitems);var firstInput=$(".js-store-finder-input")[0];$(firstInput).click();}
var page=ACC.storefinder.storeSearchData.page;$(".js-store-finder-pager-item-from").html(page*10+1);var to=((page*10+10)>ACC.storefinder.storeData.total)?ACC.storefinder.storeData.total:page*10+10;$(".js-store-finder-pager-item-to").html(to);$(".js-store-finder-pager-item-all").html(ACC.storefinder.storeData.total);$(".js-store-finder").removeClass("show-store");},bindPagination:function()
{$(document).on("click",".js-store-finder-details-back",function(e){e.preventDefault();$(".js-store-finder").removeClass("show-store");})
$(document).on("click",".js-store-finder-pager-prev",function(e){e.preventDefault();var page=ACC.storefinder.storeSearchData.page;ACC.storefinder.getStoreData(page-1)
checkStatus(page-1);})
$(document).on("click",".js-store-finder-pager-next",function(e){e.preventDefault();var page=ACC.storefinder.storeSearchData.page;ACC.storefinder.getStoreData(page+1)
checkStatus(page+1);})
function checkStatus(page){if(page==0){$(".js-store-finder-pager-prev").attr("disabled","disabled")}else{$(".js-store-finder-pager-prev").removeAttr("disabled")}
if(page==Math.floor(ACC.storefinder.storeData.total/10)){$(".js-store-finder-pager-next").attr("disabled","disabled")}else{$(".js-store-finder-pager-next").removeAttr("disabled")}}},bindStoreChange:function()
{$(document).on("change",".js-store-finder-input",function(e){e.preventDefault();storeData=ACC.storefinder.storeData["data"];var storeId=$(this).data("id");var $ele=$(".js-store-finder-details");$.each(storeData[storeId],function(key,value){if(key=="image"){if(value!=""){$ele.find(".js-store-image").html('<img src="'+value+'" alt="" />');}else{$ele.find(".js-store-image").html('');}}else if(key=="productcode"){$ele.find(".js-store-productcode").val(value);}
else if(key=="openings"){if(value!=""){var $oele=$ele.find(".js-store-"+key);var openings="";$.each(value,function(key2,value2){openings+="<dt>"+key2+"</dt>";openings+="<dd>"+value2+"</dd>";});$oele.html(openings);}else{$ele.find(".js-store-"+key).html('');}}
else if(key=="specialOpenings"){}
else if(key=="features"){var features="";$.each(value,function(key2,value2){features+="<li>"+value2+"</li>";});$ele.find(".js-store-"+key).html(features);}
else{if(value!=""){$ele.find(".js-store-"+key).html(value);}else{$ele.find(".js-store-"+key).html('');}}})
ACC.storefinder.storeId=storeData[storeId];ACC.storefinder.initGoogleMap();})
$(document).on("click",".js-select-store-label",function(e){$(".js-store-finder").addClass("show-store")})
$(document).on("click",".js-back-to-storelist",function(e){$(".js-store-finder").removeClass("show-store")})},initGoogleMap:function(){if($(".js-store-finder-map").length>0){ACC.global.addGoogleMapsApi("ACC.storefinder.loadGoogleMap");}},loadGoogleMap:function(){storeInformation=ACC.storefinder.storeId;if($(".js-store-finder-map").length>0)
{$(".js-store-finder-map").attr("id","store-finder-map")
var centerPoint=new google.maps.LatLng(storeInformation["latitude"],storeInformation["longitude"]);var mapOptions={zoom:13,zoomControl:true,panControl:true,streetViewControl:false,mapTypeId:google.maps.MapTypeId.ROADMAP,center:centerPoint}
var map=new google.maps.Map(document.getElementById("store-finder-map"),mapOptions);var marker=new google.maps.Marker({position:new google.maps.LatLng(storeInformation["latitude"],storeInformation["longitude"]),map:map,title:storeInformation["name"],icon:"https://maps.google.com/mapfiles/marker"+'A'+".png"});var infowindow=new google.maps.InfoWindow({content:storeInformation["name"],disableAutoPan:true});google.maps.event.addListener(marker,'click',function(){infowindow.open(map,marker);});}},bindSearch:function(){$(document).on("submit",'#storeFinderForm',function(e){e.preventDefault()
var q=$(".js-store-finder-search-input").val();if(q.length>0){ACC.storefinder.getInitStoreData(q);}else{if($(".js-storefinder-alert").length<1){var emptySearchMessage=$(".btn-primary").data("searchEmpty")
$(".js-store-finder").hide();$("#storeFinder").before('<div class="js-storefinder-alert alert alert-danger alert-dismissable" ><button class="close" type="button" data-dismiss="alert" aria-hidden="true">×</button>'+emptySearchMessage+'</div>');}}})
$(".js-store-finder").hide();$(document).on("click",'#findStoresNearMe',function(e){e.preventDefault()
ACC.storefinder.getInitStoreData(null,ACC.storefinder.coords.latitude,ACC.storefinder.coords.longitude);})},getStoreData:function(page){ACC.storefinder.storeSearchData.page=page;url=$(".js-store-finder").data("url");$.ajax({url:url,data:ACC.storefinder.storeSearchData,type:"get",success:function(response){ACC.storefinder.storeData=$.parseJSON(response);ACC.storefinder.refreshNavigation();}});},getInitStoreData:function(q,latitude,longitude){$(".alert").remove();data={"q":"","page":0}
if(q!=null){data.q=q;}
if(latitude!=null){data.latitude=latitude;}
if(longitude!=null){data.longitude=longitude;}
ACC.storefinder.storeSearchData=data;ACC.storefinder.getStoreData(data.page);$(".js-store-finder").show();$(".js-store-finder-pager-prev").attr("disabled","disabled")
$(".js-store-finder-pager-next").removeAttr("disabled")},init:function(){$("#findStoresNearMe").attr("disabled","disabled");if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(position){ACC.storefinder.coords=position.coords;$('#findStoresNearMe').removeAttr("disabled");},function(error)
{console.log("An error occurred... The error code and message are: "+error.code+"/"+error.message);});}}};ACC.updateprofile={_autoload:["bindEnrolledInSchool","bindUpdatePassword"],bindEnrolledInSchool:function(){if($('#enrolledInSchool').is(':checked')){$("#school-name").show();}
else{$("#school-name").hide();}
$('#enrolledInSchool').change(function(){$("#school-name").toggle();});},bindUpdatePassword:function(){$('#updatePassword').on('click',function(e){if(!ACC.validatePassword.validatePassword(e)){e.preventDefault();}else{var emailAddress=$('#emailAddress').data('email');$('#emailField').val(emailAddress);$('#titleField').val('notitle');}});}};$('#subscriptionAutorenewal').on('click',function(){$('#subscriptionAutorenewalForm').submit();$('#subscriptionAutorenewal').attr("disabled",true);});ACC.validatePassword={validatePassword:function(e)
{var classes={hasError:'has-error',globalAlerts:'global-alerts',mainHeader:'main-header-container'};var selectors={form:'form',password:':password',formCell:'.form-cell',hasError:'.'+classes.hasError,helpBlock:'.help-block',progress:'.progress',header:'.'+classes.mainHeader,globalAlerts:'.'+classes.globalAlerts};var pattern=new RegExp("^([a-zA-Z0-9]){5,32}$");var button=e.target;var $form=$(button).closest(selectors.form);var $input=$form.find(selectors.password).eq(-2);var $formCell=$input.closest(selectors.formCell);var $alertDiv=$(selectors.header).next();var message=$input.attr('data-error-message');var globalMessage=$input.attr('data-global-error-message');var passwordValue=$input.val();if(pattern.test(passwordValue)){$formCell.removeClass(classes.hasError);$formCell.children(selectors.helpBlock).remove();return true;}else{$form.find(selectors.password).val("");$form.find(selectors.progress).hide();$alertDiv.children().remove(selectors.globalAlerts);$alertDiv.prepend(ACC.validatePassword.buildMainError(globalMessage));if(!$formCell.hasClass(classes.hasError)){$formCell.addClass(classes.hasError);$formCell.append(ACC.validatePassword.buildDOM(message));}
return false;}},buildDOM:function buildDOM(message){return"<div class='help-block'><span id='pwd.errors'>"+message+"</span></div>";},buildMainError:function buildMainError(globalMessage){return"<div class='global-alerts'><div class='alert alert-danger alert-dismissable' role='validation-message'><button class='close' aria-label='close' data-dismiss='alert' type='button'></button>"+globalMessage+"</div></div>";}};ACC.facetsearch={removeValuesFromUrl:function(values,currentUrl){$.each(values,function(index,value){value=value.replace(/ /g,'+');currentUrl=currentUrl.replace(value,'').replace('::',':')});return currentUrl;},getValueUrlsForCheckboxes:function(selectedItems){return $.map(selectedItems,function(item){return item.currentOptionUrl;});},submitCheckboxForm:function(checkbox){if(checkbox){var form=$("<form method='get' name='checkboxFacetsForm'/>");var facetItem=$(checkbox).closest('.facets-panel-item');var pq=facetItem.data('pq');var input=$('<input name="pq" type="hidden"/>');if(checkbox.checked){facetItem.addClass('active');}else{facetItem.removeClass('active');}
input.attr('value',pq);$(form).append(input).appendTo('body');$(form).submit();}}};ACC.facetsearch.modal={getCurrentModal:function(){return $('#facetsListWindow:visible');},clearAllValues:function(){var modal=this.getCurrentModal();if(modal){var selectedFacets=wiley.facets.getSelectedFacets();var selectedValues=ACC.facetsearch.getValueUrlsForCheckboxes(selectedFacets);var currentUrl=document.URL;currentUrl=ACC.facetsearch.removeValuesFromUrl(selectedValues,currentUrl);$(window.location).attr('href',currentUrl);}}};function _autoload(){$.each(ACC,function(section,obj){if($.isArray(obj._autoload)){$.each(obj._autoload,function(key,value){if($.isArray(value)){if(value[1]){ACC[section][value[0]]();}else{if(value[2]){ACC[section][value[2]]()}}}else{ACC[section][value]();}})}})}
$(function(){_autoload();});var tabNameIdArr=[];!function($){"use strict";var TabCollapse=function(el,options){this.options=options;this.$tabs=$(el);this._accordionVisible=false;this._initAccordion();this._checkStateOnResize();var that=this;setTimeout(function(){that.checkState();},0);};var tabHeads={};TabCollapse.DEFAULTS={accordionClass:'visible-xs',tabsClass:'hidden-xs',accordionTemplate:function(heading,groupId,parentId,active){return'<div class="panel panel-default">'+'   <div class="panel-heading">'+'      <h4 class="panel-title">'+'      </h4>'+'   </div>'+'   <div id="'+groupId+'" class="panel-collapse collapse '+(active?'in':'')+'">'+'       <div class="panel-body js-tabcollapse-panel-body">'+'       </div>'+'   </div>'+'</div>'}};TabCollapse.prototype.checkState=function(){if(this.$tabs.is(':visible')&&this._accordionVisible){this.showTabs();this._accordionVisible=false;}else if(this.$accordion.is(':visible')&&!this._accordionVisible){this.showAccordion();this._accordionVisible=true;}};TabCollapse.prototype.showTabs=function(){var view=this;this.$tabs.trigger($.Event('show-tabs.bs.tabcollapse'));var $panelHeadings=this.$accordion.find('.js-tabcollapse-panel-heading').detach();$panelHeadings.each(function(j){var $panelHeading=$(this),$parentLi=$panelHeading.data('bs.tabcollapse.parentLi');$panelHeading.html(tabHeads['heading'+j]);var $oldHeading=view._panelHeadingToTabHeading($panelHeading);$parentLi.removeClass('active');if($parentLi.parent().hasClass('dropdown-menu')&&!$parentLi.siblings('li').hasClass('active')){$parentLi.parent().parent().removeClass('active');}
if(!$oldHeading.hasClass('collapsed')){$parentLi.addClass('active');if($parentLi.parent().hasClass('dropdown-menu')){$parentLi.parent().parent().addClass('active');}}else{$oldHeading.removeClass('collapsed');}
$parentLi.append($panelHeading);});if(!$('li').hasClass('active')){$('li').first().addClass('active')}
var $panelBodies=this.$accordion.find('.js-tabcollapse-panel-body');$panelBodies.each(function(){var $panelBody=$(this),$tabPane=$panelBody.data('bs.tabcollapse.tabpane');$tabPane.append($panelBody.contents().detach());});this.$accordion.html('');if(this.options.updateLinks){var $tabContents=this.getTabContentElement();$tabContents.find('[data-toggle-was="tab"], [data-toggle-was="pill"]').each(function(){var $el=$(this);var href=$el.attr('href').replace(/-collapse$/g,'');$el.attr({'data-toggle':$el.attr('data-toggle-was'),'data-toggle-was':'','data-parent':'',href:href});});}
this.$tabs.trigger($.Event('shown-tabs.bs.tabcollapse'));};TabCollapse.prototype.getTabContentElement=function(){var $tabContents=$(this.options.tabContentSelector);if($tabContents.length===0){$tabContents=this.$tabs.siblings('.tab-content');}
return $tabContents;};TabCollapse.prototype.showAccordion=function(){this.$tabs.trigger($.Event('show-accordion.bs.tabcollapse'));var $headings=this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]'),view=this;$headings.each(function(i){var $heading=$(this),$parentLi=$heading.parent();tabHeads['heading'+i]=$heading.html();$heading.data('bs.tabcollapse.parentLi',$parentLi);view.$accordion.append(view._createAccordionGroup(view.$accordion.attr('id'),$heading.detach()));});if(this.options.updateLinks){var parentId=this.$accordion.attr('id');var $selector=this.$accordion.find('.js-tabcollapse-panel-body');$selector.find('[data-toggle="tab"], [data-toggle="pill"]').each(function(){var $el=$(this);var href=$el.attr('href')+'-collapse';$el.attr({'data-toggle-was':$el.attr('data-toggle'),'data-toggle':'collapse','data-parent':'#'+parentId,href:href});});}
this.$tabs.trigger($.Event('shown-accordion.bs.tabcollapse'));};TabCollapse.prototype._panelHeadingToTabHeading=function($heading){var href=$heading.attr('href').replace(/-collapse$/g,'');$heading.attr({'data-toggle':'tab','href':href,'data-parent':''});return $heading;};TabCollapse.prototype._tabHeadingToPanelHeading=function($heading,groupId,parentId,active){$heading.addClass('js-tabcollapse-panel-heading '+(active?'':'collapsed'));$heading.attr({'data-toggle':'collapse','data-parent':'#'+parentId,'href':'#'+groupId});return $heading;};TabCollapse.prototype._checkStateOnResize=function(){var view=this;$(window).resize(function(){clearTimeout(view._resizeTimeout);view._resizeTimeout=setTimeout(function(){view.checkState();},100);});};TabCollapse.prototype._initAccordion=function(){var randomString=function(){var result="",possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<5;i++){result+=possible.charAt(Math.floor(Math.random()*possible.length));}
return result;};var srcId=this.$tabs.attr('id'),accordionId=(srcId?srcId:randomString())+'-accordion';this.$accordion=$('<div class="panel-group '+this.options.accordionClass+'" id="'+accordionId+'"></div>');this.$tabs.after(this.$accordion);this.$tabs.addClass(this.options.tabsClass);this.getTabContentElement().addClass(this.options.tabsClass);};TabCollapse.prototype._createAccordionGroup=function(parentId,$heading){var tabSelector=$heading.attr('data-target'),active=$heading.data('bs.tabcollapse.parentLi').is('.active');if(!tabSelector){tabSelector=$heading.attr('href');tabSelector=tabSelector&&tabSelector.replace(/.*(?=#[^\s]*$)/,'');}
var $tabPane=$(tabSelector),groupId=$tabPane.attr('id')+'-collapse',$panel=$(this.options.accordionTemplate($heading,groupId,parentId,active));$panel.find('.panel-heading > .panel-title').append(this._tabHeadingToPanelHeading($heading,groupId,parentId,active));$panel.find('.panel-body').append($tabPane.contents().detach()).data('bs.tabcollapse.tabpane',$tabPane);var tabName="";if($panel.find(".panel-title").find(".collapsed").text()==""){tabName=$panel.find(".panel-title").find(".js-tabcollapse-panel-heading").text();$panel.find(".panel-title").find(".js-tabcollapse-panel-heading").html("<span id='"+tabName.replace(/[^A-Z0-9]/ig,'')+"' onclick='toggleTabIcon(this.id)'> <span id='tabIcon'>-</span> "+tabName+"</span>");}else{tabName=$panel.find(".panel-title").find(".collapsed").text();$panel.find(".panel-title").find(".js-tabcollapse-panel-heading").html("<span id='"+tabName.replace(/[^A-Z0-9]/ig,'')+"' onclick='toggleTabIcon(this.id)'> <span id='tabIcon'>+</span> "+tabName+"</span>");}
if(tabNameIdArr.indexOf(tabName.replace(/[^A-Z0-9]/ig,''))==-1){tabNameIdArr.push(tabName.replace(/[^A-Z0-9]/ig,''));}
return $panel;};$.fn.tabCollapse=function(option){return this.each(function(){var $this=$(this);var data=$this.data('bs.tabcollapse');var options=$.extend({},TabCollapse.DEFAULTS,$this.data(),typeof option==='object'&&option);if(!data)$this.data('bs.tabcollapse',new TabCollapse(this,options));});};$.fn.tabCollapse.Constructor=TabCollapse;}(window.jQuery);function toggleTabIcon(tabId){for(var i=0;i<tabNameIdArr.length;i++){if(tabNameIdArr[i]!=tabId){$("#"+tabNameIdArr[i]).find("span#tabIcon").text("+");}}
if($("#"+tabId).find("span#tabIcon").text()=="+"){$("#"+tabId).find("span#tabIcon").text("-");}else if($("#"+tabId).find("span#tabIcon").text()=="-"){$("#"+tabId).find("span#tabIcon").text("+");}};(function defineMustache(global,factory){if(typeof exports==="object"&&exports&&typeof exports.nodeName!=="string"){factory(exports)}else if(typeof define==="function"&&define.amd){define(["exports"],factory)}else{global.Mustache={};factory(global.Mustache)}})(this,function mustacheFactory(mustache){var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)==="[object Array]"};function isFunction(object){return typeof object==="function"}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return obj!=null&&typeof obj==="object"&&propName in obj}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,function fromEntityMap(s){return entityMap[s]})}var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)delete tokens[spaces.pop()]}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile==="string")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*");closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push(["text",chr,start,start+1]);start+=1;if(chr==="\n")stripSpace()}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type==="{"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){openSection=sections.pop();if(!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){compileTags(value)}}openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===""};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,names,index,lookupHit=false;while(context){if(name.indexOf(".")>0){value=context.view;names=name.split(".");index=0;while(value!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(value,names[index]);value=value[names[index++]]}}else{value=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit)break;context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.cache={}}Writer.prototype.clearCache=function clearCache(){this.cache={}};Writer.prototype.parse=function parse(template,tags){var cache=this.cache;var tokens=cache[template];if(tokens==null)tokens=cache[template]=parseTemplate(template,tags);return tokens};Writer.prototype.render=function render(template,view,partials){var tokens=this.parse(template);var context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==="#")value=this.renderSection(token,context,partials,originalTemplate);else if(symbol==="^")value=this.renderInverted(token,context,partials,originalTemplate);else if(symbol===">")value=this.renderPartial(token,context,partials,originalTemplate);else if(symbol==="&")value=this.unescapedValue(token,context);else if(symbol==="name")value=this.escapedValue(token,context);else if(symbol==="text")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate)}}else if(typeof value==="object"||typeof value==="string"||typeof value==="number"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate)}else if(isFunction(value)){if(typeof originalTemplate!=="string")throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate)};Writer.prototype.renderPartial=function renderPartial(token,context,partials){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null)return this.renderTokens(this.parse(value),context,partials,value)};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return mustache.escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};mustache.name="mustache.js";mustache.version="2.3.0";mustache.tags=["{{","}}"];var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials){if(typeof template!=="string"){throw new TypeError('Invalid template! Template should be a "string" '+'but "'+typeStr(template)+'" was given as the first '+"argument for mustache#render(template, view, partials)")}return defaultWriter.render(template,view,partials)};mustache.to_html=function to_html(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result)}else{return result}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;return mustache});;(function(q,n){"undefined"!=typeof module?module.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[q]=n()})("Clusterize",function(){function q(b,a,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function n(b,a,c){return a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function r(b){return"[object Array]"===Object.prototype.toString.call(b)}function m(b,a){return window.getComputedStyle?window.getComputedStyle(a)[b]:a.currentStyle[b]}var l=function(){for(var b=3,a=document.createElement("b"),c=a.all||[];a.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i><![endif]--\x3e",c[0];);return 4<b?b:document.documentMode}(),x=navigator.platform.toLowerCase().indexOf("mac")+1,p=function(b){if(!(this instanceof p))return new p(b);var a=this,c={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};a.options={};for(var d="rows_in_block blocks_in_cluster show_no_data_row no_data_class no_data_text keep_parity tag callbacks".split(" "),f=0,h;h=d[f];f++)a.options[h]="undefined"!=typeof b[h]&&null!=b[h]?b[h]:c[h];c=["scroll","content"];for(f=0;d=c[f];f++)if(a[d+"_elem"]=b[d+"Id"]?document.getElementById(b[d+"Id"]):b[d+"Elem"],!a[d+"_elem"])throw Error("Error! Could not find "+d+" element");a.content_elem.hasAttribute("tabindex")||a.content_elem.setAttribute("tabindex",0);var e=r(b.rows)?b.rows:a.fetchMarkup(),g={};b=a.scroll_elem.scrollTop;a.insertToDOM(e,g);a.scroll_elem.scrollTop=b;var k=!1,m=0,l=!1,t=function(){x&&(l||(a.content_elem.style.pointerEvents="none"),l=!0,clearTimeout(m),m=setTimeout(function(){a.content_elem.style.pointerEvents="auto";l=!1},50));k!=(k=a.getClusterNum())&&a.insertToDOM(e,g);a.options.callbacks.scrollingProgress&&a.options.callbacks.scrollingProgress(a.getScrollProgress())},u=0,v=function(){clearTimeout(u);u=setTimeout(a.refresh,100)};q("scroll",a.scroll_elem,t);q("resize",window,v);a.destroy=function(b){n("scroll",a.scroll_elem,t);n("resize",window,v);a.html((b?a.generateEmptyRow():e).join(""))};a.refresh=function(b){(a.getRowsHeight(e)||b)&&a.update(e)};a.update=function(b){e=r(b)?b:[];b=a.scroll_elem.scrollTop;e.length*a.options.item_height<b&&(k=a.scroll_elem.scrollTop=0);a.insertToDOM(e,g);a.scroll_elem.scrollTop=b};a.clear=function(){a.update([])};a.getRowsAmount=function(){return e.length};a.getScrollProgress=function(){return this.options.scroll_top/(e.length*this.options.item_height)*100||0};var w=function(b,c){var d=r(c)?c:[];d.length&&(e="append"==b?e.concat(d):d.concat(e),a.insertToDOM(e,g))};a.append=function(a){w("append",a)};a.prepend=function(a){w("prepend",a)}};p.prototype={constructor:p,fetchMarkup:function(){for(var b=[],a=this.getChildNodes(this.content_elem);a.length;)b.push(a.shift().outerHTML);return b},exploreEnvironment:function(b,a){var c=this.options;c.content_tag=this.content_elem.tagName.toLowerCase();b.length&&(l&&9>=l&&!c.tag&&(c.tag=b[0].match(/<([^>\s/]*)/)[1].toLowerCase()),1>=this.content_elem.children.length&&(a.data=this.html(b[0]+b[0]+b[0])),c.tag||(c.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(b))},getRowsHeight:function(b){var a=this.options,c=a.item_height;a.cluster_height=0;if(b.length){b=this.content_elem.children;var d=b[Math.floor(b.length/2)];a.item_height=d.offsetHeight;"tr"==a.tag&&"collapse"!=m("borderCollapse",this.content_elem)&&(a.item_height+=parseInt(m("borderSpacing",this.content_elem),10)||0);"tr"!=a.tag&&(b=parseInt(m("marginTop",d),10)||0,d=parseInt(m("marginBottom",d),10)||0,a.item_height+=Math.max(b,d));a.block_height=a.item_height*a.rows_in_block;a.rows_in_cluster=a.blocks_in_cluster*a.rows_in_block;a.cluster_height=a.blocks_in_cluster*a.block_height;return c!=a.item_height}},getClusterNum:function(){this.options.scroll_top=this.scroll_elem.scrollTop;return Math.floor(this.options.scroll_top/(this.options.cluster_height-this.options.block_height))||0},generateEmptyRow:function(){var b=this.options;if(!b.tag||!b.show_no_data_row)return[];var a=document.createElement(b.tag),c=document.createTextNode(b.no_data_text);a.className=b.no_data_class;if("tr"==b.tag){var d=document.createElement("td");d.colSpan=100;d.appendChild(c)}a.appendChild(d||c);return[a.outerHTML]},generate:function(b,a){var c=this.options,d=b.length;if(d<c.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:d?b:this.generateEmptyRow()};var f=Math.max((c.rows_in_cluster-c.rows_in_block)*a,0),h=f+c.rows_in_cluster,e=Math.max(f*c.item_height,0);c=Math.max((d-h)*c.item_height,0);d=[];var g=f;for(1>e&&g++;f<h;f++)b[f]&&d.push(b[f]);return{top_offset:e,bottom_offset:c,rows_above:g,rows:d}},renderExtraTag:function(b,a){var c=document.createElement(this.options.tag);c.className=["clusterize-extra-row","clusterize-"+b].join(" ");a&&(c.style.height=a+"px");return c.outerHTML},insertToDOM:function(b,a){this.options.cluster_height||this.exploreEnvironment(b,a);var c=this.generate(b,this.getClusterNum()),d=c.rows.join(""),f=this.checkChanges("data",d,a),h=this.checkChanges("top",c.top_offset,a),e=this.checkChanges("bottom",c.bottom_offset,a),g=this.options.callbacks,k=[];f||h?(c.top_offset&&(this.options.keep_parity&&k.push(this.renderExtraTag("keep-parity")),k.push(this.renderExtraTag("top-space",c.top_offset))),k.push(d),c.bottom_offset&&k.push(this.renderExtraTag("bottom-space",c.bottom_offset)),g.clusterWillChange&&g.clusterWillChange(),this.html(k.join("")),"ol"==this.options.content_tag&&this.content_elem.setAttribute("start",c.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(c.rows_above-1),g.clusterChanged&&g.clusterChanged()):e&&(this.content_elem.lastChild.style.height=c.bottom_offset+"px")},html:function(b){var a=this.content_elem;if(l&&9>=l&&"tr"==this.options.tag){var c=document.createElement("div");for(c.innerHTML="<table><tbody>"+b+"</tbody></table>";b=a.lastChild;)a.removeChild(b);for(c=this.getChildNodes(c.firstChild.firstChild);c.length;)a.appendChild(c.shift())}else a.innerHTML=b},getChildNodes:function(b){b=b.children;for(var a=[],c=0,d=b.length;c<d;c++)a.push(b[c]);return a},checkChanges:function(b,a,c){var d=a!=c[b];c[b]=a;return d}};return p});!function(t){"use strict";function e(t,s,n,i,a,r,l,c){var o,d,f,h,g,p=function(t){r.text(t),r[c?"prepend":"append"](l)};return c?(o=0===i?"":n.slice(-i),d=n.slice(-a)):(o=n.slice(0,i),d=n.slice(0,a)),s<r.html(l)[t]()?0:(p(d),h=r[t](),p(o),g=r[t](),g>h?a:(f=parseInt((i+a)/2,10),o=c?n.slice(-f):n.slice(0,f),p(o),r[t]()===s?f:(r[t]()>s?a=f-1:i=f+1,e(t,s,n,i,a,r,l,c))))}t.fn.truncate=function(s){s&&s.center&&!s.side&&(s.side="center",delete s.center),s&&!/^(left|right|center)$/.test(s.side)&&delete s.side;var n={width:"auto",token:"&hellip;",side:"right",addclass:!1,addtitle:!1,multiline:!1,assumeSameStyle:!1};s=t.extend(n,s);var i,a,r,l;return s.assumeSameStyle&&(a=t(this[0]),i={fontFamily:a.css("fontFamily"),fontSize:a.css("fontSize"),fontStyle:a.css("fontStyle"),fontWeight:a.css("fontWeight"),"font-variant":a.css("font-variant"),"text-indent":a.css("text-indent"),"line-height":a.css("line-height"),"text-transform":a.css("text-transform"),"letter-spacing":a.css("letter-spacing"),"word-spacing":a.css("word-spacing"),display:"none"},r=t("<span/>").css(i).appendTo("body")),this.each(function(){a=t(this),l=a.text(),s.assumeSameStyle?r.text(l):(i={fontFamily:a.css("fontFamily"),fontSize:a.css("fontSize"),fontStyle:a.css("fontStyle"),fontWeight:a.css("fontWeight"),"font-variant":a.css("font-variant"),"text-indent":a.css("text-indent"),"line-height":a.css("line-height"),"text-transform":a.css("text-transform"),"letter-spacing":a.css("letter-spacing"),"word-spacing":a.css("word-spacing"),display:"none"},r=t("<span/>").css(i).text(l).appendTo("body"));var n,c,o,d=r.width(),f=parseInt(s.width,10)||a.width(),h="width";if(s.multiline?(r.width(a.width()),h="height",c=r.height(),o=a.height()+1):(c=d,o=f),n={before:"",after:""},c>o){var g,p;r.text(""),"left"===s.side?(g=e(h,o,l,0,l.length,r,s.token,!0),n.after=l.slice(-1*g)):"center"===s.side?(o=parseInt(o/2,10)-1,g=e(h,o,l,0,l.length,r,s.token,!1),p=e(h,o,l,0,l.length,r,"",!0),n.before=l.slice(0,g),n.after=l.slice(-1*p)):"right"===s.side&&(g=e(h,o,l,0,l.length,r,s.token,!1),n.before=l.slice(0,g)),s.addclass&&a.addClass(s.addclass),s.addtitle&&a.attr("title",l),n.before=r.text(n.before).html(),n.after=r.text(n.after).html(),a.empty().html(n.before+s.token+n.after)}s.assumeSameStyle||r.remove()})}}(jQuery);+function(a){EditableSelect=function(b,c){this.options=c,this.$select=a(b),this.$input=a('<input type="text" autocomplete="off">'),this.$list=a('<ul class="es-list">'),this.utility=new EditableSelectUtility(this),["focus","manual"].indexOf(this.options.trigger)<0&&(this.options.trigger="focus"),["default","fade","slide"].indexOf(this.options.effects)<0&&(this.options.effects="default"),isNaN(this.options.duration)&&["fast","slow"].indexOf(this.options.duration)<0&&(this.options.duration="fast"),this.$select.replaceWith(this.$input),this.$list.appendTo(this.options.appendTo||this.$input.parent()),this.utility.initialize(),this.utility.initializeList(),this.utility.initializeInput(),this.utility.trigger("created")},EditableSelect.DEFAULTS={filter:!0,effects:"default",duration:"fast",trigger:"focus"},EditableSelect.prototype.filter=function(){var b=0,c=this.$input.val().toLowerCase().trim();this.$list.find("li").addClass("es-visible").show(),this.options.filter&&(b=this.$list.find("li").filter(function(b,d){return a(d).text().toLowerCase().indexOf(c)<0}).hide().removeClass("es-visible").length,this.$list.find("li").length==b&&this.hide())},EditableSelect.prototype.show=function(){if(this.$list.css({top:this.$input.position().top+this.$input.outerHeight()-1,left:this.$input.position().left,width:this.$input.outerWidth()}),!this.$list.is(":visible")&&this.$list.find("li.es-visible").length>0){var b={"default":"show",fade:"fadeIn",slide:"slideDown"},c=b[this.options.effects];this.utility.trigger("show"),this.$input.addClass("open"),this.$list[c](this.options.duration,a.proxy(this.utility.trigger,this.utility,"shown"))}},EditableSelect.prototype.hide=function(){var b={"default":"hide",fade:"fadeOut",slide:"slideUp"},c=b[this.options.effects];this.utility.trigger("hide"),this.$input.removeClass("open"),this.$list[c](this.options.duration,a.proxy(this.utility.trigger,this.utility,"hidden"))},EditableSelect.prototype.select=function(a){this.$list.has(a)&&a.is("li.es-visible:not([disabled])")&&(this.$input.val(a.text()),this.options.filter&&this.hide(),this.filter(),this.utility.trigger("select",a))},EditableSelect.prototype.add=function(b,c,d,e){var f=a("<li>").html(b),g=a("<option>").text(b),h=this.$list.find("li").length;c=isNaN(c)?h:Math.min(Math.max(0,c),h),0==c?(this.$list.prepend(f),this.$select.prepend(g)):(this.$list.find("li").eq(c-1).after(f),this.$select.find("option").eq(c-1).after(g)),this.utility.setAttributes(f,d,e),this.utility.setAttributes(g,d,e),this.filter()},EditableSelect.prototype.remove=function(a){var b=this.$list.find("li").length;a=isNaN(a)?b:Math.min(Math.max(0,a),b-1),this.$list.find("li").eq(a).remove(),this.$select.find("option").eq(a).remove(),this.filter()},EditableSelect.prototype.clear=function(){this.$list.find("li").remove(),this.$select.find("option").remove(),this.filter()},EditableSelect.prototype.destroy=function(){this.$list.off("mousemove mousedown mouseup"),this.$input.off("focus blur input keydown"),this.$input.replaceWith(this.$select),this.$list.remove(),this.$select.removeData("editable-select")},EditableSelectUtility=function(a){this.es=a},EditableSelectUtility.prototype.initialize=function(){var b=this;b.setAttributes(b.es.$input,b.es.$select[0].attributes,b.es.$select.data()),b.es.$input.addClass("es-input").data("editable-select",b.es),b.es.$select.find("option").each(function(c,d){var e=a(d).remove();b.es.add(e.text(),c,d.attributes,e.data()),e.attr("selected")&&b.es.$input.val(e.text())}),b.es.filter()},EditableSelectUtility.prototype.initializeList=function(){var b=this;b.es.$list.on("mousemove","li:not([disabled])",function(){b.es.$list.find(".selected").removeClass("selected"),a(this).addClass("selected")}).on("mousedown","li",function(c){a(this).is("[disabled]")?c.preventDefault():b.es.select(a(this))}).on("mouseup",function(){b.es.$list.find("li.selected").removeClass("selected")})},EditableSelectUtility.prototype.initializeInput=function(){var b=this;switch(this.es.options.trigger){default:case"focus":b.es.$input.on("focus",a.proxy(b.es.show,b.es)).on("blur",a.proxy(b.es.hide,b.es));break;case"manual":}b.es.$input.on("input keydown",function(a){switch(a.keyCode){case 38:var c=b.es.$list.find("li.es-visible:not([disabled])"),d=c.index(c.filter("li.selected"));b.highlight(d-1),a.preventDefault();break;case 40:var c=b.es.$list.find("li.es-visible:not([disabled])"),d=c.index(c.filter("li.selected"));b.highlight(d+1),a.preventDefault();break;case 13:b.es.$list.is(":visible")&&(b.es.select(b.es.$list.find("li.selected")),a.preventDefault());break;case 9:case 27:b.es.hide();break;default:b.es.filter(),b.highlight(0)}})},EditableSelectUtility.prototype.highlight=function(a){var b=this;b.es.show(),setTimeout(function(){var c=b.es.$list.find("li.es-visible"),d=b.es.$list.find("li.selected").removeClass("selected"),e=c.index(d);if(c.length>0){var f=(c.length+a)%c.length,g=c.eq(f),h=g.position().top;g.addClass("selected"),f<e&&h<0&&b.es.$list.scrollTop(b.es.$list.scrollTop()+h),f>e&&h+g.outerHeight()>b.es.$list.outerHeight()&&b.es.$list.scrollTop(b.es.$list.scrollTop()+g.outerHeight()+2*(h-b.es.$list.outerHeight()))}})},EditableSelectUtility.prototype.setAttributes=function(b,c,d){a.each(c||{},function(a,c){b.attr(c.name,c.value)}),b.data(d)},EditableSelectUtility.prototype.trigger=function(a){var b=Array.prototype.slice.call(arguments,1),c=[a+".editable-select"];c.push(b),this.es.$select.trigger.apply(this.es.$select,c),this.es.$input.trigger.apply(this.es.$input,c)},Plugin=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data("editable-select"),f=a.extend({},EditableSelect.DEFAULTS,d.data(),"object"==typeof b&&b);e||(e=new EditableSelect(this,f)),"string"==typeof b&&e[b].apply(e,c)})},a.fn.editableSelect=Plugin,a.fn.editableSelect.Constructor=EditableSelect}(jQuery);if(!wiley){var wiley={};}
if(!ACC){var ACC={};}
wiley.KEY_CODE_MAP={space:32,enter:13,escape:27,tab:9,keydown:40,up:38};wiley.checkDevice={isDeviceIOS:function(){return navigator.userAgent.match(/(iPhone|iPod|iPad)/i);},isMobileSafari:function(){return navigator.userAgent.match(/(iPhone|iPod)/i)&&!navigator.userAgent.match(/(CriOS|OPiOS|FxiOS|mercury)/i);},isAndroid:function(){return navigator.userAgent.match(/Android/i);},isWindows:function(){return navigator.userAgent.match(/(IEMobile|webOS|Lumia)/i);},isIE:function(){return navigator.userAgent.search(/MSIE/)>0||navigator.userAgent.search(/NET CLR /)>0;},isBlackBerry:function(){return navigator.userAgent.match(/(BlackBerry|BB10; Touch)/i);},isOpera:function(){return navigator.userAgent.match(/Opera Mini/i);},isAny:function(){return(this.isDeviceIOS()||this.isAndroid()||this.isWindows()||this.isBlackBerry()||this.isOpera());}};wiley.isMobileView=function(){return $(window).width()<=640;};wiley.iPadViewport=function(){var viewport=$("meta[name='viewport']");if(navigator.userAgent.match(/iPad/i)){viewport.attr("content","width=1240, initial-scale=0, user-scalable=1");}};wiley.owlCarousel=function(selector){var configurationDefault={navText:'',responsive:{0:{items:3,margin:20,nav:false,dots:true},641:{items:5,nav:true,dots:false}}};try{$(selector).each(function(){var configuration=$(this).data('component-model')||configurationDefault;$.extend(configuration,{navElement:'a tabindex="0"'});$(this).owlCarousel(configuration);var navigation=$(this).find('.owl-nav:not(.disabled)');if(navigation.length){navigation.find('a').keydown(function(e){if(e.keyCode===13){$(this).trigger('click');}});}else{$(this).css({padding:0})}});new Imager('.js-responsive-image');}catch(e){console.log(e);}};wiley.mediaGallery=function(){var sync1=$("#pdp-carousel-sync1");var sync2=$("#pdp-carousel-sync2");var heroBannerCarousel=$('.hero-banner-carousel');var container=heroBannerCarousel.parents('.hero-banner');var featuredProductsGallery=$('.plcGridCarousel');var searchBtn=$('.main-navigation-search').find('button');var featuredProductsGalleryItems=featuredProductsGallery.find('.product-item');var featuredProductsGalleryLength=featuredProductsGalleryItems.length;wiley.owlCarousel(".owl-carousel");heroBannerCarousel.find('.item-inner').each(function(index,item){var url=$(this).data('url');if(url){$(item).addClass('link-item');$(this).click(function(){window.location.href=url;});}});function accessibilitySupport(){var nav=heroBannerCarousel.find('.owl-nav').not('.disabled');var prev=nav.find('.owl-prev').not('.disabled');var next=nav.find('.owl-next').not('.disabled');var nextFocusElement=container.next().find('a');function setFocus(el){return el.length&&el.focus();}
heroBannerCarousel.on('keyup',function(e){var keyCode=(e.keyCode||e.which);var target=$(e.target);var activeLink=$('.owl-item.active').find('a');if(!target.parents('.owl-item.active').length&&!target.parents('.owl-nav').length){e.preventDefault();setFocus(prev)||setFocus(activeLink)||setFocus(nextFocusElement);}});heroBannerCarousel.on('keydown',function(e){var keyCode=(e.keyCode||e.which);var target=$(e.target);var activeLink=$('.owl-item.active').find('a');if(e.shiftKey&&keyCode===9){if(!target.parents('.owl-nav').length){e.preventDefault();setFocus(prev)||searchBtn.focus();}else if(target.hasClass('owl-next')){e.preventDefault();setFocus(activeLink)||setFocus(prev);}else if(target.hasClass('owl-prev')){e.preventDefault();searchBtn.focus();}}else if(keyCode===9){if(!target.parents('.owl-nav').length){e.preventDefault();setFocus(next)||setFocus(nextFocusElement);}else{if(target.hasClass('owl-prev')){e.preventDefault();setFocus(activeLink)||setFocus(next)||setFocus(nextFocusElement);}}}});}
function setActiveElement(index){sync2.find('.item').removeClass('synced');sync2.find('.item').eq(index).addClass('synced');}
if(wiley.isMobileView()&&featuredProductsGalleryLength){for(var i=0;i<featuredProductsGalleryLength;i+=2){featuredProductsGalleryItems.slice(i,i+2).wrapAll("<div class='plcGridCarouselItem'></div>");}
featuredProductsGallery.addClass('owl-carousel').owlCarousel({items:1,nav:false,dots:true,smartSpeed:1000});}
if(sync1.length){sync1.addClass('owl-carousel');sync1.owlCarousel({items:1,nav:false,dots:false,video:true,onDrag:function(){sync1.data("zoomEnable",false);},onChange:function(){var activeItem=sync1.find('.owl-item.active');var player=activeItem.find('video');if(player.length){player[0].pause();}},onInitialized:function(){var items=sync1.find('.owl-item');items.each(function(index,item){wiley.startZoom(item,sync1)});},onDragged:function(){var activeItem=sync1.find('.owl-item.active');var index=activeItem.index();setActiveElement(index);sync1.data("zoomEnable",true);}});}
if(sync2.length){sync2.find('.item:first').addClass('synced');sync2.on("click",".item",function(e){var index=$(this).index();setActiveElement(index);sync1.trigger("to.owl.carousel",[index,500,true]);});}
accessibilitySupport();}
$(window).bind("pageshow",function(event){if(event.originalEvent.persisted){window.location.reload();}});wiley.startZoom=function(e){$(e).zoom({url:$(e).find("img.lazyOwl").data("zoomImage"),touch:true,on:'grab',duration:300,magnify:0.8});};wiley.showDatePicker=function(){var datepicker=$(".date-picker");var datepickerIcon;if(wiley.isMobileDevice()){if(datepicker.length){datepicker.each(function(){$(this).attr("type","date");datepickerIcon=$(this).parent().find("label");datepickerIcon.unbind("click.datepicker");$(this).unbind("change.datepicker");$(this).datepicker("destroy");$(this).bind("blur.inputDate",function(){var dateValue=$(this).val();var newDate=new Date(dateValue);var formattedDate=newDate.getMonth()+1+"/"+newDate.getDate()+"/"+newDate.getFullYear();$(".date-desired").val(formattedDate);});});}}else{if(datepicker.length){var dateToday=new Date();datepicker.each(function(){$(this).attr("type","text");$(this).unbind("blur.inputDate");datepickerIcon=$(this).parent().find("label");$(this).datepicker({minDate:dateToday,showOtherMonths:true,selectOtherMonths:true});datepickerIcon.bind("click.datepicker",function(event){event.preventDefault();return $(this).datepicker("widget").is(":visible")?$(this).off("focus").datepicker("hide"):$(this).on("focus").datepicker("show");});var maskBlock=$("<span></span>").text("MM/dd/yyyy").addClass("date-mask-string");var maskParentBlock=$(this).parent();var maskString=maskBlock.text();var maskChars=maskString.split("");maskBlock.empty();$.each(maskChars,function(i){var span=document.createElement("span");span.innerText=maskChars[i];maskBlock.append(span);});function displayMask(){var countValues=datepicker.val().length;maskBlock.find("span").css("opacity",1);maskBlock.find("span:lt("+countValues+")").css("opacity",0);}
function removeMask(){maskParentBlock.find(".date-mask-string").remove();}
$(this).on("keyup",function(){if(maskParentBlock.children(".date-mask-string").length>0){displayMask();}else{maskParentBlock.append(maskBlock);displayMask();}});$(this).bind("change.datepicker",function(event){removeMask();var datePickerValue=$(this).val();$(".date-desired").val(datePickerValue);});});}}};wiley.destroyLaptopCustomSelect=function(){var selects=$(".select-component");var select,selectComponent,uiSelectMenuButton;if(selects.length){selects.each(function(){selectComponent=$(this);uiSelectMenuButton=selectComponent.find(".ui-selectmenu-button");if(uiSelectMenuButton.length){selectComponent.find("select").selectmenu("destroy");wiley.displayCustomMobileSelect(selectComponent);}});}};wiley.destroyMobileCustomSelect=function(){var selects=$(".select-component");var em,select,selectComponent;if(selects.length){selects.each(function(){selectComponent=$(this);em=selectComponent.find("em");if(em.length){em.remove();selects.removeClass("device");wiley.displayCustomSelect(selectComponent);}});}};wiley.displayCustomMobileSelect=function(selectComponent){var select=selectComponent.find("select");var em=selectComponent.find("em");var optionSelected;selectComponent.addClass("device");if(!em.length){em=$("<em></em>");selectComponent.prepend(em);}
optionSelected=select.find("option:selected");optionSelected.each(function(){var selectValue=$(this).text();var selectEm=$(this).closest(selectComponent).children("em");selectEm.text(selectValue);});};wiley.displayCustomSelect=function(){var selectComponent=$(".select-component");var select=selectComponent.find("select");if(wiley.isMobileDevice()){wiley.displayCustomMobileSelect(selectComponent);selectComponent.on("change","select",function(){wiley.displayCustomMobileSelect(selectComponent);});selectComponent.on("touchstart","select",function(){$(this).closest(".select-component").addClass("select-open");});selectComponent.on("blur","select",function(){$(this).closest(".select-component").removeClass("select-open");});}else{function handler(){select.selectmenu('close');$(window).off('scroll resize',handler);};select.selectmenu({width:'inherit',open:function(event,ui){var element=$(event.target);$(window).on('scroll resize',handler);element.closest('.select-component').addClass("select-open");$('.ps-scrollbar-container').perfectScrollbar("update");},close:function(event){var element=$(event.target);element.closest('.select-component').removeClass("select-open");}}).selectmenu("menuWidget").addClass("ps-scrollbar-container always-visible").perfectScrollbar();}};wiley.collapsePurchaseOption=function(){var purchaseAccordion=$("#purchase-accordion");if(purchaseAccordion.length){var purchaseAccordionItems=purchaseAccordion.find(".purchase-accordion-heading");purchaseAccordionItems.each(function(){$(this).on("click",".heading-center, .heading-left",function(e){$(this).closest(".purchase-accordion-heading").toggleClass("current");});});}
$(document).on("keydown",".heading-center",function(event){var keycode=(event.keyCode||event.which);if(keycode=='13'){$(this).trigger('click');}});};wiley.isMobileDevice=function(){return wiley.isMobileView()||wiley.checkDevice.isAny();};wiley.triggerPopoverArrow=function(){var popoverId=$(this).attr('aria-describedby');var arrow=$(this).parent().find('.arrow');if($('#'+popoverId).length){arrow.show();}else{arrow.hide();}};wiley.initPopover=function(){var popoverElements=$('[data-toggle="popover"]');var arrow,popoverWrap;if(popoverElements.length){popoverElements.each(function(){$(this).popover({placement:"top",html:"true",container:".purchase-options",animation:false});if(!$(this).parent('.popover-wrap').length){popoverWrap=$("<span></span>").addClass("popover-wrap");$(this).wrap(popoverWrap);arrow=$("<span></span>").addClass("arrow");$(this).parent().prepend(arrow);}
$(this).on('mouseenter mouseleave focusin focusout',wiley.triggerPopoverArrow);});}
$(document).on('click','.type-of-book-chooser .icon-info, .type-of-book-chooser .active',function(e){e.stopPropagation();e.preventDefault();});};wiley.destroyPopover=function(){var popoverElements=$('[data-toggle="popover"]');if(popoverElements.length){popoverElements.each(function(){$(this).popover('destroy');$(this).parent().find('.arrow').hide();$(this).off('mouseenter mouseleave focusin focusout',wiley.triggerPopoverArrow);});}};wiley.updateCheckboxes=function(){$.each($("input[type=checkbox]"),function(index,value){$(value).prop("checked",$(value).prop('defaultChecked'));});};wiley.setStickyHeader=function setStickyHeader(){$('.main-sticky-header').affix({offset:{top:0}});};wiley.imageChecker=function(){var errorImg=$(".product-list-image img");errorImg.on("error",function(){$(this).attr("src","~/../responsive/common/images/no-image.png");});};wiley.setCustomVH=function(){var vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',vh+'px');};wiley.initMainSearch=function initMainSearch(){var $mainHeader=$('#main-header-container');var $navToggle=$('.navbar-toggle');var $search=$('.main-navigation-search');var $input=$search.find('input');var searchParams=window.location.search;var searchQueryParamKey="pq=";var contentSearchQueryParamKey="cq=";var isSearchResultPage=searchParams.indexOf(searchQueryParamKey)!==-1||searchParams.indexOf(contentSearchQueryParamKey)!==-1;function toggleSearch($icon){$search.toggleClass('open');$icon.toggleClass('active');if($search.hasClass('open')){if(!isSearchResultPage){$input.val('');}}};$mainHeader.on("click",".main-navigation-search-icon",function(){if(wiley.isMobileView()){if(!$navToggle.hasClass('collapsed')){$navToggle.trigger('click');}
toggleSearch($(this));}});$input.focus(function(){$mainHeader.addClass('focus');});$input.blur(function(){$mainHeader.removeClass('focus');});};wiley.setMainNavigation=function(){var toggleBtnEl=$('<span class="toggle-dropdown collapsed"></span>');var mainHeader=$('#main-header-container');var navItemsContainer=$('.navigation-menu-items');var mainNav=$('.main-header-navigation');var navItems=navItemsContainer.find('>li');var mainNavbar=$('#main-header-navbar');var $countryDropdown=$('.select-country-dropdown');var $dropDownMenu=$('.dropdown-menu');var $navbarToggle=$('.navbar-toggle');var $searchBar=$('.main-navigation-search');var submenuClass='dropdown-submenu';var threeLevelsClass='three-levels';var hoverClass='hover';var collapseClass='collapsed';var delayMobileMenu=0;var openMenuClass='in';var setTimeoutOpen,setTimeoutClose,setTimeoutOpenInner,setTimeoutCloseInner;var delayIn=wiley.delayIn,delayOut=wiley.delayOut;var scrollConfig=wiley.checkDevice.isAny()?['touch']:['click-rail','drag-scrollbar','wheel'];var initialized=navItemsContainer.hasClass('initialized');function setEventOnDevice(){if(!wiley.isMobileView()&&wiley.checkDevice.isDeviceIOS()){return'click touchend';}else{return'click';}}
function setMobileTitle(name,list){var title=$('<span class="dropdown-item-title"></span>');title.text(name);title.prependTo(list);}
function setBackBtn(list){var backBtn=$('<span class="back-btn visible-xs-inline-block icon-arrow-left"></span>');backBtn.prependTo(list);}
function resetDropdown(dropdown,openMenuClass){dropdown.removeClass(openMenuClass);dropdown.find('li.hover').removeClass(hoverClass);}
function toggleSearch(){$searchBar.toggleClass('open');$('.main-navigation-search-icon').toggleClass('active');}
function bindCloseMenu(){mainHeader.on("click",".navbar-toggle",function(){var self=$(this);if($countryDropdown.hasClass('open')){$('.trigger-country-dropdown').trigger('click');}
if($searchBar.hasClass('open')){toggleSearch();delayMobileMenu=200;}else{delayMobileMenu=0;}
setTimeout(function(){wiley.setCustomVH();var mainMenuOpenLinks=mainNavbar.find('ul>li.hover');var openBtns=mainNavbar.find('toggle-dropdown').not('.collapsed');openBtns.addClass(collapseClass);mainMenuOpenLinks.removeClass(hoverClass);mainNavbar.find('.dropdown-menu.in').removeClass(openMenuClass);self.toggleClass(collapseClass);mainNavbar.toggleClass(openMenuClass);$('body, html').toggleClass("has-drawer");},delayMobileMenu);});}
function redirectTo(newLocation,target){window.open(window.location.origin+newLocation,target||'_self');}
function toggleSubMenu(li){if(li.hasClass(threeLevelsClass)){li.parent().find('>li.hover').removeClass(hoverClass);li.addClass(hoverClass);}else{if(li.hasClass(hoverClass)){li.removeClass(hoverClass);}else{li.parent().find('>li.hover').removeClass(hoverClass);li.addClass(hoverClass);}}}
function getLastLevelMenuWidth(innerList){var subMenuColumns=$(innerList).find('.sub-list');var subMenuColumnsLength=subMenuColumns.length;var subMenuWidth=subMenuColumns[0].scrollWidth;return subMenuColumnsLength*subMenuWidth;}
function getLastLevelMenuHeight(innerList){var subMenuColumns=$(innerList).find('.sub-list');var subMenuColumnsLength=subMenuColumns.length;var firstColumnHeight=subMenuColumns[0].scrollHeight;return(subMenuColumnsLength>1?Math.max(firstColumnHeight,subMenuColumns[1].scrollHeight):firstColumnHeight)+10;}
function containsClass(target,names){var classNames=$.isArray(names)?names:[names];return classNames.some(function(name){return target.hasClass(name);});}
function setCustomScroll($target){$target.perfectScrollbar({suppressScrollX:true,handlers:scrollConfig});$target.scrollTop(0);$target.perfectScrollbar('update');}
function getDropDownWidth(firstCol,secondCol){return firstCol?firstCol.scrollWidth+secondCol.scrollWidth:secondCol.scrollWidth;}
function openMenu(menuItem){var parent=menuItem.parent();var dropdown=menuItem.find('>.dropdown-menu');var subMenu=dropdown.find('>.dropdown-items');var link=menuItem.find('a');parent.find('li.hover').removeClass(hoverClass);dropdown.height('auto');dropdown.width('auto');menuItem.addClass(hoverClass);setCustomScroll(subMenu);}
function getDropDownHeight(firstColumn,parentColumn){return firstColumn?parentColumn.scrollHeight:'auto';}
function closeSubMenu(menuItem){var dropdown=menuItem.parents('.dropdown-menu');var parents=menuItem.parents('.dropdown-items');var firstColumn=parents[1];var parentColumn=parents[0];dropdown.height(getDropDownHeight(firstColumn,parentColumn));dropdown.width(getDropDownWidth(firstColumn,parentColumn));menuItem.parent().find('li.hover').removeClass(hoverClass);}
function openSubMenu(menuItem){toggleSubMenu(menuItem);var dropdown=menuItem.parents('.dropdown-menu');var parents=menuItem.parents('.dropdown-items');var firstColumn=parents[1];var parentColumn=parents[0];dropdown.height(getDropDownHeight(firstColumn,parentColumn));var innerList=menuItem.find('.dropdown-items')[0];var innerWidth=menuItem.hasClass(threeLevelsClass)?innerList.scrollWidth:getLastLevelMenuWidth(innerList);var innerHeight=menuItem.hasClass(threeLevelsClass)?innerList.scrollHeight:getLastLevelMenuHeight(innerList);if(innerHeight>dropdown.height()){dropdown.height(innerHeight);}
var dropDownWidth=getDropDownWidth(firstColumn,parentColumn);dropdown.width(dropDownWidth+innerWidth);setCustomScroll(menuItem.find('ul').not('.sub-list'));}
function isTopLevelLink(target){return target.className.indexOf('collapsed')!==-1;}
function isClickOutsideSelector($target){return!$target.parents('.navigation-menu-items').length;}
function accessibilitySupport(){$(document).on("click keyup",function(e){if(!wiley.isMobileView()){var keyCode=(e.keyCode||e.which);var $target=$(e.target);if(isClickOutsideSelector($target)){var openedItem=navItemsContainer.find('>.dropdown-submenu.hover');if(openedItem.length){openedItem.trigger('mouseleave');}}}});navItemsContainer.on('keydown',function(e){if(!wiley.isMobileView()){var target=e.target;var targetParent=$(target).parent();var keyCode=(e.keyCode||e.which);if(keyCode===wiley.KEY_CODE_MAP.escape){$(this).find('li').removeClass(hoverClass);}
if(target.localName==='a'){if(isTopLevelLink(target)){if(keyCode===wiley.KEY_CODE_MAP.space){if(targetParent.hasClass('hover')){targetParent.trigger('mouseleave');}else{openMenu(targetParent);}
e.preventDefault();}}
if(!isTopLevelLink(target)){if(e.shiftKey&&keyCode===wiley.KEY_CODE_MAP.tab){var openItem=targetParent.parent().find('.hover').not(targetParent);if(openItem.length){openItem.removeClass(hoverClass);closeSubMenu(openItem);}}else if(keyCode===wiley.KEY_CODE_MAP.tab){if(targetParent.hasClass('dropdown-submenu')){if(!targetParent.hasClass('hover')){if(targetParent.next('.dropdown-item').length||targetParent.prev('.dropdown-item').length){targetParent.next().find('>a').focus();e.preventDefault();}}}}
if(keyCode===wiley.KEY_CODE_MAP.space){if(targetParent.hasClass('dropdown-submenu')){if(targetParent.hasClass('hover')){closeSubMenu(targetParent);}else{openSubMenu(targetParent);}}
e.preventDefault();}}}}}).on('keyup',function(e){if(!wiley.isMobileView()){var target=e.target;var targetParent=$(target).parent();var keyCode=(e.keyCode||e.which);var openedItem;if(target.localName==='a'){if(e.shiftKey&&keyCode===wiley.KEY_CODE_MAP.tab){if(isTopLevelLink(target)){openedItem=targetParent.find('.dropdown-menu>ul>li.hover').not(targetParent);if(openedItem.length){closeSubMenu(openedItem);}}
if(!isTopLevelLink(target)){openedItem=targetParent.parent().find('li.hover');if(openedItem.length){closeSubMenu(openedItem);}}}
else if(keyCode===wiley.KEY_CODE_MAP.tab){if(isTopLevelLink(target)){targetParent.parent().find('li.hover').not(targetParent).removeClass('hover');}
if(!isTopLevelLink(target)){openedItem=targetParent.parent().find('li.hover').not(targetParent);if(openedItem.length){closeSubMenu(openedItem);}}}}}});}
function handleKeysAndMouseEvents(){navItemsContainer.on('mouseenter','>.dropdown-submenu',function(e){if(!wiley.isMobileView()){var menuItem=$(this);var link=menuItem.find('>a');setTimeoutOpen=setTimeout(function(){openMenu(menuItem);if(wiley.checkDevice.isIE()){link.focus();}},delayIn);}}).on('mouseleave','>.dropdown-submenu',function(e){if(!wiley.isMobileView()){clearTimeout(setTimeoutOpen);var self=$(this);setTimeoutClose=setTimeout(function(){resetDropdown(self,hoverClass);},delayOut);}}).on('mouseenter','>li .dropdown-submenu:not(.hover)',function(e){if(!wiley.isMobileView()){var menuItem=$(this);clearTimeout(setTimeoutCloseInner);setTimeoutOpenInner=setTimeout(function(){openSubMenu(menuItem);},delayIn);}}).on('mouseleave','>li .dropdown-submenu',function(e){if(!wiley.isMobileView()){clearTimeout(setTimeoutOpenInner);if(!containsClass($(e.relatedTarget),['dropdown-items-wrapper','ps-scrollbar-y','ps-scrollbar-y-rail'])){var menuItem=$(this);setTimeoutCloseInner=setTimeout(function(){closeSubMenu(menuItem);},delayOut);}}}).on('click','>.dropdown-submenu',function(e){if(wiley.isMobileView()){var menuItem=$(this);var dropdown=menuItem.find('>.dropdown-menu');if($(e.target).hasClass('back-btn')){if(menuItem.parent().hasClass('navigation-menu-items')){resetDropdown(dropdown,openMenuClass);}}else{menuItem.addClass(hoverClass);dropdown.addClass(openMenuClass);}
e.stopPropagation();e.preventDefault();}}).on('click','>.dropdown-submenu .dropdown-submenu',function(e){if(wiley.isMobileView()){if($(e.target).hasClass('back-btn')){resetDropdown($(this),hoverClass);}else{toggleSubMenu($(this));}
e.stopPropagation();e.preventDefault();}}).on(setEventOnDevice(),'li:not(.dropdown-submenu)',function(e){var link=$(this).find('a');if(link.length&&link.attr('href').length>1){var target=link.attr('target');e.stopPropagation();redirectTo(link.attr('href'),target);}}).on(setEventOnDevice(),'li>a',function(e){if($(this).attr('href').length>1){e.stopPropagation();}else{if(wiley.isMobileDevice()){var parent=$(this).parent();if(parent.hasClass('dropdown-submenu')){parent.trigger('mouseenter');}}
return false;}});}
function splitColumn(container,maxHeightMenu){var listItem='.dropdown-item',listClass='sub-list';var items=container.find(listItem);var itemHeight=34;var columnLength=Math.floor(maxHeightMenu/itemHeight);var num_cols=items.length>columnLength?2:1;var items_per_col=[],min_items_per_col=Math.floor(items.length/num_cols),difference=items.length-(min_items_per_col*num_cols);for(var i=0;i<num_cols;i++){if(i<difference){items_per_col[i]=min_items_per_col+1;}else{items_per_col[i]=min_items_per_col;}}
for(var i=0;i<num_cols;i++){container.append($('<ul></ul>').addClass(listClass));for(var j=0;j<items_per_col[i];j++){var pointer=0;for(var k=0;k<i;k++){pointer+=items_per_col[k];}
container.find('.sub-list').last().append(items[j+pointer]);}}};function setLinkCursor(link){if(link.attr('href').length<=1){link.css('cursor','default');}}
function setLinkAttrTitle(link){if(link.parent().hasClass(submenuClass)){link.attr('aria-haspopup',true);link.attr('aria-expanded',false);}}
if(!initialized){$.each(navItems,function(index,item){var listItem=$(this);var menu=listItem.find('>.dropdown-menu');if(menu.length){var innerList=menu.find('>.dropdown-items');var innerListItems=innerList.find('>.dropdown-item');var maxHeightMenu=parseInt(menu.css('max-height'),10)-28;listItem.addClass(submenuClass);var innerLink=listItem.find('>a');setLinkAttrTitle(innerLink);setMobileTitle(innerLink.text(),menu);setBackBtn(menu);innerListItems.each(function(){var link=$(this);var innerLink=link.find('>a');setLinkCursor(innerLink);var titleName=innerLink.text();var wrapper=link.find('>.dropdown-items-wrapper');if(wrapper.length&&wrapper.find('>ul').length){var secondLevelList=wrapper.find('>ul');var initializedSubMenu=false;link.addClass(submenuClass);setLinkAttrTitle(innerLink);toggleBtnEl.clone().appendTo(link);$.each(secondLevelList,function(){var secondLevelNode=$(this);var secondLevelLinks=secondLevelNode.find('>li');var thirdLevelList=secondLevelNode.find('li ul');if(!thirdLevelList.length){splitColumn(secondLevelNode,maxHeightMenu);}
$.each(secondLevelLinks,function(){var innerLink=$(this).find('>a');setLinkCursor(innerLink);setLinkAttrTitle(innerLink);var thirdLevelList=$(this).find('>ul');if(thirdLevelList.length){$(this).addClass(submenuClass);link.addClass(threeLevelsClass);toggleBtnEl.clone().appendTo($(this));splitColumn(thirdLevelList,maxHeightMenu);if(!initializedSubMenu){setMobileTitle(titleName,wrapper);setBackBtn(wrapper);initializedSubMenu=true;}}});});}});}});bindCloseMenu();handleKeysAndMouseEvents();accessibilitySupport();navItemsContainer.addClass('initialized');if(navItems.length>3){mainNav.addClass('extended');}
if(!wiley.isMobileView()&&wiley.checkDevice.isAny()){navItemsContainer.addClass('tablet');}else{navItemsContainer.removeClass('tablet');}}else{if(wiley.isMobileView()){navItemsContainer.perfectScrollbar('destroy');$('.dropdown-items').perfectScrollbar('destroy');$dropDownMenu.removeClass('ps-container ps-theme-default ps-active-y');$dropDownMenu.removeClass('in');$dropDownMenu.removeAttr('style');}else{if(!$navbarToggle.hasClass('collapsed')){$navbarToggle.trigger('click');}
navItemsContainer.perfectScrollbar('destroy');}}};wiley.disableAutoZoomIOS=function disableAutoAoomIOS(){var $objHead=$('head');var viewport=$("meta[name='viewport']");var defaultContentAttr=navigator.userAgent.match(/iPad/i)?"width=1240, initial-scale=0, user-scalable=1":"width=device-width, initial-scale=1.0, user-scalable=1";var newContentAttr=navigator.userAgent.match(/iPad/i)?"width=1240, initial-scale=0, user-scalable=0":"width=device-width, initial-scale=1.0, user-scalable=0";var zoomDisable=function(){$objHead.find('meta[name=viewport]').attr("content",newContentAttr);};var zoomEnable=function(){$objHead.find('meta[name=viewport]').attr("content",defaultContentAttr);};if(wiley.checkDevice.isDeviceIOS()){$("input, select").on({'touchstart':function(){zoomDisable();}}).on({'touchend':function(){setTimeout(zoomEnable,500);}});}};wiley.setCustomScroll=function(){if(!wiley.isMobileView()){$('.modalWindow:not("#facetsListWindow") .modal-body, .main-navigation-search-autocomplete, #facetsModalScrollArea').perfectScrollbar({suppressScrollX:true,handlers:['click-rail','drag-scrollbar','wheel','touch']});}};wiley.initCountrySelect=function(){var $component=$('.main-navigation-select-country');var $countryDropdown=$('.select-country-dropdown');var $listContainer=$countryDropdown.find('ul');var $countrySearchInput=$('.country-search-input');var $selectedCountryInput=$('#selected-country-input');var $countryForm=$('#country-form');var $countryTriggerBtn=$('.trigger-country-dropdown');var setTimeoutOpen,setTimeoutClose;var delayIn=wiley.delayIn;var delayOut=wiley.delayOut;var notFoundTxt='There are no locations matched';var countryList=ACC.wileyCountryList?ACC.wileyCountryList:[];function fillDropdownList(countries){if(countries.length){$listContainer.html(createElements(countries));}else{$listContainer.html('<p class="not-found">'+notFoundTxt+'</p>');}}
function createElements(countries){return countries.map(function(i){return'<li tabindex="0" data-country-iso-code="'+i.isocode+'">'+i.name+'</li>';});}
function isCountryDropdownOpen(){return $countryDropdown.hasClass('open');}
function isClickOutsideSelector($target){return!$target.parents('.main-navigation-select-country').length;}
function toggleCountrySelector(e){var keyCode=(e.keyCode||e.which);if(e.type!=='keydown'||keyCode===32||keyCode===13||keyCode===27){e.preventDefault();isCountryDropdownOpen()?closeDropdown():openDropdown();}}
function closeDropdown(){var value=$countrySearchInput.val();if(value){$countrySearchInput.val('');fillDropdownList(countryList);}
$listContainer.find('li.selected').removeClass('selected');$countrySearchInput.blur();$countryDropdown.removeClass('open');$countryTriggerBtn.removeClass('open');}
function openDropdown(){$countryDropdown.addClass('open');$countryTriggerBtn.addClass('open');if(!wiley.isMobileView()){$countrySearchInput.focus();$listContainer.perfectScrollbar({suppressScrollX:true});$listContainer.scrollTop(0);$listContainer.perfectScrollbar('update');}}
function initCountrySearch(){$countrySearchInput.on('keyup',function(e){var value=this.value;var keyCode=(e.keyCode||e.which);if(keyCode!==wiley.KEY_CODE_MAP.tab){fillDropdownList(value?filterCountries(value):countryList);}});}
function checkMultipleWordCountries(countryName,value){var nameArr=countryName.split(' ');if(nameArr.length>1){return nameArr.some(function(s){return s.indexOf(value)===0;});}}
function filterCountries(value){value=value.toLocaleLowerCase();return countryList.filter(function(i){var countryName=i.name.toLocaleLowerCase();var isMatched=countryName.indexOf(value)===0;return isMatched?isMatched:checkMultipleWordCountries(countryName,value);});}
function sendCountryForm(el){$selectedCountryInput.val(el.data("country-iso-code"));$countryForm.submit();closeDropdown();}
function handler(e){var keyCode=(e.keyCode||e.which);var $target=$(e.target);if(keyCode===wiley.KEY_CODE_MAP.enter){$(this).find('li:focus').trigger('click');}}
function keyBinding(){$(document).on('click','.select-country-dropdown li',function(){sendCountryForm($(this));}).on('mouseenter','.trigger-country-dropdown',function(e){if(!wiley.isMobileView()){clearTimeout(setTimeoutClose);setTimeoutOpen=setTimeout(function(){openDropdown(e);},delayIn);}}).on('mouseleave','.main-navigation-select-country',function(e){clearTimeout(setTimeoutOpen);setTimeoutClose=setTimeout(function(){if(!$(e.relatedTarget).parents('.main-navigation-select-country').length){closeDropdown(e);}},delayOut);}).on('keydown click','.trigger-country-dropdown',function(e){toggleCountrySelector(e);}).on('click','.country-selected.visible-xs-inline-block',function(e){closeDropdown(e);}).on("click keyup",function(e){var keyCode=(e.keyCode||e.which);var $target=$(e.target);if(!wiley.isMobileView()&&((isClickOutsideSelector($target)||keyCode===27)&&isCountryDropdownOpen())){closeDropdown();}});$countryDropdown.on('keydown',handler);}
function initCountrySelect(){fillDropdownList(countryList);initCountrySearch();keyBinding();$component.addClass('initialized');}
initCountrySelect();};wiley.setProductPopover=function(){var delayIn=wiley.delayIn;var delayOut=wiley.delayOut;function showPopover(icon,container,placements){icon.popover("show");var $popover=$(container).find('.popover.in');var $popoverContent=$(container).find('.popover-content');var $arrow=$popover.find('.arrow');var iconPosition=icon.offset();var iconWidth=icon.width();var popoverLeftPosition=iconPosition.left;var popoverTopPosition=iconPosition.top;var popoverWidth=440;var arrowPosition=iconPosition.left;if(wiley.isMobileView()){$popover.hide();$arrow.css('left',arrowPosition);setTimeout(function(){$popover.show();$popover.addClass("popover-shadow");},0);}else if(!wiley.isMobileView()){if(placements.desktop==='bottom-right'){popoverLeftPosition=iconPosition.left-popoverWidth-25;popoverTopPosition=iconPosition.top;}
$popover.offset({'left':popoverLeftPosition+20}).offset({'top':popoverTopPosition});if(icon.parents('.modal').length){popoverWidth=400;popoverLeftPosition=iconPosition.left-popoverWidth+iconWidth;popoverTopPosition=iconPosition.top-$popover.height()-10;$popover.offset({'left':popoverLeftPosition}).offset({'top':popoverTopPosition});}}
$popover.on('click','[data-dismiss="popover"]',function(e){setTimeout(function(){$(icon).popover('hide');},delayOut);});}
if(wiley.isMobileView()){$(window).on('touchmove click',function(e){if($(e.target).hasClass("popover-shadow")){$('.icon-info').popover('hide');}});}
$('.icon-info').each(function(index,icon){var container=$(this).data('container')||'body';var containerClass=$(this).data('container-class')||'';var placement=$(this).data('placement')||'bottom';var placementsArr=placement.split(' ');var placements={desktop:placementsArr[0],mobile:placementsArr.length>1?placementsArr[1]:placementsArr[0]};var setTimeoutConst;$(icon).popover({placement:placement,html:"true",container:container,animation:false,template:'<div class="popover '+containerClass+'"><div class="arrow"></div><div class="popover-content"></div><button type="button" data-dismiss="popover" aria-label="Close" class="close"></button></div>',trigger:"manual"}).on("mouseenter",function(){var _this=this;setTimeoutConst=setTimeout(function(){showPopover($(_this),container,placements);$(".popover").on("mouseleave",function(){setTimeout(function(){$(icon).popover('hide');},delayOut);});},delayIn);}).on("mouseleave touchleave",function(){var _this=this;clearTimeout(setTimeoutConst);setTimeout(function(){if(!$(".popover.in:hover").length){$(_this).popover("hide");}},delayOut);}).on("keydown",function(e){var _this=this;if(e.keyCode===wiley.KEY_CODE_MAP.enter){if($('.popover').hasClass('in')){setTimeout(function(){$(this).popover("hide");},delayOut);}else{showPopover($(this),container,placements);}}else if(e.keyCode===wiley.KEY_CODE_MAP.escape||e.keyCode===wiley.KEY_CODE_MAP.tab){$(this).popover("hide");}else if(e.keyCode===wiley.KEY_CODE_MAP.keydown){var focusableElements=$('.popover.in').find('select, input, textarea, button, a[href]').filter(':visible').not(':disabled');if(focusableElements.length){focusableElements.first().focus();}}
$(".popover.in").on("keydown",function(e){if(e.keyCode===wiley.KEY_CODE_MAP.tab){$(_this).popover('hide');$(_this).focus();}});});});if(wiley.checkDevice.isDeviceIOS()){$('body').css({'cursor':'pointer'})}};wiley.fluidContainerBackground=function(){var list=$(".fluid-container-image .container-image");var url;for(var i=0;i<list.length;i++){url=wiley.isMobileView()?list[i].getAttribute('data-image-mobile'):list[i].getAttribute('data-image');if(url){list[i].style.backgroundImage="url('"+encodeURI(url)+"')";}}};wiley.constructBaseUrl=function(){var baseUrl=window.location.origin+window.location.pathname;if(!baseUrl.match(/\/$/)){baseUrl=baseUrl+'/';}
return baseUrl;}
wiley.constructAllFacetValuesUrl=function(facetCode){var baseUrl=wiley.constructBaseUrl();var requestParams=window.location.search;return baseUrl+'loadMoreFacetValues'+requestParams+(requestParams?"&":"?")+"facetCode="+facetCode;}
wiley.initFacetPanel=function(){var facetPanel=$('.facets-panel-block');if(!facetPanel.length){return;}
if(wiley.isMobileView()){wiley.setFacetsViewMoreMobile();}else{wiley.setFacetsViewMoreDesktop();}
var facetPanelWrapper=$('.facets-panel-wrapper');var facetButton=$('.facets-panel-button');var facetesBlockTitle=$('.facets-panel-block-title');var facetesExpanderWrapper=$('.facets-expander');var facetesExpanderOn=$('.expand-facets');var facetesExpanderOff=$('.collapse-facets');var facetesTopPosition;var checkedElements=$('.facets-panel-list .js-facet-checkbox:checked');var productContainer=$('.products-list');var searchResult=$('.search-result-header');var mainHeaderContainer=$('#main-header-container');var mainHeader=$('.main-sticky-header');var searchPanel=$('.main-navigation-search');function togglePanel(){if(facetPanelWrapper.hasClass('open')){facetPanelWrapper.find('.facets-panel-block-title.open').trigger('click')}
facetPanelWrapper.toggleClass('open');$('body, html').toggleClass("has-drawer");}
function closeAllFacets($this){$this.parent().removeClass('active');$('.facets-panel-block-inner:visible').slideUp().siblings(facetesBlockTitle).removeClass('active');facetesExpanderOff.attr('tabindex','-1');facetesExpanderOn.attr('tabindex','0');}
function openAllFacets($this){$this.parent().addClass('active');$('.facets-panel-block-inner:hidden').slideDown().siblings(facetesBlockTitle).addClass('active');facetesExpanderOn.attr('tabindex','-1');facetesExpanderOff.attr('tabindex','0');}
function bindHandlers(){facetesBlockTitle.on('click keyup keydown',function(e){var keyCode=(e.keyCode||e.which);if(e.type==='click'||(e.type==='keydown'&&(keyCode===13||keyCode===32))){e.preventDefault();if($('.facets-panel-block-inner:hidden').length){facetesExpanderWrapper.addClass('active');}
$(this).siblings('.facets-panel-block-inner').slideToggle(500,'swing');$(this).toggleClass('active');setTimeout(function(){if(!$('.facets-panel-block-inner:visible').length){facetesExpanderWrapper.removeClass('active');}},600);}
if(e.type==='keydown'&&keyCode===9){$(this).removeClass('focused');}
if(e.type==='keyup'&&keyCode===9){$(this).addClass('focused');}});facetesExpanderOn.on('click keydown',function(e){var keyCode=(e.keyCode||e.which);if(e.type!=='keydown'||keyCode===13){e.preventDefault();if($(this).parent().hasClass('active')){closeAllFacets($(this));}else{openAllFacets($(this));}}});facetesExpanderOff.on('click keydown',function(e){var keyCode=(e.keyCode||e.which);if(e.type!=='keydown'||keyCode===13){e.preventDefault();closeAllFacets($(this))}});}
function setPosition(){mainHeaderContainer.css({"height":mainHeader.height(),"margin-bottom":searchPanel.height()});if(searchResult.length){facetesTopPosition=searchResult.outerHeight()+70;facetPanelWrapper.css('top','-'+facetesTopPosition+'px');}}
function openActiveSection(){if(checkedElements.length){checkedElements.closest('.facets-panel-block-inner').slideDown();checkedElements.closest('.facets-panel-item').addClass('active');}}
if(!wiley.isMobileView()){$('body').addClass('page-wth-search-filters');setPosition();bindHandlers();openActiveSection();}
facetButton.detach().insertBefore(productContainer);facetPanelWrapper.find('.close-icon').on('click',togglePanel);facetPanelWrapper.find('.button-teal').on('click',togglePanel);facetButton.on('click',togglePanel);$(document).on("click",".facets-panel-list .js-facet-checkbox",function(){ACC.facetsearch.submitCheckboxForm(this);});$(document).on('click','#facetsListWindow button[type="reset"]',function(){ACC.facetsearch.modal.clearAllValues();});}
wiley.facets={data:{},maxItems:0,currentFacetCode:null,setModalTitle:function(title){title=title.toLowerCase();if(title==='price range'){return'prices';}
if(!title.match(/s$/)){title=title+'s';}
return title;},setPlaceholder:function(input,title){title=title.toLowerCase();var placeholderMap={'subject':'subject name','series':'series name','brands':'brand name','course':'course name','authors':'author','price range':'price','language':'language','types':'type'};var placeholderName=placeholderMap[title]||title;var placeholder='Search '+placeholderName;input.attr('placeholder',placeholder);},isSingleSelect:function(el){return $(el).find('input[type=checkbox]').length===0;},htmlTemplates:{singleSelect:'<a href="{{link}}" class=" facets-panel-item" title="{{{value}}}"><b class="facet-text">{{{highlightedValue}}}</b><i>{{count}}</i></a>',multiSelect:'<div class="facets-panel-item" data-pq="{{pq}}">'+'<label class="custom-checkbox">'+'<input type="checkbox" class="facet-checkbox js-facet-checkbox" {{#selected}}checked="checked"{{/selected}}/>'+'<span class="facet-label"><span class="facet-text" title="{{{value}}}">{{{highlightedValue}}}</span><i>{{count}}</i></label></div>'},getFacetsRows:function(data,template,searchValue){for(var i=0,rows=[];i<data.length;i+=3){try{var rowString='';var itemsInRow=[data[i],data[i+1],data[i+2]];itemsInRow.forEach(function(item){if(item){var highlightedValue=item.value;if(searchValue){var theRegEx=new RegExp("("+searchValue+")","igm");highlightedValue=item.value.replace(theRegEx,"<em class='highlighted'>$1</em>");}
item.highlightedValue=highlightedValue;var itemStr=Mustache.render(template,item);rowString=rowString+itemStr;}});rows.push('<div class="values-row">'+rowString+'</div>');}catch(err){console.log(err)
rows=[];}}
return rows;},getSelectedFacets:function(facetCode){if(!facetCode){facetCode=wiley.facets.currentFacetCode;}
return wiley.facets.getCachedData(facetCode).filter(function(item){return item.selected});},loadFacets:function(facetCode,async){return $.ajax({url:wiley.constructAllFacetValuesUrl(facetCode),type:"get",cache:true,async:async,error:function(error){console.log(error)}});},getCachedData:function(facetCode){return wiley.facets.data[facetCode]||[];},hideModalFooterIfSingleSelect:function(modal,isSingleSelectFacet){var modalFooter=modal.find('.modal-footer');isSingleSelectFacet?modalFooter.hide():modalFooter.css({'display':'flex'});},bindModalWindowSearch:function(searchInput,response,template,clusterize){searchInput.on('keydown',function(e){if(e.which===13){e.preventDefault();e.stopPropagation();return false;}});searchInput.on('keyup',function(e){if(e.which===(91||8||83||38||65)){return;}
var value=searchInput.val();if(value){try{var regex=new RegExp(value,"i");var filteredItems=response.filter(function(item){return item.value.search(regex)>=0});clusterize.update(wiley.facets.getFacetsRows(filteredItems,template,value));clusterize.refresh(true)}catch(err){clusterize.clear();}}else{clusterize.update(wiley.facets.getFacetsRows(response,template));clusterize.refresh(true)}})},};wiley.setFacetsViewMoreDesktop=function(){var facetPanel=$('.facets-panel');var singleSelectTemplate=wiley.facets.htmlTemplates.singleSelect;var multiSelectTemplate=wiley.facets.htmlTemplates.multiSelect;var clusterize;var modalWindow=$('#facetsListWindow');$('.facets-panel-search').removeClass('show');$(facetPanel).off('click');$('.js-all-facet-values-link').off('click');$(facetPanel).on('click keydown','.js-all-facet-values-link',function(e){var keyCode=(e.keyCode||e.which);if(e.type!=='keydown'||keyCode===13){e.preventDefault();var viewMoreLink=$(this);var facet=viewMoreLink.parents('.js-facet');var facetCode=facet.data('facet-code');var title=facet.find('.facets-panel-block-title').text();var isSingleSelectFacet=wiley.facets.isSingleSelect(facet);var response;var modalTitle=modalWindow.find('.modal-title');var searchInput=modalWindow.find('.facets-panel-search').find('input');var contentArea=$('#facetsModalContentArea');var scrollArea=modalWindow.find('#facetsModalScrollArea');var template=isSingleSelectFacet?singleSelectTemplate:multiSelectTemplate;if(!wiley.facets.getCachedData(facetCode).length){wiley.facets.loadFacets(facetCode,false).then(function(data){response=data
wiley.facets.data[facetCode]=response;},function(err){console.log(err);});}else{response=wiley.facets.getCachedData(facetCode);}
if(response){wiley.facets.currentFacetCode=facetCode;contentArea.html(' ');searchInput.val('');modalWindow.modal('show');modalTitle.text(title).append('<i>'+response.length+' '+wiley.facets.setModalTitle(title)+'</i>');wiley.facets.setPlaceholder(searchInput,title);wiley.facets.hideModalFooterIfSingleSelect(modalWindow,isSingleSelectFacet);if(clusterize){clusterize.clear();clusterize.update(wiley.facets.getFacetsRows(response,template));setTimeout(function(){scrollArea.scrollTop(0);},200);}else{clusterize=new Clusterize({rows:wiley.facets.getFacetsRows(response,template),scrollId:'facetsModalScrollArea',contentId:'facetsModalContentArea',rows_in_block:20,no_data_text:'No results',no_data_class:'no-results'});}
wiley.facets.bindModalWindowSearch(searchInput,response,template,clusterize);}}});};wiley.setFacetsViewMoreMobile=function(e){var facetPanel=$('.facets-panel');var singleSelectTemplate=wiley.facets.htmlTemplates.singleSelect;var multiSelectTemplate=wiley.facets.htmlTemplates.multiSelect;var noResultTag=$('<div class="no-results">No results</div>');$(facetPanel).off('click');$('.js-all-facet-values-link').off('click');$(facetPanel).on('click','.facets-panel-block-title',function(){var title=$(this).text();var $facet=$(this).parents('.js-facet');var itemList=$facet.find('.facets-panel-list');var facetCode=$facet.data('facet-code');var searchPanel=$facet.find('.facets-panel-search');var searchInput=searchPanel.find('input');var viewMoreLink=$facet.find('.js-all-facet-values-link');var template=wiley.facets.isSingleSelect($facet)?singleSelectTemplate:multiSelectTemplate;var filteredItems=[];if(viewMoreLink.length){searchPanel.addClass('show');if(!wiley.facets.maxItems){wiley.facets.maxItems=$facet.find('.facets-panel-item').length}
wiley.facets.setPlaceholder(searchInput,title);}else{searchPanel.removeClass('show');}
function renderTemplate(count,searchValue,items,container,template){for(var i=wiley.facets.maxItems*(count-1);i<wiley.facets.maxItems*count;i++){if(items[i]){var highlightedValue=items[i].value;if(searchValue){var theRegEx=new RegExp("("+searchValue+")","igm");highlightedValue=items[i].value.replace(theRegEx,"<em class='highlighted'>$1</em>");}
items[i].highlightedValue=highlightedValue;var itemStr=Mustache.render(template,items[i]);container.append(itemStr);}}}
function setInitialState(){wiley.facets.loadFacets(facetCode,true).then(function(data){wiley.facets.data[facetCode]=data;filteredItems=[].concat(wiley.facets.data[facetCode]);bindSearch(searchInput,filteredItems,itemList);showFacetsElements(1);},function(err){console.log(err);});}
function reset(){itemList.html(' ');filteredItems=[].concat(wiley.facets.data[facetCode]);showFacetsElements();searchInput.val('');}
function bindSearch(searchInput,response,itemList){searchInput.on('keydown',function(e){if(e.which===13){e.preventDefault();e.stopPropagation();return false;}});searchInput.on('keyup',function(e){if(e.which===(91||8||83||38||65)){return;}
var searchValue=searchInput.val();if(searchValue){try{var regex=new RegExp(searchValue,"i");filteredItems=response.filter(function(item){return item.value.search(regex)>=0});if(filteredItems.length){itemList.html(' ');showFacetsElements(null,searchValue);}else{showFacetsElements();itemList.html(noResultTag);}}catch(err){console.log(err);showFacetsElements();itemList.html(noResultTag);}}else{reset();}})}
function viewMore(count,searchValue,items,container,template){renderTemplate(count,searchValue,items,container,template);if(items.length>wiley.facets.maxItems*count){viewMoreLink.show()}else{viewMoreLink.hide()}}
function closePanel(panel){panel.removeClass('open');var facet=panel.parents('.js-facet');var facetCode=facet.data('facet-code');var loadedData=wiley.facets.data[facetCode];if(loadedData&&loadedData.length){var container=facet.find('.facets-panel-list');var template=wiley.facets.isSingleSelect(facet)?singleSelectTemplate:multiSelectTemplate;container.html(' ');showFacetsElements(null,null,loadedData,container,template);}}
function showFacetsElements(initialStep,searchValue,facets,container,tmpl){var items=facets&&facets.length?facets:filteredItems;var count=1;if(!container){container=itemList}
if(!tmpl){tmpl=template;}
viewMoreLink.off('click');if(initialStep){count=initialStep;}else{viewMore(count,searchValue,items,container,tmpl);}
viewMoreLink.on('click',function(){count++;viewMore(count,searchValue,items,container,tmpl);});}
if($(this).hasClass('open')){$(this).removeClass('open');$facet.find('.facets-panel-block-inner').removeClass('open');viewMoreLink.off('click')
if(wiley.facets.getCachedData(facetCode).length){reset();}}else{var openedPanel=facetPanel.find('.facets-panel-block-title.open');if(openedPanel.length){facetPanel.find('.facets-panel-block-inner').removeClass('open');closePanel(openedPanel);}
$(this).addClass('open');$facet.find('.facets-panel-block-inner').addClass('open');if(viewMoreLink.length){if(!wiley.facets.getCachedData(facetCode).length){setInitialState();}else{reset();bindSearch(searchInput,wiley.facets.getCachedData(facetCode),itemList);}}}});};wiley.addLazyLoading=function(wrapper,container,element){var listWrapper=$(wrapper);var windowHeight=$(window).height();if(!listWrapper.length){return false;}
function getUrlParam(name){var results=new RegExp('[\?&]'+name+'=([^&#]*)').exec(window.location.href);return results?results[1]:null;}
function setReqParams(requestParams,currentPage){var delimiter=requestParams?'&':'?';var pageQueryKey="page=";if(requestParams.indexOf('pq=')===-1){requestParams=requestParams.replace('text=','pq=');}
return pageReqParam?requestParams.replace(pageQueryKey+pageReqParam,pageQueryKey+currentPage):requestParams+delimiter+pageQueryKey+currentPage;}
function renderResults(result,resultContainer){resultContainer.append(result);isLoading=false;loading.detach();wiley.displayCustomSelect();wiley.setProductPopover();}
function constructSearchUrl(params){var baseUrl=wiley.constructBaseUrl();return baseUrl+'loadMore'+params;}
function loadResults(){isLoading=true;listWrapper.append(loading);currentPage+=1;var newReqParams=setReqParams(requestParams,currentPage);$.ajax({url:constructSearchUrl(newReqParams),type:"get",cache:true,async:true,error:function(data,status,error){console.log('error',data,status,error);loading.detach();},success:function(result){currentPage=parseInt($(result).find("input[name='_currentPage']").val());numberOfPages=parseInt($(result).find("input[name='_numberOfPages']").val());if(currentPage>=numberOfPages){loading.detach();return;}
renderResults(result,resultContainer);ACC.product.bindToAddToCartForm();}});}
function isScrollBottom(){var lastElement=resultContainer.find(element).eq(-1);if(lastElement.length){var lastPosition=lastElement.offset().top-windowHeight;return!isLoading&&$(window).scrollTop()>=lastPosition;}}
var requestParams=window.location.search;var loading=$("<div class='spinner'></div>");var resultContainer=$(container);var pageReqParam=getUrlParam('page');var currentPage=pageReqParam?Number(pageReqParam):0;var isLoading=false;var numberOfPages=null;var delay=200;$(window).on('scroll',function(){if(numberOfPages&&currentPage>=numberOfPages-1){return;}
var isScrolling=false;if(!isScrolling){setTimeout(function(){isScrolling=false;isScrollBottom()&&loadResults();},delay);isScrolling=true;}});};wiley.initDropdownComponentMobile=function(){if(wiley.isMobileView()){var sideFacetPanel=$('.side-panel');var panelHeader=sideFacetPanel.find('header');var facetTitle=panelHeader.find('h4').text();var facetItems=sideFacetPanel.find('ul');var facetItemsLinks=facetItems.find('a');var facetsDropdown=$('.facets-dropdown-component');facetsDropdown.find('.dropdown-toggle').text(facetTitle);facetsDropdown.find('.dropdown-menu').append(facetItemsLinks);}};wiley.setBgImage=function(){$('.hero-banner').each(function(index,el){var container=$(el);function setBg(img,element){var src=img.attr('src');if(src){src=encodeURI(src);var bgAttr=$(el).css('background-image');var newBg=window.location.origin+src;var oldBg=bgAttr&&bgAttr.replace('url("','').replace('")','');if(newBg!==oldBg){element.css('background-image','url('+src+')');}}
img.hide()}
if($(this).find('.owl-carousel').length){var images=container.find('.js-responsive-image');images.each(function(index,img){var carouselItem=$(this).parents('.owl-item');setBg($(this),carouselItem);$(img).on('load',function(){setBg($(img),carouselItem);});});}else{var heroBannerContainer=container.find('.hero-banner-component');var img=heroBannerContainer.find('.js-responsive-image');setBg(img,$(el));img.on('load',function(){setBg(img,$(el));});}});};wiley.setSortOptionInUrl=function(){var delimiter='|';var queryParamKey='?pq=';var encodedDelimiter=encodeURIComponent(delimiter);var encodedColon=encodeURIComponent(':');var defaultSortOption='relevance';var isEmptyPage=$('body').hasClass('page-searchEmpty');var searchParams=decodeSpecialCharacters(window.location.search);var pqParamsArray=searchParams.split(delimiter);var sortOption=pqParamsArray[1];function isEmptyString(value){return typeof(value)==='string'&&!value.trim();}
function decodeSpecialCharacters(params){return params.replace(/%7C/gi,delimiter);}
function encodeSpecialCharacters(params){return params.replace(/\|/gi,encodedDelimiter).replace(/:/gi,encodedColon);}
function setNewSearchQueryParams(params){window.location.search=encodeSpecialCharacters(params);}
function updateUrlWithoutReloading(newUrl){if(newUrl){window.history.replaceState({},'',newUrl)}}
function updatePageReferrerForCountrySelector(newUrl){if(newUrl){$("#page-referer-input").val(newUrl)}}
function setDefaultSortOptionInUrl(){if(searchParams.indexOf(queryParamKey)!==-1){if(isEmptyPage){return;}
if(isEmptyString(sortOption)){pqParamsArray[1]=defaultSortOption;var newUrl=window.location.origin+window.location.pathname+encodeSpecialCharacters(pqParamsArray.join(delimiter));updateUrlWithoutReloading(newUrl);updatePageReferrerForCountrySelector(newUrl);}else if(!sortOption){var newUrl=window.location.href+encodedDelimiter+defaultSortOption;updateUrlWithoutReloading(newUrl);updatePageReferrerForCountrySelector(newUrl);}}}
setDefaultSortOptionInUrl();$("#sortOptions").on("selectmenuselect change",function(event,ui){var selectedSortOption=event.type==="change"?$(this).find('option:selected')[0].value:ui.item.value;var params=decodeSpecialCharacters(window.location.search);var pqParamsArray=params.split(delimiter);var sortOption=pqParamsArray[1];var isCategoryPage=$('body').hasClass('pageType-CategoryPage');if(isCategoryPage&&params.indexOf(queryParamKey)<0){setNewSearchQueryParams(queryParamKey+delimiter+selectedSortOption);}else if(sortOption&&sortOption!==selectedSortOption){setNewSearchQueryParams(params.replace(sortOption,selectedSortOption));}else if(isEmptyString(sortOption)){pqParamsArray[1]=selectedSortOption;setNewSearchQueryParams(pqParamsArray.join(delimiter));}});};wiley.modalTabbing=function(){var tabbing=function(jqSelector){var inputs=jqSelector.find('select, input, textarea, button, a[href]').filter(':visible').not(':disabled');var isFacetsWnd=function(){return jqSelector.attr('id')==='facetsListWindow'};var activeIndex=isFacetsWnd()?1:-1;inputs.eq(activeIndex).focus();jqSelector.on('keydown',function(e){if(e.which===9){if(!e.shiftKey){if(inputs[inputs.length-1]===e.target){e.preventDefault();inputs.first().focus();}}
else{if(inputs[0]===e.target){e.preventDefault();inputs.last().focus();}}}
if(e.which===27){$(this).modal('hide');}});};$('.modalWindow').on('shown.bs.modal',function(){if($(this).attr('id')==='addToCartModalWnd'){wiley.setProductPopover();}
if(!wiley.isMobileView()){tabbing($(this));}})};wiley.submitSearchResultForm=function(){var searchForm=$('form[name^="search_form_"]');var delimiter='|';function buildUrlSearchParams(name,value){var defaultSortValue='relevance';value=value.replace(/\|+/g,' ');return name+'='+encodeURIComponent(value+delimiter+defaultSortValue);}
searchForm.submit(function(){var searchInput=$("#js-site-search-input");var searchName=searchInput.attr('name');var searchValue=$.trim(searchInput.val());var searchUrl=searchForm.attr('action');if(searchValue){window.location.href=window.location.origin+searchUrl+'?'+buildUrlSearchParams(searchName,searchValue)}
return false});};wiley.updateMultipleSectionsAjax=function(data,callback){var elements=$(data).find("element");$(elements).each(function(index){var section=$(this);var sectionKey=section.find("key").html();var sectionValue=section.find("value");$("#"+sectionKey).replaceWith(sectionValue[0].innerText);});callback.call();}
wiley.collapseElements=function(parent,button,content){$(parent).each(function(){var targetButton=$(this).find(button);var targetContent=$(this).find(content);if(!targetButton.hasClass('collapsed')){targetButton.addClass('collapsed');targetContent.collapse('hide');}});};wiley.customTabs=function(){var tabContainerItem=$(".common-tabs .nav-tabs li");var tabList=tabContainerItem.closest('ul');if(tabContainerItem.length>4){tabList.addClass("customScroll").perfectScrollbar();setTimeout(function(){tabList.perfectScrollbar('update');},1000);}
$('#pdpTabsCollapsed').tabCollapse();if(wiley.isMobileView()){$('#pdpTabsCollapsed-accordion').on('click','.js-tabcollapse-panel-heading',function(){wiley.collapseElements('.section-permissions','#section-permissions-button','#section-permissions-item');});setTimeout(function(){wiley.collapseElements('#pdpTabsCollapsed-accordion .panel','.js-tabcollapse-panel-heading','.panel-collapse');},1000);}};wiley.searchResultPage=function(){var mainHeader=$('.main-sticky-header');var searchResultPage=$('.search-result-page');var searchResultHeader=$('.search-result-header');var searchResultHeaderMain=$('.search-result-header:eq(1)');var searchResultPageRow=$("#search-result-page-row");var jsProductFacet=$(".js-product-facet");var searchPanel=$('.main-navigation-search');var bannerImage=$("#search-result-page-row-container").find(".js-responsive-image");var headerHeight=mainHeader.height()+searchPanel.height();if($('#search-result-page-row-container').children().length>0){bannerImage.removeClass("bannerImage").addClass("bannerImage");searchResultHeaderMain.addClass("banner-header");searchResultPage.removeClass("search-result-page-extrapadding");$(".search-result-header-banner").css({"display":"block"});searchResultPageRow.removeClass("searchResultPageRowNoBanner").addClass("searchResultPageRowBanner");jsProductFacet.removeClass("jsProductFacetNoBanner").addClass("jsProductFacetBanner");}else{searchResultPage.css('padding-top',searchResultHeader.outerHeight()-5);searchResultPage.addClass("search-result-page-extrapadding");searchResultHeader.css('top',headerHeight-5);$(".facets-panel-wrapper").css('top','-145px');searchResultHeaderMain.removeClass("banner-header");$(".search-result-header-banner").css({"display":"none"});searchResultPageRow.removeClass("searchResultPageRowBanner").addClass("searchResultPageRowNoBanner");jsProductFacet.removeClass("jsProductFacetBanner").addClass("jsProductFacetNoBanner");}
if(searchResultHeader.length){$(window).scroll(function(){if($(this).scrollTop()>78){searchResultHeader.addClass('sticky-tabs');mainHeader.addClass('no-shadow');}else{searchResultHeader.removeClass('sticky-tabs');mainHeader.removeClass('no-shadow');}});}};wiley.customUiElements=function(){var productItemSpinner=$('.product-item-spinner');var min=1;var max=10;var value=min;if(productItemSpinner.length){productItemSpinner.spinner({min:min,max:max,change:function(event,ui){var val=$(this).spinner("value");if(!val){$(this).spinner("value",min);}}}).spinner("value",min);productItemSpinner.on('input',function(e){var inputVal=$.trim($(this).val());if(inputVal&&(isNaN(inputVal)||inputVal>max||inputVal<min)){$(this).prop("value",parseInt(value,10));}else{if(inputVal){value=parseInt(inputVal,10);$(this).val(value);}}})}};wiley.readExcerptDrpodown=function readExcerptDrpodown(){var $readExcerptDrpodown=$('.dropdown-block.read-excerpt');var $btn=$readExcerptDrpodown.find('button.collapsed');var $innerBlock=$readExcerptDrpodown.find('nav');function closeDropdown(){$innerBlock.removeClass('in');$btn.addClass('collapsed');}
function scrollHandler(){closeDropdown();$(window).off('scroll',scrollHandler);};function clickHandler(e){var target=$(e.target);if(!target.hasClass('read-excerpt')&&!target.parents('.read-excerpt').length){closeDropdown();$(window).off('click',clickHandler);}}
$readExcerptDrpodown.click(function(){$(window).on('scroll',scrollHandler);$(window).on('click',clickHandler);});};wiley.setSectionsMenu=function setSectionsMenu(){try{var $menuSections=$('.page-sections-menu');if($menuSections.length){var $pointer=$('<span class="active-pointer"></span>').prependTo($menuSections);var menuSectionsHeight=$menuSections.innerHeight();var $parentMenu=$menuSections.parent();var $content=$('.product-details-content');var headerHeight=$('.main-sticky-header').height();var parentHeight=$parentMenu.height();var breadcrumbsHeight=$('.breadcrumbs').height();var $mainFooter=$('.main-footer-container');var mainFooterHeight=$mainFooter.outerHeight();var delay=50;var menuSectionWidth=$menuSections.width();var minWidth=1240;var topLimit=parentHeight-menuSectionsHeight+breadcrumbsHeight+25;var page=$("html, body");var isAnimated=false;var setTimer;var sectionsMap=[];var activeLink;function truncateLinks(links){if(links.length&&!wiley.isMobileView()){links.find('a').truncate({width:'360'});}}
function setActiveLink(activeLink){var $link=$menuSections.find('a[href="'+activeLink+'"]');if(!$link.hasClass('active')){var liItem=$link.parent();$pointer.css('top',liItem.position().top+9);$link.parents('ul').find('li.active').removeClass('active');liItem.addClass('active');}}
function createSectionsMap($items,sectionsMap){$items.each(function(i,link){var section=$(link).find('a').attr('href');if($(section).length){var item={href:section,offsetTop:$(section).offset().top};if(sectionsMap.length===1&&item.offsetTop<sectionsMap[i-1].offsetTop){sectionsMap[i]=sectionsMap[i-1];sectionsMap[i-1]=item;}else{sectionsMap.push(item);}}else{$(link).detach();}});}
function init(){truncateLinks($menuSections);$menuSections.addClass('initialized');createSectionsMap($items,sectionsMap);activeLink=sectionsMap[0].href;setActiveLink(activeLink);bindClickHandler();bindScroll();}
function findActiveSection(){var fromTop=window.pageYOffset;var activeSection=sectionsMap[0];sectionsMap.forEach(function(item){if(item.offsetTop<=fromTop+headerHeight&&item.offsetTop>activeSection.offsetTop){activeSection=item;}});if(activeLink!==activeSection.href){activeLink=activeSection.href;setActiveLink(activeLink);}}
function bindScroll(){$(window).scroll(function(e){if(!wiley.isMobileView()){var isScrolling=false;if(!isScrolling){setTimeout(function(){isScrolling=false;!isAnimated&&findActiveSection();if($(this).scrollTop()>topLimit){$menuSections.addClass('sticky');}else{$menuSections.removeClass('sticky');}
if($(window).scrollTop()>$(document).height()-mainFooterHeight-headerHeight-menuSectionsHeight){$menuSections.addClass('bottom-limit');}else{$menuSections.removeClass('bottom-limit');}
if($(window).width()<minWidth){var left=$content[0].getBoundingClientRect().left+35;var dif=left-menuSectionWidth;if(!$menuSections.hasClass('bottom-limit')){if(dif<0){$menuSections.offset({left:dif+50});}else{$menuSections.removeAttr('style');}}}},delay);isScrolling=true;}}});}
function bindClickHandler(){$menuSections.on('click','li',function(e){if(!wiley.isMobileView()){isAnimated=true;clearTimeout(setTimer);var parent=$(this).parent();var target=$(this).find('a').attr('href');$pointer.css('top',$(this).position().top+9);parent.find('li.active').removeClass('active');$(this).addClass('active');if($(target).length){var targetPos=$(target).offset().top-headerHeight;page.stop().animate({scrollTop:targetPos},{duration:300,done:function(){setTimer=setTimeout(function(){isAnimated=false;},1500)}});}
return false;}});}
if(!wiley.isMobileView()&&!$menuSections.hasClass('initialized')){var $items=$menuSections.find('li');if($items.length){$(window).load(function(){init();});}}}}catch(e){console.log(e);}};wiley.truncateDescription=function truncateDescription(){var btn=$('<div class="more-text-btn"><span tabindex="0">READ MORE</span></div>');var dots=$('<span class="more-text-dots">...</span>');var longDescription=$('.product-long-description');var maxLength=1000;function cutString(text,maxLength,index,lastCharsAmount){return text.substring(0,maxLength+(index-lastCharsAmount));}
if(longDescription.length){var innerContent=longDescription.find('.description');var text=innerContent.html();var length=$.trim(innerContent.text()).length;if(length>maxLength){var newStr=text.substring(0,maxLength);var lastCharsAmount=5;var lastChars=text.substring(maxLength-lastCharsAmount,maxLength);var ampersandIndex=lastChars.indexOf('&');var openTagIndex=lastChars.indexOf('<');var startIndex=openTagIndex!==-1?openTagIndex:ampersandIndex!==-1?ampersandIndex:null;if(startIndex){newStr=cutString(text,maxLength,startIndex,lastCharsAmount);}
innerContent.empty().html(newStr+'...');innerContent.append(btn);btn.on('click keydown',function(e){var keyCode=(e.keyCode||e.which);if(e.type==='click'||keyCode===13){innerContent.empty().html(text);}});}}};wiley.paginationForm=function(){var paginationForm=$('.page-number-form');var paginationInput=paginationForm.find('input');function pageReloader(form,input){var actionAttrValue=form.attr("action");var pageNumber=$(input).val()-1;var url=window.location.href;if($(input).val()!=input.defaultValue){var arr=url.split('?');if(actionAttrValue.length!==0){if(arr.length>1&&arr[1]!==''){window.location.href=actionAttrValue+"&page="+pageNumber;}else{window.location.href=actionAttrValue+"?page="+pageNumber;}}else{window.location.href=arr[0]+"?page="+pageNumber;}}}
if(paginationForm.length){$(paginationInput).on("keydown",function(e){var key=e.charCode||e.keyCode||0;var keyValue=e.key;var numbers=/^[0-9]+$/;if(keyValue.match(numbers)||key==8||key==9||key==46||(key>=37&&key<=40)){return true;}else{return false;}}).on("keyup",function(){if($(this).val()=='0'){$(this).val(this.defaultValue);}}).on("focusout",function(){}