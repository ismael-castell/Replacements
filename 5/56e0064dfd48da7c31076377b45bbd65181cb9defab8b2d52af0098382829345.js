/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1511:function(t,e,n){n(82),n(9),n(1634),n(1791),n(1655),n(1656),n(1657),n(29),n(13),n(346),n(10),n(14),n(34),n(37),n(18),n(91),window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,s=void 0,a=function(t,e){v[o]=t,v[o+1]=e,2===(o+=2)&&(s?s(_):b())},u="undefined"!=typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(_,1)}}var v=new Array(1e3);function _(){for(var t=0;t<o;t+=2)(0,v[t])(v[t+1]),v[t]=void 0,v[t+1]=void 0;o=0}var h,m,g,y,b=void 0;function w(t,e){var n=this,r=new this.constructor(k);void 0===r[I]&&M(r);var o=n._state;if(o){var i=arguments[o-1];a((function(){return C(o,r,i,n._result)}))}else P(n,r,t,e);return r}function T(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(k);return N(e,t),e}f?b=function(){return e.nextTick(_)}:l?(m=0,g=new l(_),y=document.createTextNode(""),g.observe(y,{characterData:!0}),b=function(){y.data=m=++m%2}):d?((h=new MessageChannel).port1.onmessage=_,b=function(){return h.port2.postMessage(0)}):b=void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(_)}:p()}catch(t){return p()}}():p();var I=Math.random().toString(36).substring(2);function k(){}var x=void 0;function A(e,n,r){n.constructor===e.constructor&&r===w&&n.constructor.resolve===T?function(t,e){1===e._state?E(t,e._result):2===e._state?O(t,e._result):P(e,void 0,(function(e){return N(t,e)}),(function(e){return O(t,e)}))}(e,n):void 0===r?E(e,n):t(r)?function(t,e,n){a((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?N(t,n):E(t,n))}),(function(e){r||(r=!0,O(t,e))}),t._label);!r&&o&&(r=!0,O(t,o))}),t)}(e,n,r):E(e,n)}function N(t,e){if(t===e)O(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)E(t,e);else{var n=void 0;try{n=e.then}catch(e){return void O(t,e)}A(t,e,n)}var r,o}function S(t){t._onerror&&t._onerror(t._result),j(t)}function E(t,e){t._state===x&&(t._result=e,t._state=1,0!==t._subscribers.length&&a(j,t))}function O(t,e){t._state===x&&(t._state=2,t._result=e,a(S,t))}function P(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&a(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?C(n,r,o,i):o(i);t._subscribers.length=0}}function C(e,n,r,o){var i=t(r),s=void 0,a=void 0,u=!0;if(i){try{s=r(o)}catch(t){u=!1,a=t}if(n===s)return void O(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;n._state!==x||(i&&u?N(n,s):!1===u?O(n,a):1===e?E(n,s):2===e&&O(n,s))}var U=0;function M(t){t[I]=U++,t._state=void 0,t._result=void 0,t._subscribers=[]}var H=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(k),this.promise[I]||M(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&E(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===x&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===T){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===w&&t._state!==x)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===L){var a=new n(k);s?O(a,i):A(a,t,o),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===x&&(this._remaining--,2===t?O(r,n):this._result[e]=n),0===this._remaining&&E(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;P(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),L=function(){function e(t){this[I]=U++,this._result=this._state=void 0,this._subscribers=[],k!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){N(t,e)}),(function(e){O(t,e)}))}catch(e){O(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return L.prototype.then=w,L.all=function(t){return new H(this,t).promise},L.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},L.resolve=T,L.reject=function(t){var e=new this(k);return O(e,t),e},L._setScheduler=function(t){s=t},L._setAsap=function(t){a=t},L._asap=a,L.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=L},L.Promise=L,L},t.exports=r()}).call(this,n(5),n(6))},function(t,e){t.exports={tdm_type:9,tdm_ver:"v1.0.6",logValueSplitChar:{log_log:"\n",table_kv:"|",k_v:"=",kv_kv:"&"},logId:{custom:100,sys:101},cacheKey:{dev_uuid:"tdm_dev_uuid"},tableName:{prefix:{normal:"insight",tdm:"tdm"}},routeBaseUrlPath:"/tdm/v1/route",routeBaseUrlForEnv:{test:"https://htest.tdm.qq.com:8013",cn:"https://hc.tdm.qq.com:8013",sg:"https://hsg.tdm.qq.com:8013"},defaultChannelQueryName:"ADTAG"}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=t.url,r=t.headers,o=t.method,i=t.data,s=t.timeout,a=t.success,u=t.error,c=null;try{if(c=new XMLHttpRequest||new ActivexObject("Microsoft,XMLHTTP"),"get"==o)i&&(e+="?",e+=i),c.open(o,e),s&&!isNaN(s)&&s>0&&(c.timeout=s),c.send();else{if(c.open(o,e),s&&!isNaN(s)&&s>0&&(c.timeout=s),r)for(var l in r)c.setRequestHeader(l,r[l]);i?"object"==n(i)?i instanceof FormData?c.send(i):c.send(JSON.stringify(i)):c.send(i):c.send()}}catch(t){"function"==typeof u&&u(t)}c&&(c.onreadystatechange=function(){if(4==c.readyState){var t=function(t){var e=t.status,n=t.responseText,r=null;try{r=JSON.parse(n)}catch(t){r=n}return{status:e,result:r}}({status:c.status,responseText:c.responseText});200==c.status&&0!=c.status&&"function"==typeof a&&a(t)}},c.ontimeout=function(t){"function"==typeof u&&u("请求超时")})}},function(t,e){t.exports=function(t){return t.replace(/=/g,"%3d").replace(/\|/g,"%7C").replace(/&/g,"%26").replace(/\n/g,"%0D")}},function(t,e,n){n(0).polyfill(),n(7);var r,o=n(8);t.exports=o,r="Hello TDM. ( ᖛ ̫ ᖛ )ʃ) "+o.version,console.info("%c ".concat(r),"color:".concat("#F2F3F6","; background:").concat("#696dd1"," ;border-left:solid 3px ").concat("#353772","; padding:6px; margin:6px 0; font-size:16px; border-radius:3px;"))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function _(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new v(t,e)),1!==c.length||l||a(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=n(0).polyfill()},function(t,e,n){var r,o,i=n(1),s=n(9),a=n(10),u=n(11),c=n(12),l=n(13),f=n(14),d=n(3),p="",v="",_="",h={},m="",g=0,y="",b="",w="",T=(r=i.cacheKey.dev_uuid,(o=localStorage.getItem(r))||(o="web_"+f(36),localStorage.setItem(r,o)),o),I=function(t){var e=t.routeUrl,n=t.appId,r=t.appVer,o=t.userId,s=t.channel;p=e||p,g=n||g,m=o||m,y=r||y,w=s||l(i.defaultChannelQueryName)},k=function(t){var e=!0;return h&&h._map&&h._map.disabled_fields&&t in h._map.disabled_fields&&(e=!1),e&&(e=/^[a-zA-Z][a-zA-Z0-9_]*$/.test(t)),e},x=function(t){var e=t.reportStart;return new Promise((function(t,n){var r=[];p||r.push("routeUrl不能为空"),g||r.push("appId不能为空"),r.length>0?n({error_code:1,error_msg:r.join(";")}):s({route_url:p,app_id:g,user_id:m,app_ver:y,dev_uuid:T,success:function(r){if(0==r.error_code){if(b=r.session_id,v=r.data.route.kv,_=r.data.token,r.data.config&&((h=r.data.config).enabled||console.warn("[TDM] 请注意，当前业务禁止日志上报。"),h._map={disabled_fields:{},event_black_list:{},src_black_list:{}},h.disabled_fields&&h.disabled_fields.length>0&&h.disabled_fields.forEach((function(t){h._map.disabled_fields[t]=!0})),h.event_black_list&&h.event_black_list.length>0&&h.event_black_list.forEach((function(t){h._map.event_black_list[t]=!0})),h.src_black_list&&h.src_black_list.length>0&&h.src_black_list.forEach((function(t){h._map.src_black_list[t]=!0}))),t(),e&&S(),A.beforeInit&&A.beforeInit.length>0){var o=0;A.beforeInit.forEach((function(t){setTimeout((function(){N(t)}),o),o+=100})),A.beforeInit=[]}}else n(r.error_msg)},error:function(t){n(t)}})}))},A={beforeInit:[]},N=function t(e){var n=e.events,r=e.tableNamePrefix,o=e.logId,s=e.onSuccess,c=e.onError;if(v&&_)if(n&&n.length>0){var l=[],p=[];n.forEach((function(t){var e=t.srcId,n=t.eventName,s=t.eventInfo;if(null!=e&&n&&s&&Object.keys(s).length>0){var a=function(t){var e=t.srcId,n=t.eventName,r=!1,o=0,i="";return h&&h.enabled&&h.report_user_event&&((r=!0)&&(r=/^[a-zA-Z][a-zA-Z0-9_]*$/.test(n),i="不合法（必须是字母开头，并且只允许英文数字）",o=11),r&&h._map&&(r&&h._map.src_black_list&&e in h._map.src_black_list&&(r=!1,i="srcId禁止上报（在禁用名单内）",o=21),r&&h._map.event_black_list&&n in h._map.event_black_list&&(r=!1,i="eventName禁止上报（在禁用名单内）",o=22))),{error_code:o,srcId:e,eventName:n,allowed:r,error_msg:i}}({srcId:e,eventName:n});if(a.allowed){for(var c in s)k(c)||delete s[c];!function(t){var e=t.eventInfo,n=t.srcId,r=t.eventName;e.tdm_app_id=g,e.tdm_app_ver=y,e.tdm_src_id=n,e.tdm_type=i.tdm_type,e.tdm_ver=i.tdm_ver,e.tdm_dev_uuid=f(),e.tdm_event_name=r,e.tdm_event_time=(new Date).getTime(),e.tdm_session_id=b,e.tdm_network_type=u(),e.tdm_operator=-1,e.tdm_dev_uuid=T}({eventInfo:s,srcId:e,eventName:n}),l.push(function(t){var e=t.srcId,n=t.logId,r=t.eventName,s=t.eventInfo,a="".concat(t.tableNamePrefix,"_").concat(e,"_").concat(n,"_").concat(r),u=[];for(var o in s){var c=d(s[o]+"");u.push("".concat(o).concat(i.logValueSplitChar.k_v).concat(c))}var l=u.join(i.logValueSplitChar.kv_kv);return"".concat(a).concat(i.logValueSplitChar.table_kv).concat(l)}({tableNamePrefix:r,srcId:e,logId:o,eventName:n,eventInfo:s}))}else p.push(a)}}));var m=null;if(p&&p.length>0&&(m=p.filter((function(t){return 1==t.errCode}))),m&&m.length>0)"function"==typeof c&&c(m);else if(l.length>0){var w={app_id:g,app_ver:y,tdm_ver:i.tdm_ver,tdm_type:9,session_id:b,ts:(new Date).getTime(),compressed:!1};a({route:v,token:_,meta:w,log:l.join("\n"),timeout:h.kv.con_timeout,success:function(e){if(0==e.error_code)"function"==typeof s&&(e.forbitEvents=p,s(e));else switch(e.error_code){case 30001:case 30002:break;case 30003:x({unwantApi:!0}).then((function(){}