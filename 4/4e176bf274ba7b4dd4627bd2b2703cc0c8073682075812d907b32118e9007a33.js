!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Coveo__temporary",[],t):"object"==typeof exports?exports.Coveo__temporary=t():e.Coveo__temporary=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n=window.webpackJsonpCoveo__temporary;window.webpackJsonpCoveo__temporary=function(t,i,r){for(var s,a,u=0,l=[];u<t.length;u++)a=t[u],o[a]&&l.push(o[a][0]),o[a]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);for(n&&n(t,i,r);l.length;)l.shift()()};var i={},o={81:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0};return t.e=function(e){function n(){a.onerror=a.onload=null,clearTimeout(u);var t=o[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var i=o[e];if(0===i)return new Promise(function(e){e()});if(i)return i[2];var r=new Promise(function(t,n){i=o[e]=[t,n]});i[2]=r;var s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,t.nc&&a.setAttribute("nonce",t.nc),a.src=t.p+""+({0:"RelevanceInspector"}[e]||e)+".min__6e08047bce5c55720e37.js";var u=setTimeout(n,12e4);return a.onerror=a.onload=n,s.appendChild(a),r},t.m=e,t.c=i,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="js/",t.oe=function(e){throw console.error(e),e},t(t.s=728)}([function(e,t,n){(function(e,n){var i,o;!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},s=r._,a=Array.prototype,u=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,p=a.slice,d=u.toString,h=u.hasOwnProperty,f=Array.isArray,m=Object.keys,y=Object.create,g=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};void 0===t||t.nodeType?r._=v:(void 0!==n&&!n.nodeType&&n.exports&&(t=n.exports=v),t._=v),v.VERSION="1.9.1";var b,C=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)}}return function(){return e.apply(t,arguments)}},S=function(e,t,n){return v.iteratee!==b?v.iteratee(e,t):null==e?v.identity:v.isFunction(e)?C(e,t,n):v.isObject(e)&&!v.isArray(e)?v.matcher(e):v.property(e)};v.iteratee=b=function(e,t){return S(e,t,1/0)};var w=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var r=Array(t+1);for(o=0;o<t;o++)r[o]=arguments[o];return r[t]=i,e.apply(this,r)}},x=function(e){if(!v.isObject(e))return{};if(y)return y(e);g.prototype=e;var t=new g;return g.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},O=function(e,t){return null!=e&&h.call(e,t)},E=function(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0},A=Math.pow(2,53)-1,T=_("length"),R=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=A};v.each=v.forEach=function(e,t,n){t=C(t,n);var i,o;if(R(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var r=v.keys(e);for(i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e)}return e},v.map=v.collect=function(e,t,n){t=S(t,n);for(var i=!R(e)&&v.keys(e),o=(i||e).length,r=Array(o),s=0;s<o;s++){var a=i?i[s]:s;r[s]=t(e[a],a,e)}return r};var I=function(e){var t=function(t,n,i,o){var r=!R(t)&&v.keys(t),s=(r||t).length,a=e>0?0:s-1;for(o||(i=t[r?r[a]:a],a+=e);a>=0&&a<s;a+=e){var u=r?r[a]:a;i=n(i,t[u],u,t)}return i};return function(e,n,i,o){var r=arguments.length>=3;return t(e,C(n,o,4),i,r)}};v.reduce=v.foldl=v.inject=I(1),v.reduceRight=v.foldr=I(-1),v.find=v.detect=function(e,t,n){var i=R(e)?v.findIndex:v.findKey,o=i(e,t,n);if(void 0!==o&&-1!==o)return e[o]},v.filter=v.select=function(e,t,n){var i=[];return t=S(t,n),v.each(e,function(e,n,o){t(e,n,o)&&i.push(e)}),i},v.reject=function(e,t,n){return v.filter(e,v.negate(S(t)),n)},v.every=v.all=function(e,t,n){t=S(t,n);for(var i=!R(e)&&v.keys(e),o=(i||e).length,r=0;r<o;r++){var s=i?i[r]:r;if(!t(e[s],s,e))return!1}return!0},v.some=v.any=function(e,t,n){t=S(t,n);for(var i=!R(e)&&v.keys(e),o=(i||e).length,r=0;r<o;r++){var s=i?i[r]:r;if(t(e[s],s,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,i){return R(e)||(e=v.values(e)),("number"!=typeof n||i)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=w(function(e,t,n){var i,o;return v.isFunction(t)?o=t:v.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),v.map(e,function(e){var r=o;if(!r){if(i&&i.length&&(e=E(e,i)),null==e)return;r=e[t]}return null==r?r:r.apply(e,n)})}),v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var i,o,r=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=R(e)?e:v.values(e);for(var a=0,u=e.length;a<u;a++)null!=(i=e[a])&&i>r&&(r=i)}else t=S(t,n),v.each(e,function(e,n,i){((o=t(e,n,i))>s||o===-1/0&&r===-1/0)&&(r=e,s=o)});return r},v.min=function(e,t,n){var i,o,r=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=R(e)?e:v.values(e);for(var a=0,u=e.length;a<u;a++)null!=(i=e[a])&&i<r&&(r=i)}else t=S(t,n),v.each(e,function(e,n,i){((o=t(e,n,i))<s||o===1/0&&r===1/0)&&(r=e,s=o)});return r},v.shuffle=function(e){return v.sample(e,1/0)},v.sample=function(e,t,n){if(null==t||n)return R(e)||(e=v.values(e)),e[v.random(e.length-1)];var i=R(e)?v.clone(e):v.values(e),o=T(i);t=Math.max(Math.min(t,o),0);for(var r=o-1,s=0;s<t;s++){var a=v.random(s,r),u=i[s];i[s]=i[a],i[a]=u}return i.slice(0,t)},v.sortBy=function(e,t,n){var i=0;return t=S(t,n),v.pluck(v.map(e,function(e,n,o){return{value:e,index:i++,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var F=function(e,t){return function(n,i,o){var r=t?[[],[]]:{};return i=S(i,o),v.each(n,function(t,o){var s=i(t,o,n);e(r,t,s)}),r}};v.groupBy=F(function(e,t,n){O(e,n)?e[n].push(t):e[n]=[t]}),v.indexBy=F(function(e,t,n){e[n]=t}),v.countBy=F(function(e,t,n){O(e,n)?e[n]++:e[n]=1});var M=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(e){return e?v.isArray(e)?p.call(e):v.isString(e)?e.match(M):R(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:R(e)?e.length:v.keys(e).length},v.partition=F(function(e,t,n){e[n?0:1].push(t)},!0),v.first=v.head=v.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,Boolean)};var D=function(e,t,n,i){i=i||[];for(var o=i.length,r=0,s=T(e);r<s;r++){var a=e[r];if(R(a)&&(v.isArray(a)||v.isArguments(a)))if(t)for(var u=0,l=a.length;u<l;)i[o++]=a[u++];else D(a,t,n,i),o=i.length;else n||(i[o++]=a)}return i};v.flatten=function(e,t){return D(e,t,!1)},v.without=w(function(e,t){return v.difference(e,t)}),v.uniq=v.unique=function(e,t,n,i){v.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=S(n,i));for(var o=[],r=[],s=0,a=T(e);s<a;s++){var u=e[s],l=n?n(u,s,e):u;t&&!n?(s&&r===l||o.push(u),r=l):n?v.contains(r,l)||(r.push(l),o.push(u)):v.contains(o,u)||o.push(u)}return o},v.union=w(function(e){return v.uniq(D(e,!0,!0))}),v.intersection=function(e){for(var t=[],n=arguments.length,i=0,o=T(e);i<o;i++){var r=e[i];if(!v.contains(t,r)){var s;for(s=1;s<n&&v.contains(arguments[s],r);s++);s===n&&t.push(r)}}return t},v.difference=w(function(e,t){return t=D(t,!0,!0),v.filter(e,function(e){return!v.contains(t,e)})}),v.unzip=function(e){for(var t=e&&v.max(e,T).length||0,n=Array(t),i=0;i<t;i++)n[i]=v.pluck(e,i);return n},v.zip=w(v.unzip),v.object=function(e,t){for(var n={},i=0,o=T(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var P=function(e){return function(t,n,i){n=S(n,i);for(var o=T(t),r=e>0?0:o-1;r>=0&&r<o;r+=e)if(n(t[r],r,t))return r;return-1}};v.findIndex=P(1),v.findLastIndex=P(-1),v.sortedIndex=function(e,t,n,i){n=S(n,i,1);for(var o=n(t),r=0,s=T(e);r<s;){var a=Math.floor((r+s)/2);n(e[a])<o?r=a+1:s=a}return r};var $=function(e,t,n){return function(i,o,r){var s=0,a=T(i);if("number"==typeof r)e>0?s=r>=0?r:Math.max(r+a,s):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=t(p.call(i,s,a),v.isNaN),r>=0?r+s:-1;for(r=e>0?s:a-1;r>=0&&r<a;r+=e)if(i[r]===o)return r;return-1}};v.indexOf=$(1,v.findIndex,v.sortedIndex),v.lastIndexOf=$(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o},v.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,o=e.length;i<o;)n.push(p.call(e,i,i+=t));return n};var N=function(e,t,n,i,o){if(!(i instanceof t))return e.apply(n,o);var r=x(e.prototype),s=e.apply(r,o);return v.isObject(s)?s:r};v.bind=w(function(e,t,n){if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var i=w(function(o){return N(e,i,t,this,n.concat(o))});return i}),v.partial=w(function(e,t){var n=v.partial.placeholder,i=function(){for(var o=0,r=t.length,s=Array(r),a=0;a<r;a++)s[a]=t[a]===n?arguments[o++]:t[a];for(;o<arguments.length;)s.push(arguments[o++]);return N(e,i,this,this,s)};return i}),v.partial.placeholder=v,v.bindAll=w(function(e,t){t=D(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=v.bind(e[i],e)}}),v.memoize=function(e,t){var n=function(i){var o=n.cache,r=""+(t?t.apply(this,arguments):i);return O(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return n.cache={},n},v.delay=w(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var i,o,r,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:v.now(),i=null,s=e.apply(o,r),i||(o=r=null)},l=function(){var l=v.now();a||!1!==n.leading||(a=l);var c=t-(l-a);return o=this,r=arguments,c<=0||c>t?(i&&(clearTimeout(i),i=null),a=l,s=e.apply(o,r),i||(o=r=null)):i||!1===n.trailing||(i=setTimeout(u,c)),s};return l.cancel=function(){clearTimeout(i),a=0,i=o=r=null},l},v.debounce=function(e,t,n){var i,o,r=function(t,n){i=null,n&&(o=e.apply(t,n))},s=w(function(s){if(i&&clearTimeout(i),n){var a=!i;i=setTimeout(r,t),a&&(o=e.apply(this,s))}else i=v.delay(r,t,this,s);return o});return s.cancel=function(){clearTimeout(i),i=null},s},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2),v.restArguments=w;var k=!{toString:null}.propertyIsEnumerable("toString"),V=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(e,t){var n=V.length,i=e.constructor,o=v.isFunction(i)&&i.prototype||u,r="constructor";for(O(e,r)&&!v.contains(t,r)&&t.push(r);n--;)(r=V[n])in e&&e[r]!==o[r]&&!v.contains(t,r)&&t.push(r)};v.keys=function(e){if(!v.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)O(e,n)&&t.push(n);return k&&L(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return k&&L(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},v.mapObject=function(e,t,n){t=S(t,n);for(var i=v.keys(e),o=i.length,r={},s=0;s<o;s++){var a=i[s];r[a]=t(e[a],a,e)}return r},v.pairs=function(e){for(var t=v.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},v.invert=function(e){for(var t={},n=v.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()};var B=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],s=e(r),a=s.length,u=0;u<a;u++){var l=s[u];t&&void 0!==n[l]||(n[l]=r[l])}return n}};v.extend=B(v.allKeys),v.extendOwn=v.assign=B(v.keys),v.findKey=function(e,t,n){t=S(t,n);for(var i,o=v.keys(e),r=0,s=o.length;r<s;r++)if(i=o[r],t(e[i],i,e))return i};var Q=function(e,t,n){return t in n};v.pick=w(function(e,t){var n={},i=t[0];if(null==e)return n;v.isFunction(i)?(t.length>1&&(i=C(i,t[1])),t=v.allKeys(e)):(i=Q,t=D(t,!1,!1),e=Object(e));for(var o=0,r=t.length;o<r;o++){var s=t[o],a=e[s];i(a,s,e)&&(n[s]=a)}return n}),v.omit=w(function(e,t){var n,i=t[0];return v.isFunction(i)?(i=v.negate(i),t.length>1&&(n=t[1])):(t=v.map(D(t,!1,!1),String),i=function(e,n){return!v.contains(t,n)}),v.pick(e,i,n)}),v.defaults=B(v.allKeys,!0),v.create=function(e,t){var n=x(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),i=n.length;if(null==e)return!i;for(var o=Object(e),r=0;r<i;r++){var s=n[r];if(t[s]!==o[s]||!(s in o))return!1}return!0};var U,j;U=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&j(e,t,n,i)},j=function(e,t,n,i){e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var o=d.call(e);if(o!==d.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),r){if((u=e.length)!==t.length)return!1;for(;u--;)if(!U(e[u],t[u],n,i))return!1}else{var c,p=v.keys(e);if(u=p.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=p[u],!O(t,c)||!U(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0},v.isEqual=function(e,t){return U(e,t)},v.isEmpty=function(e){return null==e||(R(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=f||function(e){return"[object Array]"===d.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){v["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return O(e,"callee")});var q=r.document&&r.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof q&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return!v.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&isNaN(e)},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){if(!v.isArray(t))return O(e,t);for(var n=t.length,i=0;i<n;i++){var o=t[i];if(null==e||!h.call(e,o))return!1;e=e[o]}return!!n},v.noConflict=function(){return r._=s,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=function(e){return v.isArray(e)?function(t){return E(t,e)}:_(e)},v.propertyOf=function(e){return null==e?function(){}:function(t){return v.isArray(t)?E(e,t):e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var i=Array(Math.max(0,e));t=C(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=v.invert(H),W=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}};v.escape=W(H),v.unescape=W(z),v.result=function(e,t,n){v.isArray(t)||(t=[t]);var i=t.length;if(!i)return v.isFunction(n)?n.call(e):n;for(var o=0;o<i;o++){var r=null==e?void 0:e[t[o]];void 0===r&&(r=n,o=i),e=v.isFunction(r)?r.call(e):r}return e};var G=0;v.uniqueId=function(e){var t=++G+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+K[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var i=RegExp([(t.escape||Y).source,(t.interpolate||Y).source,(t.evaluate||Y).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(i,function(t,n,i,s,a){return r+=e.slice(o,a).replace(J,X),o=a+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var a=function(e){return s.call(this,e,v)};return a.source="function("+(t.variable||"obj")+"){\n"+r+"}",a},v.chain=function(e){var t=v(e);return t._chain=!0,t};var Z=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){return v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),Z(this,n.apply(v,e))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Z(this,n)}}),v.each(["concat","join","slice"],function(e){var t=a[e];v.prototype[e]=function(){return Z(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},i=[],void 0!==(o=function(){return v}.apply(t,i))&&(n.exports=o)}()}).call(t,n(61),n(138)(e))},function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&e[0]instanceof l?e[0]:new l(1!==e.length||o.isString(e[0])?l.createElement.apply(l,e):e[0])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(5),s=n(11),a=n(71),u=n(4),l=function(){function e(e){r.Assert.exists(e),this.el=e}return e.createElement=function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var s=document.createElement(t);for(var a in n)if("className"===a)s.className=n.className;else{var l=-1!==a.indexOf("-")?a:u.Utils.toDashCase(a);s.setAttribute(l,n[a])}return o.each(i,function(t){t instanceof HTMLElement?s.appendChild(t):o.isString(t)?s.innerHTML+=t:t instanceof e&&s.appendChild(t.el)}),s},e.prototype.append=function(e){this.el.appendChild(e)},e.prototype.css=function(e){return this.el.style[e]?this.el.style[e]:window.getComputedStyle(this.el).getPropertyValue(e)},e.prototype.text=function(e){if(u.Utils.isUndefined(e))return this.el.innerText||this.el.textContent;void 0!=this.el.innerText?this.el.innerText=e:void 0!=this.el.textContent&&(this.el.textContent=e)},e.prototype.nodeListToArray=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e.item(t);return n},e.prototype.empty=function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild)},e.prototype.remove=function(){this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.show=function(){this.el.style.display="block",i(this.el).setAttribute("aria-hidden","false")},e.prototype.hide=function(){this.el.style.display="none",i(this.el).setAttribute("aria-hidden","true")},e.prototype.unhide=function(){this.el.style.display="",i(this.el).setAttribute("aria-hidden","false")},e.prototype.toggle=function(e){void 0===e?"block"==this.el.style.display?this.hide():this.show():e?this.show():this.hide()},e.prototype.isVisible=function(){return"none"!=this.el.style.display&&("hidden"!=this.el.style.visibility&&(!this.hasClass("coveo-tab-disabled")&&!this.hasClass("coveo-hidden")))},e.prototype.getAttribute=function(e){return this.el.getAttribute(e)},e.prototype.setAttribute=function(e,t){this.el.setAttribute(e,t)},e.prototype.find=function(e){return this.el.querySelector(e)},e.prototype.is=function(e){return this.el.tagName.toLowerCase()==e.toLowerCase()||(!("."!=e[0]||!this.hasClass(e.substr(1)))||"#"==e[0]&&this.el.getAttribute("id")==e.substr(1))},e.prototype.closest=function(e){return this.traverseAncestorForClass(this.el,e)},e.prototype.parent=function(e){if(void 0!=this.el.parentElement)return this.traverseAncestorForClass(this.el.parentElement,e)},e.prototype.parents=function(t){for(var n=[],i=this.parent(t);i;)n.push(i),i=new e(i).parent(t);return n},e.prototype.children=function(){return this.nodeListToArray(this.el.children)},e.prototype.siblings=function(e){for(var t=[],n=this.el.parentNode.firstChild;n;n=n.nextSibling)n!=this.el&&(!this.matches(n,e)&&e||t.push(n));return t},e.prototype.matches=function(e,t){for(var n=document.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},e.prototype.findAll=function(e){return this.nodeListToArray(this.el.querySelectorAll(e))},e.prototype.findClass=function(e){if("getElementsByClassName"in this.el)return this.nodeListToArray(this.el.getElementsByClassName(e))},e.prototype.findId=function(e){return document.getElementById(e)},e.prototype.addClass=function(e){var t=this;o.isArray(e)?o.each(e,function(e){t.addClass(e)}):this.hasClass(e)||(this.el.className?this.el.className+=" "+e:this.el.className=e)},e.prototype.removeClass=function(e){this.el.className=this.el.className.replace(new RegExp("(^|\\s)"+e+"(\\s|$)","g"),"$1").trim()},e.prototype.toggleClass=function(e,t){u.Utils.isNullOrUndefined(t)?this.hasClass(e)?this.removeClass(e):this.addClass(e):t?this.addClass(e):this.removeClass(e)},e.prototype.setHtml=function(e){this.el.innerHTML=e},e.prototype.getClass=function(){var t=this.getAttribute("class");return t&&t.match?t.match(e.CLASS_NAME_REGEX)||[]:[]},e.prototype.hasClass=function(e){return o.contains(this.getClass(),e)},e.prototype.detach=function(){this.el.parentElement&&this.el.parentElement.removeChild(this.el)},e.prototype.insertAfter=function(e){e.parentNode&&e.parentNode.insertBefore(this.el,e.nextSibling)},e.prototype.insertBefore=function(e){e.parentNode&&e.parentNode.insertBefore(this.el,e)},e.prototype.prepend=function(t){this.el.firstChild?new e(t).insertBefore(this.el.firstChild):this.el.appendChild(t)},e.prototype.on=function(t,n){var i=this;if(o.isArray(t))o.each(t,function(e){i.on(e,n)});else{var r=this.processEventTypeToBeJQueryCompatible(t),s=a.JQueryUtils.getJQuery();if(this.shouldUseJQueryEvent())s(this.el).on(r,n);else if(this.el.addEventListener){var u=function(e){n(e,e.detail)};e.handlers.set(n,u),r&&-1!=r.indexOf("touch")?this.el.addEventListener(r,u,{passive:!0}):this.el.addEventListener(r,u,!1)}else this.el.on&&this.el.on("on"+r,n)}},e.prototype.one=function(e,t){var n=this;if(o.isArray(e))o.each(e,function(e){n.one(e,t)});else{var i=this.processEventTypeToBeJQueryCompatible(e),r=function(e,o){return n.off(i,r),t(e,o)};this.on(i,r)}},e.prototype.off=function(t,n){var i=this;if(o.isArray(t))o.each(t,function(e){i.off(e,n)});else{var r=this.processEventTypeToBeJQueryCompatible(t),s=a.JQueryUtils.getJQuery();if(this.shouldUseJQueryEvent())s(this.el).off(r,n);else if(this.el.removeEventListener){var u=e.handlers.get(n);u&&this.el.removeEventListener(r,u,!1)}else this.el.off&&this.el.off("on"+r,n)}},e.prototype.trigger=function(e,t){var n=this.processEventTypeToBeJQueryCompatible(e);if(this.shouldUseJQueryEvent())a.JQueryUtils.getJQuery()(this.el).trigger(n,t);else if(void 0!==window.CustomEvent){var i=new CustomEvent(n,{detail:t,bubbles:!0});this.el.dispatchEvent(i)}else try{this.el.dispatchEvent(this.buildIE11CustomEvent(n,t))}catch(e){this.oldBrowserError()}},e.prototype.isEmpty=function(){return e.ONLY_WHITE_SPACE_REGEX.test(this.el.innerHTML)},e.prototype.isValid=function(){return null!=this.el&&void 0!=this.el.getAttribute},e.prototype.isDescendant=function(e){for(var t=this.el.parentNode;null!=t;){if(t==e)return!0;t=t.parentNode}return!1},e.prototype.replaceWith=function(t){this.el.parentNode&&new e(t).insertAfter(this.el),this.detach()},e.prototype.position=function(){var e=this.offsetParent(),t=this.offset(),n={top:0,left:0};i(e).is("html")||(n=i(e).offset());var o=parseInt(i(e).css("borderTopWidth")),r=parseInt(i(e).css("borderLeftWidth"));o=isNaN(o)?0:o,r=isNaN(r)?0:r,n={top:n.top+o,left:n.left+r};var s=parseInt(this.css("marginTop")),a=parseInt(this.css("marginLeft"));return s=isNaN(s)?0:s,a=isNaN(a)?0:a,{top:t.top-n.top-s,left:t.left-n.left-a}},e.prototype.offsetParent=function(){for(var e=this.el.offsetParent;e instanceof HTMLElement&&"static"===i(e).css("position");)e=e.offsetParent;return e instanceof HTMLElement?e:document.documentElement},e.prototype.offset=function(){if(!this.el.getClientRects().length)return{top:0,left:0};var e=this.el.getBoundingClientRect();if(e.width||e.height){var t=this.el.ownerDocument,n=t.documentElement;return{top:e.top+window.pageYOffset-n.clientTop,left:e.left+window.pageXOffset-n.clientLeft}}return e},e.prototype.width=function(){return this.el.offsetWidth},e.prototype.height=function(){return this.el.offsetHeight},e.prototype.clone=function(e){return void 0===e&&(e=!1),i(this.el.cloneNode(e))},e.prototype.canHandleEvent=function(e){var t="on"+e,n=t in this.el;return!n&&this.el.setAttribute&&(this.el.setAttribute(t,"return;"),n="function"==typeof this.el[t],this.el.removeAttribute(t)),n},e.prototype.buildIE11CustomEvent=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!0,t),n},e.prototype.shouldUseJQueryEvent=function(){return a.JQueryUtils.getJQuery()&&!e.useNativeJavaScriptEvents},e.prototype.processEventTypeToBeJQueryCompatible=function(e){return e?e.replace(/[^a-zA-Z0-9\:\_]/g,""):e},e.prototype.traverseAncestorForClass=function(e,t){void 0===e&&(e=this.el),0==t.indexOf(".")&&(t=t.substr(1));for(var n=!1;!n&&(i(e).hasClass(t)&&(n=!0),"body"!=e.tagName.toLowerCase())&&null!=e.parentElement;)n||(e=e.parentElement);if(n)return e},e.prototype.oldBrowserError=function(){new s.Logger(this).error("CANNOT TRIGGER EVENT FOR OLDER BROWSER")},e.CLASS_NAME_REGEX=/-?[_a-zA-Z]+[_a-zA-Z0-9-]*/g,e.ONLY_WHITE_SPACE_REGEX=/^\s*$/,e.useNativeJavaScriptEvents=!1,e.handlers=new WeakMap,e}();t.Dom=l;var c=function(){function e(e){this.win=e}return e.prototype.height=function(){return this.win.innerHeight},e.prototype.width=function(){return this.win.innerWidth},e.prototype.scrollY=function(){return this.supportPageOffset()?this.win.pageYOffset:this.isCSS1Compat()?this.win.document.documentElement.scrollTop:this.win.document.body.scrollTop},e.prototype.scrollX=function(){return this.supportPageOffset()?window.pageXOffset:this.isCSS1Compat()?document.documentElement.scrollLeft:document.body.scrollLeft},e.prototype.isCSS1Compat=function(){return"CSS1Compat"===(this.win.document.compatMode||"")},e.prototype.supportPageOffset=function(){return void 0!==this.win.pageXOffset},e}();t.Win=c;var p=function(){function e(e){this.doc=e}return e.prototype.height=function(){var e=this.doc.body;return Math.max(e.scrollHeight,e.offsetHeight)},e.prototype.width=function(){var e=this.doc.body;return Math.max(e.scrollWidth,e.offsetWidth)},e}();t.Doc=p,t.$$=i},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{u(i.next(e))}catch(e){r(e)}}function a(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(40),u=n(15),l=n(5),c=n(11),p=n(28),d=n(73),h=n(13),f=n(1),m=n(45),y=n(71),g=n(4),v=n(9),b=n(6),C=n(18),S=n(412),w=n(24),x=function(){function e(){}return e.registerDefaultOptions=function(e,t){var n=e.CoveoDefaultOptions||{},i=g.Utils.extendDeep(n,t);e.CoveoDefaultOptions=i},e.resolveDefaultOptions=function(t,n){var i,o=t.CoveoDefaultOptions;return i=g.Utils.exists(o)?g.Utils.extendDeep(o,n):n,t.parentElement?e.resolveDefaultOptions(t.parentElement,i):i},e.registerAutoCreateComponent=function(t){l.Assert.exists(t),l.Assert.exists(t.ID),l.Assert.doesNotExists(e.namedMethods[t.ID]),s.contains(e.registeredComponents,t.ID)||(e.registeredComponents.push(t.ID),t.aliases&&(e.componentAliases[t.ID]=t.aliases)),null==O.eagerlyLoadedComponents[t.ID]&&(O.eagerlyLoadedComponents[t.ID]=t),null==_.lazyLoadedComponents[t.ID]&&(_.lazyLoadedComponents[t.ID]=function(){return new Promise(function(e,n){e(t)})})},e.registerComponentFields=function(t,n){e.fieldsNeededForQuery=g.Utils.concatWithoutDuplicate(e.fieldsNeededForQuery,n);var i=function(t){null==e.fieldsNeededForQueryByComponent[t]?e.fieldsNeededForQueryByComponent[t]=n:e.fieldsNeededForQueryByComponent[t]=g.Utils.concatWithoutDuplicate(e.fieldsNeededForQueryByComponent[t],n)};i(t),i(b.Component.computeCssClassNameForType(t))},e.getRegisteredFieldsForQuery=function(){return e.fieldsNeededForQuery},e.getRegisteredFieldsComponentForQuery=function(t){var n=e.fieldsNeededForQueryByComponent[t]||[],i=e.fieldsNeededForQueryByComponent[b.Component.computeCssClassNameForType(t)]||[];return g.Utils.concatWithoutDuplicate(n,i)},e.isComponentClassIdRegistered=function(t){return s.contains(e.registeredComponents,t)||s.contains(e.registeredComponents,b.Component.computeCssClassNameForType(t))},e.getListOfRegisteredComponents=function(){return e.registeredComponents},e.getListOfLoadedComponents=function(){return s.keys(O.eagerlyLoadedComponents)},e.getRegisteredComponent=function(e){return O.eagerlyLoadedComponents[e]},e.initializeFramework=function(t,n,i){var s=this;if(l.Assert.exists(t),b.Component.get(t,a.QueryController,!0))return this.logger.error("This DOM element has already been initialized as a search interface, skipping initialization",t),Promise.resolve({elem:t});n=e.resolveDefaultOptions(t,n);var c=function(e,t){return o(s,void 0,void 0,function(){var n,i=this;return r(this,function(o){try{return n=t.map(function(t){return t.catch(function(t){return i.logger.warn('An error occurred when trying to defer the "'+e+'" event. The defer will be ignored.',"Error: "+t)})}),[2,Promise.all(n)]}catch(e){this.logger.error('An unexpected error occurred when trying to defer the "'+event+'" event. All defers will be ignored.',"Error: "+e)}return[2]})})},p=function(e){var n={defer:[]};return f.$$(t).trigger(e,n),n.defer.length>0?c(e,n.defer):Promise.resolve()};e.performInitFunctionsOption(n,u.InitializationEvents.beforeInitialization),f.$$(t).trigger(u.InitializationEvents.beforeInitialization);var d=function(){return o(s,void 0,void 0,function(){var i,o,s;return r(this,function(r){switch(r.label){case 0:return[4,e.initExternalComponents(t,n)];case 1:return i=r.sent(),e.performInitFunctionsOption(n,u.InitializationEvents.afterComponentsInitialization),[4,p(u.InitializationEvents.afterComponentsInitialization)];case 2:return r.sent(),f.$$(t).trigger(u.InitializationEvents.restoreHistoryState),e.performInitFunctionsOption(n,u.InitializationEvents.afterInitialization),[4,p(u.InitializationEvents.afterInitialization)];case 3:return r.sent(),o=b.Component.get(t,C.SearchInterface),e.shouldExecuteFirstQueryAutomatically(o)&&(e.logFirstQueryCause(o),s=!0,Coveo.Recommendation&&(s=!(o instanceof Coveo.Recommendation)),b.Component.get(t,a.QueryController).executeQuery({logInActionsHistory:s,isFirstQuery:!0})),[2,i]}})})},h=i(t,n);return h.isLazyInit?h.initResult.then(d).then(function(){return{elem:t}}):d().then(function(){return{elem:t}})},e.initSearchInterface=function(t,n){void 0===n&&(n={}),n=e.resolveDefaultOptions(t,n);var i=new C.SearchInterface(t,n.SearchInterface,n.Analytics);i.options.originalOptionsObject=n;var o={options:n,bindings:i.getBindings()};return e.automaticallyCreateComponentsInside(t,o,["Recommendation"])},e.initStandaloneSearchInterface=function(t,n){void 0===n&&(n={}),n=e.resolveDefaultOptions(t,n),n.Querybox||(n.Querybox={}),n.Omnibox||(n.Omnibox={}),n.Searchbox||(n.Searchbox={}),n.Querybox.triggerQueryOnClear&&n.Omnibox.triggerQueryOnClear&&n.Searchbox.triggerOnQueryClear||(n.Querybox.triggerQueryOnClear=!1,n.Omnibox.triggerQueryOnClear=!1,n.Searchbox.triggerQueryOnClear=!1);var i=new C.StandaloneSearchInterface(t,n.StandaloneSearchInterface,n.Analytics);i.options.originalOptionsObject=n;var o={options:n,bindings:i.getBindings()};return e.automaticallyCreateComponentsInside(t,o)},e.initRecommendationInterface=function(t,n){void 0===n&&(n={}),n=e.resolveDefaultOptions(t,n);var i=s.extend({},n.SearchInterface,n.Recommendation);i.mainSearchInterface&&(i.firstLoadingAnimation=f.$$("span").el);var o=new window.Coveo.Recommendation(t,i,n.Analytics);o.options.originalOptionsObject=n;var r={options:n,bindings:o.getBindings()};return e.automaticallyCreateComponentsInside(t,r)},e.automaticallyCreateComponentsInsideResult=function(t,n,o){void 0===o&&(o={});var r=i({initOptions:o},n.searchInterface.options.originalOptionsObject),s=i({},n.searchInterface.getBindings(),{resultElement:t}),a={options:r,bindings:s,result:n};return e.automaticallyCreateComponentsInside(t,a)},e.automaticallyCreateComponentsInside=function(e,t,n){var i=this;void 0===n&&(n=[]),l.Assert.exists(e);var o,r=S.InitializationHelper.findDOMElementsToIgnore(e,n),a=S.InitializationHelper.findDOMElementsToInitialize(e,r),u=s.chain(a).map(function(e){var n=i.componentsFactory(e.htmlElements,e.componentClassId,t);return o=n.isLazyInit,n.factory}).map(function(e){var t=e();return t?Promise.all(t).then(function(){return!0}):Promise.resolve(!0)}).value();return{initResult:Promise.all(u).then(function(){return!0}).catch(function(e){return i.logger.error(e),i.logger.warn("Skipping initialization of previous component in error ... "),!0}),isLazyInit:o}},e.registerNamedMethod=function(t,n){l.Assert.isNonEmptyString(t),l.Assert.doesNotExists(O.eagerlyLoadedComponents[t]),l.Assert.doesNotExists(e.namedMethods[t]),l.Assert.exists(n),e.namedMethods[t]=n},e.isNamedMethodRegistered=function(t){return g.Utils.exists(e.namedMethods[t])},e.monkeyPatchComponentMethod=function(e,t,n){l.Assert.isNonEmptyString(e),l.Assert.exists(n);var i;if(e.indexOf(".")>0){var o=e.split(".");l.Assert.check(2==o.length,"Invalid method name, correct syntax is CoveoComponent.methodName."),i=o[0],e=o[1]}var r=b.Component.get(t,i);l.Assert.exists(r),l.Assert.exists(r[e]);var s="__"+e;g.Utils.exists(r[s])||(r[s]=r[e]),r[e]=n},e.initBoxInterface=function(t,n,i,o){void 0===n&&(n={}),void 0===i&&(i="Standard"),void 0===o&&(o=!0),n=e.resolveDefaultOptions(t,n);var r="Box";"Standard"!=i&&(r+="For"+i);var s=b.Component.getComponentRef(r);if(s){new c.Logger(t).info("Initializing box of type "+r);var a=o?s.getInjection:function(){},u=new s(t,n[r],n.Analytics,a,n);u.options.originalOptionsObject=n;var p={options:n,bindings:u.getBindings()};return e.automaticallyCreateComponentsInside(t,p)}return{initResult:new Promise(function(e,n){new c.Logger(t).error("Trying to initialize box of type : "+r+" but not found in code (not compiled)!"),l.Assert.fail("Cannot initialize unknown type of box"),n(!1)}),isLazyInit:!1}},e.dispatchNamedMethodCall=function(t,n,i){l.Assert.isNonEmptyString(t),l.Assert.exists(n);var o=e.namedMethods[t];return l.Assert.exists(o),e.logger.trace("Dispatching named method call of "+t,n,i),0!=i.length?o.apply(null,[n].concat(i)):o.apply(null,[n])},e.dispatchNamedMethodCallOrComponentCreation=function(t,n,i){return l.Assert.isNonEmptyString(t),l.Assert.exists(n),e.isNamedMethodRegistered(t)?e.dispatchNamedMethodCall(t,n,i):e.isThereASingleComponentBoundToThisElement(n)?e.dispatchMethodCallOnBoundComponent(t,n,i):void l.Assert.fail("No method or component named "+t+" are registered.")},e.isSearchFromLink=function(e){return g.Utils.isNonEmptyString(e.getBindings().queryStateModel.get("q"))},e.isThereASingleComponentBoundToThisElement=function(e){return l.Assert.exists(e),g.Utils.exists(b.Component.get(e,null,!0))},e.isThereANonSearchInterfaceComponentBoundToThisElement=function(t){return!!f.$$(t).hasClass("CoveoRecommendation")||e.isThereASingleComponentBoundToThisElement(t)&&!w.get(t,C.SearchInterface,!0)&&!f.$$(t).hasClass("CoveoRecommendation")},e.dispatchMethodCallOnBoundComponent=function(e,t,n){l.Assert.isNonEmptyString(e),l.Assert.exists(t);var i=b.Component.get(t);l.Assert.exists(i);var o=i[e];if(g.Utils.exists(o))return o.apply(i,n);l.Assert.fail("No method named "+e+" exist on component "+i.type)},e.logFirstQueryCause=function(t){var n=m.HashUtils.getValue("firstQueryCause",m.HashUtils.getHash());if(null!=n){var i=m.HashUtils.getValue("firstQueryMeta",m.HashUtils.getHash())||{};t.usageAnalytics.logSearchEvent(v.analyticsActionCauseList[n],i)}else e.isSearchFromLink(t)?t.usageAnalytics.logSearchEvent(v.analyticsActionCauseList.searchFromLink,{}):t.usageAnalytics.logSearchEvent(v.analyticsActionCauseList.interfaceLoad,{})},e.performInitFunctionsOption=function(t,n){g.Utils.exists(t)&&e.performFunctions(t[n])},e.performFunctions=function(e){g.Utils.exists(e)&&s.each(e,function(e){"function"==typeof e&&e()})},e.initExternalComponents=function(t,n){var i=this;if(n&&n.externalComponents){var o=b.Component.get(t,C.SearchInterface),r=b.Component.get(t,h.QueryStateModel),u=b.Component.get(t,d.ComponentStateModel),c=b.Component.get(t,a.QueryController),f=b.Component.get(t,p.ComponentOptionsModel),m=o.usageAnalytics;l.Assert.exists(o),l.Assert.exists(r),l.Assert.exists(c),l.Assert.exists(u),l.Assert.exists(m);var v={options:n,bindings:{searchInterface:o,queryStateModel:r,queryController:c,usageAnalytics:m,componentStateModel:u,componentOptionsModel:f,root:t}},S=s.map(n.externalComponents,function(t){var n=t;return g.Utils.isHtmlElement(n)?e.automaticallyCreateComponentsInside(n,v).initResult:y.JQueryUtils.isInstanceOfJQuery(n)?e.automaticallyCreateComponentsInside(n.get(0),v).initResult:void 0});return Promise.all(S).then(function(e){return s.first(e)}).catch(function(e){return i.logger.error(e),!1})}return Promise.resolve(!1)},e.shouldExecuteFirstQueryAutomatically=function(e){var t=e.options;return!t||!1!==t.autoTriggerQuery&&(!0===t.allowQueriesWithoutKeywords||""!=w.state(e.element).get("q"))},e.logger=new c.Logger("Initialization"),e.registeredComponents=[],e.componentAliases={},e.namedMethods={},e.fieldsNeededForQuery=[],e.fieldsNeededForQueryByComponent={},e}();t.Initialization=x;var _=function(){function e(){}return e.getLazyRegisteredComponent=function(t){return e.lazyLoadedComponents[t]()},e.getLazyRegisteredModule=function(t){return e.lazyLoadedModule[t]()},e.registerLazyComponent=function(t,n,i){null==e.lazyLoadedComponents[t]?(l.Assert.exists(n),s.contains(x.registeredComponents,t)||x.registeredComponents.push(t),e.lazyLoadedComponents[t]=n,i&&(x.componentAliases[t]=i)):this.logger.warn("Component being registered twice",t)},e.buildErrorCallback=function(t,n){return function(i){e.logger.warn("Cannot load chunk for "+t+". You may need to add the coveo-script class on the script tag that includes the Coveo framework. More details here https://docs.coveo.com/en/295/javascript-search-framework/lazy-versus-eager-component-loading#fixing-code-chunks-loading-path-issues\n        "+i),n(function(){})}},e.registerLazyModule=function(t,n){null==e.lazyLoadedModule[t]?(l.Assert.exists(n),e.lazyLoadedModule[t]=n):this.logger.warn("Module being registered twice",t)},e.componentsFactory=function(t,n,i){return{factory:function(){var o=[];return s.each(t,function(t){if(null==b.Component.get(t,n)){var r=void 0;if(g.Utils.exists(i.options)){var a=i.options[n],u=i.options[t.id],l=i.options.initOptions?i.options.initOptions[n]:{};r=g.Utils.extendDeep(u,l),r=g.Utils.extendDeep(a,r)}var c=s.extend({},i,{options:r});o.push(e.createComponentOfThisClassOnElement(n,t,c))}}),o},isLazyInit:!0}},e.createComponentOfThisClassOnElement=function(t,n,i){return l.Assert.isNonEmptyString(t),l.Assert.exists(n),x.isThereANonSearchInterfaceComponentBoundToThisElement(n)?null:e.getLazyRegisteredComponent(t).then(function(o){if(l.Assert.exists(o),x.isThereANonSearchInterfaceComponentBoundToThisElement(n))return null;var r,a={},u={};return void 0!=i&&(s.each(i.bindings,function(e,t){a[t]=e}),u=i.options,r=i.result),e.logger.trace("Creating component of class "+t,n,u),new o(n,u,a,r)})},e.logger=new c.Logger("LazyInitialization"),e.lazyLoadedComponents={},e.lazyLoadedModule={},e}();t.LazyInitialization=_;var O=function(){function e(){}return e.componentsFactory=function(t,n,i){return{factory:function(){s.each(t,function(t){if(null==b.Component.get(t,n)){var o=void 0;if(g.Utils.exists(i.options)){var r=i.options[n],a=i.options[t.id],u=i.options.initOptions?i.options.initOptions[n]:{};o=g.Utils.extendDeep(a,u),o=g.Utils.extendDeep(r,o)}var l=s.extend({},i,{options:o});e.createComponentOfThisClassOnElement(n,t,l)}})},isLazyInit:!1}},e.createComponentOfThisClassOnElement=function(t,n,i){l.Assert.isNonEmptyString(t),l.Assert.exists(n);var o,r=x.getRegisteredComponent(t),a={},u={};return void 0!=i&&(s.each(i.bindings,function(e,t){a[t]=e}),u=i.options,o=i.result),x.isThereANonSearchInterfaceComponentBoundToThisElement(n)?null:(e.logger.trace("Creating component of class "+t,n,u),null==r?(_.getLazyRegisteredComponent(t).then(function(i){e.logger.warn("Component of class "+t+' was not found in "Eager" mode. Using lazy mode as a fallback.'),new i(n,u,a,o)}).catch(function(){e.logger.error("Component of class "+t+' was not found in "Eager" mode nor "Lazy" mode. It will not be initialized properly...')}),null):new r(n,u,a,o))},e.logger=new c.Logger("EagerInitialization"),e.eagerlyLoadedComponents={},e}();t.EagerInitialization=O},function(e,t,n){"use strict";function i(e){void 0==window.Coveo&&(window.Coveo={}),s.each(s.keys(e),function(t){null==window.Coveo[t]&&(window.Coveo[t]=e[t])})}function o(e,t){e.doExport?e.doExport():new a.Logger(this).error("Component "+e+" has no export function !"),u.Initialization.registerAutoCreateComponent(e),t(e)}function r(e,t){e.doExport&&e.doExport(),t(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(11),u=n(2);t.exportGlobally=i,t.lazyExport=o,t.lazyExportModule=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=/^@[a-zA-Z0-9_\.]+$/,r=function(){function e(){}return e.isUndefined=function(e){return void 0===e},e.isNull=function(e){return null===e},e.isNullOrUndefined=function(t){return e.isUndefined(t)||e.isNull(t)},e.exists=function(t){return!e.isNullOrUndefined(t)},e.toNotNullString=function(e){return i.isString(e)?e:""},e.anyTypeToString=function(e){return e?e.toString():""},e.isNullOrEmptyString=function(t){return e.isNullOrUndefined(t)||!e.isNonEmptyString(t)},e.isNonEmptyString=function(e){return i.isString(e)&&""!==e},e.isEmptyString=function(t){return!e.isNonEmptyString(t)},e.stringStartsWith=function(e,t){return e.slice(0,t.length)==t},e.isNonEmptyArray=function(e){return i.isArray(e)&&e.length>0},e.isEmptyArray=function(t){return!e.isNonEmptyArray(t)},e.isHtmlElement=function(e){return void 0!=window.HTMLElement?e instanceof HTMLElement:e&&e.nodeType&&1==e.nodeType},e.parseIntIfNotUndefined=function(t){return e.isNonEmptyString(t)?parseInt(t,10):void 0},e.parseFloatIfNotUndefined=function(t){return HTMLDocument,e.isNonEmptyString(t)?parseFloat(t):void 0},e.round=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},e.parseBooleanIfNotUndefined=function(t){if(e.isNonEmptyString(t))switch(t.toLowerCase()){case"true":case"1":case"yes":return!0;case"false":case"0":case"no":return!1;default:return}},e.trim=function(e){return null==e?null:e.replace(/^\s+|\s+$/g,"")},e.encodeHTMLEntities=function(e){for(var t=[],n=e.length-1;n>=0;n--)/^[a-z0-9]/i.test(e[n])?t.unshift(e[n]):t.unshift(["&#",e.charCodeAt(n),";"].join(""));return t.join("")},e.decodeHTMLEntities=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},e.safeEncodeURIComponent=function(e){return i.isString(e)?encodeURIComponent(e.replace(/[\uD800-\uDBFF](?![\uDC00-\uDFFF])/g,"").split("").reverse().join("").replace(/[\uDC00-\uDFFF](?![\uD800-\uDBFF])/g,"").split("").reverse().join("")):encodeURIComponent(e)},e.arrayEqual=function(e,t,n){if(void 0===n&&(n=!0),n)return i.isEqual(e,t);var o=[e,t];return i.all(o,function(e){return e.length==o[0].length&&0==i.difference(e,o[0]).length})},e.objectEqual=function(e,t){return i.isEqual(e,t)},e.isCoveoField=function(e){return o.test(e)},e.escapeRegexCharacter=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e.getCaseInsensitiveProperty=function(e,t){var n=e[t];if(null==n){var o=t.toLowerCase();if(null==(n=e[o])){var r=i.find(i.keys(e),function(e){return e.toLowerCase()==o});null!=r&&(n=e[r])}}return n},e.getFirstAvailableFieldValue=function(t,n){for(var i=0;i<n.length;i++){var o=e.getFieldValue(t,n[i]);if(void 0!==o)return o}},e.getFieldValue=function(t,n){if(null!=n&&(n=e.trim(n),"@"==n[0]&&(n=n.substr(1)),""!=n)){if(!e.isCoveoField("@"+n))throw"Not a valid field : "+n;for(var i=n.split(".").reverse(),o=t.raw;i.length>1;)if(o=e.getCaseInsensitiveProperty(o,i.pop()),e.isUndefined(o))return;var r=e.getCaseInsensitiveProperty(o,i[0]);return null==r&&(r=e.getCaseInsensitiveProperty(t,n)),r}},e.throttle=function(e,t,n,i,o){void 0===n&&(n={});var r,s=null,a=0,u=function(){a=!1===n.leading?0:(new Date).getTime(),s=null,r=e.apply(i,o)};return function(){var l=(new Date).getTime();a||!1!==n.leading||(a=l);var c=t-(l-a);return i=this,o=arguments,c<=0?(clearTimeout(s),s=null,a=l,r=e.apply(i,o)):s||!1===n.trailing||(s=window.setTimeout(u,c)),r}},e.extendDeep=function(t,n){t||(t={});var o=i.isArray(n),r=o&&[]||{};return o?(t=t||[],r=r.concat(t),i.each(n,function(n,o,s){void 0===t[o]?r[o]=n:"object"!=typeof n||i.isElement(n)?-1===t.indexOf(n)&&r.push(n):r[o]=e.extendDeep(t[o],n)})):(t&&"object"==typeof t&&!i.isElement(t)&&i.each(i.keys(t),function(e){r[e]=t[e]}),i.each(i.keys(n),function(i){"object"==typeof n[i]&&n[i]&&t[i]?r[i]=e.extendDeep(t[i],n[i]):r[i]=n[i]})),r},e.getQueryStringValue=function(e,t){return void 0===t&&(t=window.location.search),t.replace(new RegExp("^(?:.*[&\\?]"+e.replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1")},e.isValidUrl=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},e.debounce=function(e,t){var n,i;return function(){for(var o=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];null==n?(n=window.setTimeout(function(){n=null},t),i=setTimeout(function(){e.apply(o,r),i=null})):null==i&&(clearTimeout(n),n=window.setTimeout(function(){e.apply(o,r),n=null},t))}},e.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},e.toDashCase=function(e){return e.replace(/([a-z][A-Z])/g,function(e){return e[0]+"-"+e[1].toLowerCase()})},e.toCamelCase=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},e.parseXml=function(e){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(e,"text/xml");if("undefined"!=typeof ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}throw new Error("No XML parser found")},e.copyObject=function(e,t){var n=this;i.each(i.keys(t),function(i){"object"==typeof t[i]&&t[i]&&e[i]?n.copyObject(e[i],t[i]):e[i]=t[i]})},e.copyObjectAttributes=function(e,t,n){var o=this;i.each(i.keys(t),function(r){i.contains(n,r)&&("object"==typeof t[r]&&t[r]&&e[r]?o.copyObject(e[r],t[r]):e[r]=t[r])})},e.concatWithoutDuplicate=function(e,t){var n=i.difference(t,e);return n&&n.length>0&&(e=e.concat(n)),e},e.differenceBetweenObjects=function(e,t){var n={},i=function(e,t){for(var i in e)e[i]!==t[i]&&null==n[i]&&(n[i]=e[i])};return i(e,t),i(t,e),n},e}();t.Utils=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=n(4),s=n(0),a=function(){function e(){}return e.fail=function(t){e.failureHandler(t)},e.check=function(t,n){t||e.fail(n)},e.isUndefined=function(t){e.check(r.Utils.isUndefined(t),"Value should be undefined.")},e.isNotUndefined=function(t){e.check(!r.Utils.isUndefined(t),"Value should not be undefined.")},e.isNull=function(t){e.check(r.Utils.isNull(t),"Value should be null.")},e.isNotNull=function(t){e.check(!r.Utils.isNull(t),"Value should not be null.")},e.exists=function(t){e.check(!r.Utils.isNullOrUndefined(t),"Value should not be null or undefined")},e.doesNotExists=function(t){e.check(r.Utils.isNullOrUndefined(t),"Value should be null or undefined")},e.isString=function(t){e.check(s.isString(t),"Value should be a string.")},e.stringStartsWith=function(t,n){e.isNonEmptyString(t),e.isNonEmptyString(n),e.check(0==t.indexOf(n),"Value should start with "+n)},e.isNonEmptyString=function(t){e.check(r.Utils.isNonEmptyString(t),"Value should be a non-empty string.")},e.isNumber=function(t){e.check(s.isNumber(t),"Value should be a number.")},e.isLargerThan=function(t,n){e.check(n>t,"Value "+n+" should be larger than "+t)},e.isLargerOrEqualsThan=function(t,n){e.check(n>=t,"Value "+n+" should be larger or equal than "+t)},e.isSmallerThan=function(t,n){e.check(n<t,"Value "+n+" should be smaller than "+t)},e.isSmallerOrEqualsThan=function(t,n){e.check(n<=t,"Value "+n+" should be smaller or equal than "+t)},e.logger=new o.Logger("Assert"),e.failureHandler=function(t){throw e.logger.error("Assertion Failed!",t),window.console&&console.trace&&console.trace(),new u(r.Utils.isNonEmptyString(t)?t:"Assertion Failed!")},e}();t.Assert=a;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.message=t,n}return i(t,e),t.prototype.toString=function(){return this.message},t}(Error);t.PreconditionFailedException=u},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(4),s=n(71),a=n(1),u=n(13),l=n(73),c=n(28),p=n(40),d=n(18),h=n(96),f=n(33),m=n(95),y=n(0),g=n(3),v=function(){function e(e){this.owner=e,o.Assert.exists(e)}return e.doExport=function(){g.exportGlobally({ComponentEvents:e})},e.prototype.on=function(e,t,n){if(s.JQueryUtils.getJQuery()&&s.JQueryUtils.isInstanceOfJQuery(e)){e.on(t,this.wrapToCallIfEnabled(n))}else{var i=e;a.$$(i).on(t,this.wrapToCallIfEnabled(n))}},e.prototype.one=function(e,t,n){if(e instanceof HTMLElement){var i=e;a.$$(i).one(t,this.wrapToCallIfEnabled(n))}else{e.one(t,this.wrapToCallIfEnabled(n))}},e.prototype.onRootElement=function(e,t){this.on(this.owner.root,e,t)},e.prototype.oneRootElement=function(e,t){this.one(this.owner.root,e,t)},e.prototype.onQueryState=function(e,t,n){this.onRootElement(this.getQueryStateEventName(e,t),n)},e.prototype.onComponentOptions=function(e,t,n){this.onRootElement(this.getComponentOptionEventName(e,t),n)},e.prototype.oneQueryState=function(e,t,n){this.oneRootElement(this.getQueryStateEventName(e,t),n)},e.prototype.trigger=function(e,t,n){this.wrapToCallIfEnabled(function(){if(e instanceof HTMLElement){var i=e;a.$$(i).trigger(t,n)}else{e.trigger(t,n)}})(n)},e.prototype.wrapToCallIfEnabled=function(e){var t=this;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(!t.owner.disabled)return n&&n[0]instanceof CustomEvent?n[0].detail&&(n=[n[0].detail]):n&&s.JQueryUtils.isInstanceOfJqueryEvent(n[0])&&(n=void 0!=n[1]?[n[1]]:[]),e.apply(t.owner,n)}},e.prototype.getQueryStateEventName=function(e,t){return this.getModelEvent(this.owner.queryStateModel,e,t)},e.prototype.getComponentOptionEventName=function(e,t){return this.getModelEvent(this.owner.componentOptionsModel,e,t)},e.prototype.getModelEvent=function(e,t,n){return t&&n?e.getEventName(t+n):e.getEventName(t)},e}();t.ComponentEvents=v;var b=function(e){function t(n,i,o){void 0===o&&(o={});var r=e.call(this,n,i)||this;return r.element=n,r.type=i,r.bind=new t.ComponentEventClass(r),r.root=o.root||t.resolveRoot(n),r.queryStateModel=o.queryStateModel||r.resolveQueryStateModel(),r.componentStateModel=o.componentStateModel||r.resolveComponentStateModel(),r.queryController=o.queryController||r.resolveQueryController(),r.searchInterface=o.searchInterface||r.resolveSearchInterface(),r.componentOptionsModel=o.componentOptionsModel||r.resolveComponentOptionsModel(),r.ensureDom=y.once(function(){return r.createDom()}),null!=r.searchInterface&&r.searchInterface.attachComponent(i,r),r.initDebugInfo(),r}return i(t,e),t.prototype.getBindings=function(){return{root:this.root,queryStateModel:this.queryStateModel,queryController:this.queryController,searchInterface:this.searchInterface,componentStateModel:this.componentStateModel,componentOptionsModel:this.componentOptionsModel,usageAnalytics:this.usageAnalytics}},Object.defineProperty(t.prototype,"usageAnalytics",{get:function(){return this.resolveUA()},enumerable:!0,configurable:!0}),t.prototype.createDom=function(){},t.prototype.resolveSearchInterface=function(){return t.resolveBinding(this.element,d.SearchInterface)},t.prototype.resolveQueryController=function(){return t.resolveBinding(this.element,p.QueryController)},t.prototype.resolveComponentStateModel=function(){return t.resolveBinding(this.element,l.ComponentStateModel)},t.prototype.resolveQueryStateModel=function(){return t.resolveBinding(this.element,u.QueryStateModel)},t.prototype.resolveComponentOptionsModel=function(){return t.resolveBinding(this.element,c.ComponentOptionsModel)},t.prototype.resolveUA=function(){return this.searchInterface&&this.searchInterface.usageAnalytics?this.searchInterface.usageAnalytics:new h.NoopAnalyticsClient},t.prototype.resolveResult=function(){return t.getResult(this.element)},t.prototype.initDebugInfo=function(){var e=this;a.$$(this.element).on("dblclick",function(t){if(t.altKey){null!=e.debugInfo()&&a.$$(e.root).trigger(m.DebugEvents.showDebugPanel,e.debugInfo())}})},t.get=function(e,n,i){if(o.Assert.exists(e),y.isString(n))return e[t.computeCssClassNameForType(n)];if(r.Utils.exists(n))return o.Assert.exists(n.ID),e[t.computeCssClassNameForType(n.ID)];var s=f.BaseComponent.getBoundComponentsForElement(e);return i||o.Assert.check(s.length<=1,"More than one component is bound to this element. You need to specify the component type."),s[0]},t.getResult=function(e,t){void 0===t&&(t=!1);var n=a.$$(e).closest(".CoveoResult");return o.Assert.check(t||void 0!=n),n.CoveoResult},t.bindResultToElement=function(e,t){o.Assert.exists(e),o.Assert.exists(t),a.$$(e).addClass("CoveoResult"),e.CoveoResult=t;var n=s.JQueryUtils.getJQuery();n&&n(e).data(t)},t.resolveRoot=function(e){o.Assert.exists(e);var n=t.resolveBinding(e,d.SearchInterface);return n?n.element:document.body},t.resolveBinding=function(e,n){o.Assert.exists(e),o.Assert.exists(n),o.Assert.exists(n.ID);var i,r=t.computeCssClassNameForType(n.ID);if(a.$$(e).is("."+r))i=e;else{var s=a.$$(e).findClass(r);if(s&&0!==s.length)i=s[0];else{var u=a.$$(e).closest(r);u&&(i=u)}}return i?i[r]:void 0},t.pointElementsToDummyForm=function(e){var t=a.$$(e).is("input")?[e]:[];t=t.concat(a.$$(e).findAll("input")),y.each(y.compact(t),function(e){e.setAttribute("form","coveo-dummy-form")})},t.ComponentEventClass=v,t}(f.BaseComponent);t.Component=b},function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.L10N.format.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(145);t.l=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),r=n(5),s=n(11),a=n(7),u=n(1),l=n(12),c=n(4),p=n(58);!function(e){e[e.BOOLEAN=0]="BOOLEAN",e[e.NUMBER=1]="NUMBER",e[e.STRING=2]="STRING",e[e.LOCALIZED_STRING=3]="LOCALIZED_STRING",e[e.LIST=4]="LIST",e[e.SELECTOR=5]="SELECTOR",e[e.CHILD_HTML_ELEMENT=6]="CHILD_HTML_ELEMENT",e[e.TEMPLATE=7]="TEMPLATE",e[e.FIELD=8]="FIELD",e[e.FIELDS=9]="FIELDS",e[e.ICON=10]="ICON",e[e.COLOR=11]="COLOR",e[e.OBJECT=12]="OBJECT",e[e.QUERY=13]="QUERY",e[e.HELPER=14]="HELPER",e[e.LONG_STRING=15]="LONG_STRING",e[e.JSON=16]="JSON",e[e.JAVASCRIPT=17]="JAVASCRIPT",e[e.NONE=18]="NONE",e[e.QUERY_EXPRESSION=19]="QUERY_EXPRESSION"}(i=t.ComponentOptionsType||(t.ComponentOptionsType={}));var d=/([A-Z])|\W+(\w)/g,h=/\s*,\s*/,f=/([a-zA-Z\-]+)\s*:\s*(([^,]|,\s*(?!([a-zA-Z\-]+)\s*:))+)/g,m=function(){function e(){}return e.buildTemplateOption=function(e){return p.TemplateComponentOptions.buildTemplateOption(e)},e.buildBooleanOption=function(t){return e.buildOption(i.BOOLEAN,e.loadBooleanOption,t)},e.buildNumberOption=function(t){return e.buildOption(i.NUMBER,e.loadNumberOption,t)},e.buildStringOption=function(t){return e.buildOption(i.STRING,e.loadStringOption,t)},e.buildIconOption=function(t){return e.buildOption(i.ICON,e.loadIconOption,t)},e.buildColorOption=function(t){return e.buildOption(i.COLOR,e.loadStringOption,t)},e.buildHelperOption=function(t){return e.buildOption(i.HELPER,e.loadStringOption,t)},e.buildJsonOption=function(t){return e.buildOption(i.JSON,e.loadJsonObjectOption,t)},e.buildJsonObjectOption=function(t){return e.buildJsonOption(t)},e.buildLocalizedStringOption=function(t){return e.buildOption(i.LOCALIZED_STRING,e.loadLocalizedStringOption,t)},e.buildFieldOption=function(t){return e.buildOption(i.FIELD,e.loadFieldOption,t)},e.buildFieldsOption=function(t){return e.buildOption(i.FIELDS,e.loadFieldsOption,t)},e.buildQueryExpressionOption=function(t){return e.buildOption(i.QUERY_EXPRESSION,e.loadStringOption,t)},e.buildListOption=function(t){return e.buildOption(i.LIST,e.loadListOption,t)},e.buildSelectorOption=function(t){return e.buildOption(i.SELECTOR,e.loadSelectorOption,t)},e.buildChildHtmlElementOption=function(t){return e.buildOption(i.CHILD_HTML_ELEMENT,e.loadChildHtmlElementOption,t)},e.buildCustomOption=function(t,n){var o=function(n,i,o){var r=e.loadStringOption(n,i,o);if(!c.Utils.isNullOrEmptyString(r))return t(r)};return e.buildOption(i.STRING,o,n)},e.buildCustomListOption=function(t,n){var o=function(n,i,o){var r=e.loadListOption(n,i,o);return t(r)};return e.buildOption(i.LIST,o,n)},e.buildObjectOption=function(t){var n=function(n,i,r){for(var s=o.keys(t.subOptions),a={},u={},l=0;l<s.length;l++){var c=s[l],p=e.mergeCamelCase(i,c);a[p]=t.subOptions[c]}e.initOptions(n,a,u);for(var d={},h=!1,l=0;l<s.length;l++){var c=s[l],p=e.mergeCamelCase(i,c);null!=u[p]&&(d[c]=u[p],h=!0)}return h?d:null};return e.buildOption(i.OBJECT,n,t)},e.buildOption=function(e,t,n){void 0===n&&(n={});var i=n;return i.type=e,i.load=t,i},e.attrNameFromName=function(t,n){return n&&n.attrName?n.attrName:t?"data-"+e.camelCaseToHyphen(t):t},e.camelCaseToHyphen=function(e){return e.replace(d,"-$1$2").toLowerCase()},e.mergeCamelCase=function(e,t){return e+t.substr(0,1).toUpperCase()+t.substr(1)},e.initComponentOptions=function(t,n,i){return e.initOptions(t,n.options,i,n.ID)},e.initOptions=function(e,t,n,r){var u=new s.Logger(this);null==n&&(n={});for(var l=o.keys(t),p=0;p<l.length;p++){var d=l[p],h=t[d],f=void 0,m=h.load;if(null!=m&&(f=m(e,d,h))&&h.deprecated&&u.warn(r+"."+d+": "+h.deprecated),c.Utils.isNullOrUndefined(f)&&void 0!=n[d]&&(f=n[d]),null==f&&void 0==n[d]&&(null!=h.defaultValue?f=h.type==i.LIST?o.extend([],h.defaultValue):h.type==i.OBJECT?o.extend({},h.defaultValue):h.defaultValue:null!=h.defaultFunction&&(f=h.defaultFunction(e))),null!=f){if(h.validator){if(!h.validator(f)){u.warn(r+" ."+d+" has invalid value: "+f),h.required&&u.error(r+" ."+d+" is required and has an invalid value: "+f+". ***THIS COMPONENT WILL NOT WORK***"),delete n[d];continue}}h.type==i.OBJECT&&null!=n[d]?n[d]=o.extend(n[d],f):h.type==i.LOCALIZED_STRING?n[d]=a.l(f):n[d]=f}void 0==n[d]&&h.required&&u.warn('Option "'+d+'" is *REQUIRED* on the component "'+r+'". The component or the search page might *NOT WORK PROPERLY*.',e)}for(var p=0;p<l.length;p++){var y=l[p],h=t[y];h.postProcessing&&(n[y]=h.postProcessing(n[y],n))}return n},e.loadStringOption=function(t,n,i){return t.getAttribute(e.attrNameFromName(n,i))||e.getAttributeFromAlias(t,i)},e.loadIconOption=function(t,n,i){var o=e.loadStringOption(t,n,i);return null==o?null:(o=o.replace("coveo-sprites-replies","replies"),o=o.replace("coveo-sprites-main-search-active","search"),c.Utils.isNullOrUndefined(l.SVGIcons.icons[o])?(new s.Logger(t).warn("Icon with name "+o+" not found."),null):o=c.Utils.toCamelCase(o))},e.loadFieldOption=function(t,n,i){var o=e.loadStringOption(t,n,i);return r.Assert.check(!c.Utils.isNonEmptyString(o)||c.Utils.isCoveoField(o),o+" is not a valid field"),o},e.loadFieldsOption=function(t,n,i){var s=e.loadStringOption(t,n,i);if(null==s)return null;var a=s.split(h);return o.each(a,function(e){r.Assert.check(c.Utils.isCoveoField(e),e+" is not a valid field")}),a},e.loadLocalizedStringOption=function(t,n,i){var r=e.loadStringOption(t,n,i),s=String.locale||String.defaultLocale;if(null!=s&&null!=r){var a=s.toLowerCase().split("-"),u=o.map(a,function(e,t){return a.slice(0,t+1).join("-")}),l=r.match(f);if(null!=l)for(var c=0;c<l.length;c++){var p=f.exec(l[c]);if(null!=p){var d=p[1].toLowerCase();if(o.contains(u,d))return p[2].replace(/^\s+|\s+$/g,"")}}return null!=r?r.toLocaleString():null}return r},e.loadNumberOption=function(t,n,i){var o=e.loadStringOption(t,n,i);if(null==o)return null;var r=!0===i.float?c.Utils.parseFloatIfNotUndefined(o):c.Utils.parseIntIfNotUndefined(o);return null!=i.min&&i.min>r&&(new s.Logger(t).info("Value for option "+n+" is less than the possible minimum (Value is "+r+", minimum is "+i.min+"). It has been forced to its minimum value.",i),r=i.min),null!=i.max&&i.max<r&&(new s.Logger(t).info("Value for option "+n+" is higher than the possible maximum (Value is "+r+", maximum is "+i.max+"). It has been forced to its maximum value.",i),r=i.max),r},e.loadBooleanOption=function(t,n,i){return c.Utils.parseBooleanIfNotUndefined(e.loadStringOption(t,n,i))},e.loadListOption=function(t,n,i){var o=i.separator||/\s*,\s*/,r=e.loadStringOption(t,n,i);return c.Utils.isNonEmptyString(r)?r.split(o):null},e.loadEnumOption=function(t,n,i,o){var r=e.loadStringOption(t,n,i);return null!=r?o[r]:null},e.loadJsonObjectOption=function(t,n,i){var o=e.loadStringOption(t,n,i);if(null==o)return null;try{return JSON.parse(o)}catch(e){return new s.Logger(t).info("Value for option "+n+" is not a valid JSON string (Value is "+o+"). It has been disabled.",e),null}},e.loadSelectorOption=function(t,n,i,o){void 0===o&&(o=document);var r=e.loadStringOption(t,n,i);return c.Utils.isNonEmptyString(r)?o.querySelector(r):null},e.loadChildHtmlElementOption=function(t,n,i,o){void 0===o&&(o=document);var r,s=i.selectorAttr||e.attrNameFromName(n,i)+"-selector",a=t.getAttribute(s)||e.getAttributeFromAlias(t,i);if(null!=a&&(r=o.body.querySelector(a)),null==r){var u=i.childSelector;null==u&&(u="."+n),r=e.loadChildHtmlElementFromSelector(t,u)}return r},e.loadChildHtmlElementFromSelector=function(e,t){return r.Assert.isNonEmptyString(t),u.$$(e).is(t)?e:u.$$(e).find(t)},e.loadChildrenHtmlElementFromSelector=function(e,t){return r.Assert.isNonEmptyString(t),u.$$(e).findAll(t)},e.findParentScrolling=function(t,n){for(void 0===n&&(n=document);t!=n&&null!=t;){if(e.isElementScrollable(t))return"body"!==t.tagName.toLowerCase()?t:window;t=t.parentElement}return window},e.isElementScrollable=function(e){var t=u.$$(e).css("overflow-y");return"scroll"==t||"auto"==t},e.getAttributeFromAlias=function(t,n){if(o.isArray(n.alias)){var i;return o.each(n.alias,function(n){var o=t.getAttribute(e.attrNameFromName(n));o&&(i=o)}),i}return n.alias?t.getAttribute(e.attrNameFromName(n.alias)):void 0},e}();t.ComponentOptions=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsActionCauseList={interfaceLoad:{name:"interfaceLoad",type:"interface"},interfaceChange:{name:"interfaceChange",type:"interface"},contextRemove:{name:"contextRemove",type:"misc"},didyoumeanAutomatic:{name:"didyoumeanAutomatic",type:"misc"},didyoumeanClick:{name:"didyoumeanClick",type:"misc"},resultsSort:{name:"resultsSort",type:"misc"},searchboxSubmit:{name:"searchboxSubmit",type:"search box"},searchboxClear:{name:"searchboxClear",type:"search box"},searchboxAsYouType:{name:"searchboxAsYouType",type:"search box"},breadcrumbFacet:{name:"breadcrumbFacet",type:"breadcrumb"},breadcrumbDynamicFacet:{name:"breadcrumbDynamicFacet",type:"breadcrumb"},breadcrumbAdvancedSearch:{name:"breadcrumbAdvancedSearch",type:"breadcrumb"},breadcrumbResetAll:{name:"breadcrumbResetAll",type:"breadcrumb"},documentTag:{name:"documentTag",type:"document"},documentField:{name:"documentField",type:"document"},documentQuickview:{name:"documentQuickview",type:"document"},documentOpen:{name:"documentOpen",type:"document"},omniboxFacetSelect:{name:"omniboxFacetSelect",type:"omnibox"},omniboxFacetExclude:{name:"omniboxFacetExclude",type:"omnibox"},omniboxFacetDeselect:{name:"omniboxFacetDeselect",type:"omnibox"},omniboxFacetUnexclude:{name:"omniboxFacetUnexclude",type:"omnibox"},omniboxAnalytics:{name:"omniboxAnalytics",type:"omnibox"},omniboxFromLink:{name:"omniboxFromLink",type:"omnibox"},omniboxField:{name:"omniboxField",type:"omnibox"},facetClearAll:{name:"facetClearAll",type:"facet"},facetSearch:{name:"facetSearch",type:"facet"},facetToggle:{name:"facetToggle",type:"facet"},facetRangeSlider:{name:"facetRangeSlider",type:"facet"},facetRangeGraph:{name:"facetRangeGraph",type:"facet"},facetSelect:{name:"facetSelect",type:"facet"},facetSelectAll:{name:"facetSelectAll",type:"facet"},facetDeselect:{name:"facetDeselect",type:"facet"},facetExclude:{name:"facetExclude",type:"facet"},facetUnexclude:{name:"facetUnexclude",type:"facet"},facetUpdateSort:{name:"facetUpdateSort",type:"facet"},categoryFacetSelect:{name:"categoryFacetSelect",type:"categoryFacet"},categoryFacetReload:{name:"categoryFacetReload",type:"categoryFacet"},categoryFacetClear:{name:"categoryFacetClear",type:"categoryFacet"},categoryFacetBreadcrumb:{name:"categoryFacetBreadcrumb",type:"categoryFacet"},categoryFacetSearch:{name:"categoryFacetSearch",type:"categoryFacet"},facetShowMore:{name:"showMoreFacetResults",type:"facet"},facetShowLess:{name:"showLessFacetResults",type:"facet"},errorBack:{name:"errorBack",type:"errors"},errorClearQuery:{name:"errorClearQuery",type:"errors"},errorRetry:{name:"errorRetry",type:"errors"},noResultsBack:{name:"noResultsBack",type:"noResults"},expandToFullUI:{name:"expandToFullUI",type:"interface"},caseCreationInputChange:{name:"inputChange",type:"caseCreation"},caseCreationSubmitButton:{name:"submitButton",type:"caseCreation"},caseCreationCancelButton:{name:"cancelButton",type:"caseCreation"},caseCreationUnloadPage:{name:"unloadPage",type:"caseCreation"},casecontextAdd:{name:"casecontextAdd",type:"casecontext"},casecontextRemove:{name:"casecontextRemove",type:"casecontext"},preferencesChange:{name:"preferencesChange",type:"preferences"},getUserHistory:{name:"getUserHistory",type:"userHistory"},userActionDocumentClick:{name:"userActionDocumentClick",type:"userHistory"},caseAttach:{name:"caseAttach",type:"case"},caseDetach:{name:"caseDetach",type:"case"},customfiltersChange:{name:"customfiltersChange",type:"customfilters"},pagerNumber:{name:"pagerNumber",type:"getMoreResults"},pagerNext:{name:"pagerNext",type:"getMoreResults"},pagerPrevious:{name:"pagerPrevious",type:"getMoreResults"},pagerScrolling:{name:"pagerScrolling",type:"getMoreResults"},pagerResize:{name:"pagerResize",type:"getMoreResults"},positionSet:{name:"positionSet",type:"distance"},searchFromLink:{name:"searchFromLink",type:"interface"},triggerNotify:{name:"notify",type:"queryPipelineTriggers"},triggerExecute:{name:"execute",type:"queryPipelineTriggers"},triggerQuery:{name:"query",type:"queryPipelineTriggers"},triggerRedirect:{name:"redirect",type:"queryPipelineTriggers"},queryError:{name:"query",type:"errors"},exportToExcel:{name:"exportToExcel",type:"misc"},recommendation:{name:"recommendation",type:"recommendation"},recommendationInterfaceLoad:{name:"recommendationInterfaceLoad",type:"recommendation"},recommendationOpen:{name:"recommendationOpen",type:"recommendation"},advancedSearch:{name:"advancedSearch",type:"advancedSearch"},searchAlertsFollowDocument:{name:"followDocument",type:"searchAlerts"},searchAlertsFollowQuery:{name:"followQuery",type:"searchAlerts"},searchAlertsUpdateSubscription:{name:"updateSubscription",type:"searchAlerts"},searchAlertsDeleteSubscription:{name:"deleteSubscription",type:"searchAlerts"},searchAlertsUnfollowDocument:{name:"unfollowDocument",type:"searchAlerts"},searchAlertsUnfollowQuery:{name:"unfollowQuery",type:"searchAlerts"},simpleFilterSelectValue:{name:"selectValue",type:"simpleFilter"},simpleFilterDeselectValue:{name:"deselectValue",type:"simpleFilter"},simpleFilterClearAll:{name:"selectValue",type:"simpleFilter"},resultsLayoutChange:{name:"changeResultsLayout",type:"resultsLayout"},foldingShowMore:{name:"showMoreFoldedResults",type:"folding"},foldingShowLess:{name:"showLessFoldedResults",type:"folding"},dynamicFacetSelect:{name:"dynamicFacetSelect",type:"dynamicFacet"},dynamicFacetDeselect:{name:"dynamicFacetDeselect",type:"dynamicFacet"},dynamicFacetClearAll:{name:"dynamicFacetClearAll",type:"dynamicFacet"},dynamicFacetShowMore:{name:"dynamicFacetShowMore",type:"dynamicFacet"},dynamicFacetShowLess:{name:"dynamicFacetShowLess",type:"dynamicFacet"},addMissingTerm:{name:"addMissingTerm",type:"missingTerm"},removeMissingTerm:{name:"removeMissingTerm",type:"missingTerm"},showQuerySuggestPreview:{name:"showQuerySuggestPreview",type:"querySuggestPreview"},clickQuerySuggestPreview:{name:"clickQuerySuggestPreview",type:"querySuggestPreview"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.newQuery="newQuery",e.buildingQuery="buildingQuery",e.doneBuildingQuery="doneBuildingQuery",e.duringQuery="duringQuery",e.duringFetchMoreQuery="duringFetchMoreQuery",e.querySuccess="querySuccess",e.fetchMoreSuccess="fetchMoreSuccess",e.deferredQuerySuccess="deferredQuerySuccess",e.queryError="queryError",e.preprocessResults="preprocessResults",e.preprocessMoreResults="preprocessMoreResults",e.noResults="noResults",e.buildingCallOptions="buildingCallOptions",e}();t.QueryEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.console||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},assert:function(){},clear:function(){},count:function(){},dir:function(){},dirxml:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},msIsIndependentlyComposed:function(e){},profile:function(){},profileEnd:function(){},select:function(){},time:function(){},timeEnd:function(){},trace:function(){}});var i=function(){function e(e){this.owner=e}return e.prototype.trace=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.TRACE&&this.log("TRACE",t)},e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.DEBUG&&this.log("DEBUG",t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.INFO&&this.log("INFO",t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.WARN&&this.log("WARN",t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.ERROR&&this.log("ERROR",t)},e.prototype.log=function(t,n){window.console&&console.log&&(console.error&&"ERROR"==t?console.error([t,this.owner].concat(n)):console.info&&"INFO"==t?console.info([t,this.owner].concat(n)):console.warn&&"WARN"==t?console.warn([t,this.owner].concat(n)):console.log([t,this.owner].concat(n)),e.executionTime&&(console.timeEnd("Execution time"),console.time("Execution time")))},e.enable=function(){e.level=e.TRACE},e.disable=function(){e.level=e.NOTHING},e.TRACE=1,e.DEBUG=2,e.INFO=3,e.WARN=4,e.ERROR=5,e.NOTHING=6,e.level=e.INFO,e.executionTime=!1,e}();t.Logger=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.icons={search:n(313),more:n(314),loading:n(315),checkboxHookExclusionMore:n(316),arrowUp:n(317),arrowDown:n(318),mainClear:n(319),orAnd:n(320),sort:n(321),ascending:n(322),descending:n(323),dropdownMore:n(324),dropdownLess:n(325),facetCollapse:n(326),facetExpand:n(327),dropdownShareQuery:n(328),dropdownPreferences:n(329),dropdownAuthenticate:n(330),dropdownExport:n(331),dropdownFollowQuery:n(332),quickview:n(333),pagerRightArrow:n(334),pagerLeftArrow:n(335),replies:n(336),video:n(337),coveoLogo:n(338),coveoPoweredBy:n(339),taggingOk:n(340),edit:n(341),star:n(342),listLayout:n(343),cardLayout:n(344),tableLayout:n(345)},e}();t.SVGIcons=i},function(e,t,n){"use strict";function i(e,t){if(a.Assert.exists(e),0==t.length||void 0==t[0])return e;if(1==t.length&&l.Utils.isNonEmptyString(t[0]))return e.get(t[0]);if(u.isObject(t[0])){var n=t[0],i=u.extend({customAttribute:!0},t[1]);return e.setMultiple(n,i)}if(t.length>1){var o=t[0],r=t[1],i=u.extend({customAttribute:!0},t[2]);return a.Assert.isNonEmptyString(o),e.set(o,r,i)}}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(16),a=n(5),u=n(0),l=n(4);t.QUERY_STATE_ATTRIBUTES={Q:"q",FIRST:"first",T:"t",TG:"tg",SORT:"sort",LAYOUT:"layout",HD:"hd",HQ:"hq",QUICKVIEW:"quickview",DEBUG:"debug",NUMBER_OF_RESULTS:"numberOfResults",MISSING_TERMS:"missingTerms"};var c=function(e){function t(n,i){var o=r({},t.defaultAttributes,i);return e.call(this,n,t.ID,o)||this}return o(t,e),t.getFacetId=function(e,t){return void 0===t&&(t=!0),"f:"+e+(t?"":":not")},t.getFacetOperator=function(e){return"f:"+e+":operator"},t.getFacetLookupValue=function(e){return t.getFacetId(e)+":lookupvalues"},t.prototype.atLeastOneFacetIsActive=function(){var e=this;return!u.isUndefined(u.find(this.attributes,function(t,n){return n.match(/^f:/)&&!l.Utils.arrayEqual(e.getDefault(n),t)}))},t.prototype.set=function(t,n,i){this.validate(t,n),e.prototype.set.call(this,t,n,i)},t.prototype.validate=function(e,n){e==t.attributesEnum.first&&(a.Assert.isNumber(n),a.Assert.isLargerOrEqualsThan(0,n))},t.ID="state",t.defaultAttributes={q:"",first:0,fv:"",t:"",hd:"",hq:"",sort:"",layout:"list",tg:"",quickview:"",debug:!1,numberOfResults:10,missingTerms:[]},t.attributesEnum={q:"q",first:"first",fv:"fv",t:"t",sort:"sort",layout:"layout",hd:"hd",hq:"hq",tg:"tg",quickview:"quickview",debug:"debug",numberOfResults:"numberOfResults",missingTerms:"missingTerms"},t}(s.Model);t.QueryStateModel=c,t.setState=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(){}return e.addClassToSVGInContainer=function(t,n){var i=t.querySelector("svg");i.setAttribute("class",""+e.getClass(i)+n)},e.removeClassFromSVGInContainer=function(t,n){var i=t.querySelector("svg");i.setAttribute("class",e.getClass(i).replace(n,""))},e.addStyleToSVGInContainer=function(e,t){var n=e.querySelector("svg");i.each(t,function(e,t){n.style[t]=e})},e.getClass=function(e){var t=e.getAttribute("class");return t?t+" ":""},e}();t.SVGDom=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.beforeInitialization="beforeInitialization",e.afterComponentsInitialization="afterComponentsInitialization",e.restoreHistoryState="restoreHistoryState",e.afterInitialization="afterInitialization",e.nuke="nuke",e}();t.InitializationEvents=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(5),s=n(4),a=n(33),u=n(0);t.MODEL_EVENTS={PREPROCESS:"preprocess",CHANGE_ONE:"change:",CHANGE:"change",RESET:"reset",ALL:"all"};var l=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.eventNameSpace=n,o.defaultAttributes=s.Utils.extendDeep(o.defaultAttributes,i),o.attributes=i,o.logger.debug("Creating model"),o}return i(t,e),t.prototype.set=function(e,t,n){var i={};i[e]=t,this.setMultiple(i,n)},t.prototype.getAttributes=function(){var e=this,t={};return u.each(this.attributes,function(n,i){u.isObject(n)?s.Utils.objectEqual(n,e.defaultAttributes[i])||(t[i]=s.Utils.extendDeep({},n)):n!=e.defaultAttributes[i]&&(t[i]=n)}),t},t.prototype.setMultiple=function(e,t){var n=this,i=!1;this.preprocessEvent(e),u.each(e,function(e,o){t&&t.customAttribute||n.checkIfAttributeExists(o),e=n.parseToCorrectType(o,e),(t&&!t.validateType||n.typeIsValid(o,e))&&n.checkIfAttributeChanged(o,e)&&(n.attributes[o]=e,i=!0,null!=t&&t.silent||n.attributeHasChangedEvent(o))}),!i||null!=t&&t.silent||(this.attributesHasChangedEvent(),this.anyEvent())},t.prototype.setNewDefault=function(e,t,n){n&&n.customAttribute||this.checkIfAttributeExists(e),this.defaultAttributes[e]=t},t.prototype.setDefault=function(e){this.set(e,this.defaultAttributes[e])},t.prototype.get=function(e){return void 0==e?this.attributes:this.attributes[e]},t.prototype.getDefault=function(e){return void 0==e?this.defaultAttributes:this.defaultAttributes[e]},t.prototype.reset=function(){this.setMultiple(this.defaultAttributes),this.modelWasResetEvent()},t.prototype.registerNewAttribute=function(e,t){this.defaultAttributes[e]=t,this.attributes[e]=t},t.prototype.getEventName=function(e){return this.eventNameSpace+":"+e},t.prototype.attributesHasChangedEvent=function(){o.$$(this.element).trigger(this.getEventName(t.eventTypes.change),this.createAttributesChangedArgument())},t.prototype.attributeHasChangedEvent=function(e){o.$$(this.element).trigger(this.getEventName(t.eventTypes.changeOne)+e,this.createAttributeChangedArgument(e))},t.prototype.preprocessEvent=function(e){o.$$(this.element).trigger(this.getEventName(t.eventTypes.preprocess),e)},t.prototype.modelWasResetEvent=function(){o.$$(this.element).trigger(this.getEventName(t.eventTypes.reset),this.createModelChangedArgument())},t.prototype.anyEvent=function(){o.$$(this.element).trigger(this.getEventName(t.eventTypes.all),this.createModelChangedArgument())},t.prototype.createAttributeChangedArgument=function(e){return{attribute:e,value:this.attributes[e]}},t.prototype.createAttributesChangedArgument=function(){return{attributes:this.attributes}},t.prototype.createModelChangedArgument=function(){return{model:this}},t.prototype.checkIfAttributeExists=function(e){r.Assert.check(u.has(this.attributes,e),"The attribute "+e+" is not registered.")},t.prototype.typeIsValid=function(e,t){return!(!s.Utils.isNullOrUndefined(this.attributes[e])&&!s.Utils.isUndefined(t))||(u.isNumber(this.attributes[e])?this.validateNumber(e,t):u.isBoolean(this.attributes[e])?this.validateBoolean(e,t):this.validateOther(e,t))},t.prototype.validateNumber=function(e,t){return!(!u.isNumber(t)||isNaN(t))||(this.logger.error("Non-matching type for "+e+". Expected number and got "+t),!1)},t.prototype.validateBoolean=function(e,t){return!(!u.isBoolean(t)&&void 0!==!s.Utils.parseBooleanIfNotUndefined(t))||(this.logger.error("Non matching type for "+e+". Expected boolean and got "+t),!1)},t.prototype.validateOther=function(e,t){return!(!s.Utils.isNullOrUndefined(this.defaultAttributes[e])&&typeof t!=typeof this.defaultAttributes[e])||(this.logger.error("Non-matching type for "+e+". Expected "+typeof this.defaultAttributes[e]+" and got "+t),!1)},t.prototype.parseToCorrectType=function(e,t){return u.isNumber(this.attributes[e])?parseInt(t,10):u.isBoolean(this.attributes[e])?u.isBoolean(t)?t:s.Utils.parseBooleanIfNotUndefined(t):t},t.prototype.checkIfAttributeChanged=function(e,t){var n=this.attributes[e];return u.isNumber(n)||u.isString(n)||u.isBoolean(n)?n!==t:u.isArray(n)?!s.Utils.arrayEqual(n,t):!u.isObject(n)||!s.Utils.objectEqual(n,t)},t.prototype.debugInfo=function(){return null},t.eventTypes={preprocess:"preprocess",changeOne:"change:",change:"change",reset:"reset",all:"all"},t}(a.BaseComponent);t.Model=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(26),r=n(1);n(411);var s=function(){function e(){this.logger=new i.Logger(this)}return e.prototype.withOwner=function(e){return this.eventOwner=e,this},e.prototype.withElement=function(e){return e instanceof HTMLElement?this.element=r.$$(e):this.element=e,this},e.prototype.withLabel=function(e){return this.label=e,this},e.prototype.withTitle=function(e){return this.title=e,this},e.prototype.withSelectAction=function(e){return this.clickAction=e,this.enterKeyboardAction=e,this},e.prototype.withClickAction=function(e){return this.clickAction=e,this},e.prototype.withEnterKeyboardAction=function(e){return this.enterKeyboardAction=e,this},e.prototype.withFocusAndMouseEnterAction=function(e){return this.focusAction=e,this.mouseenterAction=e,this},e.prototype.withFocusAction=function(e){return this.focusAction=e,this},e.prototype.withMouseEnterAction=function(e){return this.mouseenterAction=e,this},e.prototype.withBlurAndMouseLeaveAction=function(e){return this.mouseleaveAction=e,this.blurAction=e,this},e.prototype.withMouseLeaveAction=function(e){return this.mouseleaveAction=e,this},e.prototype.withBlurAction=function(e){return this.blurAction=e,this},e.prototype.build=function(){return this.element||(this.element=r.$$("div")),this.ensureCorrectRole(),this.ensureCorrectLabel(),this.ensureTitle(),this.ensureSelectAction(),this.ensureUnselectAction(),this.ensureMouseenterAndFocusAction(),this.ensureMouseleaveAndBlurAction(),this.ensureDifferentiationBetweenKeyboardAndMouseFocus(),this},e.prototype.ensureDifferentiationBetweenKeyboardAndMouseFocus=function(){var e=this;r.$$(this.element).addClass("coveo-accessible-button"),r.$$(this.element).on("mouseup",function(){return r.$$(e.element).addClass("coveo-accessible-button-pressed")}),r.$$(this.element).on("focus",function(){r.$$(e.element).removeClass("coveo-accessible-button-pressed")})},e.prototype.ensureCorrectRole=function(){this.element.getAttribute("role")||this.element.setAttribute("role","button")},e.prototype.ensureCorrectLabel=function(){if(!this.label)return void this.logger.error("Missing label to create an accessible button !");this.element.setAttribute("aria-label",this.label)},e.prototype.ensureTitle=function(){this.title&&this.element.setAttribute("title",this.title)},e.prototype.ensureTabIndex=function(){this.element.setAttribute("tabindex","0")},e.prototype.ensureSelectAction=function(){var e=this;this.enterKeyboardAction&&(this.ensureTabIndex(),this.bindEvent("keyup",o.KeyboardUtils.keypressAction(o.KEYBOARD.ENTER,function(t){return e.enterKeyboardAction(t)})),this.bindEvent("keydown",o.KeyboardUtils.keypressAction(o.KEYBOARD.SPACEBAR,function(e){e.preventDefault()})),this.bindEvent("keyup",o.KeyboardUtils.keypressAction(o.KEYBOARD.SPACEBAR,function(t){e.enterKeyboardAction(t)}))),this.clickAction&&this.bindEvent("click",this.clickAction)},e.prototype.ensureUnselectAction=function(){this.blurAction&&this.bindEvent("blur",this.blurAction),this.mouseleaveAction&&this.bindEvent("mouseleave",this.mouseleaveAction)},e.prototype.ensureMouseenterAndFocusAction=function(){this.mouseenterAction&&this.bindEvent("mouseenter",this.mouseenterAction),this.focusAction&&this.bindEvent("focus",this.focusAction)},e.prototype.ensureMouseleaveAndBlurAction=function(){this.mouseleaveAction&&this.bindEvent("mouseleave",this.mouseleaveAction),this.blurAction&&this.bindEvent("blur",this.blurAction)},e.prototype.bindEvent=function(e,t){this.eventOwner?this.eventOwner.on(this.element,e,t):r.$$(this.element).on(e,t)},e}();t.AccessibleButton=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(302);n(305),n(306),n(307),n(308);var s=n(0),a=n(147),u=n(148),l=n(309),c=n(40),p=n(15),d=n(10),h=n(90),f=n(5),m=n(310),y=n(28),g=n(73),v=n(16),b=n(13),C=n(49),S=n(48),w=n(1),x=n(45),_=n(4),O=n(9),E=n(96),A=n(311),T=n(33),R=n(8),I=n(166),F=n(41),M=n(151),D=n(192),P=n(50),$=n(408),N=n(409),k=n(410),V=function(e){function t(n,i,o,r){void 0===r&&(r=window);var s=e.call(this,n,t.ID)||this;s.element=n,s.options=i,s.analyticsOptions=o,s._window=r,s.isResultsPerPageModifiedByPipeline=!1,s.options=R.ComponentOptions.initComponentOptions(n,t,i),f.Assert.exists(n),f.Assert.exists(s.options),s.root=n,s.setupQueryMode(),s.queryStateModel=new b.QueryStateModel(n),s.componentStateModel=new g.ComponentStateModel(n),s.componentOptionsModel=new y.ComponentOptionsModel(n),s.usageAnalytics=s.initializeAnalytics(),s.queryController=new c.QueryController(n,s.options,s.usageAnalytics,s),s.facetValueStateHandler=new N.FacetValueStateHandler(s.element),new m.SentryLogger(s.queryController);var a={element:s.element,queryStateModel:s.queryStateModel,queryController:s.queryController,usageAnalytics:s.usageAnalytics};return new D.MissingTermManager(a),s.omniboxAnalytics=new k.OmniboxAnalytics,s.setupEventsHandlers(),s.setupHistoryManager(n,r),s.element.style.display=n.style.display||"block",s.setupDebugInfo(),s.setupResponsiveComponents(),s.ariaLive=new A.AriaLive(n),s}return i(t,e),Object.defineProperty(t.prototype,"resultsPerPage",{get:function(){return null!=this.queryPipelineConfigurationForResultsPerPage&&0!=this.queryPipelineConfigurationForResultsPerPage?this.queryPipelineConfigurationForResultsPerPage:null!=this.queryController.options.resultsPerPage&&0!=this.queryController.options.resultsPerPage?this.queryController.options.resultsPerPage:(this.logger.warn("Results per page is incoherent in the search interface.",this),10)},set:function(e){this.options.resultsPerPage=this.queryController.options.resultsPerPage=e},enumerable:!0,configurable:!0}),t.prototype.getOmniboxAnalytics=function(){return this.omniboxAnalytics},t.prototype.attachComponent=function(e,t){this.getComponents(e).push(t)},t.prototype.detachComponent=function(e,t){var n=this.getComponents(e),i=s.indexOf(n,t);i>-1&&n.splice(i,1)},t.prototype.getBindings=function(){return{root:this.root,queryStateModel:this.queryStateModel,queryController:this.queryController,searchInterface:this,componentStateModel:this.componentStateModel,componentOptionsModel:this.componentOptionsModel,usageAnalytics:this.usageAnalytics}},t.prototype.getQueryContext=function(){var e,t=this.queryController.getLastQuery();if(t.context)e=t.context;else{var n=this.getComponents("PipelineContext");if(n&&!s.isEmpty(n)){var i=s.chain(n).map(function(e){return e.getContext()}).reduce(function(e,t){return o({},e,t)},{}).value();s.isEmpty(i)||(e=i)}}return e},t.prototype.getComponents=function(e){return null==this.attachedComponents&&(this.attachedComponents={}),e in this.attachedComponents||(this.attachedComponents[e]=[]),this.attachedComponents[e]},t.prototype.detachComponentsInside=function(e){var t=this;s.each(this.attachedComponents,function(n,i){n.filter(function(t){return e!=t.element&&e.contains(t.element)}).forEach(function(e){return t.detachComponent(i,e)})})},t.prototype.initializeAnalytics=function(){var e=T.BaseComponent.getComponentRef("Analytics");return e?e.create(this.element,this.analyticsOptions,this.getBindings()):new E.NoopAnalyticsClient},t.prototype.setupHistoryManager=function(e,t){var n=this;return this.options.enableHistory?this.options.useLocalStorageForHistory?void(this.historyManager=new u.LocalStorageHistoryController(e,t,this.queryStateModel,this.queryController)):void(this.historyManager=new a.HistoryController(e,t,this.queryStateModel,this.queryController)):(this.historyManager=new l.NoopHistoryController,void w.$$(this.element).on(p.InitializationEvents.restoreHistoryState,function(){return n.queryStateModel.setMultiple(o({},n.queryStateModel.defaultAttributes))}))},t.prototype.setupQueryMode=function(){this.options.allowQueriesWithoutKeywords?this.initializeEmptyQueryAllowed():this.initializeEmptyQueryNotAllowed()},t.prototype.setupEventsHandlers=function(){var e=this,t=this.queryStateModel.getEventName(v.Model.eventTypes.preprocess);w.$$(this.element).on(t,function(t,n){return e.handlePreprocessQueryStateModel(n)}),w.$$(this.element).on(d.QueryEvents.buildingQuery,function(t,n){return e.handleBuildingQuery(n)}),w.$$(this.element).on(d.QueryEvents.querySuccess,function(t,n){return e.handleQuerySuccess(n)}),w.$$(this.element).on(d.QueryEvents.queryError,function(t,n){return e.handleQueryError(n)}),w.$$(this.element).on(p.InitializationEvents.afterComponentsInitialization,function(){return e.handleAfterComponentsInitialization()});var n=this.queryStateModel.getEventName(v.Model.eventTypes.changeOne+b.QueryStateModel.attributesEnum.debug);w.$$(this.element).on(n,function(t,n){return e.handleDebugModeChange(n)}),this.queryStateModel.registerNewAttribute(b.QueryStateModel.attributesEnum.fv,{});var i=this.queryStateModel.getEventName(v.Model.eventTypes.changeOne+b.QueryStateModel.attributesEnum.quickview);w.$$(this.element).on(i,function(t,n){return e.handleQuickviewChanged(n)})},t.prototype.setupDebugInfo=function(){var e=this;this.options.enableDebugInfo&&setTimeout(function(){return new M.Debug(e.element,e.getBindings())})},t.prototype.setupResponsiveComponents=function(){this.responsiveComponents=new P.ResponsiveComponents,this.responsiveComponents.setMediumScreenWidth(this.options.responsiveMediumBreakpoint),this.responsiveComponents.setSmallScreenWidth(this.options.responsiveSmallBreakpoint),this.responsiveComponents.setResponsiveMode(this.options.responsiveMode)},t.prototype.handleDebugModeChange=function(e){var t=this;e.value&&!this.relevanceInspector&&this.options.enableDebugInfo&&n.e(0).then(function(){var e=n(218),i=e.RelevanceInspector,o=w.$$("btn");w.$$(t.element).prepend(o.el),t.relevanceInspector=new i(o.el,t.getBindings())}.bind(null,n)).catch(null)},t.prototype.handlePreprocessQueryStateModel=function(e){var t=this.queryStateModel.get(b.QueryStateModel.attributesEnum.tg),n=this.queryStateModel.get(b.QueryStateModel.attributesEnum.t),i=t,o=n;e&&void 0!==e.tg&&(e.tg=this.getTabGroupId(e.tg),i!=e.tg&&(e.t=e.t||b.QueryStateModel.defaultAttributes.t,e.sort=e.sort||b.QueryStateModel.defaultAttributes.sort,i=e.tg)),e&&void 0!==e.t&&(e.t=this.getTabId(i,e.t),o!=e.t&&(e.sort=e.sort||b.QueryStateModel.defaultAttributes.sort,o=e.t)),e&&void 0!==e.sort&&(e.sort=this.getSort(o,e.sort)),e&&void 0!==e.quickview&&(e.quickview=this.getQuickview(e.quickview)),!e||!e.fv||this instanceof L||this.facetValueStateHandler.handleFacetValueState(e)},t.prototype.getTabGroupId=function(e){var t=T.BaseComponent.getComponentRef("TabGroup");if(t){var n=this.getComponents(t.ID);if(e!=b.QueryStateModel.defaultAttributes.tg&&s.any(n,function(t){return!t.disabled&&e==t.options.id}))return e;if(n.length>0)return n[0].options.id}return b.QueryStateModel.defaultAttributes.tg},t.prototype.getTabId=function(e,t){var n=T.BaseComponent.getComponentRef("Tab"),i=T.BaseComponent.getComponentRef("TabGroup");if(n){var o=this.getComponents(n.ID);if(i&&e!=b.QueryStateModel.defaultAttributes.tg){var r=this.getComponents(i.ID),a=s.find(r,function(t){return e==t.options.id});if(t!=b.QueryStateModel.defaultAttributes.t&&s.any(o,function(e){return t==e.options.id&&a.isElementIncludedInTabGroup(e.element)}))return t;var u=s.find(o,function(e){return a.isElementIncludedInTabGroup(e.element)});return null!=u?u.options.id:b.QueryStateModel.defaultAttributes.t}if(t!=b.QueryStateModel.defaultAttributes.t&&s.any(o,function(e){return t==e.options.id}))return t;if(o.length>0)return o[0].options.id}return b.QueryStateModel.defaultAttributes.t},t.prototype.getSort=function(e,t){var n=T.BaseComponent.getComponentRef("Sort");if(n){var i=this.getComponents(n.ID),o=T.BaseComponent.getComponentRef("Tab");if(o&&e!=b.QueryStateModel.defaultAttributes.t){var r=this.getComponents(o.ID),a=s.find(r,function(t){return e==t.options.id}),u=a.options.sort;if(t!=b.QueryStateModel.defaultAttributes.sort&&s.any(i,function(e){return a.isElementIncludedInTab(e.element)&&e.match(t)}))return t;if(null!=u)return u.toString();var l=s.find(i,function(e){return a.isElementIncludedInTab(e.element)});return null!=l?l.options.sortCriteria[0].toString():b.QueryStateModel.defaultAttributes.sort}if(t!=b.QueryStateModel.defaultAttributes.sort&&s.any(i,function(e){return e.match(t)}))return t;if(i.length>0)return i[0].options.sortCriteria[0].toString()}return b.QueryStateModel.defaultAttributes.sort},t.prototype.getQuickview=function(e){var t=T.BaseComponent.getComponentRef("Quickview");if(t){var n=this.getComponents(t.ID);if(s.any(n,function(t){return t.getHashId()==e}))return e}return b.QueryStateModel.defaultAttributes.quickview},t.prototype.handleQuickviewChanged=function(e){var t=T.BaseComponent.getComponentRef("Quickview");if(t){var n=this.getComponents(t.ID);if(""!=e.value){var i=s.partition(n,function(t){return t.getHashId()==e.value});0!=i[0].length&&(s.first(i[0]).open(),s.each(s.tail(i[0]),function(e){return e.close()})),s.each(i[1],function(e){return e.close()})}else s.each(n,function(e){e.close()})}},t.prototype.handleBuildingQuery=function(e){this.options.enableDuplicateFiltering&&(e.queryBuilder.enableDuplicateFiltering=!0),_.Utils.isNullOrUndefined(this.options.pipeline)||(e.queryBuilder.pipeline=this.options.pipeline),_.Utils.isNullOrUndefined(this.options.maximumAge)||(e.queryBuilder.maximumAge=this.options.maximumAge),_.Utils.isNullOrUndefined(this.options.resultsPerPage)||(e.queryBuilder.numberOfResults=this.options.resultsPerPage),_.Utils.isNullOrUndefined(this.options.excerptLength)||(e.queryBuilder.excerptLength=this.options.excerptLength),_.Utils.isNonEmptyString(this.options.expression)&&e.queryBuilder.constantExpression.add(this.options.expression),_.Utils.isNonEmptyString(this.options.filterField)&&(e.queryBuilder.filterField=this.options.filterField),_.Utils.isNonEmptyString(this.options.timezone)&&(e.queryBuilder.timezone=this.options.timezone),e.queryBuilder.enableCollaborativeRating=this.options.enableCollaborativeRating,e.queryBuilder.enableDuplicateFiltering=this.options.enableDuplicateFiltering,e.queryBuilder.allowQueriesWithoutKeywords=this.options.allowQueriesWithoutKeywords;var t=this.queryController.getEndpoint();null!=t&&t.options&&this.queryStateModel.get(b.QueryStateModel.attributesEnum.debug)&&(e.queryBuilder.maximumAge=0,e.queryBuilder.enableDebug=!0,e.queryBuilder.fieldsToExclude=["allmetadatavalues"],e.queryBuilder.fieldsToInclude=null)},t.prototype.handleQuerySuccess=function(e){var t=0==e.results.results.length;this.toggleSectionState("coveo-no-results",t),this.handlePossiblyModifiedNumberOfResultsInQueryPipeline(e);var n=w.$$(this.element).find(".coveo-results-header");n&&w.$$(n).removeClass("coveo-query-error")},t.prototype.handlePossiblyModifiedNumberOfResultsInQueryPipeline=function(e){if(e&&e.query&&e.results){var t=e.query.numberOfResults,n=e.results.results.length,i=e.results.totalCountFiltered-e.query.firstResult===n,o=!i&&e.results.totalCountFiltered>n;t!=n&&o?(this.isResultsPerPageModifiedByPipeline=!0,this.queryPipelineConfigurationForResultsPerPage=n):(this.isResultsPerPageModifiedByPipeline=!1,this.queryPipelineConfigurationForResultsPerPage=null)}},t.prototype.handleQueryError=function(e){this.toggleSectionState("coveo-no-results");var t=w.$$(this.element).find(".coveo-results-header");t&&w.$$(t).addClass("coveo-query-error")},t.prototype.handleAfterComponentsInitialization=function(){var e=this;s.each(this.attachedComponents,function(t){t.forEach(function(t){$.FacetColumnAutoLayoutAdjustment.isAutoLayoutAdjustable(t)&&$.FacetColumnAutoLayoutAdjustment.initializeAutoLayoutAdjustment(e.element,t)})}),this.duplicatesFacets.length&&this.logger.warn("The following facets have duplicate id/field:",this.duplicatesFacets,"Ensure that each facet in your search interface has a unique id.")},Object.defineProperty(t.prototype,"duplicatesFacets",{get:function(){var e=[],t=S.ComponentsTypes.getAllFacetsInstance(this.root);return t.forEach(function(n){t.forEach(function(t){if(n!=t)return n.options.id===t.options.id?void e.push(n):void 0})}),e},enumerable:!0,configurable:!0}),t.prototype.toggleSectionState=function(e,t){var n=this;void 0===t&&(t=!0);var i=w.$$(this.element).find(".coveo-facet-column"),o=w.$$(this.element).find(".coveo-results-column"),r=w.$$(this.element).find(".coveo-results-header"),a=w.$$(this.element).findAll(".coveo-facet-search-results"),u=w.$$(this.element).find(".coveo-recommendation-main-section");i&&w.$$(i).toggleClass(e,t&&!this.queryStateModel.atLeastOneFacetIsActive()),o&&w.$$(o).toggleClass(e,t&&!this.queryStateModel.atLeastOneFacetIsActive()),r&&w.$$(r).toggleClass(e,t&&!this.queryStateModel.atLeastOneFacetIsActive()),u&&w.$$(u).toggleClass(e,t),a&&a.length>0&&s.each(a,function(i){w.$$(i).toggleClass(e,t&&!n.queryStateModel.atLeastOneFacetIsActive())})},t.prototype.initializeEmptyQueryAllowed=function(){new I.InitializationPlaceholder(this.element).withFullInitializationStyling().withAllPlaceholders()},t.prototype.initializeEmptyQueryNotAllowed=function(){var e=this,t=new I.InitializationPlaceholder(this.element).withEventToRemovePlaceholder(d.QueryEvents.newQuery).withFullInitializationStyling().withHiddenRootElement().withPlaceholderForFacets().withPlaceholderForResultList();w.$$(this.root).on(p.InitializationEvents.restoreHistoryState,function(){t.withVisibleRootElement(),""==e.queryStateModel.get("q")&&t.withWaitingForFirstQueryMode()}),w.$$(this.element).on(d.QueryEvents.doneBuildingQuery,function(t,n){if(!n.queryBuilder.containsEndUserKeywords()){var i=e.queryController.getLastQuery().q;_.Utils.isNonEmptyString(i)?(e.queryStateModel.set(b.QUERY_STATE_ATTRIBUTES.Q,i),n.queryBuilder.expression.add(i)):(e.logger.info("Query cancelled by the Search Interface","Configuration does not allow empty query",e,e.options),n.cancel=!0,e.queryStateModel.reset(),new I.InitializationPlaceholder(e.element).withEventToRemovePlaceholder(d.QueryEvents.newQuery).withFullInitializationStyling().withVisibleRootElement().withPlaceholderForFacets().withPlaceholderForResultList().withWaitingForFirstQueryMode())}})},t.ID="SearchInterface",t.options={enableHistory:R.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableAutomaticResponsiveMode:R.ComponentOptions.buildBooleanOption({defaultValue:!0}),useLocalStorageForHistory:R.ComponentOptions.buildBooleanOption({defaultValue:!1}),resultsPerPage:R.ComponentOptions.buildNumberOption({defaultValue:10,min:0}),excerptLength:R.ComponentOptions.buildNumberOption({defaultValue:200,min:0}),expression:R.ComponentOptions.buildQueryExpressionOption({defaultValue:""}),filterField:R.ComponentOptions.buildFieldOption({defaultValue:""}),hideUntilFirstQuery:R.ComponentOptions.buildBooleanOption({deprecated:"Exposed for legacy reasons. The loading animation is now composed of placeholders, and this option is obsolete."}),firstLoadingAnimation:R.ComponentOptions.buildChildHtmlElementOption({deprecated:"Exposed for legacy reasons. The loading animation is now composed of placeholder, and this options is obsolete."}),autoTriggerQuery:R.ComponentOptions.buildBooleanOption({defaultValue:!0}),allowQueriesWithoutKeywords:R.ComponentOptions.buildBooleanOption({defaultValue:!0}),endpoint:R.ComponentOptions.buildCustomOption(function(e){return null!=e&&e in C.SearchEndpoint.endpoints?C.SearchEndpoint.endpoints[e]:null},{defaultFunction:function(){return C.SearchEndpoint.endpoints.default}}),timezone:R.ComponentOptions.buildStringOption({defaultFunction:function(){return r.determine().name()}}),enableDebugInfo:R.ComponentOptions.buildBooleanOption({defaultValue:!0}),enableCollaborativeRating:R.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableDuplicateFiltering:R.ComponentOptions.buildBooleanOption({defaultValue:!1}),pipeline:R.ComponentOptions.buildStringOption(),maximumAge:R.ComponentOptions.buildNumberOption(),searchPageUri:R.ComponentOptions.buildStringOption(),responsiveMediumBreakpoint:R.ComponentOptions.buildNumberOption({defaultValue:P.MEDIUM_SCREEN_WIDTH,depend:"enableAutomaticResponsiveMode"}),responsiveSmallBreakpoint:R.ComponentOptions.buildNumberOption({defaultValue:P.SMALL_SCREEN_WIDTH,depend:"enableAutomaticResponsiveMode"}),responsiveMode:R.ComponentOptions.buildCustomOption(function(e){return"auto"===e||"small"===e||"medium"===e||"large"===e?e:(console.warn(e+" is not a proper value for responsiveMode, auto has been used instead."),"auto")},{defaultValue:"auto"})},t.SMALL_INTERFACE_CLASS_NAME="coveo-small-search-interface",t}(F.RootComponent);t.SearchInterface=V;var L=function(e){function t(n,i,o,r){void 0===r&&(r=window);var s=e.call(this,n,R.ComponentOptions.initComponentOptions(n,t,i),o,r)||this;return s.element=n,s.options=i,s.analyticsOptions=o,s._window=r,w.$$(s.root).on(d.QueryEvents.newQuery,function(e,t){return s.handleRedirect(e,t)}),s}return i(t,e),t.prototype.handleRedirect=function(e,t){if(!1!==t.shouldRedirectStandaloneSearchbox){var n={searchPageUri:this.options.searchPageUri,cancel:!1};w.$$(this.root).trigger(h.StandaloneSearchInterfaceEvents.beforeRedirect,n),n.cancel||(t.cancel=!0,this.searchboxIsEmpty()&&!this.options.redirectIfEmpty||this.redirectToSearchPage(n.searchPageUri))}},t.prototype.redirectToSearchPage=function(e){var t=this,n=this.queryStateModel.getAttributes(),i=this.usageAnalytics.getCurrentEventCause();null!=i&&(i==O.analyticsActionCauseList.searchboxSubmit.name&&(i=O.analyticsActionCauseList.searchFromLink.name),n.firstQueryCause=i);var o=this.usageAnalytics.getCurrentEventMeta();null==o||s.isEmpty(o)||(n.firstQueryMeta=o);var r=document.createElement("a");r.href=e,r.href=r.href;var a=0==r.pathname.indexOf("/")?r.pathname:"/"+r.pathname,u=r.hash?r.hash+"&":"#";setTimeout(function(){t._window.location.href=r.protocol+"//"+r.host+a+r.search+u+x.HashUtils.encodeValues(n)},0)},t.prototype.searchboxIsEmpty=function(){return _.Utils.isEmptyString(this.queryStateModel.get(b.QueryStateModel.attributesEnum.q))},t.ID="StandaloneSearchInterface",t.options={redirectIfEmpty:R.ComponentOptions.buildBooleanOption({defaultValue:!0})},t}(V);t.StandaloneSearchInterface=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(1),r=n(346),s=n(0),a=function(){function e(){}return e.javascriptEncode=function(e){return i.Assert.isString(e),e=e.replace(/\\/g,"\\\\"),e=e.replace(/'/g,"\\'"),e=e.replace(/"/g,'\\"')},e.htmlEncode=function(e){i.Assert.isString(e);var t=o.$$("div");return t.text(e),t.el.innerHTML},e.splice=function(e,t,n,i){return e.slice(0,t)+i+e.slice(t+Math.abs(n))},e.removeMiddle=function(t,n,i){if(t.length<n)return t;var o=t.length-n,r=Math.floor(n/2);return e.splice(t,r,o,i)},e.regexEncode=function(e){return i.Assert.isString(e),e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},e.stringToRegex=function(t,n){void 0===n&&(n=!1),i.Assert.isString(t);var o=e.regexEncode(t);return n?s.map(o,function(t){var n=s.find(e.accented,function(e){return null!=t.match(e)});return n?n.source:t}).join(""):o},e.wildcardsToRegex=function(t,n){void 0===n&&(n=!1),i.Assert.isString(t);var o=e.stringToRegex(t,n);return o=o.replace(/\\\*/,".*"),o=o.replace(/\\\?/,".")},e.getHighlights=function(e,t,n){for(var i,o=[];i=t.exec(e);){var r=i[2],a=i[1],u=i.index+a.length;if(o.push({offset:u,length:r.length,dataHighlightGroupTerm:n}),!t.global)break}return s.isEmpty(o)?void 0:o},e.encodeCarriageReturn=function(e){return i.Assert.isString(e),e.replace(/\n/g,"<br/>")},e.equalsCaseInsensitive=function(e,t){return e.toLowerCase()==t.toLowerCase()},e.match=function(e,t){for(var n,i=[];null!==(n=t.exec(e));)i.push(n);return i},e.hashCode=function(e){for(var t=0,n=e.length,i=0;i<n;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return t.toString(16)},e.latinize=function(e){return r(e)},e.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.accented={A:/[Aa\xaa\xc0-\xc5\xe0-\xe5\u0100-\u0105\u01cd\u01ce\u0200-\u0203\u0226\u0227\u1d2c\u1d43\u1e00\u1e01\u1e9a\u1ea0-\u1ea3\u2090\u2100\u2101\u213b\u249c\u24b6\u24d0\u3371-\u3374\u3380-\u3384\u3388\u3389\u33a9-\u33af\u33c2\u33ca\u33df\u33ff\uff21\uff41]/g,B:/[Bb\u1d2e\u1d47\u1e02-\u1e07\u212c\u249d\u24b7\u24d1\u3374\u3385-\u3387\u33c3\u33c8\u33d4\u33dd\uff22\uff42]/g,C:/[Cc\xc7\xe7\u0106-\u010d\u1d9c\u2100\u2102\u2103\u2105\u2106\u212d\u216d\u217d\u249e\u24b8\u24d2\u3376\u3388\u3389\u339d\u33a0\u33a4\u33c4-\u33c7\uff23\uff43]/g,D:/[Dd\u010e\u010f\u01c4-\u01c6\u01f1-\u01f3\u1d30\u1d48\u1e0a-\u1e13\u2145\u2146\u216e\u217e\u249f\u24b9\u24d3\u32cf\u3372\u3377-\u3379\u3397\u33ad-\u33af\u33c5\u33c8\uff24\uff44]/g,E:/[Ee\xc8-\xcb\xe8-\xeb\u0112-\u011b\u0204-\u0207\u0228\u0229\u1d31\u1d49\u1e18-\u1e1b\u1eb8-\u1ebd\u2091\u2121\u212f\u2130\u2147\u24a0\u24ba\u24d4\u3250\u32cd\u32ce\uff25\uff45]/g,F:/[Ff\u1da0\u1e1e\u1e1f\u2109\u2131\u213b\u24a1\u24bb\u24d5\u338a-\u338c\u3399\ufb00-\ufb04\uff26\uff46]/g,G:/[Gg\u011c-\u0123\u01e6\u01e7\u01f4\u01f5\u1d33\u1d4d\u1e20\u1e21\u210a\u24a2\u24bc\u24d6\u32cc\u32cd\u3387\u338d-\u338f\u3393\u33ac\u33c6\u33c9\u33d2\u33ff\uff27\uff47]/g,H:/[Hh\u0124\u0125\u021e\u021f\u02b0\u1d34\u1e22-\u1e2b\u1e96\u210b-\u210e\u24a3\u24bd\u24d7\u32cc\u3371\u3390-\u3394\u33ca\u33cb\u33d7\uff28\uff48]/g,I:/[Ii\xcc-\xcf\xec-\xef\u0128-\u0130\u0132\u0133\u01cf\u01d0\u0208-\u020b\u1d35\u1d62\u1e2c\u1e2d\u1ec8-\u1ecb\u2071\u2110\u2111\u2139\u2148\u2160-\u2163\u2165-\u2168\u216a\u216b\u2170-\u2173\u2175-\u2178\u217a\u217b\u24a4\u24be\u24d8\u337a\u33cc\u33d5\ufb01\ufb03\uff29\uff49]/g,J:/[Jj\u0132-\u0135\u01c7-\u01cc\u01f0\u02b2\u1d36\u2149\u24a5\u24bf\u24d9\u2c7c\uff2a\uff4a]/g,K:/[Kk\u0136\u0137\u01e8\u01e9\u1d37\u1d4f\u1e30-\u1e35\u212a\u24a6\u24c0\u24da\u3384\u3385\u3389\u338f\u3391\u3398\u339e\u33a2\u33a6\u33aa\u33b8\u33be\u33c0\u33c6\u33cd-\u33cf\uff2b\uff4b]/g,L:/[Ll\u0139-\u0140\u01c7-\u01c9\u02e1\u1d38\u1e36\u1e37\u1e3a-\u1e3d\u2112\u2113\u2121\u216c\u217c\u24a7\u24c1\u24db\u32cf\u3388\u3389\u33d0-\u33d3\u33d5\u33d6\u33ff\ufb02\ufb04\uff2c\uff4c]/g,M:/[Mm\u1d39\u1d50\u1e3e-\u1e43\u2120\u2122\u2133\u216f\u217f\u24a8\u24c2\u24dc\u3377-\u3379\u3383\u3386\u338e\u3392\u3396\u3399-\u33a8\u33ab\u33b3\u33b7\u33b9\u33bd\u33bf\u33c1\u33c2\u33ce\u33d0\u33d4-\u33d6\u33d8\u33d9\u33de\u33df\uff2d\uff4d]/g,N:/[Nn\xd1\xf1\u0143-\u0149\u01ca-\u01cc\u01f8\u01f9\u1d3a\u1e44-\u1e4b\u207f\u2115\u2116\u24a9\u24c3\u24dd\u3381\u338b\u339a\u33b1\u33b5\u33bb\u33cc\u33d1\uff2e\uff4e]/g,O:/[Oo\xba\xd2-\xd6\xf2-\xf6\u014c-\u0151\u01a0\u01a1\u01d1\u01d2\u01ea\u01eb\u020c-\u020f\u022e\u022f\u1d3c\u1d52\u1ecc-\u1ecf\u2092\u2105\u2116\u2134\u24aa\u24c4\u24de\u3375\u33c7\u33d2\u33d6\uff2f\uff4f]/g,P:/[Pp\u1d3e\u1d56\u1e54-\u1e57\u2119\u24ab\u24c5\u24df\u3250\u3371\u3376\u3380\u338a\u33a9-\u33ac\u33b0\u33b4\u33ba\u33cb\u33d7-\u33da\uff30\uff50]/g,Q:/[Qq\u211a\u24ac\u24c6\u24e0\u33c3\uff31\uff51]/g,R:/[Rr\u0154-\u0159\u0210-\u0213\u02b3\u1d3f\u1d63\u1e58-\u1e5b\u1e5e\u1e5f\u20a8\u211b-\u211d\u24ad\u24c7\u24e1\u32cd\u3374\u33ad-\u33af\u33da\u33db\uff32\uff52]/g,S:/[Ss\u015a-\u0161\u017f\u0218\u0219\u02e2\u1e60-\u1e63\u20a8\u2101\u2120\u24ae\u24c8\u24e2\u33a7\u33a8\u33ae-\u33b3\u33db\u33dc\ufb06\uff33\uff53]/g,T:/[Tt\u0162-\u0165\u021a\u021b\u1d40\u1d57\u1e6a-\u1e71\u1e97\u2121\u2122\u24af\u24c9\u24e3\u3250\u32cf\u3394\u33cf\ufb05\ufb06\uff34\uff54]/g,U:/[Uu\xd9-\xdc\xf9-\xfc\u0168-\u0173\u01af\u01b0\u01d3\u01d4\u0214-\u0217\u1d41\u1d58\u1d64\u1e72-\u1e77\u1ee4-\u1ee7\u2106\u24b0\u24ca\u24e4\u3373\u337a\uff35\uff55]/g,V:/[Vv\u1d5b\u1d65\u1e7c-\u1e7f\u2163-\u2167\u2173-\u2177\u24b1\u24cb\u24e5\u2c7d\u32ce\u3375\u33b4-\u33b9\u33dc\u33de\uff36\uff56]/g,W:/[Ww\u0174\u0175\u02b7\u1d42\u1e80-\u1e89\u1e98\u24b2\u24cc\u24e6\u33ba-\u33bf\u33dd\uff37\uff57]/g,X:/[Xx\u02e3\u1e8a-\u1e8d\u2093\u213b\u2168-\u216b\u2178-\u217b\u24b3\u24cd\u24e7\u33d3\uff38\uff58]/g,Y:/[Yy\xdd\xfd\xff\u0176-\u0178\u0232\u0233\u02b8\u1e8e\u1e8f\u1e99\u1ef2-\u1ef9\u24b4\u24ce\u24e8\u33c9\uff39\uff59]/g,Z:/[Zz\u0179-\u017e\u01f1-\u01f3\u1dbb\u1e90-\u1e95\u2124\u2128\u24b5\u24cf\u24e9\u3390-\u3394\uff3a\uff5a]/g},e}();t.StringUtils=a},function(e,t,n){(function(t){e.exports=t.Globalize=n(296)}).call(t,n(61))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(4),r=n(0),s=function(){function e(){}return e.createGuid=function(){var t,n=!1;if("undefined"!=typeof crypto&&void 0!==crypto.getRandomValues)try{t=e.generateWithCrypto(),n=!0}catch(e){n=!1}return n||(t=e.generateWithRandom()),t},e.generateWithRandom=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e.generateWithCrypto=function(){var e=new Uint16Array(8);crypto.getRandomValues(e);var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+"-"+t(e[2])+"-"+t(e[3])+"-"+t(e[4])+"-"+t(e[5])+t(e[6])+t(e[7])},e.setStateObjectOnQueryResults=function(t,n){e.setPropertyOnResults(n,"state",t)},e.setStateObjectOnQueryResult=function(t,n){e.setPropertyOnResult(n,"state",t)},e.setSearchInterfaceObjectOnQueryResult=function(t,n){e.setPropertyOnResult(n,"searchInterface",t)},e.setIndexAndUidOnQueryResults=function(t,n,o,r,s){i.Assert.exists(t),i.Assert.exists(n);var a=t.firstResult;e.setPropertyOnResults(n,"queryUid",o),e.setPropertyOnResults(n,"pipeline",r),e.setPropertyOnResults(n,"splitTestRun",s),e.setPropertyOnResults(n,"index",a,function(){return++a})},e.setTermsToHighlightOnQueryResults=function(t,n){e.setPropertyOnResults(n,"termsToHighlight",n.termsToHighlight),e.setPropertyOnResults(n,"phrasesToHighlight",n.phrasesToHighlight)},e.splitFlags=function(e,t){return void 0===t&&(t=";"),i.Assert.exists(e),e.split(t)},e.isAttachment=function(t){return r.contains(e.splitFlags(t.flags),"IsAttachment")},e.containsAttachment=function(t){return r.contains(e.splitFlags(t.flags),"ContainsAttachment")},e.hasHTMLVersion=function(t){return r.contains(e.splitFlags(t.flags),"HasHtmlVersion")},e.hasThumbnail=function(t){return r.contains(e.splitFlags(t.flags),"HasThumbnail")},e.hasExcerpt=function(e){return void 0!=e.excerpt&&""!=e.excerpt},e.getAuthor=function(e){return e.raw.author},e.getUriHash=function(e){return e.raw.urihash},e.getObjectType=function(e){return e.raw.objecttype},e.getCollection=function(e){return e.raw.collection||"default"},e.getSource=function(e){return e.raw.source},e.getLanguage=function(e){return e.raw.language},e.getPermanentId=function(e){var t,n,i=o.Utils.getFieldValue(e,"permanentid");return i?(n="permanentid",t=i):(n="urihash",t=o.Utils.getFieldValue(e,"urihash")),{fieldValue:t,fieldUsed:n}},e.quoteAndEscapeIfNeeded=function(t){return i.Assert.isString(t),e.isAtomicString(t)||e.isRangeString(t)||e.isRangeWithoutOuterBoundsString(t)?t:e.quoteAndEscape(t)},e.quoteAndEscape=function(t){return i.Assert.isString(t),'"'+e.escapeString(t)+'"'},e.escapeString=function(e){return i.Assert.isString(e),e.replace(/"/g," ")},e.isAtomicString=function(e){return i.Assert.isString(e),/^\d+(\.\d+)?$|^[\d\w]+$/.test(e)},e.isRangeString=function(e){return i.Assert.isString(e),/^\d+(\.\d+)?\.\.\d+(\.\d+)?$|^\d{4}\/\d{2}\/\d{2}@\d{2}:\d{2}:\d{2}\.\.\d{4}\/\d{2}\/\d{2}@\d{2}:\d{2}:\d{2}$/.test(e)},e.isRangeWithoutOuterBoundsString=function(e){return i.Assert.isString(e),/^\d+(\.\d+)?$|^\d{4}\/\d{2}\/\d{2}@\d{2}:\d{2}:\d{2}$/.test(e)},e.buildFieldExpression=function(t,n,o){return i.Assert.isNonEmptyString(t),i.Assert.stringStartsWith(t,"@"),i.Assert.isNonEmptyString(n),i.Assert.isLargerOrEqualsThan(1,o.length),1==o.length?t+n+e.quoteAndEscapeIfNeeded(o[0]):t+n+"("+r.map(o,function(t){return e.quoteAndEscapeIfNeeded(t)}).join(",")+")"},e.buildFieldNotEqualExpression=function(t,n){i.Assert.isNonEmptyString(t),i.Assert.stringStartsWith(t,"@"),i.Assert.isLargerOrEqualsThan(1,n.length);return"(NOT "+(1==n.length?t+"=="+e.quoteAndEscapeIfNeeded(n[0]):t+"==("+r.map(n,function(t){return e.quoteAndEscapeIfNeeded(t)}).join(",")+")")+")"},e.setPropertyOnResults=function(t,n,i,o){r.each(t.results,function(t){e.setPropertyOnResult(t,n,i),i=o?o():i})},e.setPropertyOnResult=function(e,t,n){e[t]=n,r.each(e.childResults,function(e){e[t]=n}),o.Utils.isNullOrUndefined(e.parentResult)||(e.parentResult[t]=n)},e.isStratusAgnosticField=function(e,t){var n=/^(@?)(sys)?(.*)/i,i=n.exec(e),o=n.exec(t);return!(!i||!o)&&(i[1]+i[3]).toLowerCase()==(o[1]+o[3]).toLowerCase()},e}();t.QueryUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(50),o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),r=function(){function e(){}return e.getDeviceName=function(e){return void 0===e&&(e=navigator.userAgent),e.match(/Edge/i)?"Edge":e.match(/Opera Mini/i)?"Opera Mini":e.match(/Android/i)?"Android":e.match(/BlackBerry/i)?"BlackBerry":e.match(/iPhone/i)?"iPhone":e.match(/iPad/i)?"iPad":e.match(/iPod/i)?"iPod":e.match(/Chrome/i)?"Chrome":e.match(/MSIE/i)||e.match(/Trident/i)?"IE":e.match(/Opera/i)?"Opera":e.match(/Firefox/i)?"Firefox":e.match(/Safari/i)?"Safari":"Others"},e.isAndroid=function(){return"Android"==e.getDeviceName()},e.isIos=function(){var t=e.getDeviceName();return"iPhone"==t||"iPad"==t||"iPod"==t},e.isMobileDevice=function(){return o},e.isSmallScreenWidth=function(){return(new i.ResponsiveComponents).isSmallScreenWidth()},e}();t.DeviceUtils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(1),r=n(149),s=n(347),a=n(50),u=n(0),l=n(2),c=n(4),p=function(){function e(){this.currentLayout=null,this.checkCondition=!0,this.wrapInDiv=!0,this.responsiveComponents=new a.ResponsiveComponents}return e.prototype.get=function(){return{currentLayout:this.currentLayout,checkCondition:this.checkCondition,wrapInDiv:this.wrapInDiv,responsiveComponents:this.responsiveComponents}},e.prototype.merge=function(e){return e?u.extend(this.get(),e):this.get()},e}();t.DefaultInstantiateTemplateOptions=p;var d=function(){function e(e){this.dataToString=e,this.logger=new i.Logger(this),this.fields=[]}return e.prototype.instantiateToString=function(e,t){if(void 0===t&&(t=new p),this.dataToString){if(!1===t.checkCondition)return this.dataToString(e);if(null==t.responsiveComponents&&(t.responsiveComponents=new a.ResponsiveComponents),!0===this.mobile&&!t.responsiveComponents.isSmallScreenWidth())return this.logger.trace("Template was skipped because it is optimized for small screen width",this),null;if(!1===this.mobile&&t.responsiveComponents.isSmallScreenWidth())return this.logger.trace("Template was skipped because it is not optimized for small screen width",this),null;if(!0===this.tablet&&!t.responsiveComponents.isMediumScreenWidth())return this.logger.trace("Template was skipped because it is optimized for medium screen width",this),null;if(!1===this.tablet&&t.responsiveComponents.isMediumScreenWidth())return this.logger.trace("Template was skipped because it is not optimized for medium screen width",this),null;if(!0===this.desktop&&!t.responsiveComponents.isLargeScreenWidth())return this.logger.trace("Template was skipped because it is optimized for large screen width",this),null;if(!1===this.desktop&&t.responsiveComponents.isLargeScreenWidth())return this.logger.trace("Template was skipped because it is not optimized for large screen width",this),null;if(null!=this.layout&&null!=t.currentLayout&&t.currentLayout!==this.layout)return this.logger.trace("Template was skipped because layout does not match",this,this.layout),null;try{if(this.logger.trace("Evaluating template ..."),null!=this.condition&&this.condition(e))return this.logger.trace("Template was loaded because condition was :",this.condition,e),this.dataToString(e);if(null!=this.conditionToParse&&r.TemplateConditionEvaluator.evaluateCondition(this.conditionToParse,e,t.responsiveComponents))return this.logger.trace("Template was loaded because condition was :",this.conditionToParse,e),this.dataToString(e);if(null!=this.fieldsToMatch&&s.TemplateFieldsEvaluator.evaluateFieldsToMatch(this.fieldsToMatch,e))return this.logger.trace("Template was loaded because condition was :",this.fieldsToMatch,e),this.dataToString(e);if(null==this.condition&&null==this.conditionToParse&&null==this.fieldsToMatch)return this.logger.trace("Template was loaded because there was *NO* condition",this.condition,e),this.dataToString(e)}catch(e){return new i.Logger(this).error("Cannot instantiate template",e.message,this.getTemplateInfo()),new i.Logger(this).warn("A default template was used"),null}}return this.logger.trace("Template was skipped because it did not match any condition",this),null},e.prototype.addField=function(e){u.contains(this.fields,e)||this.fields.push(e)},e.prototype.addFields=function(e){c.Utils.isNonEmptyArray(e)&&(this.fields=c.Utils.concatWithoutDuplicate(this.fields,e))},e.prototype.getComponentsInside=function(e){var t=u.map(l.Initialization.getListOfRegisteredComponents(),function(t){return new RegExp("Coveo"+t,"g").exec(e)?t:null});return u.compact(t)},e.prototype.instantiateToElement=function(e,t){var n=this;void 0===t&&(t={});var i=(new p).merge(t),o=this.instantiateToString(e,i);return null==o?null:this.ensureComponentsInHtmlStringHaveLoaded(o).then(function(){var t=n.buildTemplate(o,i);return n.logger.trace("Instantiated result template",e,t),t})},e.prototype.toHtmlElement=function(){return null},e.prototype.getFields=function(){return this.fields},e.prototype.getType=function(){return"Template"},e.prototype.setConditionWithFallback=function(e){try{this.condition=new Function("obj","with(obj||{}){return "+e+"}")}catch(t){this.conditionToParse=e}},e.prototype.getTemplateInfo=function(){return void 0!=this.conditionToParse?this.conditionToParse:void 0!=this.condition?this.condition:this.fieldsToMatch},e.prototype.ensureComponentsInHtmlStringHaveLoaded=function(e){var t=this.getComponentsInside(e).map(function(e){return l.LazyInitialization.getLazyRegisteredComponent(e)});return Promise.all(t)},e.prototype.buildTemplate=function(e,t){var n=this.layout||t.currentLayout,i="table"===n?"tr":"div",r=o.$$(i,{},e).el;return t.wrapInDiv||1!==r.children.length||(r=r.children.item(0)),n&&o.$$(r).addClass("coveo-"+n+"-layout"),r.template=this,r},e}();t.Template=d},function(e,t,n){"use strict";function i(e,t){return void 0===t&&(t={}),O.Initialization.initializeFramework(e,t,function(){return O.Initialization.initSearchInterface(e,t)})}function o(e,t,n){void 0===n&&(n={}),E.Assert.isNonEmptyString(t);var i={};return i.searchPageUri=t,i.autoTriggerQuery=!1,i.enableHistory=!1,n=D.extend({},n,{StandaloneSearchInterface:i}),O.Initialization.initializeFramework(e,n,function(){return O.Initialization.initStandaloneSearchInterface(e,n)})}function r(e,t,n,i){void 0===i&&(i={});var o={};return o.mainSearchInterface=t,o.userContext=n,o.enableHistory=!1,i=D.extend({},i,{Recommendation:o}),null!=window.Coveo.Recommendation&&(O.LazyInitialization.registerLazyComponent("Recommendation",function(){return Promise.resolve(window.Coveo.Recommendation)}),O.EagerInitialization.eagerlyLoadedComponents.Recommendation=window.Coveo.Recommendation),O.LazyInitialization.getLazyRegisteredComponent("Recommendation").then(function(){return O.Initialization.initializeFramework(e,i,function(){return O.Initialization.initRecommendationInterface(e,i)})})}function s(e){E.Assert.exists(e);var t=F.Component.resolveBinding(e,A.QueryController);return E.Assert.exists(t),t.executeQuery()}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];E.Assert.exists(e);var i=F.Component.resolveBinding(e,T.QueryStateModel);return T.setState(i,t)}function u(e,t,n){return E.Assert.exists(e),F.Component.get(e,t,n)}function l(e,t){return E.Assert.exists(e),F.Component.getResult(e,t)}function c(e){var t=p(e);return t?t.client:void 0}function p(e){var t=e.classList.contains(F.Component.computeCssClassNameForType("Analytics"))?e:I.$$(e).find(F.Component.computeSelectorForType("Analytics"));return t?F.Component.resolveBinding(t,N.Analytics):void 0}function d(e,t,n){var i=c(e);i&&i.logCustomEvent(t,n,e)}function h(e,t,n){var i=c(e);i&&i.logSearchEvent(t,n)}function f(e,t,n){var i=c(e);i&&i.logSearchAsYouType(t,n)}function m(e,t,n,i){var o=c(e);o&&o.logClickEvent(t,n,i,e)}function y(e,t){void 0===t&&(t={}),O.Initialization.registerDefaultOptions(e,t)}function g(e,t,n){O.Initialization.monkeyPatchComponentMethod(t,e,n)}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,o,r={};0==t.length?(i="Standard",o=!1):1==t.length?"string"==typeof t[0]?(i=t[0],o=!0):"object"==typeof t[0]?(i="Standard",o=!1,r=t[0]):E.Assert.fail("Invalid parameters to init a box"):2==t.length&&(i=t[0],r=t[1],o=!0);var s={};s[i||"Container"]=D.extend({},r.SearchInterface,r[i]),r=D.extend({},r,s),O.Initialization.initializeFramework(e,r,function(){return O.Initialization.initBoxInterface(e,r,i,o)})}function b(e){I.$$(e).trigger(R.InitializationEvents.nuke)}function C(e){P.PublicPathUtils.configureResourceRoot(e)}function S(e){void 0===e&&(e=document.querySelector(F.Component.computeSelectorForType(M.SearchInterface.ID)));var t=p(e);if(!t)return k.warn("Could not enable analytics because no Analytics component could be found in the specified searchRoot.");t.enable()}function w(e){void 0===e&&(e=document.querySelector(F.Component.computeSelectorForType(M.SearchInterface.ID)));var t=p(e);if(!t)return k.warn("Could not clear local data because no Analytics component could be found in the specified searchRoot.");t.clearLocalData()}function x(e){void 0===e&&(e=document.querySelector(F.Component.computeSelectorForType(M.SearchInterface.ID)));var t=p(e);if(!t)return k.warn("Could not disable analytics because no Analytics component could be found in the specified searchRoot.");t.disable()}function _(e){return null!=O.LazyInitialization.lazyLoadedComponents[e]?O.LazyInitialization.getLazyRegisteredComponent(e):null!=O.LazyInitialization.lazyLoadedModule[e]?O.LazyInitialization.getLazyRegisteredModule(e):Promise.reject("Module "+e+" is not available")}Object.defineProperty(t,"__esModule",{value:!0});var O=n(2),E=n(5),A=n(40),T=n(13),R=n(15),I=n(1),F=n(6),M=n(18),D=n(0),P=n(162),$=n(11),N=n(163),k=new $.Logger("RegisteredNamedMethods");t.init=i,O.Initialization.registerNamedMethod("init",function(e,t){return void 0===t&&(t={}),i(e,t)}),t.initSearchbox=o,O.Initialization.registerNamedMethod("initSearchbox",function(e,t,n){void 0===n&&(n={}),o(e,t,n)}),t.initRecommendation=r,O.Initialization.registerNamedMethod("initRecommendation",function(e,t,n,i){void 0===n&&(n={}),void 0===i&&(i={}),r(e,t,n,i)}),t.executeQuery=s,O.Initialization.registerNamedMethod("executeQuery",function(e){return s(e)}),t.state=a,O.Initialization.registerNamedMethod("state",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0!=t.length?a.apply(void 0,[e].concat(t)):a.apply(void 0,[e])}),t.get=u,O.Initialization.registerNamedMethod("get",function(e,t,n){return u(e,t,n)}),t.result=l,O.Initialization.registerNamedMethod("result",function(e,t){return l(e,t)}),t.logCustomEvent=d,O.Initialization.registerNamedMethod("logCustomEvent",function(e,t,n){d(e,t,n)}),t.logSearchEvent=h,O.Initialization.registerNamedMethod("logSearchEvent",function(e,t,n){h(e,t,n)}),t.logSearchAsYouTypeEvent=f,O.Initialization.registerNamedMethod("logSearchAsYouTypeEvent",function(e,t,n){f(e,t,n)}),t.logClickEvent=m,O.Initialization.registerNamedMethod("logClickEvent",function(e,t,n,i){m(e,t,n,i)}),t.options=y,O.Initialization.registerNamedMethod("options",function(e,t){void 0===t&&(t={}),y(e,t)}),t.patch=g,O.Initialization.registerNamedMethod("patch",function(e,t,n){g(e,t,n)}),t.initBox=v,O.Initialization.registerNamedMethod("initBox",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];v(e,t)}),t.nuke=b,O.Initialization.registerNamedMethod("nuke",function(e){b(e)}),t.configureResourceRoot=C,O.Initialization.registerNamedMethod("configureResourceRoot",function(e){C(e)}),t.enableAnalytics=S,O.Initialization.registerNamedMethod("enableAnalytics",function(){S()}),t.clearLocalData=w,O.Initialization.registerNamedMethod("clearLocalData",function(){w()}),t.disableAnalytics=x,O.Initialization.registerNamedMethod("disableAnalytics",function(){x()}),t.load=_,O.Initialization.registerNamedMethod("require",function(e){return _(e)})},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),window.Promise instanceof Function||n(277);var o=n(195);t._=o.underscoreInstance,i(n(279)),i(n(68)),i(n(297)),i(n(135)),i(n(299)),i(n(190)),i(n(301)),i(n(415)),i(n(118))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(4),r=n(0);!function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACEBAR=32]="SPACEBAR",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.HOME=36]="HOME",e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE"}(i=t.KEYBOARD||(t.KEYBOARD={}));var s=function(){function e(){}return e.keysEqual=function(e,t){return o.Utils.isNullOrUndefined(e.keyCode)?!o.Utils.isNullOrUndefined(e.which)&&e.which==t:e.keyCode==t},e.isAllowedKeyForOmnibox=function(t){var n=t.keyCode;return e.isNumberKeyPushed(n)||32==n||13==n||e.isLetterKeyPushed(n)||n>95&&n<112||n>185&&n<193||n>218&&n<223||n==i.BACKSPACE||n==i.DELETE||e.isArrowKeyPushed(n)},e.isAllowedKeyForSearchAsYouType=function(t){return e.isAllowedKeyForOmnibox(t)&&!e.isArrowKeyPushed(t.keyCode)},e.isDeleteOrBackspace=function(t){return e.keysEqual(t,i.BACKSPACE)||e.keysEqual(t,i.DELETE)},e.isArrowKeyPushed=function(e){return e==i.LEFT_ARROW||e==i.UP_ARROW||e==i.RIGHT_ARROW||e==i.DOWN_ARROW},e.isNumberKeyPushed=function(e){return e>47&&e<58},e.isLetterKeyPushed=function(e){return e>64&&e<91},e.keypressAction=function(e,t){return function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(n){var s=n.charCode||n.keyCode;s&&(r.isArray(e)&&r.contains(e,s)?t(n):s===e&&t(n))}}},e}();t.KeyboardUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalBox=n(294),t.LocaleString=n(295)},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),r=n(0);t.COMPONENT_OPTIONS_ATTRIBUTES={RESULT_LINK:"resultLink",SEARCH_HUB:"searchHub",SEARCH_BOX:"searchBox"};var s=function(e){function t(n,i){var o=r.extend({},t.defaultAttributes,i);return e.call(this,n,t.ID,o)||this}return i(t,e),t.ID="ComponentOptions",t.defaultAttributes={resultLink:void 0,searchHub:void 0,searchBox:void 0},t.attributesEnum={resultLink:"resultLink",searchHub:"searchHub",searchBox:"searchBox"},t}(o.Model);t.ComponentOptionsModel=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(72),r=n(4),s=n(7),a=n(0),u=n(120),l=n(11),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.now=u().toDate(),t.useTodayYesterdayAndTomorrow=!0,t.useWeekdayIfThisWeek=!0,t.omitYearIfCurrentOne=!0,t.useLongDateFormat=!1,t.includeTimeIfToday=!0,t.includeTimeIfThisWeek=!0,t.alwaysIncludeTime=!1,t.predefinedFormat=void 0,t}return i(t,e),t}(o.Options),p=function(){function e(){}return e.convertFromJsonDateIfNeeded=function(t){return e.convertToStandardDate(t)},e.convertToStandardDate=function(e){if(a.isDate(e))return u(e).toDate();if(null!==e&&!isNaN(Number(e)))return u(Number(e)).toDate();if(a.isString(e)){var t=["YYYY/MM/DD@HH:mm:ssZ",u.ISO_8601];return u(e,t).toDate()}},e.setLocale=function(){e.saveOriginalMomentLocaleData(),u.updateLocale(e.momentjsCompatibleLocale,e.transformGlobalizeCalendarToMomentCalendar()),u.locale(e.momentjsCompatibleLocale)},e.saveOriginalMomentLocaleData=function(){var t=e.momentjsCompatibleLocale;null!=e.momentjsLocaleDataMap[t]||(e.momentjsLocaleDataMap[t]=u.localeData())},e.dateForQuery=function(t){return e.setLocale(),u(t).format("YYYY/MM/DD")},e.dateTimeForQuery=function(t){return e.setLocale(),u(t).format("YYYY/MM/DD@HH:mm:ss")},e.keepOnlyDatePart=function(t){e.setLocale();var n=u(t);return new Date(n.year(),n.month(),n.date())},e.offsetDateByDays=function(e,t){return u(e).add(t,"days").toDate()},e.isTodayYesterdayOrTomorrow=function(t,n){var i=u(e.keepOnlyDatePart(t)),o=u(e.keepOnlyDatePart(n.now)),r=i.diff(o,"days");return 0==r||1==r||-1==r},e.getMomentJsFormat=function(t){var n=t,i=e.buildRegexMatchingExactCharSequence("y",4);n=n.replace(i,"$1YYYY");var o=e.buildRegexMatchingExactCharSequence("y",2);n=n.replace(o,"$1YY");var r=e.buildRegexMatchingExactCharSequence("d",2);n=n.replace(r,"$1DD");var s=e.buildRegexMatchingExactCharSequence("d",1);n=n.replace(s,"$1D");var a=e.buildRegexMatchingExactCharSequence("h",2);return n=n.replace(a,"$1H")},e.buildRegexMatchingExactCharSequence=function(e,t){var n="(?:([^"+e+"]|^))",i=e+"{"+t+"}",o="(?!"+e+")",r=""+n+i+o;return new RegExp(r,"g")},e.dateToString=function(t,n){if(e.setLocale(),r.Utils.isNullOrUndefined(t))return new l.Logger(this).warn("Impossible to format an undefined or null date."),"";n=(new c).merge(n);var i=u(e.keepOnlyDatePart(t)),o=u(e.keepOnlyDatePart(n.now));if(n.predefinedFormat)return i.format(this.getMomentJsFormat(n.predefinedFormat));if(n.useTodayYesterdayAndTomorrow&&e.isTodayYesterdayOrTomorrow(t,n))return u(i).calendar(u(o));var a=0==i.diff(u(o),"weeks");return n.useWeekdayIfThisWeek&&a?i.valueOf()>o.valueOf()?s.l("NextDay",s.l(i.format("dddd"))):i.valueOf()<o.valueOf()?s.l("LastDay",s.l(i.format("dddd"))):i.format("dddd"):n.omitYearIfCurrentOne&&i.year()===o.year()?i.format("LL"):n.useLongDateFormat?i.format(this.longDateFormat):i.format("L")},Object.defineProperty(e,"longDateFormat",{get:function(){return e.momentjsLocaleDataMap[e.momentjsCompatibleLocale].longDateFormat("LLLL").replace(/[h:mA]/g,"").trim()},enumerable:!0,configurable:!0}),e.timeToString=function(e,t){return r.Utils.isNullOrUndefined(e)?"":u(e).format("h:mm A")},e.dateTimeToString=function(t,n){if(e.setLocale(),n=(new c).merge(n),r.Utils.isNullOrUndefined(t))return new l.Logger(this).warn("Impossible to format an undefined or null date."),"";if(!u(t).isValid())return new l.Logger(this).warn("Impossible to format an invalid date: "+t),"";if(n.predefinedFormat)return u(t).format(this.getMomentJsFormat(n.predefinedFormat));var i=e.keepOnlyDatePart(n.now),o=e.dateToString(t,n),s=e.keepOnlyDatePart(t),a=0==u(t).diff(u(i),"weeks"),p=s.valueOf()==i.valueOf();return function(){return!!n.alwaysIncludeTime||(!(!n.includeTimeIfThisWeek||!a)||!(!n.includeTimeIfToday||!p))}()?o+", "+e.timeToString(t):o},e.monthToString=function(t){e.setLocale();var n=u(new Date(1980,t)).toDate();return u(n).format("MMMM")},e.isValid=function(t){return e.setLocale(),t instanceof Date&&!isNaN(t.getTime())},e.timeBetween=function(e,t){return r.Utils.isNullOrUndefined(e)||r.Utils.isNullOrUndefined(t)?"":("0"+((u(t).valueOf()-u(e).valueOf())/36e5).toFixed()).slice(-2)+":"+("0"+((u(t).valueOf()-u(e).valueOf())%36e5/6e4).toFixed()).slice(-2)+":"+("0"+((u(t).valueOf()-u(e).valueOf())%6e4/1e3).toFixed()).slice(-2)},Object.defineProperty(e,"currentGlobalizeCalendar",{get:function(){return Globalize.culture(e.currentLocale).calendar},enumerable:!0,configurable:!0}),Object.defineProperty(e,"currentLocale",{get:function(){return String.locale},enumerable:!0,configurable:!0}),Object.defineProperty(e,"momentjsCompatibleLocale",{get:function(){var t=e.currentLocale;return"no"==t.toLowerCase()?t="nn":"es-es"==t.toLowerCase()&&(t="es"),t},enumerable:!0,configurable:!0}),e.transformGlobalizeCalendarToMomentCalendar=function(){var t=function(e){return e.replace(/y/g,"Y").replace(/d/g,"D")};return{months:e.currentGlobalizeCalendar.months.names,monthsShort:e.currentGlobalizeCalendar.months.namesAbbr,weekdays:e.currentGlobalizeCalendar.days.names,weekdaysShort:e.currentGlobalizeCalendar.days.namesAbbr,weekdaysMin:e.currentGlobalizeCalendar.days.namesShort,longDateFormat:{LT:t(e.currentGlobalizeCalendar.patterns.t),LTS:t(e.currentGlobalizeCalendar.patterns.T),L:t(e.currentGlobalizeCalendar.patterns.d),LL:t(e.currentGlobalizeCalendar.patterns.M),LLL:t(e.currentGlobalizeCalendar.patterns.f),LLLL:t(e.currentGlobalizeCalendar.patterns.F)},calendar:{lastDay:"["+s.l("Yesterday")+"]",sameDay:"["+s.l("Today")+"]",nextDay:"["+s.l("Tomorrow")+"]"}}},e.momentjsLocaleDataMap={},e}();t.DateUtils=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(){}return e.defer=function(t){e.functions.push(t),e.arm()},e.flush=function(){for(;e.popOne(););},e.arm=function(){i.defer(function(){e.popOne()&&e.arm()})},e.popOne=function(){if(e.functions.length>0){var t=e.functions[0];return e.functions=i.rest(e.functions),t(),e.functions.length>0}return!1},e.functions=[],e}();t.Defer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.newResultsDisplayed="newResultsDisplayed",e.newResultDisplayed="newResultDisplayed",e.openQuickview="openQuickview",e.changeLayout="changeLayout",e}();t.ResultListEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.populateOmnibox="populateOmnibox",e.populateOmniboxSuggestions="populateOmniboxSuggestions",e.omniboxPreprocessResultForQuery="omniboxPreprocessResultForQuery",e.buildingQuerySuggest="buildingQuerySuggest",e.querySuggestSuccess="querySuggestSuccess",e.querySuggestRendered="querySuggestRendered",e.querySuggestGetFocus="querySuggestGetFocus",e.querySuggestLoseFocus="querySuggestLooseFocus",e.querySuggestSelection="querySuggestSelection",e}();t.OmniboxEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(1),r=n(11),s=function(){function e(t,n){this.element=t,this.type=n,this.disabled=!1,i.Assert.exists(t),i.Assert.isNonEmptyString(n),this.logger=new r.Logger(this),e.bindComponentToElement(t,this)}return e.prototype.debugInfo=function(){var e={};return e[this.constructor.ID]=this,e},e.prototype.disable=function(){this.disabled=!0},e.prototype.enable=function(){this.disabled=!1},e.bindComponentToElement=function(t,n){i.Assert.exists(t),i.Assert.exists(n),i.Assert.isNonEmptyString(n.type),t[e.computeCssClassNameForType(n.type)]=n,o.$$(t).addClass(e.computeCssClassNameForType(n.type)),e.getBoundComponentsForElement(t).push(n)},e.computeCssClassName=function(t){return e.computeCssClassNameForType(t.ID)},e.computeCssClassNameForType=function(e){return i.Assert.isNonEmptyString(e),"Coveo"+e},e.computeSelectorForType=function(t){return i.Assert.isNonEmptyString(t),"."+e.computeCssClassNameForType(t)},e.getBoundComponentsForElement=function(e){return i.Assert.exists(e),null==e.CoveoBoundComponents&&(e.CoveoBoundComponents=[]),e.CoveoBoundComponents},e.getComponentRef=function(e){return Coveo[e]},e}();t.BaseComponent=s},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.populateBreadcrumb="populateBreadcrumb",e.clearBreadcrumb="clearBreadcrumb",e.redrawBreadcrumb="redrawBreadcrumb",e}();t.BreadcrumbEvents=i},function(e,t,n){"use strict";function i(e){return function(t,n){return u(e(t),n)}}function o(e,t){return[e,t]}function r(e,t,n){var i=(t-e)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,o);return o>=0?(r>=A?10:r>=T?5:r>=R?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=A?10:r>=T?5:r>=R?2:1)}function s(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return r>=A?o*=10:r>=T?o*=5:r>=R&&(o*=2),t<e?-o:o}function a(e){return e.length}var u=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},l=function(e){return 1===e.length&&(e=i(e)),{left:function(t,n,i,o){for(null==i&&(i=0),null==o&&(o=t.length);i<o;){var r=i+o>>>1;e(t[r],n)<0?i=r+1:o=r}return i},right:function(t,n,i,o){for(null==i&&(i=0),null==o&&(o=t.length);i<o;){var r=i+o>>>1;e(t[r],n)>0?o=r:i=r+1}return i}}},c=l(u),p=c.right,d=c.left,h=p,f=function(e,t){null==t&&(t=o);for(var n=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);n<i;)s[n]=t(r,r=e[++n]);return s},m=function(e,t,n){var i,r,s,a,u=e.length,l=t.length,c=new Array(u*l);for(null==n&&(n=o),i=s=0;i<u;++i)for(a=e[i],r=0;r<l;++r,++s)c[s]=n(a,t[r]);return c},y=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},g=function(e){return null===e?NaN:+e},v=function(e,t){var n,i,o=e.length,r=0,s=-1,a=0,u=0;if(null==t)for(;++s<o;)isNaN(n=g(e[s]))||(i=n-a,a+=i/++r,u+=i*(n-a));else for(;++s<o;)isNaN(n=g(t(e[s],s,e)))||(i=n-a,a+=i/++r,u+=i*(n-a));if(r>1)return u/(r-1)},b=function(e,t){var n=v(e,t);return n?Math.sqrt(n):n},C=function(e,t){var n,i,o,r=e.length,s=-1;if(null==t){for(;++s<r;)if(null!=(n=e[s])&&n>=n)for(i=o=n;++s<r;)null!=(n=e[s])&&(i>n&&(i=n),o<n&&(o=n))}else for(;++s<r;)if(null!=(n=t(e[s],s,e))&&n>=n)for(i=o=n;++s<r;)null!=(n=t(e[s],s,e))&&(i>n&&(i=n),o<n&&(o=n));return[i,o]},S=Array.prototype,w=S.slice,x=S.map,_=function(e){return function(){return e}},O=function(e){return e},E=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),r=new Array(o);++i<o;)r[i]=e+i*n;return r},A=Math.sqrt(50),T=Math.sqrt(10),R=Math.sqrt(2),I=function(e,t,n){var i,o,s,a,u=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(a=r(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),s=new Array(o=Math.ceil(t-e+1));++u<o;)s[u]=(e+u)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),s=new Array(o=Math.ceil(e-t+1));++u<o;)s[u]=(e-u)/a;return i&&s.reverse(),s},F=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},M=function(){function e(e){var o,r,a=e.length,u=new Array(a);for(o=0;o<a;++o)u[o]=t(e[o],o,e);var l=n(u),c=l[0],p=l[1],d=i(u,c,p);Array.isArray(d)||(d=s(c,p,d),d=E(Math.ceil(c/d)*d,Math.floor(p/d)*d,d));for(var f=d.length;d[0]<=c;)d.shift(),--f;for(;d[f-1]>p;)d.pop(),--f;var m,y=new Array(f+1);for(o=0;o<=f;++o)m=y[o]=[],m.x0=o>0?d[o-1]:c,m.x1=o<f?d[o]:p;for(o=0;o<a;++o)r=u[o],c<=r&&r<=p&&y[h(d,r,0,f)].push(e[o]);return y}var t=O,n=C,i=F;return e.value=function(n){return arguments.length?(t="function"==typeof n?n:_(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:_([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:_(Array.isArray(t)?w.call(t):t),e):i},e},D=function(e,t,n){if(null==n&&(n=g),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,r=Math.floor(o),s=+n(e[r],r,e);return s+(+n(e[r+1],r+1,e)-s)*(o-r)}},P=function(e,t,n){return e=x.call(e,g).sort(u),Math.ceil((n-t)/(2*(D(e,.75)-D(e,.25))*Math.pow(e.length,-1/3)))},$=function(e,t,n){return Math.ceil((n-t)/(3.5*b(e)*Math.pow(e.length,-1/3)))},N=function(e,t){var n,i,o=e.length,r=-1;if(null==t){for(;++r<o;)if(null!=(n=e[r])&&n>=n)for(i=n;++r<o;)null!=(n=e[r])&&n>i&&(i=n)}else for(;++r<o;)if(null!=(n=t(e[r],r,e))&&n>=n)for(i=n;++r<o;)null!=(n=t(e[r],r,e))&&n>i&&(i=n);return i},k=function(e,t){var n,i=e.length,o=i,r=-1,s=0;if(null==t)for(;++r<i;)isNaN(n=g(e[r]))?--o:s+=n;else for(;++r<i;)isNaN(n=g(t(e[r],r,e)))?--o:s+=n;if(o)return s/o},V=function(e,t){var n,i=e.length,o=-1,r=[];if(null==t)for(;++o<i;)isNaN(n=g(e[o]))||r.push(n);else for(;++o<i;)isNaN(n=g(t(e[o],o,e)))||r.push(n);return D(r.sort(u),.5)},L=function(e){for(var t,n,i,o=e.length,r=-1,s=0;++r<o;)s+=e[r].length;for(n=new Array(s);--o>=0;)for(i=e[o],t=i.length;--t>=0;)n[--s]=i[t];return n},B=function(e,t){var n,i,o=e.length,r=-1;if(null==t){for(;++r<o;)if(null!=(n=e[r])&&n>=n)for(i=n;++r<o;)null!=(n=e[r])&&i>n&&(i=n)}else for(;++r<o;)if(null!=(n=t(e[r],r,e))&&n>=n)for(i=n;++r<o;)null!=(n=t(e[r],r,e))&&i>n&&(i=n);return i},Q=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},U=function(e,t){if(n=e.length){var n,i,o=0,r=0,s=e[r];for(null==t&&(t=u);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,r=o);return 0===t(s,s)?r:void 0}},j=function(e,t,n){for(var i,o,r=(null==n?e.length:n)-(t=null==t?0:+t);r;)o=Math.random()*r--|0,i=e[r+t],e[r+t]=e[o+t],e[o+t]=i;return e},q=function(e,t){var n,i=e.length,o=-1,r=0;if(null==t)for(;++o<i;)(n=+e[o])&&(r+=n);else for(;++o<i;)(n=+t(e[o],o,e))&&(r+=n);return r},H=function(e){if(!(o=e.length))return[];for(var t=-1,n=B(e,a),i=new Array(n);++t<n;)for(var o,r=-1,s=i[t]=new Array(o);++r<o;)s[r]=e[r][t];return i},z=function(){return H(arguments)};n.d(t,"b",function(){return h}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return b}),n.d(t,"i",function(){return C}),n.d(t,"j",function(){return M}),n.d(t,"w",function(){return P}),n.d(t,"x",function(){return $}),n.d(t,"y",function(){return F}),n.d(t,"k",function(){return N}),n.d(t,"l",function(){return k}),n.d(t,"m",function(){return V}),n.d(t,"n",function(){return L}),n.d(t,"o",function(){return B}),n.d(t,"p",function(){return f}),n.d(t,"q",function(){return Q}),n.d(t,"r",function(){return D}),n.d(t,"s",function(){return E}),n.d(t,"t",function(){return U}),n.d(t,"u",function(){return j}),n.d(t,"v",function(){return q}),n.d(t,"B",function(){return I}),n.d(t,"z",function(){return r}),n.d(t,"A",function(){return s}),n.d(t,"C",function(){return H}),n.d(t,"D",function(){return v}),n.d(t,"E",function(){return z})},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(4),s=function(){function e(){}return e.getUrlParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},e.merge=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return n.forEach(function(n){var o=e.normalizeAsParts(n),s=o.path,a=o.queryNormalized;if(r.Utils.isNonEmptyString(s)&&(t=i({},t,{url:s})),r.Utils.isNonEmptyArray(a)){var u=r.Utils.isNonEmptyArray(t.queryString),l=u?r.Utils.concatWithoutDuplicate(t.queryString,a):a;t=i({},t,{queryString:l})}}),t},e.normalizeAsString=function(e){var t=this.normalizeAsParts(e),n=t.queryNormalized;return""+t.path+this.addToUrlIfNotEmpty(n,"&","?")},e.normalizeAsParts=function(t){var n=this.normalizePaths(t);return{pathsNormalized:n,queryNormalized:this.normalizeQueryString(t),path:this.addToUrlIfNotEmpty(n,"/",e.getRelativePathLeadingCharacters(t))}},e.getRelativePathLeadingCharacters=function(e){var t="",n=/^(([\/])+)/,i=o.first(this.toArray(e.paths));if(i){var r=n.exec(i);r&&(t=r[0])}return t},e.normalizePaths=function(e){var t=this;return this.toArray(e.paths).map(function(e){return r.Utils.isNonEmptyString(e)?t.removeProblematicChars(e):""})},e.normalizeQueryString=function(t){var n=this,i=[];if(t.queryAsString){var s=this.toArray(t.queryAsString).map(function(e){return e=n.removeProblematicChars(e),e=n.encodeKeyValuePair(e)});i=i.concat(s)}if(t.query){var a=o.pairs(t.query),u=a.map(function(t){var i=t[0],s=t[1],a=["pipeline"];return o.isString(i)&&o.contains(a,i.toLowerCase())||!e.isInvalidQueryStringValue(s)&&!e.isInvalidQueryStringValue(i)?n.isEncoded(s)?[n.removeProblematicChars(i),s].join("="):[n.removeProblematicChars(i),r.Utils.safeEncodeURIComponent(s)].join("="):""});i=i.concat(u)}return o.uniq(i)},e.addToUrlIfNotEmpty=function(e,t,n){return r.Utils.isNonEmptyArray(e)?""+n+o.compact(e).join(t):""},e.startsWith=function(e,t){return t.substr(0,e.length)===e},e.endsWith=function(e,t){return t.substring(t.length-e.length,t.length)===e},e.removeAtEnd=function(e,t){for(;this.endsWith(e,t);)t=t.slice(0,t.length-e.length);return t},e.removeAtStart=function(e,t){for(;this.startsWith(e,t);)t=t.slice(e.length);return t},e.toArray=function(e){return o.isArray(e)?e:[e]},e.encodeKeyValuePair=function(e){var t=e.split("=");if(0==t.length)return e;var n=t[0],i=o.rest(t,1).join("");return n&&i?(n=this.removeProblematicChars(n),this.isEncoded(i)||(i=r.Utils.safeEncodeURIComponent(i)),n+"="+i):e},e.removeProblematicChars=function(e){var t=this;return["?","/","#","="].forEach(function(n){e=t.removeAtStart(n,e),e=t.removeAtEnd(n,e)}),e},e.isEncoded=function(e){return e!=decodeURIComponent(e)},e.isInvalidQueryStringValue=function(e){return o.isString(e)?r.Utils.isEmptyString(e):r.Utils.isNullOrUndefined(e)},e}();t.UrlUtils=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(92),r=n(94),s=n(0),a=n(10),u=n(27),l=n(5),c=n(30),p=n(300),d=n(33),h=n(43),f=n(41),m=n(1),y=n(44),g=n(21),v=n(39),b=n(4),C=function(){function e(){this.searchAsYouType=!1,this.cancel=!1,this.logInActionsHistory=!1,this.shouldRedirectStandaloneSearchbox=!0}return e}(),S=function(e){function t(n,i,o,r){var s=e.call(this,n,t.ID)||this;return s.options=i,s.searchInterface=r,s.modalBox=u.ModalBox,s.closeModalBox=!0,s.showingExecutingQueryAnimation=!1,s.localStorage=new y.LocalStorageUtils("lastQueryHash"),l.Assert.exists(n),l.Assert.exists(i),s.firstQuery=!0,s.enableHistory(),s}return i(t,e),Object.defineProperty(t.prototype,"usageAnalytics",{get:function(){return this.searchInterface.usageAnalytics},enumerable:!0,configurable:!0}),t.prototype.setEndpoint=function(e){this.overrideEndpoint=e,this.logger.debug("Endpoint set",e)},t.prototype.getEndpoint=function(){var e=this.overrideEndpoint||this.options.endpoint;return new p.SearchEndpointWithDefaultCallOptions(e,this.getCallOptions())},t.prototype.getLastQuery=function(){return this.lastQuery||(new h.QueryBuilder).build()},t.prototype.getLastResults=function(){return this.lastQueryResults},t.prototype.executeQuery=function(e){var t=this;e=s.extend(new C,e),this.closeModalBoxIfNeeded(e?e.closeModalBox:void 0),this.logger.debug("Executing new query"),this.cancelAnyCurrentPendingQuery(),null!=e.beforeExecuteQuery&&e.beforeExecuteQuery(),e.ignoreWarningSearchEvent||this.usageAnalytics.warnAboutSearchEvent(),this.showExecutingQueryAnimation();var n={searchAsYouType:e.searchAsYouType,cancel:e.cancel,origin:e.origin,shouldRedirectStandaloneSearchbox:e.shouldRedirectStandaloneSearchbox};if(this.newQueryEvent(n),n.cancel)return void this.cancelQuery();var i=this.createQueryBuilder(e);if(i){var o=i.build();e.logInActionsHistory&&this.logQueryInActionsHistory(o,e.isFirstQuery);var r=this.getEndpoint(),a=this.currentPendingQuery=r.search(o);a.then(function(n){if(l.Assert.exists(n),t.firstQuery&&(t.firstQuery=!1),a===t.currentPendingQuery){t.logger.debug("Query results received",o,n),t.keepLastSearchUid(o,n,e)?(n.searchUid=t.getLastSearchUid(),n._reusedSearchUid=!0,g.QueryUtils.setPropertyOnResults(n,"queryUid",t.getLastSearchUid())):(t.lastQueryHash=t.queryHash(o,n),t.lastSearchUid=n.searchUid),t.lastQuery=o,t.lastQueryResults=n,t.currentError=null;var r={queryBuilder:i,query:o,results:n,searchAsYouType:e.searchAsYouType};t.preprocessResultsEvent(r);var s={queryBuilder:i,query:o,results:n,searchAsYouType:e.searchAsYouType,retryTheQuery:!1};if(0==n.results.length&&t.noResultEvent(s),s.retryTheQuery)return t.executeQuery();t.lastQueryBuilder=i,t.currentPendingQuery=void 0;var u={queryBuilder:i,query:o,results:n,searchAsYouType:e.searchAsYouType};return t.querySuccessEvent(u),c.Defer.defer(function(){t.deferredQuerySuccessEvent(u),t.hideExecutingQueryAnimation()}),n}}).catch(function(n){if(a===t.currentPendingQuery){t.logger.error("Query triggered an error",o,n),t.currentPendingQuery=void 0;var s={queryBuilder:i,endpoint:r,query:o,error:n,searchAsYouType:e.searchAsYouType};t.lastQuery=o,t.lastQueryResults=null,t.currentError=n,t.queryError(s),t.hideExecutingQueryAnimation()}});var u={queryBuilder:i,query:o,searchAsYouType:e.searchAsYouType,promise:a};return this.duringQueryEvent(u),this.currentPendingQuery}},t.prototype.fetchMore=function(e){var t=this;if(void 0==this.currentPendingQuery){this.usageAnalytics.sendAllPendingEvents();var n=new h.QueryBuilder;this.continueLastQueryBuilder(n,e);var i=n.build(),o=this.getEndpoint(),r=this.currentPendingQuery=o.search(i),u={queryBuilder:n,query:i,searchAsYouType:!1,promise:r};return m.$$(this.element).trigger(a.QueryEvents.duringFetchMoreQuery,u),this.lastQueryBuilder=n,this.lastQuery=i,r.then(function(e){t.currentPendingQuery=void 0,null==t.lastQueryResults?t.lastQueryResults=e:s.forEach(e.results,function(e){t.lastQueryResults.results.push(e)});var o={queryBuilder:n,query:i,results:e,searchAsYouType:!1};t.preprocessResultsEvent(o),g.QueryUtils.setIndexAndUidOnQueryResults(i,e,t.getLastSearchUid(),e.pipeline,e.splitTestRun);var r={query:i,results:e,queryBuilder:n,searchAsYouType:!1};t.fetchMoreSuccessEvent(r)}),this.currentPendingQuery}},t.prototype.cancelQuery=function(){this.cancelAnyCurrentPendingQuery(),this.hideExecutingQueryAnimation()},t.prototype.deferExecuteQuery=function(e){var t=this;this.showExecutingQueryAnimation(),c.Defer.defer(function(){return t.executeQuery(e)})},t.prototype.ensureCreatedQueryBuilder=function(){this.createdOneQueryBuilder||this.createQueryBuilder(new C)},t.prototype.createQueryBuilder=function(e){l.Assert.exists(e),this.createdOneQueryBuilder=!0;var t=new h.QueryBuilder;t.locale=String.locale,t.firstResult=t.firstResult||0;var n={queryBuilder:t,searchAsYouType:e.searchAsYouType,cancel:e.cancel};this.buildingQueryEvent(n);var i={queryBuilder:t,searchAsYouType:e.searchAsYouType,cancel:e.cancel};if(this.doneBuildingQueryEvent(i),n.cancel||i.cancel)return void this.cancelQuery();var o=this.getPipelineInUrl();return o&&(t.pipeline=o),t},t.prototype.isStandaloneSearchbox=function(){return b.Utils.isNonEmptyString(this.options.searchPageUri)},t.prototype.saveLastQuery=function(){this.localStorage.save({expire:(new Date).getTime()+18e5,hash:this.lastQueryHash,uid:this.lastSearchUid})},t.prototype.getLastQueryHash=function(){return null!=this.lastQueryHash?this.lastQueryHash:(this.loadLastQueryHash(),this.lastQueryHash||this.queryHash((new h.QueryBuilder).build()))},t.prototype.resetHistory=function(){this.historyStore.clear()},t.prototype.enableHistory=function(){this.historyStore=new o.history.HistoryStore},t.prototype.disableHistory=function(){this.historyStore=new o.history.HistoryStore(new r.NullStorage)},t.prototype.closeModalBoxIfNeeded=function(e){(void 0!=e?e:this.closeModalBox)&&this.modalBox.close(!0)},t.prototype.getLastSearchUid=function(){return null!=this.lastSearchUid?this.lastSearchUid:(this.loadLastQueryHash(),this.lastSearchUid)},t.prototype.loadLastQueryHash=function(){var e=this.localStorage.load();null!=e&&(new Date).getTime()<=e.expire&&(this.lastQueryHash=e.hash,this.lastSearchUid=e.uid,this.localStorage.remove())},t.prototype.continueLastQueryBuilder=function(e,t){s.extend(e,this.lastQueryBuilder),e.firstResult=e.firstResult+e.numberOfResults,e.numberOfResults=t},t.prototype.getPipelineInUrl=function(){return v.UrlUtils.getUrlParameter("pipeline")},t.prototype.cancelAnyCurrentPendingQuery=function(){return!!b.Utils.exists(this.currentPendingQuery)&&(this.logger.debug("Cancelling current pending query"),Promise.reject("Cancelling current pending query"),this.currentPendingQuery=void 0,!0)},t.prototype.showExecutingQueryAnimation=function(){this.showingExecutingQueryAnimation||(m.$$(this.element).addClass("coveo-executing-query"),this.showingExecutingQueryAnimation=!0)},t.prototype.hideExecutingQueryAnimation=function(){this.showingExecutingQueryAnimation&&(m.$$(this.element).removeClass("coveo-executing-query"),this.showingExecutingQueryAnimation=!1)},t.prototype.keepLastSearchUid=function(e,t,n){return!0===n.keepLastSearchUid||this.searchInterface&&this.searchInterface.options&&this.searchInterface.options.enableHistory&&this.getLastQueryHash()==this.queryHash(e,t)},t.prototype.queryHash=function(e,t){var n=JSON.stringify(s.omit(e,"firstResult","groupBy","debug"));return null!=t&&(n+=t.pipeline),n},t.prototype.getCallOptions=function(){var e={options:{authentication:[]}};return m.$$(this.element).trigger(a.QueryEvents.buildingCallOptions,e),e.options},t.prototype.newQueryEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.newQuery,e)},t.prototype.buildingQueryEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.buildingQuery,e)},t.prototype.doneBuildingQueryEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.doneBuildingQuery,e)},t.prototype.duringQueryEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.duringQuery,e)},t.prototype.querySuccessEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.querySuccess,e)},t.prototype.fetchMoreSuccessEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.fetchMoreSuccess,e)},t.prototype.deferredQuerySuccessEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.deferredQuerySuccess,e)},t.prototype.queryError=function(e){m.$$(this.element).trigger(a.QueryEvents.queryError,e)},t.prototype.preprocessResultsEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.preprocessResults,e)},t.prototype.noResultEvent=function(e){m.$$(this.element).trigger(a.QueryEvents.noResults,e)},t.prototype.debugInfo=function(){var e=this,t={query:this.lastQuery};return null!=this.lastQueryResults&&(t.queryDuration=function(){return e.buildQueryDurationSection(e.lastQueryResults)},t.results=function(){return s.omit(e.lastQueryResults,"results")}),null!=this.currentError&&(t.error=function(){return e.currentError}),t},t.prototype.buildQueryDurationSection=function(e){var t=m.Dom.createElement("div",{className:"coveo-debug-queryDuration"}),n=m.Dom.createElement("div",{className:"coveo-debug-durations"}),i=d.BaseComponent.getComponentRef("Debug");return t.appendChild(n),s.forEach(i.durationKeys,function(i){var o=e[i];if(null!=o){n.appendChild(m.Dom.createElement("div",{className:"coveo-debug-duration",style:"width:"+o+"px","data-id":i}));var r=m.Dom.createElement("div",{className:"coveo-debug-duration-legend","data-id":i});t.appendChild(r);var s=m.Dom.createElement("span",{className:"coveo-debug-duration-label"});s.appendChild(document.createTextNode(i)),r.appendChild(s);var a=m.Dom.createElement("span",{className:"coveo-debug-duration-value"});a.appendChild(document.createTextNode(o)),r.appendChild(a)}}),t},t.prototype.logQueryInActionsHistory=function(e,t){var n={name:"Query",value:e.q,time:JSON.stringify(new Date)};this.historyStore.addElement(n)},t.ID="QueryController",t}(f.RootComponent);t.QueryController=S},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),r=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.element=t,i.type=n,i}return i(t,e),t}(o.BaseComponent);t.RootComponent=r},function(e,t,n){var i=n(155)("wks"),o=n(157),r=n(35).Symbol,s="function"==typeof r;(e.exports=function(e){return i[e]||(i[e]=s&&r[e]||(s?r:o)("Symbol."+e))}).store=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(4),r=n(69),s=n(175),a=function(){function e(){this.expression=new r.ExpressionBuilder,this.advancedExpression=new r.ExpressionBuilder,this.constantExpression=new r.ExpressionBuilder,this.longQueryExpression=new r.ExpressionBuilder,this.disjunctionExpression=new r.ExpressionBuilder,this.enableQuerySyntax=!1,this.firstResult=0,this.numberOfResults=10,this.requiredFields=[],this.includeRequiredFields=!1,this.enableDidYouMean=!1,this.enableDebug=!1,this.sortCriteria="relevancy",this.retrieveFirstSentences=!0,this.queryFunctions=[],this.rankingFunctions=[],this.groupByRequests=[],this.facetRequests=[],this.facetOptions={},this.categoryFacets=[],this.enableDuplicateFiltering=!1}return e.prototype.build=function(){return{q:this.expression.build(),aq:this.advancedExpression.build(),cq:this.constantExpression.build(),lq:this.longQueryExpression.build(),dq:this.disjunctionExpression.build(),searchHub:this.searchHub,tab:this.tab,locale:this.locale,pipeline:this.pipeline,maximumAge:this.maximumAge,wildcards:this.enableWildcards,questionMark:this.enableQuestionMarks,lowercaseOperators:this.enableLowercaseOperators,partialMatch:this.enablePartialMatch,partialMatchKeywords:this.partialMatchKeywords,partialMatchThreshold:this.partialMatchThreshold,firstResult:this.firstResult,numberOfResults:this.numberOfResults,excerptLength:this.excerptLength,filterField:this.filterField,filterFieldRange:this.filterFieldRange,parentField:this.parentField,childField:this.childField,fieldsToInclude:this.computeFieldsToInclude(),fieldsToExclude:this.fieldsToExclude,enableDidYouMean:this.enableDidYouMean,sortCriteria:this.sortCriteria,sortField:this.sortField,queryFunctions:this.queryFunctions,rankingFunctions:this.rankingFunctions,groupBy:this.groupBy,facets:this.facets,facetOptions:this.facetOptions,categoryFacets:this.categoryFacets,retrieveFirstSentences:this.retrieveFirstSentences,timezone:this.timezone,enableQuerySyntax:this.enableQuerySyntax,enableDuplicateFiltering:this.enableDuplicateFiltering,enableCollaborativeRating:this.enableCollaborativeRating,debug:this.enableDebug,context:this.context,actionsHistory:this.actionsHistory,recommendation:this.recommendation,allowQueriesWithoutKeywords:this.allowQueriesWithoutKeywords,userActions:this.userActions}},e.prototype.computeCompleteExpression=function(){return this.computeCompleteExpressionParts().full},e.prototype.computeCompleteExpressionParts=function(){return new s.QueryBuilderExpression(this.expression.build(),this.advancedExpression.build(),this.constantExpression.build(),this.disjunctionExpression.build())},e.prototype.computeCompleteExpressionExcept=function(e){return this.computeCompleteExpressionPartsExcept(e).full},e.prototype.computeCompleteExpressionPartsExcept=function(e){r.ExpressionBuilder.merge(this.expression,this.advancedExpression).remove(e);var t=new r.ExpressionBuilder;t.fromExpressionBuilder(this.expression),t.remove(e);var n=new r.ExpressionBuilder;n.fromExpressionBuilder(this.advancedExpression),n.remove(e);var i=new r.ExpressionBuilder;i.fromExpressionBuilder(this.constantExpression),i.remove(e);var o=new r.ExpressionBuilder;return o.fromExpressionBuilder(this.disjunctionExpression),o.remove(e),new s.QueryBuilderExpression(t.build(),n.build(),i.build(),o.build())},e.prototype.addFieldsToInclude=function(e){this.fieldsToInclude=i.uniq((this.fieldsToInclude||[]).concat(e))},e.prototype.addRequiredFields=function(e){this.requiredFields=i.uniq(this.requiredFields.concat(e))},e.prototype.addFieldsToExclude=function(e){this.fieldsToExclude=i.uniq((this.fieldsToInclude||[]).concat(e))},e.prototype.computeFieldsToInclude=function(){return this.includeRequiredFields||null!=this.fieldsToInclude?this.requiredFields.concat(this.fieldsToInclude||[]):null},e.prototype.addContextValue=function(e,t){null==this.context&&(this.context={}),this.context[e]=t},e.prototype.addContext=function(e){null==this.context&&(this.context={}),i.extend(this.context,e)},e.prototype.containsEndUserKeywords=function(){var e=this.build();return o.Utils.isNonEmptyString(e.q)||o.Utils.isNonEmptyString(e.lq)},Object.defineProperty(e.prototype,"groupBy",{get:function(){if(!o.Utils.isEmptyArray(this.groupByRequests))return this.groupByRequests},set:function(e){this.groupByRequests=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"facets",{get:function(){if(!o.Utils.isEmptyArray(this.facetRequests))return this.facetRequests},set:function(e){this.facetRequests=e},enumerable:!0,configurable:!0}),e}();t.QueryBuilder=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;try{i=window.localStorage}catch(e){i=null}var o=function(){function e(e){this.id=e}return e.prototype.save=function(e){try{null!=i&&i.setItem(this.getLocalStorageKey(),JSON.stringify(e))}catch(e){}},e.prototype.load=function(){try{if(null==i)return null;var e=i.getItem(this.getLocalStorageKey());return e&&JSON.parse(e)}catch(e){return null}},e.prototype.remove=function(e){try{if(null!=i)if(void 0==e)i.removeItem(this.getLocalStorageKey());else{var t=this.load();delete t[e],this.save(t)}}catch(e){}},e.prototype.getLocalStorageKey=function(){return"coveo-"+this.id},e}();t.LocalStorageUtils=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(4),r=n(0),s=n(68),a=function(){function e(){}return e.getHash=function(t){void 0===t&&(t=window),i.Assert.exists(t);var n="#"+(t.location.href.split("#")[1]||"");return e.getAjaxcrawlableHash(n)},e.getValue=function(t,n){i.Assert.isNonEmptyString(t),i.Assert.exists(n),n=e.getAjaxcrawlableHash(n);var o=e.getRawValue(t,n);return void 0!=o&&(o=e.getValueDependingOnType(t,o)),o},e.encodeValues=function(t){var n=[];return r.each(t,function(t,i,s){var a="";o.Utils.isNonEmptyArray(t)?a=e.encodeArray(t):r.isObject(t)&&o.Utils.isNonEmptyArray(r.keys(t))?a=e.encodeObject(t):o.Utils.isNullOrUndefined(t)||(a=o.Utils.safeEncodeURIComponent(t.toString())),""!=a&&n.push(i+"="+a)}),n.join("&")},e.getAjaxcrawlableHash=function(e){return void 0!=e[1]&&"!"==e[1]?e.substring(0,1)+e.substring(2):e},e.getRawValue=function(e,t){i.Assert.exists(e),i.Assert.exists(t),i.Assert.check(0==t.indexOf("#")||""==t);for(var n=t.substr(1).split("&"),o=0,r=!0,s=void 0;r;){var a=n[o].split("=");a[0]==e?(r=!1,s=a[1]):++o>=n.length&&(o=void 0,r=!1)}return s},e.getValueDependingOnType=function(t,n){var i,o=e.getValueType(t,n);if("object"==o)i=e.decodeObject(n);else if("array"==o)i=e.decodeArray(n);else try{i=decodeURIComponent(n)}catch(i){new s.Logger(e).warn("Error while decoding a value from the URL as a standard value",i,t,n)}return i},e.getValueType=function(t,n){return"q"==t?"other":e.isObject(n)?"object":e.startsOrEndsWithSquareBracket(n)?"array":"other"},e.startsWithLeftSquareBracket=function(t){return e.DELIMITER.arrayStartRegExp.test(t)},e.startsWithEncodedLeftSquareBracket=function(t){return 0==t.indexOf(o.Utils.safeEncodeURIComponent(e.DELIMITER.arrayStart))},e.endsWithRightSquareBracket=function(t){return e.DELIMITER.arrayEndRegExp.test(t)},e.endsWithEncodedRightSquareBracket=function(t){var n=o.Utils.safeEncodeURIComponent(e.DELIMITER.arrayEnd);return t.indexOf(n)==t.length-n.length},e.isObjectStartNotEncoded=function(t){return t.substr(0,1)==e.DELIMITER.objectStart},e.isObjectStartEncoded=function(t){return 0==t.indexOf(o.Utils.safeEncodeURIComponent(e.DELIMITER.objectStart))},e.isObjectEndNotEncoded=function(t){return t.substr(t.length-1)==e.DELIMITER.objectEnd},e.isObjectEndEncoded=function(t){return t.indexOf(o.Utils.safeEncodeURIComponent(e.DELIMITER.objectEnd))==t.length-o.Utils.safeEncodeURIComponent(e.DELIMITER.objectEnd).length},e.isObject=function(t){var n=e.isObjectStartNotEncoded(t)||e.isObjectStartEncoded(t),i=e.isObjectEndNotEncoded(t)||e.isObjectEndEncoded(t);return n&&i},e.startsOrEndsWithSquareBracket=function(t){var n=e.startsWithLeftSquareBracket(t)||e.startsWithEncodedLeftSquareBracket(t),i=e.endsWithRightSquareBracket(t)||e.endsWithEncodedRightSquareBracket(t);return n||i},e.encodeArray=function(t){var n=r.map(t,function(e){return o.Utils.safeEncodeURIComponent(e)});return e.DELIMITER.arrayStart+n.join(",")+e.DELIMITER.arrayEnd},e.encodeObject=function(t){var n=this,i=r.map(t,function(e,t,i){return'"'+o.Utils.safeEncodeURIComponent(t)+'":'+n.encodeValue(e)});return e.DELIMITER.objectStart+i.join(" , ")+e.DELIMITER.objectEnd},e.encodeValue=function(t){return r.isArray(t)?e.encodeArray(t):r.isObject(t)?JSON.stringify(t):r.isNumber(t)||r.isBoolean(t)?o.Utils.safeEncodeURIComponent(t.toString()):'"'+o.Utils.safeEncodeURIComponent(t)+'"'},e.decodeObject=function(t){e.isObjectStartEncoded(t)&&e.isObjectEndEncoded(t)&&(t=t.replace(/encodeURIComponent(HashUtils.Delimiter.objectStart)/,e.DELIMITER.objectStart),t=t.replace(o.Utils.safeEncodeURIComponent(e.DELIMITER.objectEnd),e.DELIMITER.objectEnd));try{var n=/(\[.*\])/.exec(t);n&&(t=t.replace(/(\[.*\])/,"["+this.decodeArray(n[1]).map(function(e){return'"'+e+'"'}).join(",")+"]"));var i=decodeURIComponent(t);return JSON.parse(i)}catch(n){return new s.Logger(e).warn("Error while decoding a value from the URL as an object",n,t),{}}},e.decodeArray=function(t){var n=e.removeSquareBrackets(t),i=n.split(",");return r.chain(i).map(function(n){try{return decodeURIComponent(n)}catch(i){return new s.Logger(e).warn("Error while decoding a value from the URL as an array",i,n,t),null}}).compact().value()},e.removeSquareBrackets=function(t){return e.startsWithEncodedLeftSquareBracket(t)&&(t=t.replace(o.Utils.safeEncodeURIComponent(e.DELIMITER.arrayStart),"")),e.endsWithEncodedRightSquareBracket(t)&&(t=t.replace(o.Utils.safeEncodeURIComponent(e.DELIMITER.arrayEnd),"")),e.startsWithLeftSquareBracket(t)&&(t=t.replace(e.DELIMITER.arrayStart,"")),e.endsWithRightSquareBracket(t)&&(t=t.replace(e.DELIMITER.arrayEnd,"")),t},e.DELIMITER={objectStart:"{",objectEnd:"}",arrayStart:"[",arrayEnd:"]",arrayStartRegExp:/^\[/,arrayEndRegExp:/\]$/},e}();t.HashUtils=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(21),r=n(107),s=n(29),a=n(4),u=n(1),l=n(0),c=n(7),p=function(){function e(){}return e.getRegexToUseForFacetSearch=function(e,t){return new RegExp(i.StringUtils.stringToRegex(e,t),"i")},e.getValuesToUseForSearchInFacet=function(e,t){var n=[e],i=this.getRegexToUseForFacetSearch(e,t.options.facetSearchIgnoreAccents);return t.options.valueCaption?(l.chain(t.options.valueCaption).pairs().filter(function(e){return i.test(e[1])}).each(function(e){n.push(e[0])}),(o.QueryUtils.isStratusAgnosticField(t.options.field,"@objecttype")||o.QueryUtils.isStratusAgnosticField(t.options.field,"@filetype"))&&l.each(r.FileTypes.getFileTypeCaptions(),function(e,o){o in t.options.valueCaption||!i.test(e)||n.push(o)})):o.QueryUtils.isStratusAgnosticField(t.options.field,"@objecttype")||o.QueryUtils.isStratusAgnosticField(t.options.field,"@filetype")?l.each(l.filter(l.pairs(r.FileTypes.getFileTypeCaptions()),function(e){return i.test(e[1])}),function(e){n.push(e[0])}):o.QueryUtils.isStratusAgnosticField(t.options.field,"@month")&&l.each(l.range(1,13),function(e){i.test(s.DateUtils.monthToString(e-1))&&n.push(("0"+e.toString()).substr(-2))}),n},e.buildFacetSearchPattern=function(e){return e=l.map(e,function(e){return a.Utils.escapeRegexCharacter(e)}),e[0]=".*"+e[0]+".*",e.join("|")},e.needAnotherFacetSearch=function(e,t,n,i){return e<t&&e<i&&e>n},e.addNoStateCssClassToFacetValues=function(e,t){if(0!=e.values.getSelected().length){var n=u.$$(t).findAll("li:not(.coveo-selected)");l.each(n,function(e){u.$$(e).addClass("coveo-no-state")})}},e.tryToGetTranslatedCaption=function(t,n){var i;if(o.QueryUtils.isStratusAgnosticField(t.toLowerCase(),"@filetype"))i=r.FileTypes.getFileType(n).caption;else if(o.QueryUtils.isStratusAgnosticField(t.toLowerCase(),"@objecttype"))i=r.FileTypes.getObjectType(n).caption;else if(e.isMonthFieldValue(t,n)){var u=parseInt(n,10);i=s.DateUtils.monthToString(u-1)}else i=c.l(n);return void 0!=i&&a.Utils.isNonEmptyString(i)?i:n},e.isMonthFieldValue=function(e,t){if(!o.QueryUtils.isStratusAgnosticField(e.toLowerCase(),"@month"))return!1;var n=parseInt(t,10);return!isNaN(n)&&!(n<1||n>12)},e}();t.FacetUtils=p},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(204),r=n(205),s=n(0),a=function(){function e(e,t,n){var i=this;this.expression=t,this.input=n,s.isString(e)?this.value=e:s.isArray(e)&&(this.subResults=e,s.forEach(this.subResults,function(e){e.parent=i}))}return e.prototype.isSuccess=function(){return null!=this.value||null!=this.subResults&&s.all(this.subResults,function(e){return e.isSuccess()})},e.prototype.path=function(e){var t=null!=this.parent&&this.parent!=e?this.parent.path(e):[];return t.push(this),t},e.prototype.findParent=function(e){for(var t=this,n=s.isString(e)?function(t){return e==t.expression.id}:e;null!=t&&!n(t);)t=t.parent;return t},e.prototype.find=function(e){var t=s.isString(e)?function(t){return e==t.expression.id}:e;if(t(this))return this;if(this.subResults)for(var n=0;n<this.subResults.length;n++){var i=this.subResults[n].find(t);if(i)return i}return null},e.prototype.findAll=function(e){var t=[],n=s.isString(e)?function(t){return e==t.expression.id}:e;return n(this)&&t.push(this),this.subResults&&(t=s.reduce(this.subResults,function(e,t){return e.concat(t.findAll(n))},t)),t},e.prototype.resultAt=function(e,t){if(e<0||e>this.getLength())return[];if(null!=t){if(s.isString(t)){if(t==this.expression.id)return[this]}else if(t(this))return[this]}else{if(null!=(null==this.value&&null==this.subResults?this.input:this.value))return[this]}if(null!=this.subResults){for(var n=[],i=0;i<this.subResults.length;i++){var o=this.subResults[i];if(n=n.concat(o.resultAt(e,t)),(e-=o.getLength())<0)break}return n}return[]},e.prototype.getExpect=function(){return null==this.value&&null==this.subResults?[this]:null!=this.subResults?s.reduce(this.subResults,function(e,t){return e.concat(t.getExpect())},[]):[]},e.prototype.getBestExpect=function(){var e=this.getExpect(),t=s.groupBy(e,function(e){return e.input}),n=s.last(s.keys(t).sort(function(e,t){return t.length-e.length})),i=t[n],t=s.groupBy(i,function(e){return e.expression.id});return s.map(t,function(e){return s.chain(e).map(function(e){return{path:e.path().length,result:e}}).sortBy("path").pluck("result").first().value()})},e.prototype.getHumanReadableExpect=function(){var e=this.getBestExpect(),t=e.length>0?s.last(e).input:"";return"Expected "+s.map(e,function(e){return e.getHumanReadable()}).join(" or ")+" but "+(t.length>0?JSON.stringify(t[0]):"end of input")+" found."},e.prototype.before=function(){if(null==this.parent)return"";var e=s.indexOf(this.parent.subResults,this);return this.parent.before()+s.chain(this.parent.subResults).first(e).map(function(e){return e.toString()}).join("").value()},e.prototype.after=function(){if(null==this.parent)return"";var e=s.indexOf(this.parent.subResults,this);return s.chain(this.parent.subResults).last(this.parent.subResults.length-e-1).map(function(e){return e.toString()}).join("").value()+this.parent.after()},e.prototype.getLength=function(){return null!=this.value?this.value.length:null!=this.subResults?s.reduce(this.subResults,function(e,t){return e+t.getLength()},0):this.input.length},e.prototype.toHtmlElement=function(){var e=document.createElement("span"),t=null!=this.expression?this.expression.id:null;return null!=t&&e.setAttribute("data-id",t),e.setAttribute("data-success",this.isSuccess().toString()),null!=this.value?(e.appendChild(document.createTextNode(this.value)),e.setAttribute("data-value",this.value)):null!=this.subResults?s.each(this.subResults,function(t){e.appendChild(t.toHtmlElement())}):(e.appendChild(document.createTextNode(this.input)),e.setAttribute("data-input",this.input),e.className="magic-box-error"+(this.input.length>0?"":" magic-box-error-empty")),e.result=this,e},e.prototype.clean=function(t){if(null!=t||!this.isSuccess()){t=t||s.last(this.getBestExpect()).path(this);var n=s.first(t);if(null!=n){var i=s.indexOf(this.subResults,n),o=-1==i?[]:s.map(s.first(this.subResults,i),function(e){return e.clean()});return o.push(n.clean(s.rest(t))),new e(o,this.expression,this.input)}return new e(null,this.expression,this.input)}return null!=this.value?new e(this.value,this.expression,this.input):null!=this.subResults?new e(s.map(this.subResults,function(e){return e.clean()}),this.expression,this.input):void 0},e.prototype.clone=function(){return null!=this.value?new e(this.value,this.expression,this.input):null!=this.subResults?new e(s.map(this.subResults,function(e){return e.clone()}),this.expression,this.input):new e(null,this.expression,this.input)},e.prototype.toString=function(){return null!=this.value?this.value:null!=this.subResults?s.map(this.subResults,function(e){return e.toString()}).join(""):this.input},e.prototype.getHumanReadable=function(){return this.expression instanceof r.ExpressionConstant?JSON.stringify(this.expression.value):this.expression.id},e}();t.Result=a;var u=function(e){function t(t){var n=e.call(this,[t],o.ExpressionEndOfInput,t.input)||this,i=new a(null,o.ExpressionEndOfInput,t.input.substr(t.getLength()));return i.parent=n,n.subResults.push(i),n}return i(t,e),t}(a);t.EndOfInputResult=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(24),r=n(6),s=function(){function e(){}return Object.defineProperty(e,"allFacetsType",{get:function(){return["Facet","FacetSlider","FacetRange","TimespanFacet","HierarchicalFacet","CategoryFacet","DynamicFacet","DynamicFacetRange"]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"allFacetsClassname",{get:function(){return e.allFacetsType.map(function(e){return r.Component.computeCssClassNameForType(e)})},enumerable:!0,configurable:!0}),e.getAllFacetsElements=function(t){var n=e.allFacetsClassname.map(function(e){return"."+e}).join(", "),o=function(e){return!i.$$(e).findAll(n).length};return i.$$(t).findAll(n).filter(o)},e.getAllFacetsInstance=function(t){return e.getAllFacetsElements(t).map(function(e){return o.get(e)})},e}();t.ComponentsTypes=s},function(e,t,n){"use strict";function i(e,t,n){return{originalMethod:n.value,nbParams:e[t].prototype.constructor.length}}function o(){return{url:"",queryString:[],requestData:{},method:"",responseType:"",errorsAsSuccess:!1}}function r(e){return function(t,n,r){var s=i(t,n,r),a=s.originalMethod,u=s.nbParams;return r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.buildBaseUri(e);if(t[u-1])t[u-1].url=i;else{var r=T.extend(o(),{url:i});t[u-1]=r}return a.apply(this,t)},r}}function s(e){return function(t,n,r){var s=i(t,n,r),a=s.originalMethod,u=s.nbParams;return r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.buildSearchAlertsUri(e);if(t[u-1])t[u-1].url=i;else{var r=T.extend(o(),{url:i});t[u-1]=r}return a.apply(this,t)},r}}function a(e){return function(t,n,r){var s=i(t,n,r),a=s.originalMethod,u=s.nbParams;return r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[u-1])t[u-1].requestDataType=e;else{var i=T.extend(o(),{requestDataType:e});t[u-1]=i}return a.apply(this,t)},r}}function u(e){return function(t,n,r){var s=i(t,n,r),a=s.originalMethod,u=s.nbParams;return r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[u-1])t[u-1].method=e;else{var i=T.extend(o(),{method:e});t[u-1]=i}return a.apply(this,t)},r}}function l(e){return function(t,n,r){var s=i(t,n,r),a=s.originalMethod,u=s.nbParams;return r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[u-1])t[u-1].responseType=e;else{var i=T.extend(o(),{responseType:e});t[u-1]=i}return a.apply(this,t)},r}}function c(e){return void 0===e&&(e="access_token"),function(t,n,r){var s=i(t,n,r),a=s.originalMethod,u=s.nbParams,l=function(e,t){var n=[];return A.Utils.isNonEmptyString(t.accessToken.token)&&n.push(e+"="+A.Utils.safeEncodeURIComponent(t.accessToken.token)),n};return r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=l(e,this);if(t[u-1])t[u-1].queryString=t[u-1].queryString.concat(i);else{var r=T.extend(o(),{queryString:i});t[u-1]=r}return a.apply(this,t)},r}}function p(e){return void 0===e&&(e=new R.history.HistoryStore),function(t,n,r){var s=i(t,n,r),a=s.originalMethod,u=s.nbParams;return r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.getHistory();if(null==i&&(i=[]),t[u-1])t[u-1].requestData.actionsHistory=i;else{var r=T.extend(o(),{requestData:{actionsHistory:i}});t[u-1]=r}return a.apply(this,t)},r}}function d(){return function(e,t,n){var r=i(e,t,n),s=r.originalMethod,a=r.nbParams;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=document.referrer;if(null==n&&(n=""),e[a-1])e[a-1].requestData.referrer=n;else{var i=T.extend(o(),{requestData:{referrer:n}});e[a-1]=i}return s.apply(this,e)},n}}function h(){return function(e,t,n){var r=i(e,t,n),s=r.originalMethod,a=r.nbParams;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=I.Cookie.get("visitorId");if(null==n&&(n=""),e[a-1])e[a-1].requestData.visitorId=n;else{var i=T.extend(o(),{requestData:{visitorId:n}});e[a-1]=i}return s.apply(this,e)},n}}function f(){return function(e,t,n){var r=i(e,t,n),s=r.originalMethod,a=r.nbParams;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.options.isGuestUser;if(e[a-1])e[a-1].requestData.isGuestUser=n;else{var i=T.extend(o(),{requestData:{isGuestUser:n}});e[a-1]=i}return s.apply(this,e)},n}}var m=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},y=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{u(i.next(e))}catch(e){r(e)}}function a(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var b=n(83),C=n(11),S=n(5),w=n(93),x=n(284),_=n(285),O=n(21),E=n(139),A=n(4),T=n(0),R=n(92),I=n(70),F=n(65),M=n(39),D=n(143),P=n(292),$=function(){function e(){this.version="v2",this.queryStringArguments={},this.anonymous=!1,this.isGuestUser=!1}return e}();t.DefaultSearchEndpointOptions=$;var N=function(){function e(t){var n=this;this.options=t,S.Assert.exists(t),S.Assert.exists(t.restUri);var i=new $;i.anonymous=0==window.location.href.indexOf("file://")&&A.Utils.isNonEmptyString(t.accessToken),this.options=T.extend({},i,t),this.accessToken=new D.AccessToken(this.options.accessToken,this.options.renewAccessToken),this.accessToken.subscribeToRenewal(function(){return n.createEndpointCaller()}),e.isDebugArgumentPresent()&&(this.options.queryStringArguments.debug=1),this.onUnload=function(){n.handleUnload()},window.addEventListener("beforeunload",this.onUnload),this.logger=new C.Logger(this),this.createEndpointCaller()}return e.configureSampleEndpoint=function(t){e.isUseLocalArgumentPresent()?e.endpoints.default=new e(T.extend({restUri:"http://localhost:8100/rest/search",searchAlertsUri:"http://localhost:8088/rest/search/alerts/"},t)):e.endpoints.default=new e(T.extend({restUri:"https://cloudplatform.coveo.com/rest/search",accessToken:"52d806a2-0f64-4390-a3f2-e0f41a4a73ec"},t))},e.configureSampleEndpointV2=function(t){e.endpoints.default=new e(T.extend({restUri:"https://platform.cloud.coveo.com/rest/search",accessToken:"xx564559b1-0045-48e1-953c-3addd1ee4457",queryStringArguments:{organizationId:"searchuisamples",viewAllContent:1}},t))},e.configureCloudEndpoint=function(t,n,i,o){void 0===i&&(i="https://cloudplatform.coveo.com/rest/search");var r={restUri:i,accessToken:n,queryStringArguments:{organizationId:t}},s=e.mergeConfigOptions(r,o);e.endpoints.default=new e(e.removeUndefinedConfigOption(s))},e.configureCloudV2Endpoint=function(t,n,i,o){return void 0===i&&(i="https://platform.cloud.coveo.com/rest/search"),e.configureCloudEndpoint(t,n,i,o)},e.configureOnPremiseEndpoint=function(t,n,i){var o=e.mergeConfigOptions({restUri:t,accessToken:n},i);e.endpoints.default=new e(e.removeUndefinedConfigOption(o))},e.removeUndefinedConfigOption=function(e){return T.each(T.keys(e),function(t){void 0==e[t]&&delete e[t]}),e},e.mergeConfigOptions=function(t,n){return t=e.removeUndefinedConfigOption(t),n=e.removeUndefinedConfigOption(n),T.extend({},t,n)},e.prototype.reset=function(){this.createEndpointCaller()},e.prototype.setRequestModifier=function(e){this.caller.options.requestModifier=e},e.prototype.getBaseUri=function(){return this.buildBaseUri("")},e.prototype.getBaseAlertsUri=function(){return this.buildSearchAlertsUri("")},e.prototype.getAuthenticationProviderUri=function(e,t,n,i,o){return M.UrlUtils.normalizeAsString({paths:[o.url,e],queryAsString:o.queryString,query:m({redirectUri:t,message:n},this.buildBaseQueryString(i))})},e.prototype.isJsonp=function(){return this.caller.useJsonp},e.prototype.search=function(e,t,n){var i=this;S.Assert.exists(e),n=m({},n,{requestData:m({},n.requestData,T.omit(e,function(e){return A.Utils.isNullOrUndefined(e)}))}),this.logger.info("Performing REST query",e);var o=new Date;return this.performOneCall(n,t).then(function(t){return i.logger.info("REST query successful",t,e),null==t.apiVersion&&(t.apiVersion=1),t.apiVersion<w.version.supportedApiVersion&&i.logger.error("Please update your REST Search API"),t.searchAPIDuration=t.duration,t.duration=F.TimeSpan.fromDates(o,new Date).getMilliseconds(),A.Utils.isNullOrEmptyString(t.searchUid)&&(t.searchUid=O.QueryUtils.createGuid()),O.QueryUtils.setIndexAndUidOnQueryResults(e,t,t.searchUid,t.pipeline,t.splitTestRun),O.QueryUtils.setTermsToHighlightOnQueryResults(e,t),t})},e.prototype.getExportToExcelLink=function(e,t,n,i){return M.UrlUtils.normalizeAsString({paths:i.url,queryAsString:i.queryString,query:m({numberOfResults:t?t.toString():null,format:"xlsx"},this.buildQueryAsQueryString(null,e),this.buildBaseQueryString(n))})},e.prototype.getRawDataStream=function(e,t,n,i){var o=this;return S.Assert.exists(e),i=M.UrlUtils.merge(i,{paths:i.url,query:m({dataStream:t},this.buildViewAsHtmlQueryString(e,n))}),this.logger.info("Performing REST query for datastream "+t+" on item uniqueID "+e),this.performOneCall(i,n).then(function(t){return o.logger.info("REST query successful",t,e),t})},e.prototype.getViewAsDatastreamUri=function(e,t,n,i){return void 0===n&&(n={}),M.UrlUtils.normalizeAsString({paths:i.url,queryAsString:i.queryString,query:m({dataStream:t},this.buildViewAsHtmlQueryString(e,n),this.buildQueryAsQueryString(n.query,n.queryObject),this.buildBaseQueryString(n))})},e.prototype.getDocument=function(e,t,n){var i=this;return n=M.UrlUtils.merge(n,{paths:n.url,queryAsString:n.queryString,query:m({},this.buildViewAsHtmlQueryString(e,t))}),this.logger.info("Performing REST query to retrieve document",e),this.performOneCall(n,t).then(function(t){return i.logger.info("REST query successful",t,e),t})},e.prototype.getDocumentText=function(e,t,n){var i=this;return n=M.UrlUtils.merge(n,{paths:n.url,queryAsString:n.queryString,query:m({},this.buildViewAsHtmlQueryString(e,t))}),this.logger.info('Performing REST query to retrieve "TEXT" version of document',e),this.performOneCall(n,t).then(function(t){return i.logger.info("REST query successful",t,e),t.content})},e.prototype.getDocumentHtml=function(e,t,n){var i=this;return t=m({},t),n=M.UrlUtils.merge(m({},n,{requestData:t.queryObject||{q:t.query}}),{paths:n.url,queryAsString:n.queryString,query:m({},this.buildViewAsHtmlQueryString(e,t))}),this.logger.info('Performing REST query to retrieve "HTML" version of document',e),this.performOneCall(n,t).then(function(t){return i.logger.info("REST query successful",t,e),t})},e.prototype.getViewAsHtmlUri=function(e,t,n){return M.UrlUtils.normalizeAsString({paths:n.url,queryAsString:n.queryString,query:m({},this.buildViewAsHtmlQueryString(e,t),this.buildBaseQueryString(t))})},e.prototype.listFieldValues=function(e,t,n){var i=this;return S.Assert.exists(e),n=m({},n,{requestData:m({},n.requestData,e)}),this.logger.info("Listing field values",e),this.performOneCall(n,t).then(function(t){return i.logger.info("REST list field values successful",t.values,e),t.values})},e.prototype.listFieldValuesBatch=function(e,t,n){var i=this;return S.Assert.exists(e),n=m({},n,{requestData:m({},n.requestData,e)}),this.logger.info("Listing field batch values",e),this.performOneCall(n,t).then(function(t){return i.logger.info("REST list field batch values successful",t.batch,e),t.batch})},e.prototype.listFields=function(e,t){var n=this;return this.logger.info("Listing fields"),this.performOneCall(t,e).then(function(e){return n.logger.info("REST list fields successful",e.fields),e.fields})},e.prototype.extensions=function(e,t){var n=this;return this.logger.info("Performing REST query to list extensions"),this.performOneCall(t,e).then(function(e){return n.logger.info("REST query successful",e),e})},e.prototype.rateDocument=function(e,t,n){var i=this;return this.logger.info("Performing REST query to rate a document",e),n=m({},n,{requestData:m({},n.requestData,e)}),this.performOneCall(n,t).then(function(){return i.logger.info("REST query successful",e),!0})},e.prototype.tagDocument=function(e,t,n){var i=this;return this.logger.info("Performing REST query to tag an item",e),n=m({},n,{requestData:m({},n.requestData,e)}),this.performOneCall(n,t).then(function(){return i.logger.info("REST query successful",e),!0})},e.prototype.getQuerySuggest=function(e,t,n){var i=this;return n=m({},n,{requestData:m({},n.requestData,T.omit(e,function(e){return A.Utils.isNullOrUndefined(e)}))}),this.logger.info("Performing REST query to get query suggest",e),this.performOneCall(n,t).then(function(e){return i.logger.info("REST query successful",e),e})},e.prototype.getRevealQuerySuggest=function(e,t,n){return this.getQuerySuggest(e,t,n)},e.prototype.facetSearch=function(e,t,n){return g(this,void 0,void 0,function(){var i;return v(this,function(o){switch(o.label){case 0:return n=m({},n,{requestData:m({},n.requestData,T.omit(e,function(e){return A.Utils.isNullOrUndefined(e)}))}),this.logger.info("Performing REST query to get facet search results",e),[4,this.performOneCall(n,t)];case 1:return i=o.sent(),this.logger.info("REST query successful",i),[2,i]}})})},e.prototype.follow=function(e,t,n){var i=this;return n.requestData=e,this.logger.info("Performing REST query to follow an item or a query",e),this.performOneCall(n,t).then(function(e){return i.logger.info("REST query successful",e),e})},e.prototype.listSubscriptions=function(e,t,n){var i=this;return this.options.isGuestUser?new Promise(function(e,t){t()}):(null==this.currentListSubscriptions&&(n=M.UrlUtils.merge(n,{paths:n.url,query:{page:e||0}}),this.logger.info("Performing REST query to list subscriptions"),this.currentListSubscriptions=this.performOneCall(n,t),this.currentListSubscriptions.then(function(e){return i.currentListSubscriptions=null,i.logger.info("REST query successful",e),e}).catch(function(e){if(403!=e.status)throw e})),this.currentListSubscriptions)},e.prototype.updateSubscription=function(e,t,n){var i=this;return n=M.UrlUtils.merge(m({},n,{requestData:m({},n.requestData,e)}),{paths:[n.url,e.id]}),this.logger.info("Performing REST query to update a subscription",e),this.performOneCall(n,t).then(function(e){return i.logger.info("REST query successful",e),e})},e.prototype.deleteSubscription=function(e,t,n){var i=this;return n=M.UrlUtils.merge(n,{paths:[n.url,e.id]}),this.logger.info("Performing REST query to delete a subscription",e),this.performOneCall(n,t).then(function(e){return i.logger.info("REST query successful",e),e})},e.prototype.logError=function(e,t,n){return n=m({},n,{requestData:m({},n.requestData,e)}),this.performOneCall(n,t).then(function(){return!0}).catch(function(){return!1})},e.prototype.nuke=function(){window.removeEventListener("beforeunload",this.onUnload)},e.prototype.createEndpointCaller=function(){this.caller=new b.EndpointCaller(m({},this.options,{accessToken:this.accessToken.token}))},e.isDebugArgumentPresent=function(){return/[?&]debug=1([&]|$)/.test(window.location.search)},e.isUseLocalArgumentPresent=function(){return/[?&]useLocal=1([&]|$)/.test(window.location.search)},e.prototype.handleUnload=function(){this.isRedirecting=!0},e.prototype.buildBaseUri=function(e){return S.Assert.isString(e),M.UrlUtils.normalizeAsString({paths:[this.options.restUri,this.options.version,e]})},e.prototype.buildSearchAlertsUri=function(e){S.Assert.isString(e);var t=this.options.searchAlertsUri||M.UrlUtils.normalizeAsString({paths:[this.options.restUri,"/alerts"]});return M.UrlUtils.normalizeAsString({paths:[t,e]})},e.prototype.buildBaseQueryString=function(e){return e=m({},e),T.isArray(e.authentication)&&A.Utils.isNonEmptyArray(e.authentication)?m({},this.options.queryStringArguments,{authentication:e.authentication.join(",")}):m({},this.options.queryStringArguments)},e.prototype.buildQueryAsQueryString=function(e,t){t=m({},t);var n={};["q","aq","cq","dq","searchHub","tab","locale","pipeline","lowercaseOperators","timezone"].forEach(function(e){n[e]=t[e]});var i={};if(T.pairs(t.context).forEach(function(e){var t=e[0],n=e[1];i["context["+A.Utils.safeEncodeURIComponent(t)+"]"]=n}),t.fieldsToInclude){var o=t.fieldsToInclude.map(function(e){return'"'+A.Utils.safeEncodeURIComponent(e.replace("@",""))+'"'});n.fieldsToInclude="["+o.join(",")+"]"}return m({q:e},i,n)},e.prototype.buildViewAsHtmlQueryString=function(e,t){return t=T.extend({},t),{uniqueId:A.Utils.safeEncodeURIComponent(e),enableNavigation:"true",requestedOutputSize:t.requestedOutputSize?t.requestedOutputSize.toString():null,contentType:t.contentType}},e.prototype.performOneCall=function(e,t){return g(this,void 0,void 0,function(){var n,i,o,r,s,a,i,u=this;return v(this,function(l){switch(l.label){case 0:e=M.UrlUtils.merge(e,{paths:e.url,queryAsString:e.queryString,query:m({},this.buildBaseQueryString(t))}),n=function(){return u.caller.call(e)},l.label=1;case 1:return l.trys.push([1,3,,10]),[4,n()];case 2:return i=l.sent(),[2,i.data];case 3:if(!(o=l.sent()))throw new Error("Request failed but it did not return an error.");switch(r=o.statusCode,s=r){case 419:return[3,4];case 429:return[3,6]}return[3,8];case 4:return[4,this.accessToken.doRenew()];case 5:if(!(a=l.sent()))throw this.handleErrorResponse(o);return[2,this.performOneCall(e,t)];case 6:return[4,this.backOffThrottledRequest(n)];case 7:return i=l.sent(),[2,i.data];case 8:throw this.handleErrorResponse(o);case 9:return[3,10];case 10:return[2]}})})},e.prototype.backOffThrottledRequest=function(e){return g(this,void 0,void 0,function(){var t,n,i=this;return v(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t={fn:function(){return e()},retry:function(e,t){return i.retryIf429Error(e,t)}},[4,P.BackOffRequest.enqueue(t)];case 1:return[2,o.sent()];case 2:throw n=o.sent(),this.handleErrorResponse(n);case 3:return[2]}})})},e.prototype.retryIf429Error=function(e,t){return!!this.isThrottled(e)&&(this.logger.info("Resending the request because it was throttled. Retry attempt "+t),!0)},e.prototype.isThrottled=function(e){return e&&429===e.statusCode},e.prototype.handleErrorResponse=function(e){return this.isMissingAuthenticationProviderStatus(e.statusCode)?new _.MissingAuthenticationError(e.data.provider):e.data&&e.data.message&&e.data.type?new E.QueryError(e):e.data&&e.data.message?new x.AjaxError("Request Error : "+e.data.message,e.statusCode):new x.AjaxError("Request Error",e.statusCode)},e.prototype.isMissingAuthenticationProviderStatus=function(e){return 402==e},e.endpoints={},y([r("/login/"),c()],e.prototype,"getAuthenticationProviderUri",null),y([r("/"),u("POST"),l("text"),p(),d(),h(),f()],e.prototype,"search",null),y([r("/"),c()],e.prototype,"getExportToExcelLink",null),y([r("/datastream"),c(),u("GET"),l("arraybuffer")],e.prototype,"getRawDataStream",null),y([r("/datastream"),c()],e.prototype,"getViewAsDatastreamUri",null),y([r("/document"),u("GET"),l("text")],e.prototype,"getDocument",null),y([r("/text"),u("GET"),l("text")],e.prototype,"getDocumentText",null),y([r("/html"),u("POST"),l("document")],e.prototype,"getDocumentHtml",null),y([r("/html"),c()],e.prototype,"getViewAsHtmlUri",null),y([r("/values"),u("POST"),l("text")],e.prototype,"listFieldValues",null),y([r("/values/batch"),u("POST"),l("text")],e.prototype,"listFieldValuesBatch",null),y([r("/fields"),u("GET"),l("text")],e.prototype,"listFields",null),y([r("/extensions"),u("GET"),l("text")],e.prototype,"extensions",null),y([r("/rating"),u("POST"),l("text")],e.prototype,"rateDocument",null),y([r("/tag"),u("POST"),l("text")],e.prototype,"tagDocument",null),y([r("/querySuggest"),u("POST"),l("text"),p(),d(),h(),f()],e.prototype,"getQuerySuggest",null),y([r("/facet"),u("POST"),a("application/json"),l("text"),p(),d(),h(),f()],e.prototype,"facetSearch",null),y([s("/subscriptions"),c("accessToken"),u("POST"),a("application/json"),l("text")],e.prototype,"follow",null),y([s("/subscriptions"),c("accessToken"),u("GET"),a("application/json"),l("text")],e.prototype,"listSubscriptions",null),y([s("/subscriptions/"),c("accessToken"),u("PUT"),a("application/json"),l("text")],e.prototype,"updateSubscription",null),y([s("/subscriptions/"),c("accessToken"),u("DELETE"),a("application/json"),l("text")],e.prototype,"deleteSubscription",null),y([r("/log"),u("POST")],e.prototype,"logError",null),e}();t.SearchEndpoint=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5);n(282),t.MEDIUM_SCREEN_WIDTH=800,t.SMALL_SCREEN_WIDTH=480;var o=function(){function e(e){void 0===e&&(e=window),this.windoh=e,this.responsiveMode="auto"}return e.prototype.setSmallScreenWidth=function(e){i.Assert.check("auto"===this.responsiveMode,"Cannot modify medium screen width if responsiveMode is locked on "+this.responsiveMode+"."),i.Assert.check(e<this.getMediumScreenWidth(),"Cannot set small screen width ("+e+") larger or equal to the current medium screen width ("+this.getMediumScreenWidth()+")"),this.smallScreenWidth=e},e.prototype.setMediumScreenWidth=function(e){i.Assert.check("auto"===this.responsiveMode,"Cannot modify medium screen width if responsiveMode is locked on "+this.responsiveMode+"."),i.Assert.check(e>this.getSmallScreenWidth(),"Cannot set medium screen width ("+e+") smaller or equal to the current small screen width ("+this.getSmallScreenWidth()+")"),this.mediumScreenWidth=e},e.prototype.setResponsiveMode=function(e){this.responsiveMode=e},e.prototype.getSmallScreenWidth=function(){return"small"===this.responsiveMode?Number.POSITIVE_INFINITY:"auto"!==this.responsiveMode?0:null==this.smallScreenWidth?t.SMALL_SCREEN_WIDTH:this.smallScreenWidth},e.prototype.getMediumScreenWidth=function(){return"medium"===this.responsiveMode?Number.POSITIVE_INFINITY:"auto"!==this.responsiveMode?0:null==this.mediumScreenWidth?t.MEDIUM_SCREEN_WIDTH:this.mediumScreenWidth},e.prototype.getResponsiveMode=function(){return this.responsiveMode},e.prototype.isSmallScreenWidth=function(){return null!=this.windoh.clientWidth?this.windoh.clientWidth<=this.getSmallScreenWidth():document.body.clientWidth<=this.getSmallScreenWidth()},e.prototype.isMediumScreenWidth=function(){return!this.isSmallScreenWidth()&&(null!=this.windoh.clientWidth?this.windoh.clientWidth<=this.getMediumScreenWidth():document.body.clientWidth<=this.getMediumScreenWidth())},e.prototype.isLargeScreenWidth=function(){return!this.isSmallScreenWidth()&&!this.isMediumScreenWidth()},e}();t.ResponsiveComponents=o},function(e,t,n){"use strict";function i(e,t,n,i,o){var r=e*e,s=r*e;return((1-3*e+3*r-s)*t+(4-6*r+3*s)*n+(1+3*e+3*r-3*s)*i+s*o)/6}function o(e,t){return function(n){return e+n*t}}function r(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function s(e,t){var n=t-e;return n?o(e,n>180||n<-180?n-360*Math.round(n/360):n):R(isNaN(e)?t:e)}function a(e){return 1==(e=+e)?u:function(t,n){return n-t?r(t,n,e):R(isNaN(t)?n:t)}}function u(e,t){var n=t-e;return n?o(e,n):R(isNaN(e)?t:e)}function l(e){return function(t){var n,i,o=t.length,r=new Array(o),s=new Array(o),a=new Array(o);for(n=0;n<o;++n)i=Object(E.f)(t[n]),r[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return r=e(r),s=e(s),a=e(a),i.opacity=1,function(e){return i.r=r(e),i.g=s(e),i.b=a(e),i+""}}}function c(e){return function(){return e}}function p(e){return function(t){return e(t)+""}}function d(e){return"none"===e?j:(w||(w=document.createElement("DIV"),x=document.documentElement,_=document.defaultView),w.style.transform=e,e=_.getComputedStyle(x.appendChild(w),null).getPropertyValue("transform"),x.removeChild(w),e=e.slice(7,-1).split(","),q(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function h(e){return null==e?j:(O||(O=document.createElementNS("http://www.w3.org/2000/svg","g")),O.setAttribute("transform",e),(e=O.transform.baseVal.consolidate())?(e=e.matrix,q(e.a,e.b,e.c,e.d,e.e,e.f)):j)}function f(e,t,n,i){function o(e){return e.length?e.pop()+" ":""}function r(e,i,o,r,s,a){if(e!==o||i!==r){var u=s.push("translate(",null,t,null,n);a.push({i:u-4,x:$(e,o)},{i:u-2,x:$(i,r)})}else(o||r)&&s.push("translate("+o+t+r+n)}function s(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(o(n)+"rotate(",null,i)-2,x:$(e,t)})):t&&n.push(o(n)+"rotate("+t+i)}function a(e,t,n,r){e!==t?r.push({i:n.push(o(n)+"skewX(",null,i)-2,x:$(e,t)}):t&&n.push(o(n)+"skewX("+t+i)}function u(e,t,n,i,r,s){if(e!==n||t!==i){var a=r.push(o(r)+"scale(",null,",",null,")");s.push({i:a-4,x:$(e,n)},{i:a-2,x:$(t,i)})}else 1===n&&1===i||r.push(o(r)+"scale("+n+","+i+")")}return function(t,n){var i=[],o=[];return t=e(t),n=e(n),r(t.translateX,t.translateY,n.translateX,n.translateY,i,o),s(t.rotate,n.rotate,i,o),a(t.skewX,n.skewX,i,o),u(t.scaleX,t.scaleY,n.scaleX,n.scaleY,i,o),t=n=null,function(e){for(var t,n=-1,r=o.length;++n<r;)i[(t=o[n]).i]=t.x(e);return i.join("")}}}function m(e){return((e=Math.exp(e))+1/e)/2}function y(e){return((e=Math.exp(e))-1/e)/2}function g(e){return((e=Math.exp(2*e))-1)/(e+1)}function v(e){return function(t,n){var i=e((t=Object(E.d)(t)).h,(n=Object(E.d)(n)).h),o=u(t.s,n.s),r=u(t.l,n.l),s=u(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=r(e),t.opacity=s(e),t+""}}}function b(e,t){var n=u((e=Object(E.e)(e)).l,(t=Object(E.e)(t)).l),i=u(e.a,t.a),o=u(e.b,t.b),r=u(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=o(t),e.opacity=r(t),e+""}}function C(e){return function(t,n){var i=e((t=Object(E.c)(t)).h,(n=Object(E.c)(n)).h),o=u(t.c,n.c),r=u(t.l,n.l),s=u(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=o(e),t.l=r(e),t.opacity=s(e),t+""}}}function S(e){return function t(n){function i(t,i){var o=e((t=Object(E.b)(t)).h,(i=Object(E.b)(i)).h),r=u(t.s,i.s),s=u(t.l,i.l),a=u(t.opacity,i.opacity);return function(e){return t.h=o(e),t.s=r(e),t.l=s(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,i.gamma=t,i}(1)}var w,x,_,O,E=n(59),A=function(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[o],s=e[o+1],a=o>0?e[o-1]:2*r-s,u=o<t-1?e[o+2]:2*s-r;return i((n-o/t)*t,a,r,s,u)}},T=function(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),r=e[(o+t-1)%t],s=e[o%t],a=e[(o+1)%t],u=e[(o+2)%t];return i((n-o/t)*t,r,s,a,u)}},R=function(e){return function(){return e}},I=function e(t){function n(e,t){var n=i((e=Object(E.f)(e)).r,(t=Object(E.f)(t)).r),o=i(e.g,t.g),r=i(e.b,t.b),s=u(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=r(t),e.opacity=s(t),e+""}}var i=a(t);return n.gamma=e,n}(1),F=l(A),M=l(T),D=function(e,t){var n,i=t?t.length:0,o=e?Math.min(i,e.length):0,r=new Array(o),s=new Array(i);for(n=0;n<o;++n)r[n]=B(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<o;++n)s[n]=r[n](e);return s}},P=function(e,t){var n=new Date;return e=+e,t-=e,function(i){return n.setTime(e+t*i),n}},$=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},N=function(e,t){var n,i={},o={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?i[n]=B(e[n],t[n]):o[n]=t[n];return function(e){for(n in i)o[n]=i[n](e);return o}},k=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V=new RegExp(k.source,"g"),L=function(e,t){var n,i,o,r=k.lastIndex=V.lastIndex=0,s=-1,a=[],u=[];for(e+="",t+="";(n=k.exec(e))&&(i=V.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:$(n,i)})),r=V.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?p(u[0].x):c(t):(t=u.length,function(e){for(var n,i=0;i<t;++i)a[(n=u[i]).i]=n.x(e);return a.join("")})},B=function(e,t){var n,i=typeof t;return null==t||"boolean"===i?R(t):("number"===i?$:"string"===i?(n=Object(E.a)(t))?(t=n,I):L:t instanceof E.a?I:t instanceof Date?P:Array.isArray(t)?D:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?N:$)(e,t)},Q=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},U=180/Math.PI,j={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},q=function(e,t,n,i,o,r){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*i)&&(n-=e*u,i-=t*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),e*i<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,e)*U,skewX:Math.atan(u)*U,scaleX:s,scaleY:a}},H=f(d,"px, ","px)","deg)"),z=f(h,", ",")",")"),W=Math.SQRT2,G=function(e,t){var n,i,o=e[0],r=e[1],s=e[2],a=t[0],u=t[1],l=t[2],c=a-o,p=u-r,d=c*c+p*p;if(d<1e-12)i=Math.log(l/s)/W,n=function(e){return[o+e*c,r+e*p,s*Math.exp(W*e*i)]};else{var h=Math.sqrt(d),f=(l*l-s*s+4*d)/(2*s*2*h),v=(l*l-s*s-4*d)/(2*l*2*h),b=Math.log(Math.sqrt(f*f+1)-f),C=Math.log(Math.sqrt(v*v+1)-v);i=(C-b)/W,n=function(e){var t=e*i,n=m(b),a=s/(2*h)*(n*g(W*t+b)-y(b));return[o+a*c,r+a*p,s*n/m(W*t+b)]}}return n.duration=1e3*i,n},Y=v(s),K=v(u),J=C(s),X=C(u),Z=S(s),ee=S(u),te=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n};n.d(t,"a",function(){return B}),n.d(t,"b",function(){return D}),n.d(t,"c",function(){return A}),n.d(t,"d",function(){return T}),n.d(t,"g",function(){return P}),n.d(t,"m",function(){return $}),n.d(t,"n",function(){return N}),n.d(t,"r",function(){return Q}),n.d(t,"s",function(){return L}),n.d(t,"t",function(){return H}),n.d(t,"u",function(){return z}),n.d(t,"v",function(){return G}),n.d(t,"o",function(){return I}),n.d(t,"p",function(){return F}),n.d(t,"q",function(){return M}),n.d(t,"j",function(){return Y}),n.d(t,"k",function(){return K}),n.d(t,"l",function(){return b}),n.d(t,"h",function(){return J}),n.d(t,"i",function(){return X}),n.d(t,"e",function(){return Z}),n.d(t,"f",function(){return ee}),n.d(t,"w",function(){return te})},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(1),s=n(26),a={usePlaceholder:!1,className:"coveo-input",triggerOnChangeAsYouType:!1,isRequired:!0},u=function(){function e(e,t,n){void 0===e&&(e=function(e){}),this.onChange=e,this.name=t,this.options=n,this.lastQueryText="",this.options=i({},a,this.options),this.buildContent()}return e.doExport=function(){o.exportGlobally({TextInput:e})},e.prototype.getElement=function(){return this.element},e.prototype.getValue=function(){return r.$$(this.element).find("input").value},e.prototype.setValue=function(e){var t=this.getValue();r.$$(this.element).find("input").value=e,t!=e&&this.onChange(this),this.lastQueryText=this.getInput().value},e.prototype.reset=function(){var e=this.getValue();r.$$(this.element).find("input").value="",""!=e&&this.onChange(this),this.lastQueryText=this.getInput().value},e.prototype.build=function(){return this.element},e.prototype.getInput=function(){return r.$$(this.element).find("input")},e.prototype.buildContent=function(){this.element=r.$$("div",{className:this.options.className}).el,this.input=r.$$("input",{type:"text"}),this.options.isRequired&&this.input.setAttribute("required","true"),this.options.ariaLabel&&this.input.setAttribute("aria-label",this.options.ariaLabel),this.addEventListeners(),this.element.appendChild(this.input.el),this.name&&this.createLabelOrPlaceholder()},e.prototype.addEventListeners=function(){this.options.triggerOnChangeAsYouType?this.addOnTypeEventListener():this.addOnChangeEventListener()},e.prototype.addOnChangeEventListener=function(){var e=this;this.input.on(["keydown","blur"],function(t){"blur"!=t.type&&t.keyCode!=s.KEYBOARD.ENTER||e.triggerChange()})},e.prototype.addOnTypeEventListener=function(){var e=this;this.input.on(["keyup"],function(){e.triggerChange()})},e.prototype.createLabelOrPlaceholder=function(){if(this.options.usePlaceholder)return this.input.setAttribute("placeholder",this.name);var e=r.$$("label");e.text(this.name),this.element.appendChild(e.el)},e.prototype.triggerChange=function(){this.lastQueryText!=this.getInput().value&&(this.onChange(this),this.lastQueryText=this.getInput().value)},e}();t.TextInput=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.settingsPopulateMenu="settingsPopulateMenu",e}();t.SettingsEvents=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),r=n(5),s=n(4),a=n(11),u=n(150),l=n(111),c=n(0),p=n(1),d=function(e){function t(n){var i=e.call(this)||this;i.element=n,r.Assert.exists(n);var o=n.innerHTML;try{i.template=c.template(o)}catch(e){new a.Logger(i).error("Cannot instantiate underscore template. Might be caused by strict Content-Security-Policy. Will fallback on a default template...",e)}return i.templateFromAScriptTag=new u.TemplateFromAScriptTag(i,i.element),i.dataToString=function(e){var n=c.extend({},e,t.templateHelpers);if(!i.template)return(new l.DefaultResultTemplate).getFallbackTemplate();try{return i.template(n)}catch(e){return new a.Logger(i).error("Cannot instantiate template",e.message,i.getTemplateInfo()),new a.Logger(i).warn("A default template was used"),(new l.DefaultResultTemplate).getFallbackTemplate()}},i}return i(t,e),t.prototype.toHtmlElement=function(){var e=this.templateFromAScriptTag.toHtmlElement(p.$$("script"));return e.setAttribute("type",c.first(t.mimeTypes)),e},t.prototype.getType=function(){return"UnderscoreTemplate"},t.prototype.getTemplateInfo=function(){return this.element},t.registerTemplateHelper=function(e,n){t.templateHelpers[e]=n},t.isLibraryAvailable=function(){return s.Utils.exists(window._)},t.fromString=function(e,n){var i=u.TemplateFromAScriptTag.fromString(e,n,document.createElement("script"));return i.setAttribute("type",t.mimeTypes[0]),new t(i)},t.create=function(e){return r.Assert.exists(e),new t(e)},t.templateHelpers={},t.mimeTypes=["text/underscore","text/underscore-template","text/x-underscore","text/x-underscore-template"],t}(o.Template);t.UnderscoreTemplate=d},function(e,t,n){var i=n(35),o=n(36),r=n(358),s=n(56),a=n(76),u=function(e,t,n){var l,c,p,d=e&u.F,h=e&u.G,f=e&u.S,m=e&u.P,y=e&u.B,g=e&u.W,v=h?o:o[t]||(o[t]={}),b=v.prototype,C=h?i:f?i[t]:(i[t]||{}).prototype;h&&(n=t);for(l in n)(c=!d&&C&&void 0!==C[l])&&a(v,l)||(p=c?C[l]:n[l],v[l]=h&&"function"!=typeof C[l]?n[l]:y&&c?r(p,i):g&&C[l]==p?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):m&&"function"==typeof p?r(Function.call,p):p,m&&((v.virtual||(v.virtual={}))[l]=p,e&u.R&&b&&!b[l]&&s(b,l,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var i=n(98),o=n(153);e.exports=n(75)?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),r=n(6),s=n(18),a=n(4),u=n(0),l=n(10),c=n(11),p=n(22),d=n(0),h=function(){function e(t){var n=this;this.disabledComponents=[],this.responsiveComponents=[],this.coveoRoot=t,this.searchInterface=r.Component.get(this.coveoRoot.el,s.SearchInterface,!1),this.dropdownHeadersWrapper=i.$$("div",{className:e.DROPDOWN_HEADER_WRAPPER_CSS_CLASS}),this.searchBoxElement=this.getSearchBoxElement(),this.logger=new c.Logger(this),this.resizeListener=d.debounce(function(){n.isAbleToDetermineMode()?(n.addDropdownHeaderWrapperIfNeeded(),n.shouldSwitchToSmallMode()?n.coveoRoot.addClass("coveo-small-interface"):n.shouldSwitchToSmallMode()||n.coveoRoot.removeClass("coveo-small-interface"),u.each(n.responsiveComponents,function(e){e.handleResizeEvent()})):n.logger.warn("The width of the search interface is 0, cannot dispatch resize events to responsive components. This means that the tabs will not\n        automatically fit in the tab section. Also, the facet and recommendation component will not hide in a menu. Could the search\n        interface display property be none? Could its visibility property be set to hidden? Also, if either of these scenarios happen during\n        loading, it could be the cause of this issue.")},250),p.DeviceUtils.isMobileDevice()||window.addEventListener("resize",this.resizeListener),this.bindNukeEvents()}return e.register=function(t,n,i,r,s){var p=this;(s.initializationEventRoot||n).on(o.InitializationEvents.afterInitialization,function(){if(p.shouldEnableResponsiveMode(n)){var o=u.find(p.componentManagers,function(e){return n.el==e.coveoRoot.el});if(o||(o=new e(n),p.componentManagers.push(o)),!a.Utils.isNullOrUndefined(s.enableResponsiveMode)&&!s.enableResponsiveMode)return void o.disableComponent(i);p.componentInitializations.push({responsiveComponentsManager:o,arguments:[t,n,i,r,s]})}if(0==--p.remainingComponentInitializations)if(p.instantiateResponsiveComponents(),0==n.width()){var d=new c.Logger("ResponsiveComponentsManager");d.info("Search interface width is 0, cannot dispatch resize events to responsive components. Will try again after first\n          query success."),n.one(l.QueryEvents.querySuccess,function(){p.resizeAllComponentsManager()})}else p.resizeAllComponentsManager()}),this.remainingComponentInitializations++},e.shouldEnableResponsiveMode=function(e){var t=r.Component.get(e.el,s.SearchInterface,!0);return t instanceof s.SearchInterface&&t.options.enableAutomaticResponsiveMode},e.instantiateResponsiveComponents=function(){u.each(this.componentInitializations,function(e){var t=e.responsiveComponentsManager;t.register.apply(t,e.arguments)})},e.resizeAllComponentsManager=function(){u.each(this.componentManagers,function(e){e.resizeListener()})},e.prototype.register=function(e,t,n,i,o){if(!this.isDisabled(n)){if(!this.isActivated(n)){var r=new e(t,n,o);this.isTabs(n)?this.responsiveComponents.push(r):this.responsiveComponents.unshift(r)}u.each(this.responsiveComponents,function(e){null!=e.registerComponent&&e.registerComponent(i)})}},e.prototype.disableComponent=function(e){this.disabledComponents.push(e)},e.prototype.isDisabled=function(e){return-1!=u.indexOf(this.disabledComponents,e)},e.prototype.shouldSwitchToSmallMode=function(){var e=this.needDropdownWrapper(),t=this.coveoRoot.width()<=this.searchInterface.responsiveComponents.getMediumScreenWidth();return e||t},e.prototype.needDropdownWrapper=function(){for(var e=0;e<this.responsiveComponents.length;e++){var t=this.responsiveComponents[e];if(t.needDropdownWrapper&&t.needDropdownWrapper())return!0}return!1},e.prototype.addDropdownHeaderWrapperIfNeeded=function(){if(this.needDropdownWrapper()){var e=i.$$(this.coveoRoot).find(".coveo-tab-section");this.searchBoxElement?this.dropdownHeadersWrapper.insertAfter(this.searchBoxElement):e?this.dropdownHeadersWrapper.insertAfter(e):this.coveoRoot.prepend(this.dropdownHeadersWrapper.el)}},e.prototype.isTabs=function(e){return"Tab"==e},e.prototype.isActivated=function(e){return void 0!=u.find(this.responsiveComponents,function(t){return t.ID==e})},e.prototype.getSearchBoxElement=function(){var e=this.coveoRoot.find(".coveo-search-section");return e||this.coveoRoot.find(".CoveoSearchbox")},e.prototype.bindNukeEvents=function(){var t=this;i.$$(this.coveoRoot).on(o.InitializationEvents.nuke,function(){window.removeEventListener("resize",t.resizeListener),e.componentManagers=u.filter(e.componentManagers,function(e){return e.coveoRoot.el!=t.coveoRoot.el})})},e.prototype.isAbleToDetermineMode=function(){return 0!=this.coveoRoot.width()||"auto"!==this.searchInterface.options.responsiveMode},e.DROPDOWN_HEADER_WRAPPER_CSS_CLASS="coveo-dropdown-header-wrapper",e.componentManagers=[],e.remainingComponentInitializations=0,e.componentInitializations=[],e}();t.ResponsiveComponentsManager=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),o=n(85),r=n(54),s=n(97),a=n(8),u=n(5),l=n(4),c=n(0),p=function(){function e(){}return e.buildTemplateOption=function(t){return a.ComponentOptions.buildOption(a.ComponentOptionsType.TEMPLATE,e.loadTemplateOption,t)},e.loadTemplateOption=function(t,n,i,o){void 0===o&&(o=document);var r,s=i.selectorAttr||a.ComponentOptions.attrNameFromName(n,i)+"-selector",u=t.getAttribute(s)||a.ComponentOptions.getAttributeFromAlias(t,i);if(null!=u){var l=o.querySelector(u);null!=l&&(r=e.createResultTemplateFromElement(l))}if(null==r){var c=i.idAttr||a.ComponentOptions.attrNameFromName(n,i)+"-id",p=t.getAttribute(c)||a.ComponentOptions.getAttributeFromAlias(t,i);null!=p&&(r=e.loadResultTemplateFromId(p))}if(null==r){var d=i.childSelector;null==d&&(d="."+n.replace(/([A-Z])/g,"-$1").toLowerCase()),r=e.loadChildrenResultTemplateFromSelector(t,d)}return r},e.createResultTemplateFromElement=function(e){u.Assert.exists(e);var t=e.getAttribute("type"),n="You must specify the type of template. Valid values are: "+r.UnderscoreTemplate.mimeTypes.toString()+" "+s.HtmlTemplate.mimeTypes.toString();return u.Assert.check(l.Utils.isNonEmptyString(t),n),-1!=c.indexOf(r.UnderscoreTemplate.mimeTypes,t.toLowerCase())?r.UnderscoreTemplate.create(e):-1!=c.indexOf(s.HtmlTemplate.mimeTypes,t.toLowerCase())?new s.HtmlTemplate(e):void u.Assert.fail("Cannot guess template type from attribute: "+t+". Valid values are "+n)},e.loadResultTemplateFromId=function(e){return l.Utils.isNonEmptyString(e)?i.TemplateCache.getTemplate(e):null},e.loadChildrenResultTemplateFromSelector=function(t,n){var i=a.ComponentOptions.loadChildrenHtmlElementFromSelector(t,n);return i.length>0?new o.TemplateList(c.compact(i.map(function(t){return e.createResultTemplateFromElement(t)}))):null},e}();t.TemplateComponentOptions=p},function(e,t,n){"use strict";function i(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function o(){}function r(e){var t;return e=(e+"").trim().toLowerCase(),(t=D.exec(e))?(t=parseInt(t[1],16),new c(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=P.exec(e))?s(parseInt(t[1],16)):(t=$.exec(e))?new c(t[1],t[2],t[3],1):(t=N.exec(e))?new c(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=k.exec(e))?a(t[1],t[2],t[3],t[4]):(t=V.exec(e))?a(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=L.exec(e))?p(t[1],t[2]/100,t[3]/100,1):(t=B.exec(e))?p(t[1],t[2]/100,t[3]/100,t[4]):Q.hasOwnProperty(e)?s(Q[e]):"transparent"===e?new c(NaN,NaN,NaN,0):null}function s(e){return new c(e>>16&255,e>>8&255,255&e,1)}function a(e,t,n,i){return i<=0&&(e=t=n=NaN),new c(e,t,n,i)}function u(e){return e instanceof o||(e=r(e)),e?(e=e.rgb(),new c(e.r,e.g,e.b,e.opacity)):new c}function l(e,t,n,i){return 1===arguments.length?u(e):new c(e,t,n,null==i?1:i)}function c(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function p(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new f(e,t,n,i)}function d(e){if(e instanceof f)return new f(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=r(e)),!e)return new f;if(e instanceof f)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),u=NaN,l=a-s,c=(a+s)/2;return l?(u=t===a?(n-i)/l+6*(n<i):n===a?(i-t)/l+2:(t-n)/l+4,l/=c<.5?a+s:2-a-s,u*=60):l=c>0&&c<1?0:u,new f(u,l,c,e.opacity)}function h(e,t,n,i){return 1===arguments.length?d(e):new f(e,t,n,null==i?1:i)}function f(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function m(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function y(e){if(e instanceof v)return new v(e.l,e.a,e.b,e.opacity);if(e instanceof O){var t=e.h*U;return new v(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof c||(e=u(e));var n=w(e.r),i=w(e.g),o=w(e.b),r=b((.4124564*n+.3575761*i+.1804375*o)/q),s=b((.2126729*n+.7151522*i+.072175*o)/H);return new v(116*s-16,500*(r-s),200*(s-b((.0193339*n+.119192*i+.9503041*o)/z)),e.opacity)}function g(e,t,n,i){return 1===arguments.length?y(e):new v(e,t,n,null==i?1:i)}function v(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function b(e){return e>K?Math.pow(e,1/3):e/Y+W}function C(e){return e>G?e*e*e:Y*(e-W)}function S(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function w(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function x(e){if(e instanceof O)return new O(e.h,e.c,e.l,e.opacity);e instanceof v||(e=y(e));var t=Math.atan2(e.b,e.a)*j;return new O(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function _(e,t,n,i){return 1===arguments.length?x(e):new O(e,t,n,null==i?1:i)}function O(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function E(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);e instanceof c||(e=u(e));var t=e.r/255,n=e.g/255,i=e.b/255,o=(oe*i+ne*t-ie*n)/(oe+ne-ie),r=i-o,s=(te*(n-o)-Z*r)/ee,a=Math.sqrt(s*s+r*r)/(te*o*(1-o)),l=a?Math.atan2(s,r)*j-120:NaN;return new T(l<0?l+360:l,a,o,e.opacity)}function A(e,t,n,i){return 1===arguments.length?E(e):new T(e,t,n,null==i?1:i)}function T(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}var R=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},I="\\s*([+-]?\\d+)\\s*",F="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D=/^#([0-9a-f]{3})$/,P=/^#([0-9a-f]{6})$/,$=new RegExp("^rgb\\("+[I,I,I]+"\\)$"),N=new RegExp("^rgb\\("+[M,M,M]+"\\)$"),k=new RegExp("^rgba\\("+[I,I,I,F]+"\\)$"),V=new RegExp("^rgba\\("+[M,M,M,F]+"\\)$"),L=new RegExp("^hsl\\("+[F,M,M]+"\\)$"),B=new RegExp("^hsla\\("+[F,M,M,F]+"\\)$"),Q={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R(o,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),R(c,l,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),R(f,h,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new f(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new f(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new c(m(e>=240?e-240:e+120,o,i),m(e,o,i),m(e<120?e+240:e-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var U=Math.PI/180,j=180/Math.PI,q=.95047,H=1,z=1.08883,W=4/29,G=6/29,Y=3*G*G,K=G*G*G;R(v,g,i(o,{brighter:function(e){return new v(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new v(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=H*C(e),t=q*C(t),n=z*C(n),new c(S(3.2404542*t-1.5371385*e-.4985314*n),S(-.969266*t+1.8760108*e+.041556*n),S(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),R(O,_,i(o,{brighter:function(e){return new O(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new O(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return y(this).rgb()}}));var J=-.14861,X=1.78277,Z=-.29227,ee=-.90649,te=1.97294,ne=te*ee,ie=te*X,oe=X*Z-ee*J;R(T,A,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new T(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*U,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),o=Math.sin(e);return new c(255*(t+n*(J*i+X*o)),255*(t+n*(Z*i+ee*o)),255*(t+n*(te*i)),this.opacity)}})),n.d(t,"a",function(){return r}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return _}),n.d(t,"b",function(){return A})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(351);var i=n(3),o=n(1),r=function(){function e(e,t,n,i){void 0===e&&(e=function(e){}),this.onChange=e,this.label=t,this.ariaLabel=n,this.labelSuffix=i,this.buildContent()}return e.prototype.toggle=function(){this.checkbox.checked=!this.isSelected(),o.$$(this.checkbox).trigger("change")},e.prototype.getElement=function(){return this.element},e.prototype.build=function(){return this.element},e.prototype.getValue=function(){return this.label},e.prototype.reset=function(){var e=this.isSelected();this.checkbox.checked=!1,e&&o.$$(this.checkbox).trigger("change")},e.prototype.select=function(e){void 0===e&&(e=!0);var t=this.isSelected();this.checkbox.checked=!0,!t&&e&&o.$$(this.checkbox).trigger("change")},e.prototype.isSelected=function(){return this.checkbox.checked},e.prototype.getLabel=function(){return this.element},e.prototype.buildContent=function(){var e=this,t=o.$$("label",{className:"coveo-checkbox-label"});this.checkbox=o.$$("input",{type:"checkbox",className:"coveo-checkbox",value:this.label,"aria-label":this.ariaLabel||this.label,"aria-hidden":!0}).el;var n=o.$$("button",{type:"button",className:"coveo-checkbox-button","aria-label":this.ariaLabel||this.label}),i=o.$$("span",{className:"coveo-checkbox-span-label"});i.text(this.label);var r=o.$$("span",{className:"coveo-checkbox-span-label-suffix"});r.text(this.labelSuffix),t.append(this.checkbox),t.append(n.el),t.append(i.el),this.labelSuffix&&t.append(r.el),n.on("click",function(t){t.preventDefault(),e.toggle()}),o.$$(this.checkbox).on("change",function(){return e.onChange(e)}),this.element=t.el},e.doExport=function(){i.exportGlobally({Checkbox:e})},e}();t.Checkbox=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.searchEvent="analyticsSearchEvent",e.documentViewEvent="analyticsDocumentViewEvent",e.customEvent="analyticsCustomEvent",e.analyticsEventReady="analyticsEventReady",e.changeAnalyticsCustomData="changeAnalyticsCustomData",e}();t.AnalyticsEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(5),r=n(54),s=n(97),a=n(0),u=function(){function e(){}return e.registerTemplate=function(t,n,r,s,u){void 0===r&&(r=!0),void 0===s&&(s=!1),void 0===u&&(u=!1),o.Assert.isNonEmptyString(t),o.Assert.exists(n),n instanceof i.Template||(n=new i.Template(n)),null==n.name&&(n.name=t),e.templates[t]=n,r&&!a.contains(e.templateNames,t)&&e.templateNames.push(t),u&&!a.contains(e.resultListTemplateNames,t)&&e.resultListTemplateNames.push(t),s&&(e.defaultTemplates[t]=n)},e.unregisterTemplate=function(t){o.Assert.isNonEmptyString(t),void 0!=e.templates[t]&&delete e.templates[t],void 0!=e.defaultTemplates[t]&&delete e.defaultTemplates[t]},e.getTemplate=function(t){return e.templates[t]||e.scanAndRegisterTemplates(),o.Assert.exists(e.templates[t]),e.templates[t]},e.getTemplates=function(){return e.templates},e.getTemplateNames=function(){return e.templateNames},e.getResultListTemplateNames=function(){return e.resultListTemplateNames},e.getDefaultTemplates=function(){return a.keys(e.defaultTemplates)},e.getDefaultTemplate=function(t){return o.Assert.exists(e.defaultTemplates[t]),e.defaultTemplates[t]},e.scanAndRegisterTemplates=function(){r.UnderscoreTemplate.isLibraryAvailable()&&e.scanAndRegisterUnderscoreTemplates(),e.scanAndRegisterHtmlTemplates()},e.scanAndRegisterUnderscoreTemplates=function(){a.each(r.UnderscoreTemplate.mimeTypes,function(t){for(var n=document.querySelectorAll("script[id][type='"+t+"']"),i=n.length,o=new Array(i);i--;)o[i]=n.item(i);a.each(o,function(t){var n=new r.UnderscoreTemplate(t);e.registerTemplate(t.getAttribute("id"),n)})})},e.scanAndRegisterHtmlTemplates=function(){a.each(s.HtmlTemplate.mimeTypes,function(t){for(var n=document.querySelectorAll("script[id][type='"+t+"']"),i=n.length,o=new Array(i);i--;)o[i]=n.item(i);a.each(o,function(t){var n=new s.HtmlTemplate(t);e.registerTemplate(t.getAttribute("id"),n)})})},e.templates={},e.templateNames=[],e.resultListTemplateNames=[],e.defaultTemplates={},e}();t.TemplateCache=u,document.addEventListener("DOMContentLoaded",function(){u.scanAndRegisterTemplates()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(5),r=n(0),s=function(){function e(){}return e.replace=function(t,n,o){var r=new e;if(i.Utils.isNullOrEmptyString(t))return r;var s=t.lastIndexOf(n);if(-1==s)return r.value=t,r;for(var a=[];s>=0;){var u={begin:s,size:n.length,replacementSize:o.length};a.push(u),t=t.slice(0,s)+o+t.slice(s+n.length),s=t.lastIndexOf(n)}return r.holes=a,r.value=t,r},e.shortenPath=function(t,n){var o=new e,r=t;if(i.Utils.isNullOrEmptyString(r)||r.length<=n)return o.value=r,o;var s=[],a=-1;if(-1!==(a=i.Utils.stringStartsWith(r,"\\\\")?r.indexOf("\\",a+2):r.indexOf("\\"))){for(var u=0,l=r.indexOf("\\",a+1);-1!==l&&r.length-u+e.SHORTEN_END.length>n;)u=l-a-1,l=r.indexOf("\\",l+1);if(u>0){r=r.slice(0,a+1)+e.SHORTEN_END+r.slice(u);var c={begin:a+1,size:u-e.SHORTEN_END.length,replacementSize:e.SHORTEN_END.length};s.push(c)}}if(r.length>n){var p=r.length-n+e.SHORTEN_END.length,d=r.length-p;r=r.slice(0,d)+e.SHORTEN_END;var c={begin:d,size:p,replacementSize:e.SHORTEN_END.length};s.push(c)}return o.holes=s,o.value=r,o},e.shortenString=function(t,n,o){void 0===n&&(n=200);var r=t;o=i.Utils.toNotNullString(o);var s=new e;if(i.Utils.isNullOrEmptyString(r)||n<=o.length)return s.value=r,s;if(r.length<=n)return s.value=r,s;var a=r;if(n-=o.length,a=a.slice(0,n)," "!==r.charAt(a.length)){var u=a.lastIndexOf(" ");-1!==u&&a.length-u<e.WORD_SHORTER&&(a=a.slice(0,u))}var l=[];return l[0]={begin:a.length,size:r.length-a.length,replacementSize:o.length},a+=o,s.value=a,s.holes=l,s},e.shortenUri=function(t,n){var o=new e;if(i.Utils.isNullOrEmptyString(t)||t.length<=n)return o.value=t,o;var r=[],s=t.indexOf("//");if(-1!==s&&(s=t.indexOf("/",s+2)),-1!==s){for(var a=0,u=t.indexOf("/",s+1);-1!==u&&t.length-a+e.SHORTEN_END.length>n;)a=u-s-1,u=t.indexOf("/",u+1);if(a>0){t=t.slice(0,s+1)+e.SHORTEN_END+t.slice(s+1+a);var l={begin:s+1,size:a,replacementSize:e.SHORTEN_END.length};r.push(l)}}if(t.length>n){var c=t.length-n+e.SHORTEN_END.length,p=t.length-c;t=t.slice(0,p)+e.SHORTEN_END;var l={begin:p,size:c,replacementSize:e.SHORTEN_END.length};r.push(l)}return o.holes=r,o.value=t,o},e.SHORTEN_END="...",e.WORD_SHORTER=10,e}();t.StringAndHoles=s;var a=function(){function e(){}return e.highlightString=function(e,t,n,s){if(o.Assert.isNotUndefined(t),o.Assert.isNotNull(t),o.Assert.isNonEmptyString(s),i.Utils.isNullOrEmptyString(e))return e;for(var a=e.length,u="",l=0,c=0;c<t.length;c++){var p=t[c],d=p.offset,h=d+p.length;if(null!==n){for(var f=!1,m=0;m<n.length;m++){var y=n[m],g=y.begin,v=g+y.size;if(d<g&&h>=g&&h<v)h=g;else{if(d>=g&&h<v){f=!0;break}if(d>=g&&d<v&&h>=v)d=g+y.replacementSize,h-=y.size-y.replacementSize;else if(d<g&&h>=v)h-=y.size-y.replacementSize;else if(d>=v){var b=y.size-y.replacementSize;d-=b,h-=b}}}if(f||d===h)continue}if(h>a)break;u+=r.escape(e.slice(l,d)),u+='<span class="'+s+'"',p.dataHighlightGroup&&(u+=' data-highlight-group="'+p.dataHighlightGroup.toString()+'"'),p.dataHighlightGroupTerm&&(u+=' data-highlight-group-term="'+p.dataHighlightGroupTerm+'"'),u+=">",u+=r.escape(e.slice(d,h)),u+="</span>",l=h}return l!=a&&(u+=r.escape(e.slice(l))),u},e}();t.HighlightUtils=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=function(){function e(e,t){void 0===t&&(t=!0),this.milliseconds=t?e:1e3*e}return e.prototype.getMilliseconds=function(){return this.milliseconds},e.prototype.getSeconds=function(){return this.getMilliseconds()/1e3},e.prototype.getMinutes=function(){return this.getSeconds()/60},e.prototype.getHours=function(){return this.getMinutes()/60},e.prototype.getDays=function(){return this.getHours()/24},e.prototype.getWeeks=function(){return this.getDays()/7},e.prototype.getHHMMSS=function(){var e,t,n,i=Math.floor(this.getHours()),o=Math.floor(this.getMinutes())%60,r=Math.floor(this.getSeconds())%60;return e=0==i?"":i<10?"0"+i.toString():i.toString(),t=o<10?"0"+o.toString():o.toString(),n=r<10?"0"+r.toString():r.toString(),(""!=e?e+":":"")+t+":"+n},e.fromDates=function(t,n){return i.Assert.exists(t),i.Assert.exists(n),new e(n.valueOf()-t.valueOf())},e}();t.TimeSpan=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0}),n(505),n(506);var r=n(0),s=n(207),a=n(37),u=n(32),l=n(10),c=n(80),p=n(3),d=n(5),h=n(30),f=n(16),m=n(13),y=n(7),g=n(22),v=n(1),b=n(14),C=n(12),S=n(4),w=n(9),x=n(6),_=n(8),O=n(2),E=n(203),A=n(447),T=n(448),R=n(446),I=n(449),F=n(169),M=n(450),D=n(444),P=n(445),$=n(46),N=n(127),k=n(126),V=n(451),L=n(202),B=n(452),Q=n(453),U=n(439),j=n(17),q=n(86),H=n(443),z=n(48),W=function(e){function t(n,i,o,s){void 0===s&&(s=t.ID);var a=e.call(this,n,s,o)||this;return a.element=n,a.options=i,a.keepDisplayedValuesNextTime=!1,a.values=new k.FacetValues,a.currentPage=0,a.firstQuery=!0,a.canFetchMore=!0,a.showingWaitAnimation=!1,a.listenToQueryStateChange=!0,a.options=_.ComponentOptions.initComponentOptions(n,t,i),null!=a.options.valueCaption&&(a.options.availableSorts=r.filter(a.options.availableSorts,function(e){return!/^alpha.*$/.test(e)}),a.logger.warn("Because the "+a.options.field+" facet is using value captions, alphabetical sorts are disabled.")),E.ResponsiveFacets.init(a.root,a,a.options),a.omniboxZIndex=t.omniboxIndex,t.omniboxIndex--,a.checkForComputedFieldAndSort(),a.checkForValueCaptionType(),a.checkForCustomSort(),a.initDependsOnManager(),a.initFacetQueryController(),a.initQueryEvents(),a.initQueryStateEvents(),a.initComponentStateEvents(),a.initOmniboxEvents(),a.initBreadCrumbEvents(),a.initSearchAlertEvents(),a.updateNumberOfValues(),a.bind.oneRootElement(l.QueryEvents.querySuccess,function(){a.firstQuery=!1}),a}return i(t,e),t.prototype.isCurrentlyDisplayed=function(){return!!v.$$(this.element).isVisible()&&(!!v.$$(this.element).hasClass("coveo-active")||!v.$$(this.element).hasClass("coveo-facet-empty"))},t.prototype.createDom=function(){var e=this;if(this.initBottomAndTopSpacer(),this.buildFacetContent(),this.updateAppearanceDependingOnState(),this.facetSettings&&this.options.enableSettingsFacetState){var t=r.once(function(){e.facetSettings.loadSavedState.apply(e.facetSettings)});this.bind.onRootElement(l.QueryEvents.newQuery,t)}},t.prototype.selectValue=function(e){d.Assert.exists(e),this.ensureDom(),this.logger.info("Selecting facet value",this.facetValuesList.select(e)),this.facetValueHasChanged()},t.prototype.selectMultipleValues=function(e){var t=this;d.Assert.exists(e),this.ensureDom(),r.each(e,function(e){t.logger.info("Selecting facet value",t.facetValuesList.select(e))}),this.facetValueHasChanged()},t.prototype.deselectValue=function(e){d.Assert.exists(e),this.ensureDom(),this.logger.info("Deselecting facet value",this.facetValuesList.unselect(e)),this.facetValueHasChanged()},t.prototype.deselectMultipleValues=function(e){var t=this;d.Assert.exists(e),this.ensureDom(),r.each(e,function(e){t.logger.info("Deselecting facet value",t.facetValuesList.unselect(e))}),this.facetValueHasChanged()},t.prototype.excludeValue=function(e){d.Assert.exists(e),this.ensureDom(),this.logger.info("Excluding facet value",this.facetValuesList.exclude(e)),this.facetValueHasChanged()},t.prototype.excludeMultipleValues=function(e){var t=this;d.Assert.exists(e),this.ensureDom(),r.each(e,function(e){t.logger.info("Excluding facet value",t.facetValuesList.exclude(e))}),this.facetValueHasChanged()},t.prototype.unexcludeValue=function(e){d.Assert.exists(e),this.ensureDom(),this.logger.info("Unexcluding facet value",this.facetValuesList.unExclude(e)),this.facetValueHasChanged()},t.prototype.unexcludeMultipleValues=function(e){var t=this;d.Assert.exists(e),this.ensureDom(),r.each(e,function(e){t.logger.info("Unexcluding facet value",t.facetValuesList.unExclude(e))}),this.facetValueHasChanged()},t.prototype.toggleSelectValue=function(e){d.Assert.exists(e),this.ensureDom(),this.logger.info("Toggle select facet value",this.facetValuesList.toggleSelect(e)),this.facetValueHasChanged()},t.prototype.toggleExcludeValue=function(e){d.Assert.exists(e),this.ensureDom(),this.logger.info("Toggle exclude facet value",this.facetValuesList.toggleExclude(e)),this.facetValueHasChanged()},t.prototype.getDisplayedValues=function(){return r.pluck(this.getDisplayedFacetValues(),"value")},t.prototype.getDisplayedFacetValues=function(){this.ensureDom();var e=this.facetValuesList.getAllCurrentlyDisplayed();return r.map(e,function(e){return e.facetValue})},t.prototype.getSelectedValues=function(){return this.ensureDom(),r.map(this.values.getSelected(),function(e){return e.value})},t.prototype.getExcludedValues=function(){return this.ensureDom(),r.map(this.values.getExcluded(),function(e){return e.value})},t.prototype.reset=function(){this.ensureDom(),this.values.reset(),this.rebuildValueElements(),this.updateAppearanceDependingOnState(),this.updateQueryStateModel()},t.prototype.switchToAnd=function(){this.ensureDom(),this.logger.info("Switching to AND"),this.facetHeader.switchToAnd()},t.prototype.switchToOr=function(){this.ensureDom(),this.logger.info("Switching to OR"),this.facetHeader.switchToOr()},t.prototype.getEndpoint=function(){return this.queryController.getEndpoint()},t.prototype.updateSort=function(e){this.ensureDom(),this.options.sortCriteria!=e&&(this.options.sortCriteria=e,this.usageAnalytics.logCustomEvent(w.analyticsActionCauseList.facetUpdateSort,{criteria:e,facetId:this.options.id,facetField:this.options.field.toString(),facetTitle:this.options.title},this.element),this.triggerNewQuery())},t.prototype.unfadeInactiveValuesInMainList=function(){v.$$(this.element).removeClass("coveo-facet-fade")},t.prototype.fadeInactiveValuesInMainList=function(e){v.$$(this.element).addClass("coveo-facet-fade")},t.prototype.showWaitingAnimation=function(){this.ensureDom(),this.showingWaitAnimation||(v.$$(this.headerElement).find(".coveo-facet-header-wait-animation").style.visibility="visible",this.showingWaitAnimation=!0)},t.prototype.hideWaitingAnimation=function(){this.ensureDom(),this.showingWaitAnimation&&(v.$$(this.headerElement).find(".coveo-facet-header-wait-animation").style.visibility="hidden",this.showingWaitAnimation=!1)},t.prototype.processFacetSearchAllResultsSelected=function(e){var t=this,n=[];r.each(e,function(e){t.ensureFacetValueIsInList(e),n.push(e.value)});var i=this.values.getSelected().concat(this.values.getExcluded());this.numberOfValues=i.length+r.difference(i,e).length,this.numberOfValues=Math.max(this.numberOfValues,this.options.numberOfValues),this.currentPage=Math.floor((this.numberOfValues-this.options.numberOfValues)/this.options.pageSize),this.updateQueryStateModel(),this.triggerNewQuery(function(){return t.usageAnalytics.logSearchEvent(w.analyticsActionCauseList.facetSelectAll,{facetId:t.options.id,facetField:t.options.field.toString(),facetTitle:t.options.title})})},t.prototype.pinFacetPosition=function(){this.options.preservePosition&&(this.pinnedViewportPosition=this.element.getBoundingClientRect().top)},t.prototype.getValueCaption=function(e){d.Assert.exists(e);var t=e.lookupValue||e.value,n=t;return n=$.FacetUtils.tryToGetTranslatedCaption(this.options.field,t),S.Utils.exists(this.options.valueCaption)&&("object"==typeof this.options.valueCaption&&(n=this.options.valueCaption[t]||n),"function"==typeof this.options.valueCaption&&(this.values.get(t),n=this.options.valueCaption.call(this,this.facetValuesList.get(t).facetValue))),n},t.prototype.showMore=function(){this.currentPage++,this.updateNumberOfValues(),this.nbAvailableValues>=this.numberOfValues||!this.canFetchMore?this.rebuildValueElements():this.triggerMoreQuery()},t.prototype.showLess=function(){v.$$(this.lessElement).removeClass("coveo-active"),this.currentPage=0,this.updateNumberOfValues(),v.$$(this.moreElement).addClass("coveo-active"),this.values.sortValuesDependingOnStatus(this.numberOfValues),this.rebuildValueElements(),this.logAnalyticsFacetShowMoreLess(w.analyticsActionCauseList.facetShowLess)},t.prototype.collapse=function(){this.ensureDom(),this.facetHeader&&this.facetHeader.collapseFacet()},t.prototype.expand=function(){this.ensureDom(),this.facetHeader&&this.facetHeader.expandFacet()},t.prototype.triggerNewQuery=function(e){e?this.queryController.executeQuery({beforeExecuteQuery:e}):this.queryController.executeQuery({ignoreWarningSearchEvent:!0}),this.showWaitingAnimation()},t.prototype.handleDeferredQuerySuccess=function(e){d.Assert.exists(e),this.unfadeInactiveValuesInMainList(),this.hideWaitingAnimation();var t=e.results.groupByResults[this.facetQueryController.lastGroupByRequestIndex];this.facetQueryController.lastGroupByResult=t,t||(this.keepDisplayedValuesNextTime=!1),1==this.values.getAll().length&&(this.keepDisplayedValuesNextTime=!1),this.processNewGroupByResults(t)},t.prototype.handleQueryError=function(){this.updateValues(new k.FacetValues),this.updateAppearanceDependingOnState(),this.hideWaitingAnimation()},t.prototype.handlePopulateBreadcrumb=function(e){if(d.Assert.exists(e),this.values.hasSelectedOrExcludedValues()){var t=new T.BreadcrumbValueList(this,this.values.getSelected().concat(this.values.getExcluded()),A.BreadcrumbValueElement).build();e.breadcrumbs.push({element:t})}},t.prototype.handlePopulateSearchAlerts=function(e){if(this.values.hasSelectedOrExcludedValues()){var t=this.values.getExcluded(),n=this.values.getSelected();r.isEmpty(t)||e.text.push({value:new T.BreadcrumbValueList(this,t,A.BreadcrumbValueElement).buildAsString(),lineThrough:!0}),r.isEmpty(n)||e.text.push({value:new T.BreadcrumbValueList(this,n,A.BreadcrumbValueElement).buildAsString(),lineThrough:!1})}},t.prototype.initFacetQueryController=function(){this.facetQueryController=new s.FacetQueryController(this)},t.prototype.initFacetValuesList=function(){this.facetValuesList=new V.FacetValuesList(this,N.FacetValueElement),this.element.appendChild(this.facetValuesList.build())},t.prototype.initFacetSearch=function(){this.facetSearch=new I.FacetSearch(this,M.FacetSearchValuesList,this.root),this.element.appendChild(this.facetSearch.build())},t.prototype.facetValueHasChanged=function(){var e=this;this.updateQueryStateModel(),this.rebuildValueElements(),h.Defer.defer(function(){e.updateAppearanceDependingOnState()})},t.prototype.updateAppearanceDependingOnState=function(){v.$$(this.element).toggleClass("coveo-active",this.values.hasSelectedOrExcludedValues()),v.$$(this.element).toggleClass("coveo-facet-empty",!this.isAnyValueCurrentlyDisplayed()),this.dependsOnManager.updateVisibilityBasedOnDependsOn(),v.$$(this.facetHeader.eraserElement).toggleClass("coveo-facet-header-eraser-visible",this.values.hasSelectedOrExcludedValues())},t.prototype.initQueryEvents=function(){var e=this;this.bind.onRootElement(l.QueryEvents.duringQuery,function(){return e.handleDuringQuery()}),this.bind.onRootElement(l.QueryEvents.buildingQuery,function(t){return e.handleBuildingQuery(t)}),this.bind.onRootElement(l.QueryEvents.doneBuildingQuery,function(t){return e.handleDoneBuildingQuery(t)}),this.bind.onRootElement(l.QueryEvents.deferredQuerySuccess,function(t){return e.handleDeferredQuerySuccess(t)}),this.bind.onRootElement(l.QueryEvents.queryError,function(){return e.handleQueryError()})},t.prototype.initQueryStateEvents=function(){var e=this;this.includedAttributeId=m.QueryStateModel.getFacetId(this.options.id),this.excludedAttributeId=m.QueryStateModel.getFacetId(this.options.id,!1),this.operatorAttributeId=m.QueryStateModel.getFacetOperator(this.options.id),this.lookupValueAttributeId=m.QueryStateModel.getFacetLookupValue(this.options.id),this.queryStateModel.registerNewAttribute(this.includedAttributeId,[]),this.queryStateModel.registerNewAttribute(this.excludedAttributeId,[]),this.queryStateModel.registerNewAttribute(this.operatorAttributeId,""),this.queryStateModel.registerNewAttribute(this.lookupValueAttributeId,{}),this.bind.onQueryState(f.MODEL_EVENTS.CHANGE,void 0,function(t){return e.handleQueryStateChanged(t)}),this.dependsOnManager.listenToParentIfDependentFacet()},t.prototype.initComponentStateEvents=function(){this.componentStateId=m.QueryStateModel.getFacetId(this.options.id),this.componentStateModel.registerComponent(this.componentStateId,this)},t.prototype.initOmniboxEvents=function(){var e=this;this.options.includeInOmnibox&&this.bind.onRootElement(u.OmniboxEvents.populateOmnibox,function(t){return e.handlePopulateOmnibox(t)})},t.prototype.initBreadCrumbEvents=function(){var e=this;this.options.includeInBreadcrumb&&(this.bind.onRootElement(a.BreadcrumbEvents.populateBreadcrumb,function(t){return e.handlePopulateBreadcrumb(t)}),this.bind.onRootElement(a.BreadcrumbEvents.clearBreadcrumb,function(t){return e.handleClearBreadcrumb()}))},t.prototype.initSearchAlertEvents=function(){var e=this;this.bind.onRootElement(c.SearchAlertsEvents.searchAlertsPopulateMessage,function(t){return e.handlePopulateSearchAlerts(t)})},t.prototype.handleOmniboxWithStaticValue=function(e){var t=this,n=new RegExp("^"+e.completeQueryExpression.regex.source,"i"),i=r.first(r.filter(this.getDisplayedValues(),function(e){var i=t.getValueCaption(t.facetValuesList.get(e).facetValue);return n.test(i)}),this.options.numberOfValuesInOmnibox),o=r.map(i,function(e){return t.facetValuesList.get(e).facetValue}),s=new Q.OmniboxValuesList(this,o,e,B.OmniboxValueElement).build();e.rows.push({element:s,zIndex:this.omniboxZIndex})},t.prototype.processNewGroupByResults=function(e){this.logger.trace("Displaying group by results",e),void 0!=e&&void 0!=e.values&&(this.nbAvailableValues=e.values.length);var t=new k.FacetValues(e);this.updateValues(t),this.canFetchMore=this.numberOfValues<this.nbAvailableValues,this.values.hasSelectedOrExcludedValues()&&!this.options.useAnd&&this.options.isMultiValueField?this.triggerUpdateDeltaQuery(r.filter(this.values.getAll(),function(e){return!e.selected&&!e.excluded})):this.values.getSelected().length>0&&!this.options.useAnd&&this.values.updateDeltaWithFilteredFacetValues(new k.FacetValues,this.options.isMultiValueField),this.values.hasSelectedOrExcludedValues()&&!this.options.useAnd&&this.options.isMultiValueField||(this.rebuildValueElements(),this.updateAppearanceDependingOnState(),this.ensurePinnedFacetHasntMoved()),this.keepDisplayedValuesNextTime=!1},t.prototype.updateQueryStateModel=function(){this.listenToQueryStateChange=!1,this.updateExcludedQueryStateModel(),this.updateIncludedQueryStateModel(),this.facetHeader.updateOperatorQueryStateModel(),this.updateLookupValueQueryStateModel(),this.listenToQueryStateChange=!0},t.prototype.rebuildValueElements=function(){this.updateNumberOfValues(),this.facetValuesList.rebuild(this.numberOfValues),this.shouldRenderMoreLess()?(this.updateMoreLess(),this.shouldRenderFacetSearch()&&this.updateSearchElement(this.nbAvailableValues>this.numberOfValues)):this.shouldRenderFacetSearch()&&this.updateSearchElement()},t.prototype.updateSearchElement=function(e){var t=this;if(void 0===e&&(e=!0),e){var n=new U.ValueElementRenderer(this,k.FacetValue.create(y.l("Search")));this.searchContainer=n.build().withNo([n.excludeIcon,n.icon]),v.$$(this.searchContainer.listItem).addClass("coveo-facet-search-button"),(new j.AccessibleButton).withElement(this.searchContainer.accessibleElement).withLabel(y.l("Search")).withEnterKeyboardAction(function(e){return t.toggleSearchMenu(e)}).build(),g.DeviceUtils.isMobileDevice()&&v.$$(this.searchContainer.label).on("click",function(e){return t.toggleSearchMenu(e)}),v.$$(this.searchContainer.checkbox).on("change",function(){v.$$(t.element).addClass("coveo-facet-searching"),t.facetSearch.focus()}),this.facetValuesList.valueContainer.appendChild(this.searchContainer.listItem)}},t.prototype.updateMoreLess=function(e,t){void 0===e&&(e=this.getMinimumNumberOfValuesToDisplay()<this.numberOfValues),void 0===t&&(t=this.nbAvailableValues>this.numberOfValues),e?v.$$(this.lessElement).addClass("coveo-active"):v.$$(this.lessElement).removeClass("coveo-active"),t?v.$$(this.moreElement).addClass("coveo-active"):v.$$(this.moreElement).removeClass("coveo-active"),e||t?v.$$(this.footerElement).removeClass("coveo-facet-empty"):v.$$(this.footerElement).addClass("coveo-facet-empty")},t.prototype.handleClickMore=function(){this.showMore()},t.prototype.handleClickLess=function(){this.showLess()},t.prototype.toggleSearchMenu=function(e){var t=this.searchContainer;t.checkbox.getAttribute("checked")?t.checkbox.removeAttribute("checked"):t.checkbox.setAttribute("checked","checked"),v.$$(t.checkbox).trigger("change"),e.stopPropagation(),e.preventDefault()},t.prototype.checkForComputedFieldAndSort=function(){-1!=this.options.sortCriteria.toLowerCase().indexOf("computedfield")&&S.Utils.isNullOrUndefined(this.options.computedField)&&this.logger.warn("Sort criteria is specified as ComputedField, but the facet uses no computed field. Facet will always be empty !",this)},t.prototype.checkForValueCaptionType=function(){this.options.valueCaption&&"function"==typeof this.options.valueCaption&&(this.options.enableFacetSearch=!1,this.options.includeInOmnibox=!1,this.logger.warn("Using a function as valueCaption is now deprecated. Use a json key value pair instead. Facet search and omnibox has been disabled for this facet",this))},t.prototype.checkForCustomSort=function(){void 0==this.options.customSort||r.contains(this.options.availableSorts,"custom")||this.options.availableSorts.unshift("custom"),"custom"==this.options.availableSorts[0]&&(this.options.sortCriteria="nosort")},t.prototype.initDependsOnManager=function(){var e=this,t={reset:function(){return e.reset()},toggleDependentFacet:function(t){return e.toggleDependentFacet(t)},element:this.element,root:this.root,dependsOn:this.options.dependsOn,id:this.options.id,queryStateModel:this.queryStateModel,bind:this.bind};this.dependsOnManager=new H.DependsOnManager(t)},t.prototype.toggleDependentFacet=function(e){this.getSelectedValues().length?e.enable():e.disable()},t.prototype.dependsOnUpdateParentDisplayValue=function(){var e=this;if(this.options.dependsOn){var n=z.ComponentsTypes.getAllFacetsInstance(this.root).filter(function(n){return n instanceof t&&n.options.id===e.options.dependsOn});if(!n.length)return void this.logger.warn('Unable to find a Facet with the id or field "'+this.options.dependsOn+'".',"The master facet values can't be updated.");if(n.length>1)return void this.logger.warn('Multiple facets with id "'+this.options.dependsOn+'" found.',"A given facet may only depend on a single other facet.","Ensure that each facet in your search interface has a unique id.","The master facet cannot be updated.",n);n[0].keepDisplayedValuesNextTime=!1}},t.prototype.initBottomAndTopSpacer=function(){var e=this,t=v.$$(this.options.paddingContainer).find(".coveo-bottomSpace"),n=v.$$(this.options.paddingContainer).find(".coveo-topSpace");this.options.preservePosition&&(v.$$(this.options.paddingContainer).on("mouseleave",function(){return e.unpinFacetPosition()}),this.pinnedTopSpace=n,this.pinnedBottomSpace=t,this.pinnedTopSpace||(this.pinnedTopSpace=document.createElement("div"),v.$$(this.pinnedTopSpace).addClass("coveo-topSpace"),v.$$(this.pinnedTopSpace).insertBefore(this.options.paddingContainer.firstChild)),this.pinnedBottomSpace||(this.pinnedBottomSpace=document.createElement("div"),v.$$(this.pinnedBottomSpace).addClass("coveo-bottomSpace"),this.options.paddingContainer.appendChild(this.pinnedBottomSpace)))},t.prototype.updateIncludedQueryStateModel=function(){var e={included:this.getSelectedValues(),title:this.includedAttributeId};this.queryStateModel.set(this.includedAttributeId,e.included)},t.prototype.updateExcludedQueryStateModel=function(){var e={title:this.excludedAttributeId,excluded:this.getExcludedValues()};this.queryStateModel.set(this.excludedAttributeId,e.excluded)},t.prototype.updateLookupValueQueryStateModel=function(){if(this.options.lookupField){var e={};r.each(this.values.getSelected().concat(this.values.getExcluded()),function(t){e[t.value]=t.lookupValue}),this.queryStateModel.set(this.lookupValueAttributeId,e)}},t.prototype.handleQueryStateChangedOperator=function(e){"and"==e?this.switchToAnd():"or"==e&&this.switchToOr()},t.prototype.handleQueryStateChangedIncluded=function(e){var t=r.difference(this.getSelectedValues(),e);S.Utils.isNonEmptyArray(t)&&this.deselectMultipleValues(t),S.Utils.arrayEqual(this.getSelectedValues(),e,!1)||this.selectMultipleValues(e)},t.prototype.handleQueryStateChangedExcluded=function(e){var t=r.difference(this.getExcludedValues(),e);S.Utils.isNonEmptyArray(t)&&this.unexcludeMultipleValues(t),S.Utils.arrayEqual(this.getExcludedValues(),e,!1)||this.excludeMultipleValues(e)},t.prototype.handleLookupvalueChanged=function(e){var t=this;r.each(e,function(e,n){t.facetValuesList.get(decodeURIComponent(n)).facetValue.lookupValue=decodeURIComponent(e)})},t.prototype.handleQueryStateChanged=function(e){d.Assert.exists(e),this.ensureDom(),this.dependsOnUpdateParentDisplayValue();var t=function(e){return e&&(e=r.map(e,function(e){return e.trim()})),e},n=e.attributes,i=t(n[this.includedAttributeId]),o=t(n[this.excludedAttributeId]),s=n[this.operatorAttributeId],a=n[this.lookupValueAttributeId];this.listenToQueryStateChange&&(S.Utils.isNullOrEmptyString(s)||this.handleQueryStateChangedOperator(s),S.Utils.isNullOrUndefined(i)||this.handleQueryStateChangedIncluded(i),S.Utils.isNullOrUndefined(o)||this.handleQueryStateChangedExcluded(o),S.Utils.isNullOrUndefined(a)||this.handleLookupvalueChanged(a))},t.prototype.handlePopulateOmnibox=function(e){d.Assert.exists(e),d.Assert.exists(e.completeQueryExpression),this.queryController.ensureCreatedQueryBuilder(),this.canFetchMore?this.handleOmniboxWithSearchInFacet(e):this.handleOmniboxWithStaticValue(e)},t.prototype.handleOmniboxWithSearchInFacet=function(e){var t=this,n=new RegExp("^"+e.completeQueryExpression.regex.source,"i"),i=new Promise(function(i,o){var s=new F.FacetSearchParameters(t);s.setValueToSearch(e.completeQueryExpression.word),s.nbResults=t.options.numberOfValuesInOmnibox,t.facetQueryController.search(s).then(function(o){var s=r.map(r.filter(o,function(e){return n.test(e.lookupValue)}),function(e){return t.values.get(e.lookupValue)||k.FacetValue.create(e)}),a=new Q.OmniboxValuesList(t,s,e,B.OmniboxValueElement).build();i({element:a,zIndex:t.omniboxZIndex})}).catch(function(){i({element:void 0})})});e.rows.push({deferred:i})},t.prototype.handleDuringQuery=function(){this.ensureDom(),this.keepDisplayedValuesNextTime||this.fadeInactiveValuesInMainList(this.options.facetSearchDelay)},t.prototype.handleBuildingQuery=function(e){if(d.Assert.exists(e),d.Assert.exists(e.queryBuilder),this.facetQueryController.prepareForNewQuery(),this.values.hasSelectedOrExcludedValues()){var t=this.facetQueryController.computeOurFilterExpression();this.logger.trace("Putting filter in query",t),e.queryBuilder.advancedExpression.add(t)}},t.prototype.handleDoneBuildingQuery=function(e){d.Assert.exists(e),d.Assert.exists(e.queryBuilder);var t=e.queryBuilder;this.facetQueryController.putGroupByIntoQueryBuilder(t)},t.prototype.handleClearBreadcrumb=function(){this.reset()},t.prototype.updateValues=function(e){d.Assert.exists(e),this.keepDisplayedValuesNextTime?this.values.updateCountsFromNewValues(e):(e.importActiveValuesFromOtherList(this.values),e.sortValuesDependingOnStatus(this.numberOfValues),this.values=e),this.updateNumberOfValues()},t.prototype.ensureFacetValueIsInList=function(e){d.Assert.exists(e),this.values.contains(e.value)||this.values.add(e)},t.prototype.isAnyValueCurrentlyDisplayed=function(){return!this.values.isEmpty()},t.prototype.buildFacetContent=function(){this.headerElement=this.buildHeader(),this.element.appendChild(this.headerElement),this.initFacetValuesList(),this.shouldRenderFacetSearch()&&this.initFacetSearch(),this.shouldRenderMoreLess()&&(this.moreElement=this.buildMore(),this.lessElement=this.buildLess()),this.footerElement=this.buildFooter(),this.element.appendChild(this.footerElement),this.lessElement&&this.moreElement&&(this.footerElement.appendChild(this.lessElement),this.footerElement.appendChild(this.moreElement))},t.prototype.buildHeader=function(){var e=this.options.headerIcon;this.options.headerIcon==this.options.field&&(e=void 0),this.facetHeader=new R.FacetHeader({facetElement:this.element,title:this.options.title,icon:e,field:this.options.field,enableClearElement:!0,enableCollapseElement:this.options.enableCollapse,facet:this,settingsKlass:this.options.enableSettings?D.FacetSettings:void 0,sortKlass:P.FacetSort,availableSorts:this.options.availableSorts});var t=this.facetHeader.build();return this.facetSettings=this.facetHeader.settings,this.facetSort=this.facetHeader.sort,t},t.prototype.unpinFacetPosition=function(){this.shouldFacetUnpin()&&this.options.preservePosition&&(v.$$(this.pinnedTopSpace).addClass("coveo-with-animation"),v.$$(this.pinnedBottomSpace).addClass("coveo-with-animation"),this.pinnedTopSpace.style.height="0px",this.pinnedBottomSpace.style.height="0px"),this.unpinnedViewportPosition=void 0,this.pinnedViewportPosition=void 0},t.prototype.isFacetPinned=function(){return S.Utils.exists(this.pinnedViewportPosition)},t.prototype.shouldFacetUnpin=function(){return S.Utils.exists(this.unpinnedViewportPosition)},t.prototype.ensurePinnedFacetHasntMoved=function(){if(this.isFacetPinned()){d.Assert.exists(this.pinnedViewportPosition),v.$$(this.pinnedTopSpace).removeClass("coveo-with-animation"),v.$$(this.pinnedBottomSpace).removeClass("coveo-with-animation"),this.pinnedTopSpace.style.height="0px",this.pinnedBottomSpace.style.height="0px";var e=this.options.scrollContainer==document.body?window:this.options.scrollContainer,t=this.element.getBoundingClientRect().top,n=t-this.pinnedViewportPosition;!function(){e instanceof Window?window.scrollTo(0,new v.Win(e).scrollY()+n):e.scrollTop=e.scrollTop+n}(),t=this.element.getBoundingClientRect().top,n=t-this.pinnedViewportPosition,n<0&&(this.pinnedTopSpace.style.height=-1*n+"px"),this.unpinnedViewportPosition=this.pinnedViewportPosition,this.pinnedViewportPosition=null}},t.prototype.buildFooter=function(){return v.$$("div",{className:"coveo-facet-footer"}).el},t.prototype.buildMore=function(){var e=this,t=v.$$("span",{className:"coveo-facet-more-icon"},C.SVGIcons.icons.arrowDown).el;b.SVGDom.addClassToSVGInContainer(t,"coveo-facet-more-icon-svg");var n=v.$$("div",{className:"coveo-facet-more",tabindex:0},t).el;return(new j.AccessibleButton).withElement(n).withLabel(y.l("ShowMoreFacetResults",this.options.title)).withSelectAction(function(){return e.handleClickMore()}).build(),n},t.prototype.buildLess=function(){var e=this,t=v.$$("span",{className:"coveo-facet-less-icon"},C.SVGIcons.icons.arrowUp).el;b.SVGDom.addClassToSVGInContainer(t,"coveo-facet-less-icon-svg");var n=v.$$("div",{className:"coveo-facet-less",tabindex:0},t).el;return(new j.AccessibleButton).withElement(n).withLabel(y.l("ShowLessFacetResults",this.options.title)).withSelectAction(function(){return e.handleClickLess()}).build(),n},t.prototype.triggerMoreQuery=function(){var e=this;this.logger.info("Triggering new facet more query"),this.showWaitingAnimation(),this.facetQueryController.fetchMore(this.numberOfValues+1).then(function(t){e.logAnalyticsFacetShowMoreLess(w.analyticsActionCauseList.facetShowMore);var n=new k.FacetValues(t.groupByResults[0]);n.importActiveValuesFromOtherList(e.values),n.sortValuesDependingOnStatus(e.numberOfValues),e.values=n,e.nbAvailableValues=e.values.size(),e.updateNumberOfValues(),e.canFetchMore=e.numberOfValues<e.nbAvailableValues,e.values.hasSelectedOrExcludedValues()&&!e.options.useAnd&&e.options.isMultiValueField?e.triggerUpdateDeltaQuery(r.filter(e.values.getAll(),function(e){return!e.selected&&!e.excluded})):e.values.hasSelectedOrExcludedValues()&&!e.options.useAnd?(e.values.updateDeltaWithFilteredFacetValues(new k.FacetValues,e.options.isMultiValueField),e.hideWaitingAnimation()):e.hideWaitingAnimation(),e.rebuildValueElements()}).catch(function(){return e.hideWaitingAnimation()})},t.prototype.triggerUpdateDeltaQuery=function(e){var t=this;this.showWaitingAnimation(),this.facetQueryController.searchInFacetToUpdateDelta(e).then(function(e){var n=new k.FacetValues;r.each(e.groupByResults,function(e){r.each(e.values,function(e){n.contains(e.value)||n.add(k.FacetValue.createFromGroupByValue(e))})}),t.values.updateDeltaWithFilteredFacetValues(n,t.options.isMultiValueField),t.cleanupDeltaValuesForMultiValueField(),t.rebuildValueElements(),t.hideWaitingAnimation()})},t.prototype.updateNumberOfValues=function(){this.currentPage<=0?(this.currentPage=0,this.numberOfValues=0):this.numberOfValues=this.options.numberOfValues+this.currentPage*this.options.pageSize,this.numberOfValues=Math.max(this.numberOfValues,this.getMinimumNumberOfValuesToDisplay())},t.prototype.getMinimumNumberOfValuesToDisplay=function(){var e=this.values.getExcluded().length+this.values.getSelected().length;if(null!=this.options.customSort&&null!=this.facetSort&&this.options.customSort.length>0){var t=-1;new L.FacetValuesOrder(this,this.facetSort).reorderValues(this.values.getAll()).forEach(function(e,n){e.selected&&(t=n)}),e=t+1}return Math.max(e,this.options.numberOfValues)},t.prototype.cleanupDeltaValuesForMultiValueField=function(){var e=this;this.options.isMultiValueField&&(r.each(this.values.getAll(),function(t){0!=t.occurrences||t.selected||t.excluded||e.values.remove(t.value)}),this.nbAvailableValues=this.values.getAll().length)},t.prototype.shouldRenderFacetSearch=function(){return this.options.enableFacetSearch},t.prototype.shouldRenderMoreLess=function(){return this.options.enableMoreLess},t.prototype.debugInfo=function(){var e={};return e[this.constructor.ID]={component:this,groupByRequest:this.facetQueryController.lastGroupByRequest,groupByResult:this.facetQueryController.lastGroupByResult},e},t.prototype.logAnalyticsFacetShowMoreLess=function(e){this.usageAnalytics.logCustomEvent(e,{facetId:this.options.id,facetField:this.options.field.toString(),facetTitle:this.options.title},this.element)},t.ID="Facet",t.omniboxIndex=50,t.doExport=function(){p.exportGlobally({Facet:t,FacetHeader:R.FacetHeader,FacetSearchValuesList:M.FacetSearchValuesList,FacetSettings:D.FacetSettings,FacetSort:P.FacetSort,FacetUtils:$.FacetUtils,FacetValueElement:N.FacetValueElement,FacetValue:k.FacetValue})},t.options=o({title:_.ComponentOptions.buildLocalizedStringOption({defaultValue:y.l("NoTitle"),section:"CommonOptions",priority:10}),field:_.ComponentOptions.buildFieldOption({required:!0,groupByField:!0,section:"CommonOptions"}),headerIcon:_.ComponentOptions.buildStringOption({deprecated:"This option is exposed for legacy reasons, and the recommendation is to not use this option."}),id:_.ComponentOptions.buildStringOption({postProcessing:function(e,t){if(e){var n=e.replace(/[^a-zA-Z0-9-@$_.+!*'(),,]+/g,"");return S.Utils.isNullOrEmptyString(n)?t.field:n}return t.field}}),isMultiValueField:_.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"CommonOptions"}),lookupField:_.ComponentOptions.buildFieldOption({deprecated:"This option is exposed for legacy reasons. It is not recommended to use this option."}),enableSettings:_.ComponentOptions.buildBooleanOption({defaultValue:!0,section:"Sorting",priority:9}),enableSettingsFacetState:_.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableSettings"}),availableSorts:_.ComponentOptions.buildListOption({defaultValue:["occurrences","score","alphaascending","alphadescending"],section:"Sorting",depend:"enableSettings",values:["Occurrences","Score","AlphaAscending","AlphaDescending","ComputedFieldAscending","ComputedFieldDescending","ChiSquare","NoSort"]}),sortCriteria:_.ComponentOptions.buildStringOption({postProcessing:function(e,t){return e||(t.availableSorts.length>0?t.availableSorts[0]:"occurrences")},section:"Sorting"}),customSort:_.ComponentOptions.buildListOption({section:"Sorting"}),numberOfValues:_.ComponentOptions.buildNumberOption({defaultValue:5,min:0,section:"CommonOptions"}),injectionDepth:_.ComponentOptions.buildNumberOption({defaultValue:1e3,min:0}),showIcon:_.ComponentOptions.buildBooleanOption({defaultValue:!1,deprecated:"This option is exposed for legacy reasons. It is not recommended to use this option."}),useAnd:_.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Filtering"}),enableTogglingOperator:_.ComponentOptions.buildBooleanOption({defaultValue:!1,alias:"allowTogglingOperator"}),enableFacetSearch:_.ComponentOptions.buildBooleanOption({defaultValue:!0,section:"FacetSearch",priority:8}),facetSearchDelay:_.ComponentOptions.buildNumberOption({defaultValue:100,min:0,depend:"enableFacetSearch"}),facetSearchIgnoreAccents:_.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableFacetSearch"}),numberOfValuesInFacetSearch:_.ComponentOptions.buildNumberOption({defaultValue:15,min:1,section:"FacetSearch"}),useWildcardsInFacetSearch:_.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"FacetSearch"}),includeInBreadcrumb:_.ComponentOptions.buildBooleanOption({defaultValue:!0}),numberOfValuesInBreadcrumb:_.ComponentOptions.buildNumberOption({defaultFunction:function(){return g.DeviceUtils.isMobileDevice()?3:5},min:0,depend:"includeInBreadcrumb"}),includeInOmnibox:_.ComponentOptions.buildBooleanOption({defaultValue:!1,deprecated:"This option is exposed for legacy reasons. It is not recommended to use this option."}),numberOfValuesInOmnibox:_.ComponentOptions.buildNumberOption({defaultFunction:function(){return g.DeviceUtils.isMobileDevice()?3:5},min:0,depend:"includeInOmnibox",deprecated:"This option is exposed for legacy reasons. It is not recommended to use this option."}),computedField:_.ComponentOptions.buildFieldOption({priority:7}),computedFieldOperation:_.ComponentOptions.buildStringOption({defaultValue:"sum",section:"ComputedField"}),computedFieldFormat:_.ComponentOptions.buildStringOption({defaultValue:"c0",section:"ComputedField"}),computedFieldCaption:_.ComponentOptions.buildLocalizedStringOption({defaultValue:y.l("ComputedField"),section:"ComputedField"}),preservePosition:_.ComponentOptions.buildBooleanOption({defaultValue:!0}),paddingContainer:_.ComponentOptions.buildSelectorOption({defaultFunction:function(e){var t=v.$$(e).parent("coveo-facet-column");return null!=t?t:e.parentElement}}),scrollContainer:_.ComponentOptions.buildSelectorOption({defaultFunction:function(e){return document.body}}),enableMoreLess:_.ComponentOptions.buildBooleanOption({defaultValue:!0}),pageSize:_.ComponentOptions.buildNumberOption({defaultValue:10,min:1,depend:"enableMoreLess"}),enableCollapse:_.ComponentOptions.buildBooleanOption({defaultValue:!0,depend:"enableSettings"}),allowedValues:_.ComponentOptions.buildListOption(),additionalFilter:_.ComponentOptions.buildQueryExpressionOption(),dependsOn:_.ComponentOptions.buildStringOption(),valueCaption:_.ComponentOptions.buildJsonOption()},q.ResponsiveFacetOptions),t}(x.Component);t.Facet=W,O.Initialization.registerAutoCreateComponent(W),W.doExport()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(7),r=n(0),s=n(3),a=function(){function e(e,t,n,i){void 0===e&&(e=function(e){}),void 0===n&&(n=o.l),this.onChange=e,this.listOfValues=t,this.getDisplayValue=n,this.label=i,this.optionsElement=[],this.buildContent(),this.select(0,!1),this.bindEvents()}return e.doExport=function(){s.exportGlobally({Dropdown:e})},e.prototype.reset=function(){this.select(0,!1)},e.prototype.setId=function(e){i.$$(this.element).setAttribute("id",e)},e.prototype.getElement=function(){return this.element},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.select=function(e,t){void 0===t&&(t=!0),this.selectOption(this.optionsElement[e],t)},e.prototype.build=function(){return this.element},e.prototype.setValue=function(e){var t=this;r.each(this.optionsElement,function(n){i.$$(n).getAttribute("data-value")==e&&t.selectOption(n)})},e.prototype.selectOption=function(e,t){void 0===t&&(t=!0),this.selectElement.value=e.value,t&&this.onChange(this)},e.prototype.buildContent=function(){var e=this;this.selectElement=i.$$("select",{className:"coveo-dropdown"}).el,this.label&&this.selectElement.setAttribute("aria-label",o.l(this.label));var t=this.buildOptions();r.each(t,function(t){i.$$(e.selectElement).append(t)}),this.element=this.selectElement},e.prototype.buildOptions=function(){var e=this,t=[];return r.each(this.listOfValues,function(n){t.push(e.buildOption(n))}),t},e.prototype.buildOption=function(e){var t=i.$$("option");return t.setAttribute("data-value",e),t.setAttribute("value",e),t.text(this.getDisplayValue(e)),this.optionsElement.push(t.el),t.el},e.prototype.bindEvents=function(){var e=this;i.$$(this.selectElement).on("change",function(){return e.onChange(e)})},e}();t.Dropdown=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5);t.Assert=i.Assert;var o=n(30);t.Defer=o.Defer;var r=n(145);t.L10N=r.L10N;var s=n(11);t.Logger=s.Logger;var a=n(72);t.Options=a.Options;var u=n(7);t.l=u.l,n(11).Logger.disable()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(21),r=n(0),s=function(){function e(){this.parts=[],this.wrapParts=!0}return e.prototype.add=function(e){i.Assert.isNonEmptyString(e),this.parts.push(e)},e.prototype.fromExpressionBuilder=function(e){this.parts=this.parts.concat(e.parts)},e.prototype.addFieldExpression=function(e,t,n){i.Assert.isNonEmptyString(e),i.Assert.stringStartsWith(e,"@"),i.Assert.isNonEmptyString(t),i.Assert.isLargerOrEqualsThan(1,n.length),this.add(o.QueryUtils.buildFieldExpression(e,t,n))},e.prototype.addFieldNotEqualExpression=function(e,t){i.Assert.isNonEmptyString(e),i.Assert.stringStartsWith(e,"@"),i.Assert.isLargerOrEqualsThan(1,t.length),this.add(o.QueryUtils.buildFieldNotEqualExpression(e,t))},e.prototype.remove=function(e){i.Assert.isNonEmptyString(e),-1!=r.indexOf(this.parts,e)&&this.parts.splice(r.indexOf(this.parts,e),1)},e.prototype.isEmpty=function(){return 0==this.parts.length},e.prototype.build=function(e){return void 0===e&&(e=" "),0==this.parts.length?void 0:1==this.parts.length?this.parts[0]:this.wrapParts?"("+this.parts.join(")"+e+"(")+")":this.parts.join(e)},e.prototype.getParts=function(){return this.parts},e.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=new e;return r.each(t,function(e){i.parts=i.parts.concat(e.parts)}),i},e.mergeUsingOr=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=r.filter(t,function(e){return!e.isEmpty()}),o=new e;if(1==i.length)o.parts=[].concat(i[0].parts);else if(i.length>1){var s=r.map(i,function(e){return e.build()});o.add("("+s.join(") OR (")+")")}return o},e}();t.ExpressionBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.set=function(t,n,i){var o,r,s,a,u;i?(s=new Date,s.setTime(s.getTime()+i),a="; expires="+s.toGMTString()):a="",u=location.hostname,1===u.split(".").length?document.cookie=this.prefix+t+"="+n+a+"; path=/":(r=u.split("."),r.shift(),o="."+r.join("."),document.cookie=this.prefix+t+"="+n+a+"; path=/; domain="+o,null!=e.get(t)&&e.get(t)==n||(o="."+u,document.cookie=this.prefix+t+"="+n+a+"; path=/; domain="+o))},e.get=function(e){for(var t=this.prefix+e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},e.erase=function(t){e.set(t,"",-1)},e.prefix="coveo_",e}();t.Cookie=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.getJQuery=function(){return!!(window&&window.Coveo&&window.Coveo.$)&&window.Coveo.$},e.isInstanceOfJQuery=function(e){var t=this.getJQuery();return!!t&&e instanceof t},e.isInstanceOfJqueryEvent=function(e){var t=this.getJQuery();return!!t&&e instanceof t.Event},e}();t.JQueryUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(0),r=function(){function e(){}return e.prototype.merge=function(e){return o.extend({},this,e)},e.prototype.mergeDeep=function(e){return o.extend({},i.Utils.extendDeep(this,e))},e}();t.Options=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),r=function(e){function t(n){return e.call(this,n,t.ID,{})||this}return i(t,e),t.prototype.registerComponent=function(e,t){void 0==this.attributes[e]?this.attributes[e]=[t]:this.attributes[e].push(t)},t.ID="ComponentState",t}(o.Model);t.ComponentStateModel=r},function(e,t,n){var i=n(99);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(100)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports={}},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(29),s=n(107),a=n(4),u=n(19),l=n(12),c=n(24),p=n(11),d=n(25),h=n(5),f=function(){function e(){}return e.getPopUpCloseButton=function(e,t){var n=document.createElement("span"),i=document.createElement("span");o.$$(i).addClass("coveo-close-button"),n.appendChild(i);var r=document.createElement("span");o.$$(r).addClass("coveo-icon"),o.$$(r).addClass("coveo-sprites-quickview-close"),i.appendChild(r),o.$$(i).text(e);var s=document.createElement("span");return o.$$(s).addClass("coveo-pop-up-reminder"),o.$$(s).text(t),n.appendChild(s),n.outerHTML},e.getBasicLoadingAnimation=function(){var e=document.createElement("div");return e.className="coveo-first-loading-animation",e.innerHTML="<div class='coveo-logo'>"+l.SVGIcons.icons.coveoLogo+"</div>\n    <div class='coveo-loading-container'>\n      <div class='coveo-loading-dot'></div>\n      <div class='coveo-loading-dot'></div>\n      <div class='coveo-loading-dot'></div>\n      <div class='coveo-loading-dot'></div>\n    </div>",e},e.highlight=function(e,t,n){void 0===t&&(t="coveo-highlight"),void 0===n&&(n=!0);var i=null!==t?t.trim():null;return null!==i&&h.Assert.check(/^([^\s\-][a-z\s\-]*[^\s\-])?$/i.test(i),"Invalid class"),"<span"+(null!==i&&i.length>0?" class='"+i+"'":"")+">"+(n?u.StringUtils.htmlEncode(e):e)+"</span>"},e.highlightElement=function(e,t,n){void 0===n&&(n="coveo-highlight");var i=new RegExp(a.Utils.escapeRegexCharacter(u.StringUtils.latinize(t)),"i"),o=u.StringUtils.latinize(e).search(i);if(o>=0){var r=o+t.length;return u.StringUtils.htmlEncode(e.slice(0,o))+this.highlight(e.slice(o,r),n,!0)+u.StringUtils.htmlEncode(e.slice(r))}return e},e.getLoadingSpinner=function(){return o.$$("div",{className:"coveo-loading-spinner"}).el},e.getModalBoxHeader=function(e){var t=o.$$("div");return t.el.innerHTML="<div class='coveo-modalbox-right-header'>\n        <span class='coveo-modalbox-close-button'>\n          <span class='coveo-icon coveo-sprites-common-clear'></span>\n        </span>\n      </div>\n      <div class='coveo-modalbox-left-header'>\n        <span class='coveo-modalbox-pop-up-reminder'> "+(e||"")+"</span>\n      </div>",t},e.getQuickviewHeader=function(e,t,n){var u=this,l="";if(t.showDate){var h=a.Utils.getFieldValue(e,"date");h&&(l=r.DateUtils.dateTimeToString(new Date(h)))}var f=s.FileTypes.get(e),m=o.$$("div");m.el.innerHTML="<div class='coveo-quickview-right-header'>\n        <span class='coveo-quickview-time'>"+l+"</span>\n        <span class='coveo-quickview-close-button'>\n          <span class='coveo-icon coveo-sprites-common-clear'></span>\n        </span>\n      </div>\n      <div class='coveo-quickview-left-header'>\n        <span class='coveo-quickview-icon coveo-small "+f.icon+"'></span>\n      </div>";var y=o.$$("a",{className:"coveo-quickview-pop-up-reminder"}),g=Coveo.Salesforce?"SalesforceResultLink":"ResultLink",v=i({},e);return t.title&&(v.title=t.title),c.load(g).then(function(){return y.addClass("Coveo"+g),d.Initialization.automaticallyCreateComponentsInsideResult(y.el,v)}).catch(function(e){var n=new p.Logger(u);n.error("Failed to load module "+g+" : "+e),n.info("Fallback on displaying a non clickable header"),y.text(t.title)}).finally(function(){o.$$(m.find(".coveo-quickview-left-header")).append(y.el)}),m},e}();t.DomUtils=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.searchAlertsCreated="searchAlertsCreated",e.searchAlertsDeleted="searchAlertsDeleted",e.searchAlertsFail="searchAlertsFail",e.searchAlertsPopulateMessage="searchAlertsPopulateMessage",e}();t.SearchAlertsEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.buildingAdvancedSearch="buildingAdvancedSearch",e.executeAdvancedSearch="executeAdvancedSearch",e}();t.AdvancedSearchEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(29),r=n(3),s=n(7),a=n(5),u=n(20),l=n(414),c=function(){function e(e){void 0===e&&(e=function(){}),this.onChange=e,this.wasReset=!0,a.Assert.exists(e),this.buildContent()}return e.prototype.reset=function(){this.picker.setDate(void 0),this.wasReset=!0,this.onChange(this)},e.prototype.getElement=function(){return this.element},e.prototype.getValue=function(){return this.wasReset?"":this.picker.getDate()?o.DateUtils.dateForQuery(this.picker.getDate()):""},e.prototype.getDateValue=function(){return this.wasReset?null:this.picker.getDate()},e.prototype.setValue=function(e){a.Assert.exists(e),this.picker.setDate(e),this.wasReset=!1},e.prototype.build=function(){return this.element},e.prototype.buildContent=function(){var e=this;this.element=i.$$("input",{className:"coveo-button","aria-label":s.l("Date")}).el,this.element.readOnly=!0,this.picker=new l({field:this.element,onSelect:function(){e.wasReset=!1,e.onChange.call(e,e)},i18n:{previousMonth:s.l("PreviousMonth"),nextMonth:s.l("NextMonth"),months:u.culture().calendar.months.names,weekdays:u.culture().calendar.days.names,weekdaysShort:u.culture().calendar.days.namesAbbr}})},e.doExport=function(){r.exportGlobally({DatePicker:e})},e}();t.DatePicker=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(11),r=n(5),s=n(65),a=n(22),u=n(4),l=n(71),c=n(0),p=n(39);!function(e){e[e.OPENED=XMLHttpRequest.OPENED||1]="OPENED",e[e.HEADERS_RECEIVED=XMLHttpRequest.HEADERS_RECEIVED||2]="HEADERS_RECEIVED",e[e.DONE=XMLHttpRequest.DONE||4]="DONE"}(i||(i={}));var d=function(){function e(e){void 0===e&&(e={}),this.options=e,this.useJsonp=!1,this.logger=new o.Logger(this)}return e.convertJsonToQueryString=function(e){return r.Assert.exists(e),c.chain(e).map(function(e,t){if(null!=e){var n=c.isObject(e)?JSON.stringify(e):e.toString();return t+"="+u.Utils.safeEncodeURIComponent(n)}return null}).compact().value()},e.convertJsonToFormBody=function(e){return this.convertJsonToQueryString(e).join("&")},e.prototype.call=function(e){var t={url:e.url,queryString:e.errorsAsSuccess?e.queryString.concat(["errorsAsSuccess=1"]):e.queryString,requestData:e.requestData,requestDataType:e.requestDataType||'application/x-www-form-urlencoded; charset="UTF-8"',begun:new Date,method:e.method};t.headers=this.buildRequestHeaders(t),c.isFunction(this.options.requestModifier)&&(t=this.options.requestModifier(t)),this.logger.trace("Performing REST request",t);var n=this.parseURL(t.url),i=window.location.hostname===n.hostname||""===n.hostname,o=""!=window.location.port?window.location.port:"https:"==window.location.protocol?"443":"80",r=o==n.port,s=!(i&&r);return this.useJsonp?this.callUsingAjaxJsonP(t):this.isCORSSupported()||!s?this.callUsingXMLHttpRequest(t,e.responseType):this.isXDomainRequestSupported()?this.callUsingXDomainRequest(t):this.callUsingAjaxJsonP(t)},e.prototype.callUsingXMLHttpRequest=function(t,n){var o=this;return void 0===n&&(n="text"),new Promise(function(r,s){var u=o.getXmlHttpRequest(),l=!1;u.onreadystatechange=function(p){if(u.readyState!=i.OPENED||l){if(u.readyState==i.HEADERS_RECEIVED){var d=u.status;o.isSuccessHttpStatus(d)?u.responseType=n:u.responseType="text"}else if(u.readyState==i.DONE){var h=u.status,f=void 0;switch(n){case"json":if(f=u.response,"json"==n&&"IE"==a.DeviceUtils.getDeviceName())try{f=JSON.parse(f)}catch(e){}break;case"text":f=o.tryParseResponseText(u.responseText,u.getResponseHeader("Content-Type"));break;default:f=u.response}void 0==f&&(f=o.tryParseResponseText(u.responseText,u.getResponseHeader("Content-Type"))),o.isSuccessHttpStatus(h)?o.handleSuccessfulResponseThatMightBeAnError(t,f,r,s):o.handleError(t,u.status,f,s)}}else l=!0,u.withCredentials=!0,c.each(t.headers,function(e,t){u.setRequestHeader(t,e)}),"GET"==t.method?u.send():0===t.requestDataType.indexOf("application/json")?u.send(JSON.stringify(t.requestData)):u.send(e.convertJsonToFormBody(t.requestData))};var p=t.queryString;"GET"==t.method&&(p=p.concat(e.convertJsonToQueryString(t.requestData))),u.open(t.method,o.combineUrlAndQueryString(t.url,p))})},e.prototype.callUsingXDomainRequest=function(t){var n=this;return new Promise(function(i,o){var r=t.queryString.concat([]);n.options.accessToken&&r.push("access_token="+u.Utils.safeEncodeURIComponent(n.options.accessToken));var s=new XDomainRequest;"GET"==t.method&&(r=r.concat(e.convertJsonToQueryString(t.requestData))),s.open(t.method,n.combineUrlAndQueryString(t.url,r)),s.onload=function(){var e=n.tryParseResponseText(s.responseText,s.contentType);n.handleSuccessfulResponseThatMightBeAnError(t,e,i,o)},s.onerror=function(){var e=n.tryParseResponseText(s.responseText,s.contentType);n.handleError(t,0,e,o)},s.ontimeout=function(){return n.logger.error("Request timeout",s,t.requestData)},s.onprogress=function(){return n.logger.trace("Request progress",s,t.requestData)},c.defer(function(){"GET"==t.method?s.send():s.send(e.convertJsonToFormBody(t.requestData))})})},e.prototype.callUsingAjaxJsonP=function(t){var n=this,i=l.JQueryUtils.getJQuery();return r.Assert.check(i,"Using jsonp without having included jQuery is not supported."),new Promise(function(o,r){var s=t.queryString.concat(e.convertJsonToQueryString(t.requestData));n.options.accessToken&&s.push("access_token="+u.Utils.safeEncodeURIComponent(n.options.accessToken)),s.push("callback=?"),i.ajax({url:n.combineUrlAndQueryString(t.url,s),dataType:"jsonp",success:function(e){return n.handleSuccessfulResponseThatMightBeAnError(t,e,o,r)},timeout:e.JSONP_ERROR_TIMEOUT,error:function(){return n.handleError(t,0,void 0,r)}})})},e.prototype.parseURL=function(e){var t=document.createElement("a");return t.href=e,t},e.prototype.getXmlHttpRequest=function(){return new(this.options.xmlHttpRequest||XMLHttpRequest)},e.prototype.handleSuccessfulResponseThatMightBeAnError=function(e,t,n,i){this.isErrorResponseBody(t)?this.handleError(e,t.statusCode,t,i):this.handleSuccess(e,t,n)},e.prototype.handleSuccess=function(e,t,n){var i={duration:s.TimeSpan.fromDates(e.begun,new Date).getMilliseconds(),data:t};this.logger.trace("REST request successful",t,e),n(i)},e.prototype.handleError=function(e,t,n,i){var o={statusCode:t,data:n};this.logger.error("REST request failed",t,n,e),i(o)},e.prototype.combineUrlAndQueryString=function(e,t){return p.UrlUtils.normalizeAsString({paths:[e],queryAsString:t})},e.prototype.isXDomainRequestSupported=function(){return"XDomainRequest"in window},e.prototype.isCORSSupported=function(){return"withCredentials"in this.getXmlHttpRequest()},e.prototype.isSuccessHttpStatus=function(e){return e>=200&&e<300||304===e},e.prototype.tryParseResponseText=function(e,t){if(null==t||-1==t.indexOf("application/json"))return e;if(u.Utils.isNonEmptyString(e))try{return JSON.parse(e)}catch(e){return}},e.prototype.isErrorResponseBody=function(e){return!(!e||!e.statusCode)&&!this.isSuccessHttpStatus(e.statusCode)},e.prototype.buildRequestHeaders=function(e){var t={};return this.options.accessToken?t.Authorization="Bearer "+this.options.accessToken:this.options.username&&this.options.password&&(t.Authorization="Basic "+btoa(this.options.username+":"+this.options.password)),"GET"==e.method?t:(0===e.requestDataType.indexOf("application/json")?t["Content-Type"]='application/json; charset="UTF-8"':t["Content-Type"]='application/x-www-form-urlencoded; charset="UTF-8"',t)},e.JSONP_ERROR_TIMEOUT=1e4,e}();t.EndpointCaller=d},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{u(i.next(e))}catch(e){r(e)}}function a(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),n(478),n(479),n(480);var s=n(0),a=n(10),u=n(124),l=n(31),c=n(3),p=n(5),d=n(30),h=n(16),f=n(13),m=n(22),y=n(1),g=n(79),v=n(4),b=n(9),C=n(6),S=n(8),w=n(2),x=n(166),_=n(58),O=n(481),E=n(431),A=n(430),T=n(111),R=n(427),I=n(63),F=n(85),M=n(482),D=n(483),P=n(198),$=n(428),N=n(121),k=n(429);E.CoreHelpers.exportAllHelpersGlobally(window.Coveo);var V=function(e){function t(n,i,o,r){void 0===r&&(r=t.ID);var s=e.call(this,n,r,o)||this;return s.element=n,s.options=i,s.bindings=o,s.currentlyDisplayedResults=[],s.reachedTheEndOfResults=!1,s.disableLayoutChange=!1,s.successiveScrollCount=0,s.options=S.ComponentOptions.initComponentOptions(n,t,i),p.Assert.exists(n),p.Assert.exists(s.options),p.Assert.exists(s.options.resultTemplate),p.Assert.exists(s.options.infiniteScrollContainer),s.showOrHideElementsDependingOnState(!1,!1),s.bind.onRootElement(a.QueryEvents.newQuery,function(e){return s.handleNewQuery()}),s.bind.onRootElement(a.QueryEvents.buildingQuery,function(e){return s.handleBuildingQuery(e)}),s.bind.onRootElement(a.QueryEvents.querySuccess,function(e){return s.handleQuerySuccess(e)}),s.bind.onRootElement(a.QueryEvents.duringQuery,function(e){return s.handleDuringQuery()}),s.bind.onRootElement(a.QueryEvents.queryError,function(e){return s.handleQueryError()}),y.$$(s.root).on(l.ResultListEvents.changeLayout,function(e,t){return s.handleChangeLayout(t)}),s.options.enableInfiniteScroll&&(s.handlePageChanged(),s.bind.on(s.options.infiniteScrollContainer,"scroll",function(e){s.successiveScrollCount=0,s.handleScrollOfResultList()})),s.bind.onQueryState(h.MODEL_EVENTS.CHANGE_ONE,f.QUERY_STATE_ATTRIBUTES.FIRST,function(){return s.handlePageChanged()}),s.resultContainer=s.initResultContainer(),p.Assert.exists(s.options.resultsContainer),s.initWaitAnimationContainer(),p.Assert.exists(s.options.waitAnimationContainer),s.setupTemplatesVersusLayouts(),y.$$(s.root).on(u.ResultLayoutEvents.populateResultLayout,function(e,t){return t.layouts.push(s.options.layout)}),s.setupRenderer(),s}return i(t,e),t.getDefaultTemplate=function(e){var n=t.loadTemplatesFromCache();if(null!=n)return n;var i=C.Component.get(e);return Coveo.Recommendation&&i.searchInterface instanceof Coveo.Recommendation?new A.DefaultRecommendationTemplate:new T.DefaultResultTemplate},t.loadTemplatesFromCache=function(){var e=I.TemplateCache.getResultListTemplateNames();return e.length>0?new F.TemplateList(s.compact(s.map(e,function(e){return I.TemplateCache.getTemplate(e)}))):null},t.prototype.getAutoSelectedFieldsToInclude=function(){return s.chain(this.options.resultTemplate.getFields()).concat(this.getMinimalFieldsToInclude()).compact().unique().value()},t.prototype.setupTemplatesVersusLayouts=function(){var e=this,t="coveo-"+this.options.layout+"-layout-container";this.resultContainer.addClass(t),"table"===this.options.layout&&(this.options.resultTemplate=new R.TableTemplate(this.options.resultTemplate.templates||[])),this.options.resultTemplate instanceof F.TemplateList?s.each(this.options.resultTemplate.templates,function(t){t.layout||(t.layout=e.options.layout)}):this.options.resultTemplate instanceof T.DefaultResultTemplate&&"list"==this.options.layout&&O.ResponsiveDefaultResultTemplate.init(this.root,this,{})},t.prototype.renderResults=function(e,t){var n=this;return void 0===t&&(t=!1),t||this.resultContainer.empty(),this.renderer.renderResults(e,t,this.triggerNewResultDisplayed.bind(this)).then(function(){return n.triggerNewResultsDisplayed()})},t.prototype.buildResults=function(e){var t=this.options.layout;return this.templateToHtml.buildResults(e,t,this.currentlyDisplayedResults)},t.prototype.buildResult=function(e){var t=this.options.layout;return this.templateToHtml.buildResult(e,t,this.currentlyDisplayedResults)},t.prototype.displayMoreResults=function(e){var n=this;return p.Assert.isLargerOrEqualsThan(1,e),this.isCurrentlyFetchingMoreResults()?void this.logger.warn("Ignoring request to display more results since we're already doing so"):this.hasPotentiallyMoreResultsToDisplay()?(this.options.enableInfiniteScrollWaitingAnimation&&this.showWaitingAnimationForInfiniteScrolling(),this.fetchingMoreResults=this.queryController.fetchMore(e),this.fetchingMoreResults.then(function(t){p.Assert.exists(t),n.usageAnalytics.logCustomEvent(b.analyticsActionCauseList.pagerScrolling,{},n.element);var i=t.results;n.reachedTheEndOfResults=e>t.results.length,n.buildResults(t).then(function(e){return o(n,void 0,void 0,function(){var t=this;return r(this,function(n){return this.renderResults(e,!0),s.each(i,function(e){t.currentlyDisplayedResults.push(e)}),this.triggerNewResultsDisplayed(),[2]})})})}),this.fetchingMoreResults.finally(function(){n.hideWaitingAnimationForInfiniteScrolling(),n.fetchingMoreResults=void 0,d.Defer.defer(function(){n.successiveScrollCount++,n.successiveScrollCount<=t.MAX_AMOUNT_OF_SUCESSIVE_REQUESTS?n.handleScrollOfResultList():(n.logger.info("Result list has triggered 5 consecutive queries to try and fill up the scrolling container, but it is still unable to do so"),n.logger.info("Try explicitly setting the 'data-infinite-scroll-container-selector' option on the result list. See : https://coveo.github.io/search-ui/components/resultlist.html#options.infinitescrollcontainer"))})}),this.fetchingMoreResults):void this.logger.warn("Ignoring request to display more results since we know there aren't more to display")},Object.defineProperty(t.prototype,"templateToHtml",{get:function(){var e={resultTemplate:this.options.resultTemplate,searchInterface:this.searchInterface,queryStateModel:this.queryStateModel};return new k.TemplateToHtml(e)},enumerable:!0,configurable:!0}),t.prototype.getDisplayedResults=function(){return this.currentlyDisplayedResults},t.prototype.getDisplayedResultsElements=function(){return this.resultContainer.getResultElements()},t.prototype.enable=function(){var t=this;e.prototype.enable.call(this),this.disableLayoutChange=!1,s.each(this.resultLayoutSelectors,function(e){e.enableLayouts([t.options.layout])}),y.$$(this.element).removeClass("coveo-hidden")},t.prototype.disable=function(){var t=this;e.prototype.disable.call(this);var n=s.map(this.otherResultLists,function(e){return e.options.layout});s.contains(n,this.options.layout)||this.disableLayoutChange||s.each(this.resultLayoutSelectors,function(e){e.disableLayouts([t.options.layout])}),this.disableLayoutChange=!1,y.$$(this.element).addClass("coveo-hidden")},t.prototype.autoCreateComponentsInsideResult=function(e,t){return this.templateToHtml.autoCreateComponentsInsideResult(e,t)},t.prototype.triggerNewResultDisplayed=function(e,t){var n={result:e,item:t};y.$$(this.element).trigger(l.ResultListEvents.newResultDisplayed,n)},t.prototype.triggerNewResultsDisplayed=function(){y.$$(this.element).trigger(l.ResultListEvents.newResultsDisplayed,{})},t.prototype.handleDuringQuery=function(){this.logger.trace("Emptying the result container"),this.cancelFetchingMoreResultsIfNeeded(),this.showWaitingAnimation(),this.showOrHideElementsDependingOnState(!1,!1)},t.prototype.handleQueryError=function(){this.hideWaitingAnimation(),this.resultContainer.empty(),this.currentlyDisplayedResults=[],this.reachedTheEndOfResults=!0},t.prototype.handleQuerySuccess=function(e){var n=this;p.Assert.exists(e),p.Assert.exists(e.results);var i=e.results;this.logger.trace("Received query results from new query",i),this.hideWaitingAnimation(),t.resultCurrentlyBeingRendered=void 0,this.reachedTheEndOfResults=e.query.numberOfResults>e.results.results.length,this.currentlyDisplayedResults=[],this.buildResults(e.results).then(function(t){return o(n,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.renderResults(t)];case 1:return n.sent(),this.showOrHideElementsDependingOnState(!0,0!=this.currentlyDisplayedResults.length),m.DeviceUtils.isMobileDevice()&&void 0!=this.options.mobileScrollContainer&&(this.options.mobileScrollContainer.scrollTop=0),this.options.enableInfiniteScroll&&i.results.length==e.queryBuilder.numberOfResults&&(this.scrollToTopIfEnabled(),this.handleScrollOfResultList()),[2]}})})})},t.prototype.handleScrollOfResultList=function(){!this.isCurrentlyFetchingMoreResults()&&this.options.enableInfiniteScroll&&this.isScrollingOfResultListAlmostAtTheBottom()&&this.hasPotentiallyMoreResultsToDisplay()&&this.displayMoreResults(this.options.infiniteScrollPageSize)},t.prototype.handlePageChanged=function(){var e=this;this.bind.onRootElement(a.QueryEvents.deferredQuerySuccess,function(){setTimeout(function(){e.scrollToTopIfEnabled()},0)})},t.prototype.scrollToTopIfEnabled=function(){this.options.enableScrollToTop&&N.ResultListUtils.scrollToTop(this.root)},t.prototype.handleNewQuery=function(){y.$$(this.element).removeClass("coveo-hidden"),t.resultCurrentlyBeingRendered=void 0},Object.defineProperty(t.prototype,"otherResultLists",{get:function(){var e=this.searchInterface.getComponents(t.ID);return s.without(e,this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resultLayoutSelectors",{get:function(){return this.searchInterface.getComponents("ResultLayoutSelector")},enumerable:!0,configurable:!0}),t.prototype.handleBuildingQuery=function(e){if(null!=this.options.fieldsToInclude&&e.queryBuilder.addFieldsToInclude(s.map(this.options.fieldsToInclude,function(e){return e.substr(1)})),this.options.autoSelectFieldsToInclude){var t=s.flatten(s.map(this.otherResultLists,function(e){return e.getAutoSelectedFieldsToInclude()}));e.queryBuilder.addRequiredFields(s.unique(t.concat(this.getAutoSelectedFieldsToInclude()))),e.queryBuilder.includeRequiredFields=!0}},t.prototype.handleChangeLayout=function(e){var t=this;e.layout===this.options.layout?(this.disableLayoutChange=!1,this.enable(),this.options.resultTemplate.layout=this.options.layout,e.results&&(this.resultContainer.isEmpty()&&new x.InitializationPlaceholder(this.root).withVisibleRootElement().withPlaceholderForResultList(),d.Defer.defer(function(){return o(t,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return[4,this.buildResults(e.results)];case 1:return t=n.sent(),this.renderResults(t),this.showOrHideElementsDependingOnState(!0,0!==this.currentlyDisplayedResults.length),[2]}})})}))):(this.disableLayoutChange=!0,this.disable(),this.resultContainer.empty())},t.prototype.isCurrentlyFetchingMoreResults=function(){return v.Utils.exists(this.fetchingMoreResults)},t.prototype.getMinimalFieldsToInclude=function(){return["author","language","urihash","objecttype","collection","source","language","permanentid"]},t.prototype.isScrollingOfResultListAlmostAtTheBottom=function(){var e;try{e=this.options.infiniteScrollContainer instanceof Window}catch(t){e=!1}return e?this.isScrollAtBottomForWindowElement():this.isScrollAtBottomForHtmlElement()},t.prototype.isScrollAtBottomForWindowElement=function(){var e=new y.Win(window),t=e.height(),n=e.scrollY();return new y.Doc(document).height()-(t+n)<t/2},t.prototype.isScrollAtBottomForHtmlElement=function(){var e=this.options.infiniteScrollContainer,t=e.clientHeight;return e.scrollHeight-(e.scrollTop+t)<t/2},t.prototype.hasPotentiallyMoreResultsToDisplay=function(){return this.currentlyDisplayedResults.length>0&&!this.reachedTheEndOfResults},t.prototype.cancelFetchingMoreResultsIfNeeded=function(){this.isCurrentlyFetchingMoreResults()&&(this.logger.trace("Cancelling fetching more results"),Promise.reject(this.fetchingMoreResults),this.fetchingMoreResults=void 0)},t.prototype.showOrHideElementsDependingOnState=function(e,t){var n=y.$$(this.element).findAll(".coveo-show-if-query"),i=y.$$(this.element).findAll(".coveo-show-if-no-query"),o=y.$$(this.element).findAll(".coveo-show-if-results"),r=y.$$(this.element).findAll(".coveo-show-if-no-results");s.each(n,function(t){y.$$(t).toggle(e)}),s.each(i,function(t){y.$$(t).toggle(!e)}),s.each(o,function(n){y.$$(n).toggle(e&&t)}),s.each(r,function(n){y.$$(n).toggle(e&&!t)})},Object.defineProperty(t.prototype,"waitAnimation",{get:function(){return this.options.waitAnimation.toLowerCase()},enumerable:!0,configurable:!0}),t.prototype.showWaitingAnimation=function(){switch(this.waitAnimation){case"fade":y.$$(this.options.waitAnimationContainer).addClass("coveo-fade-out");break;case"spinner":this.resultContainer.hideChildren(),void 0==y.$$(this.options.waitAnimationContainer).find(".coveo-wait-animation")&&this.options.waitAnimationContainer.appendChild(g.DomUtils.getBasicLoadingAnimation())}},t.prototype.hideWaitingAnimation=function(){switch(this.waitAnimation){case"fade":y.$$(this.options.waitAnimationContainer).removeClass("coveo-fade-out");break;case"spinner":var e=y.$$(this.options.waitAnimationContainer).find(".coveo-loading-spinner");e&&y.$$(e).detach()}},t.prototype.showWaitingAnimationForInfiniteScrolling=function(){var e=g.DomUtils.getLoadingSpinner();if("card"==this.options.layout&&this.options.enableInfiniteScroll){var t=y.$$(this.options.waitAnimationContainer).findAll(".coveo-loading-spinner-container");s.each(t,function(e){return y.$$(e).remove()});var n=y.$$("div",{className:"coveo-loading-spinner-container"});n.append(e),this.options.waitAnimationContainer.appendChild(n.el)}else this.options.waitAnimationContainer.appendChild(g.DomUtils.getLoadingSpinner())},t.prototype.hideWaitingAnimationForInfiniteScrolling=function(){var e=y.$$(this.options.waitAnimationContainer).findAll(".coveo-loading-spinner"),t=y.$$(this.options.waitAnimationContainer).findAll(".coveo-loading-spinner-container");s.each(e,function(e){return y.$$(e).remove()}),s.each(t,function(e){return y.$$(e).remove()})},t.prototype.initResultContainer=function(){if(!this.options.resultsContainer){var e="table"===this.options.layout?"table":"div";this.options.resultsContainer=y.$$(e,{className:"coveo-result-list-container"}).el,this.initResultContainerAddToDom()}return new M.ResultContainer(this.options.resultsContainer,this.searchInterface)},t.prototype.initResultContainerAddToDom=function(){this.element.appendChild(this.options.resultsContainer)},t.prototype.initWaitAnimationContainer=function(){this.options.waitAnimationContainer||(this.options.waitAnimationContainer=this.resultContainer.el)},t.prototype.setupRenderer=function(){var e={options:this.searchInterface.options.originalOptionsObject,bindings:this.bindings},t=function(t){return w.Initialization.automaticallyCreateComponentsInside(t,e)};switch(this.options.layout){case"card":this.renderer=new D.ResultListCardRenderer(this.options,t);break;case"table":this.renderer=new $.ResultListTableRenderer(this.options,t);break;case"list":default:this.renderer=new P.ResultListRenderer(this.options,t)}},t.ID="ResultList",t.doExport=function(){c.exportGlobally({ResultList:t})},t.options={resultsContainer:S.ComponentOptions.buildChildHtmlElementOption(),resultTemplate:_.TemplateComponentOptions.buildTemplateOption({defaultFunction:t.getDefaultTemplate}),waitAnimation:S.ComponentOptions.buildStringOption({defaultValue:"none"}),waitAnimationContainer:S.ComponentOptions.buildChildHtmlElementOption({postProcessing:function(e,t){return e||t.resultsContainer}}),enableInfiniteScroll:S.ComponentOptions.buildBooleanOption({defaultValue:!1}),infiniteScrollPageSize:S.ComponentOptions.buildNumberOption({defaultValue:10,min:1,depend:"enableInfiniteScroll"}),infiniteScrollContainer:S.ComponentOptions.buildChildHtmlElementOption({depend:"enableInfiniteScroll",defaultFunction:function(e){return S.ComponentOptions.findParentScrolling(e)}}),enableInfiniteScrollWaitingAnimation:S.ComponentOptions.buildBooleanOption({depend:"enableInfiniteScroll",defaultValue:!0}),mobileScrollContainer:S.ComponentOptions.buildSelectorOption({defaultFunction:function(){return document.querySelector(".coveo-results-column")}}),autoSelectFieldsToInclude:S.ComponentOptions.buildBooleanOption({defaultValue:!1}),fieldsToInclude:S.ComponentOptions.buildFieldsOption({includeInResults:!0}),layout:S.ComponentOptions.buildStringOption({defaultValue:"list",required:!0}),enableScrollToTop:S.ComponentOptions.buildBooleanOption({defaultValue:!0})},t.resultCurrentlyBeingRendered=null,t.MAX_AMOUNT_OF_SUCESSIVE_REQUESTS=5,t}(C.Component);t.ResultList=V,w.Initialization.registerAutoCreateComponent(V)},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),r=n(111),s=n(5),a=n(0),u=function(e){function t(t){var n=e.call(this)||this;return n.templates=t,s.Assert.exists(t),n}return i(t,e),t.prototype.instantiateToString=function(e,t){void 0===t&&(t={});for(var n=(new o.DefaultInstantiateTemplateOptions).merge(t),i=a.reject(this.templates,function(e){return null!=e.role}),r=0;r<i.length;r++){var s=i[r].instantiateToString(e,n);if(null!=s)return s}return this.getFallbackTemplate().instantiateToString(e,t)},t.prototype.instantiateToElement=function(e,t){void 0===t&&(t={});for(var n=(new o.DefaultInstantiateTemplateOptions).merge(t),i=a.reject(this.templates,function(e){return null!=e.role}),r=0;r<i.length;r++){var s=i[r].instantiateToElement(e,n);if(null!=s)return s}return this.getFallbackTemplate().instantiateToElement(e,n)},t.prototype.getFields=function(){return a.reduce(this.templates,function(e,t){return e.concat(t.getFields())},[])},t.prototype.getType=function(){return"TemplateList"},t.prototype.getFallbackTemplate=function(){return new r.DefaultResultTemplate},t}(o.Template);t.TemplateList=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8);t.ResponsiveFacetOptions={enableResponsiveMode:i.ComponentOptions.buildBooleanOption({defaultValue:!0,section:"ResponsiveOptions"}),responsiveBreakpoint:i.ComponentOptions.buildNumberOption({deprecated:"This option is exposed for legacy reasons. It is not recommended to use this option. Instead, use `SearchInterface.options.responsiveMediumBreakpoint` options exposed on the `SearchInterface`."}),dropdownHeaderLabel:i.ComponentOptions.buildLocalizedStringOption({section:"ResponsiveOptions"})}},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{u(i.next(e))}catch(e){r(e)}}function a(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),u=n(7),l=n(8),c=n(1),p=n(2),d=n(3),h=n(512),f=n(513),m=n(515),y=n(14),g=n(12),v=n(13);n(516);var b=n(16),C=n(4),S=n(0),w=n(5),x=n(10),_=n(517),O=n(37),E=n(519),A=n(9),T=n(520),R=n(43),I=n(203),F=n(86),M=n(521),D=n(17),P=n(443),$=n(121),N=n(522),k=function(e){function t(n,i,o){var r=e.call(this,n,"CategoryFacet",o)||this;return r.element=n,r.options=i,r.listenToQueryStateChange=!0,r.moreValuesToFetch=!0,r.showingWaitAnimation=!1,r.numberOfChildValuesCurrentlyDisplayed=0,r.options=l.ComponentOptions.initComponentOptions(n,t,i),r.categoryFacetQueryController=new m.CategoryFacetQueryController(r),r.categoryFacetTemplates=new h.CategoryFacetTemplates,r.categoryValueRoot=new f.CategoryValueRoot(c.$$(r.element),r.categoryFacetTemplates,r),r.categoryValueRoot.path=r.activePath,r.currentPage=0,r.numberOfValues=r.options.numberOfValues,r.categoryFacetValuesTree=new N.CategoryFacetValuesTree,r.tryToInitFacetSearch(),r.options.debug&&new T.CategoryFacetDebug(r),I.ResponsiveFacets.init(r.root,r,r.options),r.initDependsOnManager(),r.bind.onRootElement(x.QueryEvents.buildingQuery,function(e){return r.handleBuildingQuery(e)}),r.bind.onRootElement(x.QueryEvents.querySuccess,function(e){return r.handleQuerySuccess(e)}),r.bind.onRootElement(x.QueryEvents.duringQuery,function(){return r.addFading()}),r.bind.onRootElement(x.QueryEvents.deferredQuerySuccess,function(){return r.handleDeferredQuerySuccess()}),r.bind.onRootElement(O.BreadcrumbEvents.populateBreadcrumb,function(e){return r.handlePopulateBreadCrumb(e)}),r.bind.onRootElement(O.BreadcrumbEvents.clearBreadcrumb,function(){return r.handleClearBreadcrumb()}),r.buildFacetHeader(),r.initQueryStateEvents(),r}return i(t,e),t.prototype.isCurrentlyDisplayed=function(){return c.$$(this.element).isVisible()},Object.defineProperty(t.prototype,"activePath",{get:function(){return this.queryStateModel.get(this.queryStateAttribute)||this.options.basePath},set:function(e){this.listenToQueryStateChange=!1,this.queryStateModel.set(this.queryStateAttribute,e),this.listenToQueryStateChange=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryStateAttribute",{get:function(){return v.QueryStateModel.getFacetId(this.options.id)},enumerable:!0,configurable:!0}),t.prototype.handleBuildingQuery=function(e){this.positionInQuery=this.categoryFacetQueryController.putCategoryFacetInQueryBuilder(e.queryBuilder,this.activePath,this.numberOfValues+1)},t.prototype.scrollToTop=function(){$.ResultListUtils.scrollToTop(this.root)},t.prototype.tryToInitFacetSearch=function(){if(!this.isFacetSearchAvailable)return this.logDisabledFacetSearchWarning();this.categoryFacetSearch=new _.CategoryFacetSearch(this)},t.prototype.logDisabledFacetSearchWarning=function(){if(!this.isEnableFacetSearchFalsy){var e=this.getOptionAttributeName("valueCaption"),t=this.getOptionAttributeName("enableFacetSearch"),n=this.options.field;this.logger.warn("The search box is disabled on the "+n+" CategoryFacet. To hide this warning,\n    either remove the "+e+" option or set the "+t+' option to "false".')}},t.prototype.getOptionAttributeName=function(e){return l.ComponentOptions.attrNameFromName(e)},Object.defineProperty(t.prototype,"isFacetSearchAvailable",{get:function(){return!this.areValueCaptionsSpecified&&!this.isEnableFacetSearchFalsy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areValueCaptionsSpecified",{get:function(){var e=this.options.valueCaption;return 0!==S.keys(e).length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnableFacetSearchFalsy",{get:function(){return!this.options.enableFacetSearch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCategoryEmpty",{get:function(){return!this.categoryValueRoot.path.length&&!this.categoryValueRoot.children.length},enumerable:!0,configurable:!0}),t.prototype.updateAppearance=function(){if(this.disabled||this.isCategoryEmpty)return this.hide();this.show(),this.dependsOnManager.updateVisibilityBasedOnDependsOn()},t.prototype.handleQuerySuccess=function(e){if(C.Utils.isNullOrUndefined(e.results.categoryFacets))return this.notImplementedError();if(!C.Utils.isNullOrUndefined(e.results.categoryFacets[this.positionInQuery])){var t=e.query.categoryFacets[this.positionInQuery].maximumNumberOfValues,n=e.results.categoryFacets[this.positionInQuery];if(this.moreValuesToFetch=t==n.values.length,this.clear(),n.notImplemented)return this.notImplementedError();if(n.values.length||n.parentValues.length){if(this.renderValues(n,t),this.isFacetSearchAvailable){var i=this.categoryFacetSearch.build();c.$$(i).insertAfter(this.categoryValueRoot.listRoot.el)}this.moreLessContainer=c.$$("div",{className:"coveo-category-facet-more-less-container"}),c.$$(this.element).append(this.moreLessContainer.el),this.options.enableMoreLess&&this.renderMoreLess(),this.isPristine()||c.$$(this.element).addClass("coveo-category-facet-non-empty-path")}}},t.prototype.changeActivePath=function(e){this.activePath=e},t.prototype.executeQuery=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:this.showWaitingAnimation(),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,this.queryController.executeQuery()];case 2:return e.sent(),[3,4];case 3:return this.hideWaitingAnimation(),[7];case 4:return[2]}})})},t.prototype.reload=function(){this.changeActivePath(this.activePath),this.logAnalyticsEvent(A.analyticsActionCauseList.categoryFacetReload),this.executeQuery()},t.prototype.getVisibleParentValues=function(){return this.getVisibleParentCategoryValues().map(function(e){return e.getDescriptor()})},t.prototype.getVisibleParentCategoryValues=function(){if(0==this.categoryValueRoot.children.length||0==this.categoryValueRoot.children[0].children.length)return[];for(var e=this.categoryValueRoot.children[0],t=[e];0!=e.children.length&&!C.Utils.arrayEqual(e.path,this.activePath);)e=e.children[0],t.push(e);return t},t.prototype.showMore=function(){this.moreValuesToFetch&&(this.currentPage++,this.numberOfValues=this.options.numberOfValues+this.currentPage*this.options.pageSize,this.reload(),this.logAnalyticsFacetShowMoreLess(A.analyticsActionCauseList.facetShowMore))},t.prototype.showLess=function(){this.currentPage>0&&(this.currentPage--,this.numberOfValues=this.options.numberOfValues+this.currentPage*this.options.pageSize,this.reload(),this.logAnalyticsFacetShowMoreLess(A.analyticsActionCauseList.facetShowLess))},t.prototype.getAvailableValues=function(){return this.activeCategoryValue?this.activeCategoryValue.children.map(function(e){return{value:e.categoryValueDescriptor.value,count:e.categoryValueDescriptor.count,path:e.path}}):[]},t.prototype.selectValue=function(e){w.Assert.check(S.contains(S.pluck(this.getAvailableValues(),"value"),e),"Failed while trying to select a value that is not available.");var t=this.activePath.slice(0);t.push(e),this.changeActivePath(t),this.logAnalyticsEvent(A.analyticsActionCauseList.categoryFacetSelect),this.executeQuery()},t.prototype.deselectCurrentValue=function(){if(0!=this.activePath.length){var e=this.activePath.slice(0);e.pop(),this.changeActivePath(e),this.logAnalyticsEvent(A.analyticsActionCauseList.categoryFacetSelect),this.executeQuery()}},t.prototype.resetPath=function(){this.changeActivePath(this.options.basePath)},t.prototype.reset=function(){this.resetPath(),this.logAnalyticsEvent(A.analyticsActionCauseList.categoryFacetClear),this.executeQuery()},t.prototype.hide=function(){c.$$(this.element).addClass("coveo-hidden")},t.prototype.show=function(){c.$$(this.element).removeClass("coveo-hidden")},t.prototype.enable=function(){e.prototype.enable.call(this),this.updateAppearance()},t.prototype.disable=function(){e.prototype.disable.call(this),this.updateAppearance()},t.prototype.debugValue=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(i){switch(i.label){case 0:return t=new R.QueryBuilder,this.categoryFacetQueryController.addDebugGroupBy(t,e),[4,this.queryController.getEndpoint().search(t.build())];case 1:return n=i.sent(),T.CategoryFacetDebug.analyzeResults(n.groupByResults[0],this.options.delimitingCharacter),[2]}})})},t.prototype.getCaption=function(e){var t=this.options.valueCaption,n=t[e];return n||e},t.prototype.showWaitingAnimation=function(){this.ensureDom(),this.showingWaitAnimation||(c.$$(this.headerElement).find(".coveo-category-facet-header-wait-animation").style.visibility="visible",this.showingWaitAnimation=!0)},t.prototype.hideWaitingAnimation=function(){this.ensureDom(),this.showingWaitAnimation&&(c.$$(this.headerElement).find(".coveo-category-facet-header-wait-animation").style.visibility="hidden",this.showingWaitAnimation=!1)},t.prototype.logAnalyticsEvent=function(e,t){void 0===t&&(t=this.activePath),this.usageAnalytics.logSearchEvent(e,{categoryFacetId:this.options.id,categoryFacetField:this.options.field.toString(),categoryFacetPath:t,categoryFacetTitle:this.options.title})},t.prototype.getEndpoint=function(){return this.queryController.getEndpoint()},Object.defineProperty(t.prototype,"children",{get:function(){return this.categoryValueRoot.children},enumerable:!0,configurable:!0}),t.prototype.renderValues=function(e,n){this.categoryFacetValuesTree.storeNewValues(e);var i,o=this.sortParentValues(e.parentValues),r=this.categoryValueRoot,s=!1,a=Math.floor(t.NUMBER_OF_VALUES_TO_KEEP_AFTER_TRUNCATING/2),u=Math.ceil(t.NUMBER_OF_VALUES_TO_KEEP_AFTER_TRUNCATING/2);o=this.hideBasePathInParentValues(o),this.shouldTruncate(o)&&(i=this.findPathOfLastTruncatedParentValue(o,u),s=!0,o=S.first(o,a).concat(S.last(o,u))),this.isPristine()||this.addAllCategoriesButton();for(var l=0;l<o.length;l++){r=r.renderAsParent(o[l]);l==o.length-1||r.makeSelectable().showCollapseArrow(),s&&(l==a-1&&this.addEllipsis(),l==a&&(r.path=i.concat([o[l].value])))}var c=this.moreValuesToFetch?e.values.slice(0,n-1):e.values.slice(0,n);this.numberOfChildValuesCurrentlyDisplayed=c.length,r.renderChildren(c),this.activeCategoryValue=r},t.prototype.hideBasePathInParentValues=function(e){return C.Utils.arrayEqual(S.first(this.activePath,this.options.basePath.length),this.options.basePath)&&(e=S.last(e,e.length-this.options.basePath.length)),e},t.prototype.shouldTruncate=function(e){return e.length>t.MAXIMUM_NUMBER_OF_VALUES_BEFORE_TRUNCATING},t.prototype.addEllipsis=function(){this.categoryValueRoot.listRoot.append(this.categoryFacetTemplates.buildEllipsis().el)},t.prototype.findPathOfLastTruncatedParentValue=function(e,t){var n=e.length-t-1;return S.reduce(S.first(e,n+1),function(e,t){return e.concat([t.value])},[])},t.prototype.addAllCategoriesButton=function(){var e=this,t=this.categoryFacetTemplates.buildAllCategoriesButton();t.on("click",function(){e.reset(),e.scrollToTop()}),this.categoryValueRoot.listRoot.append(t.el)},t.prototype.isPristine=function(){return C.Utils.arrayEqual(this.activePath,this.options.basePath)},t.prototype.buildFacetHeader=function(){var e=new M.CategoryFacetHeader({categoryFacet:this,title:this.options.title});this.headerElement=e.build(),c.$$(this.element).prepend(this.headerElement)},t.prototype.handleQueryStateChanged=function(e){if(this.listenToQueryStateChange){var t=e.attributes[this.queryStateAttribute];!C.Utils.isNullOrUndefined(t)&&S.isArray(t)&&0!=t.length&&(this.activePath=t)}},t.prototype.initQueryStateEvents=function(){var e=this;this.queryStateModel.registerNewAttribute(this.queryStateAttribute,this.options.basePath),this.bind.onQueryState(b.MODEL_EVENTS.CHANGE,void 0,function(t){return e.handleQueryStateChanged(t)}),this.dependsOnManager.listenToParentIfDependentFacet()},t.prototype.initDependsOnManager=function(){var e=this,t={reset:function(){return e.dependsOnReset()},toggleDependentFacet:function(t){return e.toggleDependentFacet(t)},element:this.element,root:this.root,dependsOn:this.options.dependsOn,id:this.options.id,queryStateModel:this.queryStateModel,bind:this.bind};this.dependsOnManager=new P.DependsOnManager(t)},t.prototype.dependsOnReset=function(){this.changeActivePath(this.options.basePath),this.clear()},t.prototype.toggleDependentFacet=function(e){this.activePath.length?e.enable():e.disable()},t.prototype.addFading=function(){c.$$(this.element).addClass("coveo-category-facet-values-fade")},t.prototype.handleDeferredQuerySuccess=function(){this.updateAppearance(),this.removeFading()},t.prototype.removeFading=function(){c.$$(this.element).removeClass("coveo-category-facet-values-fade")},t.prototype.notImplementedError=function(){this.logger.error("Category Facets are not supported by your current search endpoint. Disabling this component."),this.disable()},t.prototype.sortParentValues=function(e){if(this.activePath.length!=e.length)return this.logger.warn("Inconsistent CategoryFacet results: Number of parent values results does not equal length of active path"),e;for(var t=[],n=this,i=0,o=this.activePath;i<o.length;i++){var r=o[i],s=function(i){var o=S.find(e,function(e){return e.value.toLowerCase()==i.toLowerCase()});if(!o)return n.logger.warn("Inconsistent CategoryFacet results: path not consistent with parent values results"),{value:e};t.push(o)}(r);if("object"==typeof s)return s.value}return t},t.prototype.renderMoreLess=function(){this.numberOfChildValuesCurrentlyDisplayed>this.options.numberOfValues&&this.moreLessContainer.append(this.buildLessButton()),this.moreValuesToFetch&&this.moreLessContainer.append(this.buildMoreButton())},t.prototype.clear=function(){this.categoryValueRoot.clear(),this.isFacetSearchAvailable&&this.categoryFacetSearch.clear(),this.moreLessContainer&&this.moreLessContainer.detach(),c.$$(this.element).removeClass("coveo-category-facet-non-empty-path")},t.prototype.buildMoreButton=function(){var e=this,t=c.$$("span",{className:"coveo-facet-more-icon"},g.SVGIcons.icons.arrowDown).el;y.SVGDom.addClassToSVGInContainer(t,"coveo-facet-more-icon-svg");var n=c.$$("div",{className:"coveo-category-facet-more"},t);return(new D.AccessibleButton).withElement(n).withSelectAction(function(){return e.showMore()}).withLabel(u.l("ShowMoreFacetResults",this.options.title)).build(),n.el},t.prototype.buildLessButton=function(){var e=this,t=c.$$("span",{className:"coveo-facet-less-icon"},g.SVGIcons.icons.arrowUp).el;y.SVGDom.addClassToSVGInContainer(t,"coveo-facet-less-icon-svg");var n=c.$$("div",{className:"coveo-category-facet-less"},t);return(new D.AccessibleButton).withElement(n).withSelectAction(function(){return e.showLess()}).withLabel(u.l("ShowLessFacetResults",this.options.title)).build(),n.el},t.prototype.handlePopulateBreadCrumb=function(e){var t=this;if(!this.isPristine()){var n=this.categoryFacetValuesTree.getValueForLastPartInPath(this.activePath),i={path:this.activePath,count:n.numberOfResults,value:n.value},o=function(){t.logAnalyticsEvent(A.analyticsActionCauseList.breadcrumbFacet),t.reset()},r=new E.CategoryFacetBreadcrumb(this,o,i);e.breadcrumbs.push({element:r.build()})}},t.prototype.handleClearBreadcrumb=function(){this.changeActivePath(this.options.basePath)},t.prototype.logAnalyticsFacetShowMoreLess=function(e){this.usageAnalytics.logCustomEvent(e,{facetId:this.options.id,facetField:this.options.field.toString(),facetTitle:this.options.title},this.element)},t.doExport=function(){d.exportGlobally({CategoryFacet:t})},t.ID="CategoryFacet",t.options=o({field:l.ComponentOptions.buildFieldOption({required:!0}),title:l.ComponentOptions.buildLocalizedStringOption({defaultValue:u.l("NoTitle")}),numberOfValues:l.ComponentOptions.buildNumberOption({defaultValue:5,min:0,section:"CommonOptions"}),enableFacetSearch:l.ComponentOptions.buildBooleanOption({defaultValue:!0}),id:l.ComponentOptions.buildStringOption({postProcessing:function(e,t){return e||t.field}}),injectionDepth:l.ComponentOptions.buildNumberOption({defaultValue:1e3,min:0}),numberOfResultsInFacetSearch:l.ComponentOptions.buildNumberOption({defaultValue:15,min:1}),facetSearchDelay:l.ComponentOptions.buildNumberOption({defaultValue:100,min:0}),enableMoreLess:l.ComponentOptions.buildBooleanOption({defaultValue:!0}),pageSize:l.ComponentOptions.buildNumberOption({defaultValue:10,min:1,depend:"enableMoreLess"}),delimitingCharacter:l.ComponentOptions.buildStringOption({defaultValue:"|"}),basePath:l.ComponentOptions.buildListOption({defaultValue:[]}),maximumDepth:l.ComponentOptions.buildNumberOption({min:1,defaultValue:Number.MAX_VALUE}),debug:l.ComponentOptions.buildBooleanOption({defaultValue:!1}),valueCaption:l.ComponentOptions.buildJsonOption({defaultValue:{}}),dependsOn:l.ComponentOptions.buildStringOption()},F.ResponsiveFacetOptions),t.MAXIMUM_NUMBER_OF_VALUES_BEFORE_TRUNCATING=15,t.NUMBER_OF_VALUES_TO_KEEP_AFTER_TRUNCATING=10,t.WAIT_ELEMENT_CLASS="coveo-category-facet-header-wait-animation",t}(a.Component);t.CategoryFacet=k,p.Initialization.registerAutoCreateComponent(k),k.doExport()},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{u(i.next(e))}catch(e){r(e)}}function a(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),n(434);var a=n(0),u=n(1),l=n(3),c=n(6),p=n(8),d=n(2),h=n(86),f=n(486),m=n(487),y=n(489),g=n(435),v=n(10),b=n(13),C=n(436),S=n(4),w=n(16),x=n(5),_=n(495),O=n(7),E=n(22),A=n(37),T=n(9),R=n(496),I=n(121),F=n(201),M=function(e){function t(n,i,o,r){void 0===r&&(r=t.ID);var s=e.call(this,n,r,o)||this;return s.element=n,s.options=i,s.listenToQueryStateChange=!0,s.position=null,s.moreValuesAvailable=!1,s.handleQueryStateChangedIncluded=function(e){var t=s.values.selectedValues,n=e.filter(function(e){return s.values.get(e)}),i=a.difference(n,t),o=a.difference(t,n);S.Utils.isNonEmptyArray(i)&&(s.selectMultipleValues(i),s.logAnalyticsEvent(T.analyticsActionCauseList.dynamicFacetSelect,s.values.get(i[0]).analyticsMeta)),S.Utils.isNonEmptyArray(o)&&(s.deselectMultipleValues(o),s.logAnalyticsEvent(T.analyticsActionCauseList.dynamicFacetDeselect,s.values.get(o[0]).analyticsMeta))},s.options=p.ComponentOptions.initComponentOptions(n,t,i),s.initDynamicFacetQueryController(),s.initQueryEvents(),s.initQueryStateEvents(),s.initBreadCrumbEvents(),s.initComponentStateEvents(),s.initValues(),s.verifyCollapsingConfiguration(),s.isCollapsed=s.options.enableCollapse&&s.options.collapsedByDefault,f.ResponsiveDynamicFacets.init(s.root,s,s.options),s}return i(t,e),Object.defineProperty(t.prototype,"fieldName",{get:function(){return this.options.field.slice(1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"facetType",{get:function(){return F.FacetType.specific},enumerable:!0,configurable:!0}),t.prototype.selectValue=function(e){x.Assert.exists(e),this.selectMultipleValues([e])},t.prototype.selectMultipleValues=function(e){var t=this;x.Assert.exists(e),this.ensureDom(),this.logger.info("Selecting facet value(s)",e),e.forEach(function(e){t.values.get(e).select()}),this.handleFacetValuesChanged()},t.prototype.deselectValue=function(e){x.Assert.exists(e),this.deselectMultipleValues([e])},t.prototype.deselectMultipleValues=function(e){var t=this;x.Assert.exists(e),this.ensureDom(),this.logger.info("Deselecting facet value(s)",e),e.forEach(function(e){t.values.get(e).deselect()}),this.handleFacetValuesChanged()},t.prototype.toggleSelectValue=function(e){x.Assert.exists(e),this.ensureDom();var t=this.values.get(e);t.toggleSelect(),this.logger.info("Toggle select facet value",t),this.handleFacetValuesChanged()},t.prototype.showMoreValues=function(e){var t=this;void 0===e&&(e=this.options.numberOfValues),this.ensureDom(),this.logger.info("Show more values"),this.dynamicFacetQueryController.increaseNumberOfValuesToRequest(e),this.triggerNewIsolatedQuery(function(){return t.logAnalyticsFacetShowMoreLess(T.analyticsActionCauseList.dynamicFacetShowMore)})},t.prototype.showLessValues=function(){var e=this;this.ensureDom(),this.logger.info("Show less values"),this.dynamicFacetQueryController.resetNumberOfValuesToRequest(),this.triggerNewIsolatedQuery(function(){return e.logAnalyticsFacetShowMoreLess(T.analyticsActionCauseList.dynamicFacetShowLess)})},t.prototype.reset=function(){this.ensureDom(),this.values.hasActiveValues&&(this.logger.info("Deselect all values"),this.values.clearAll(),this.values.render(),this.updateAppearance(),this.updateQueryStateModel())},t.prototype.toggleCollapse=function(){this.isCollapsed?this.expand():this.collapse()},t.prototype.expand=function(){if(!this.options.enableCollapse)return this.logger.warn('Calling expand() won\'t do anything on a facet that has the option "enableCollapse" set to "false"');this.isCollapsed&&(this.ensureDom(),this.logger.info("Expand facet values"),this.isCollapsed=!1,this.updateAppearance())},t.prototype.collapse=function(){if(!this.options.enableCollapse)return this.logger.warn('Calling collapse() won\'t do anything on a facet that has the option "enableCollapse" set to "false"');this.isCollapsed||(this.ensureDom(),this.logger.info("Collapse facet values"),this.isCollapsed=!0,this.updateAppearance())},t.prototype.enableFreezeCurrentValuesFlag=function(){x.Assert.exists(this.dynamicFacetQueryController),this.dynamicFacetQueryController.enableFreezeCurrentValuesFlag()},t.prototype.enableFreezeFacetOrderFlag=function(){x.Assert.exists(this.dynamicFacetQueryController),this.dynamicFacetQueryController.enableFreezeFacetOrderFlag()},t.prototype.scrollToTop=function(){this.options.enableScrollToTop&&I.ResultListUtils.scrollToTop(this.root)},Object.defineProperty(t.prototype,"analyticsFacetState",{get:function(){return this.values.activeFacetValues.map(function(e){return e.analyticsMeta})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"basicAnalyticsFacetState",{get:function(){return{field:this.options.field.toString(),id:this.options.id,title:this.options.title,facetType:this.facetType,facetPosition:this.position}},enumerable:!0,configurable:!0}),t.prototype.logAnalyticsEvent=function(e,t){this.usageAnalytics.logSearchEvent(e,t)},t.prototype.putStateIntoQueryBuilder=function(e){x.Assert.exists(e),this.dynamicFacetQueryController.putFacetIntoQueryBuilder(e)},t.prototype.putStateIntoAnalytics=function(){var e=this.usageAnalytics.getPendingSearchEvent();e&&e.addFacetState(this.analyticsFacetState)},t.prototype.isCurrentlyDisplayed=function(){return u.$$(this.element).isVisible()},t.prototype.initQueryEvents=function(){var e=this;this.bind.onRootElement(v.QueryEvents.duringQuery,function(){return e.ensureDom()}),this.bind.onRootElement(v.QueryEvents.doneBuildingQuery,function(t){return e.handleDoneBuildingQuery(t)}),this.bind.onRootElement(v.QueryEvents.querySuccess,function(t){return e.handleQuerySuccess(t.results)}),this.bind.onRootElement(v.QueryEvents.queryError,function(){return e.onQueryResponse()})},t.prototype.initQueryStateEvents=function(){this.includedAttributeId=b.QueryStateModel.getFacetId(this.options.id),this.queryStateModel.registerNewAttribute(this.includedAttributeId,[]),this.bind.onQueryState(w.MODEL_EVENTS.CHANGE,void 0,this.handleQueryStateChanged)},t.prototype.initBreadCrumbEvents=function(){var e=this;this.options.includeInBreadcrumb&&(this.bind.onRootElement(A.BreadcrumbEvents.populateBreadcrumb,function(t){return e.handlePopulateBreadcrumb(t)}),this.bind.onRootElement(A.BreadcrumbEvents.clearBreadcrumb,function(){return e.reset()}))},t.prototype.initValues=function(){this.values=new g.DynamicFacetValues(this)},t.prototype.initComponentStateEvents=function(){var e=b.QueryStateModel.getFacetId(this.options.id);this.componentStateModel.registerComponent(e,this)},t.prototype.initDynamicFacetQueryController=function(){this.dynamicFacetQueryController=new C.DynamicFacetQueryController(this)},t.prototype.handleDoneBuildingQuery=function(e){this.dynamicFacetManager||(x.Assert.exists(e),x.Assert.exists(e.queryBuilder),this.putStateIntoQueryBuilder(e.queryBuilder),this.putStateIntoAnalytics())},t.prototype.handleQuerySuccess=function(e){if(S.Utils.isNullOrUndefined(e.facets))return this.notImplementedError();var t=a.findIndex(e.facets,{facetId:this.options.id}),n=-1!==t?e.facets[t]:null;this.position=t+1,this.onQueryResponse(n),this.updateQueryStateModel(),this.header.hideLoading(),this.values.render(),this.updateAppearance()},t.prototype.onQueryResponse=function(e){if(e)return this.moreValuesAvailable=e.moreValuesAvailable,this.values.createFromResponse(e);this.moreValuesAvailable=!1,this.values.resetValues()},t.prototype.handleQueryStateChanged=function(e){if(this.listenToQueryStateChange){var t=e.attributes[this.includedAttributeId];t&&this.handleQueryStateChangedIncluded(t)}},t.prototype.handlePopulateBreadcrumb=function(e){if(x.Assert.exists(e),this.values.hasActiveValues){var t=new m.DynamicFacetBreadcrumbs(this);e.breadcrumbs.push({element:t.element})}},t.prototype.createDom=function(){this.createAndAppendContent(),this.updateAppearance()},t.prototype.createAndAppendContent=function(){this.createAndAppendHeader(),this.createAndAppendSearch(),this.createAndAppendValues()},t.prototype.createAndAppendHeader=function(){this.header=new y.DynamicFacetHeader(this),this.element.appendChild(this.header.element)},t.prototype.createAndAppendSearch=function(){!1!==this.options.enableFacetSearch&&(this.search=new R.DynamicFacetSearch(this),this.element.appendChild(this.search.element))},t.prototype.createAndAppendValues=function(){this.element.appendChild(this.values.render())},t.prototype.handleFacetValuesChanged=function(){this.updateQueryStateModel()},t.prototype.updateQueryStateModel=function(){this.listenToQueryStateChange=!1,this.updateIncludedQueryStateModel(),this.listenToQueryStateChange=!0},t.prototype.updateIncludedQueryStateModel=function(){this.queryStateModel.set(this.includedAttributeId,this.values.selectedValues)},t.prototype.updateAppearance=function(){this.header.toggleClear(this.values.hasSelectedValues),this.header.toggleCollapse(this.isCollapsed),this.toggleSearchDisplay(),u.$$(this.element).toggleClass("coveo-dynamic-facet-collapsed",this.isCollapsed),u.$$(this.element).toggleClass("coveo-active",this.values.hasSelectedValues),u.$$(this.element).toggleClass("coveo-hidden",!this.values.hasDisplayedValues)},t.prototype.toggleSearchDisplay=function(){!1!==this.options.enableFacetSearch&&(S.Utils.isUndefined(this.options.enableFacetSearch)&&u.$$(this.search.element).toggle(this.moreValuesAvailable),this.isCollapsed&&u.$$(this.search.element).toggle(!1))},t.prototype.triggerNewQuery=function(e){this.beforeSendingQuery();var t=e?{beforeExecuteQuery:e}:{ignoreWarningSearchEvent:!0};this.queryController.executeQuery(t)},t.prototype.triggerNewIsolatedQuery=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(i){switch(i.label){case 0:this.beforeSendingQuery(),e&&e(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.dynamicFacetQueryController.executeIsolatedQuery()];case 2:return t=i.sent(),this.handleQuerySuccess(t),[3,4];case 3:return n=i.sent(),this.header.hideLoading(),[3,4];case 4:return[2]}})})},t.prototype.beforeSendingQuery=function(){this.header.showLoading(),this.updateAppearance()},t.prototype.notImplementedError=function(){this.logger.error("DynamicFacets are not supported by your current search endpoint. Disabling this component."),this.disable(),this.updateAppearance()},t.prototype.verifyCollapsingConfiguration=function(){this.options.collapsedByDefault&&!this.options.enableCollapse&&this.logger.warn('The "collapsedByDefault" option is "true" while the "enableCollapse" is "false"')},t.prototype.logAnalyticsFacetShowMoreLess=function(e){this.usageAnalytics.logCustomEvent(e,this.basicAnalyticsFacetState,this.element)},t.ID="DynamicFacet",t.doExport=function(){return l.exportGlobally({DynamicFacet:t})},t.options=o({},h.ResponsiveFacetOptions,{id:p.ComponentOptions.buildStringOption({postProcessing:function(e,t){void 0===e&&(e="");var n=e.replace(/[^A-Za-z0-9-_@]+/g,"");return S.Utils.isNonEmptyString(n)?n.slice(0,59):t.field.slice(0,59)}}),title:p.ComponentOptions.buildLocalizedStringOption({defaultValue:O.l("NoTitle"),section:"CommonOptions",priority:10}),field:p.ComponentOptions.buildFieldOption({required:!0,section:"CommonOptions"}),sortCriteria:p.ComponentOptions.buildStringOption({postProcessing:function(e){return _.isFacetSortCriteria(e)?e:void 0},section:"Sorting"}),numberOfValues:p.ComponentOptions.buildNumberOption({min:0,defaultValue:8,section:"CommonOptions"}),enableCollapse:p.ComponentOptions.buildBooleanOption({defaultValue:!0,section:"Filtering"}),enableScrollToTop:p.ComponentOptions.buildBooleanOption({defaultValue:!0,section:"CommonOptions"}),enableMoreLess:p.ComponentOptions.buildBooleanOption({defaultValue:!0,section:"CommonOptions"}),enableFacetSearch:p.ComponentOptions.buildBooleanOption({section:"Filtering"}),useLeadingWildcardInFacetSearch:p.ComponentOptions.buildBooleanOption({defaultValue:!0,section:"Filtering",depend:"enableFacetSearch"}),collapsedByDefault:p.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Filtering",depend:"enableCollapse"}),includeInBreadcrumb:p.ComponentOptions.buildBooleanOption({defaultValue:!0,section:"CommonOptions"}),numberOfValuesInBreadcrumb:p.ComponentOptions.buildNumberOption({defaultFunction:function(){return E.DeviceUtils.isMobileDevice()?3:5},min:0,depend:"includeInBreadcrumb",section:"CommonOptions"}),valueCaption:p.ComponentOptions.buildJsonOption()}),t}(c.Component);t.DynamicFacet=M,d.Initialization.registerAutoCreateComponent(M),M.doExport()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function i(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},pe))}}function o(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function r(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=r(e),n=t.overflow,i=t.overflowX;return/(auto|scroll|overlay)/.test(n+t.overflowY+i)?e:a(s(e))}function u(e){return 11===e?me:10===e?ye:me||ye}function l(e){if(!e)return document.documentElement;for(var t=u(10)?document.body:null,n=e.offsetParent;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===r(n,"position")?l(n):n:e?e.ownerDocument.documentElement:document.documentElement}function c(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||l(e.firstElementChild)===e)}function p(e){return null!==e.parentNode?p(e.parentNode):e}function d(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,o=n?t:e,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var s=r.commonAncestorContainer;if(e!==s&&t!==s||i.contains(o))return c(s)?s:l(s);var a=p(e);return a.host?d(a.host,t):d(e,p(t).host)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var o=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||o)[n]}return e[n]}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=h(t,"top"),o=h(t,"left"),r=n?-1:1;return e.top+=i*r,e.bottom+=i*r,e.left+=o*r,e.right+=o*r,e}function m(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function y(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],u(10)?n["offset"+e]+i["margin"+("Height"===e?"Top":"Left")]+i["margin"+("Height"===e?"Bottom":"Right")]:0)}function g(){var e=document.body,t=document.documentElement,n=u(10)&&getComputedStyle(t);return{height:y("Height",e,t,n),width:y("Width",e,t,n)}}function v(e){return Ce({},e,{right:e.left+e.width,bottom:e.top+e.height})}function b(e){var t={};try{if(u(10)){t=e.getBoundingClientRect();var n=h(e,"top"),i=h(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?g():{},a=s.width||e.clientWidth||o.right-o.left,l=s.height||e.clientHeight||o.bottom-o.top,c=e.offsetWidth-a,p=e.offsetHeight-l;if(c||p){var d=r(e);c-=m(d,"x"),p-=m(d,"y"),o.width-=c,o.height-=p}return v(o)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=u(10),o="HTML"===t.nodeName,s=b(e),l=b(t),c=a(e),p=r(t),d=parseFloat(p.borderTopWidth,10),h=parseFloat(p.borderLeftWidth,10);n&&"HTML"===t.nodeName&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var m=v({top:s.top-l.top-d,left:s.left-l.left-h,width:s.width,height:s.height});if(m.marginTop=0,m.marginLeft=0,!i&&o){var y=parseFloat(p.marginTop,10),g=parseFloat(p.marginLeft,10);m.top-=d-y,m.bottom-=d-y,m.left-=h-g,m.right-=h-g,m.marginTop=y,m.marginLeft=g}return(i&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(m=f(m,t)),m}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=C(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:h(n),a=t?0:h(n,"left");return v({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:o,height:r})}function w(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===r(e,"position")||w(s(e)))}function x(e){if(!e||!e.parentElement||u())return document.documentElement;for(var t=e.parentElement;t&&"none"===r(t,"transform");)t=t.parentElement;return t||document.documentElement}function _(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},u=o?x(e):d(e,t);if("viewport"===i)r=S(u,o);else{var l=void 0;"scrollParent"===i?(l=a(s(t)),"BODY"===l.nodeName&&(l=e.ownerDocument.documentElement)):l="window"===i?e.ownerDocument.documentElement:i;var c=C(l,u,o);if("HTML"!==l.nodeName||w(u))r=c;else{var p=g(),h=p.height,f=p.width;r.top+=c.top-c.marginTop,r.bottom=h+c.top,r.left+=c.left-c.marginLeft,r.right=f+c.left}}return r.left+=n,r.top+=n,r.right-=n,r.bottom-=n,r}function O(e){return e.width*e.height}function E(e,t,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=_(n,i,r,o),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},u=Object.keys(a).map(function(e){return Ce({key:e},a[e],{area:O(a[e])})}).sort(function(e,t){return t.area-e.area}),l=u.filter(function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,p=e.split("-")[1];return c+(p?"-"+p:"")}function A(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,i?x(t):d(t,n),i)}function T(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function R(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function I(e,t,n){n=n.split("-")[0];var i=T(e),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),s=r?"top":"left",a=r?"left":"top",u=r?"height":"width",l=r?"width":"height";return o[s]=t[s]+t[u]/2-i[u]/2,o[a]=n===a?t[a]-i[l]:t[R(a)],o}function F(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function M(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=F(e,function(e){return e[t]===n});return e.indexOf(i)}function D(e,t,n){return(void 0===n?e:e.slice(0,M(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=v(t.offsets.popper),t.offsets.reference=v(t.offsets.reference),t=n(t,e))}),t}function P(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=A(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=E(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=I(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=D(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function $(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function N(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var o=t[i],r=o?""+o+n:e;if(void 0!==document.body.style[r])return r}return null}function k(){return this.state.isDestroyed=!0,$(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function V(e){var t=e.ownerDocument;return t?t.defaultView:window}function L(e,t,n,i){var o="BODY"===e.nodeName,r=o?e.ownerDocument.defaultView:e;r.addEventListener(t,n,{passive:!0}),o||L(a(r.parentNode),t,n,i),i.push(r)}function B(e,t,n,i){n.updateBound=i,V(e).addEventListener("resize",n.updateBound,{passive:!0});var o=a(e);return L(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Q(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}function U(e,t){return V(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function j(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=U(this.reference,this.state))}function q(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function H(e,t){Object.keys(t).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(t[n])&&(i="px"),e.style[n]=t[n]+i})}function z(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function W(e){return H(e.instance.popper,e.styles),z(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&H(e.arrowElement,e.arrowStyles),e}function G(e,t,n,i,o){var r=A(o,t,e,n.positionFixed),s=E(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),H(t,{position:n.positionFixed?"fixed":"absolute"}),n}function Y(e,t){var n=t.x,i=t.y,o=e.offsets.popper,r=F(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:t.gpuAcceleration,a=l(e.instance.popper),u=b(a),c={position:o.position},p={left:Math.floor(o.left),top:Math.round(o.top),bottom:Math.round(o.bottom),right:Math.floor(o.right)},d="bottom"===n?"top":"bottom",h="right"===i?"left":"right",f=N("transform"),m=void 0,y=void 0;if(y="bottom"===d?-u.height+p.bottom:p.top,m="right"===h?-u.width+p.right:p.left,s&&f)c[f]="translate3d("+m+"px, "+y+"px, 0)",c[d]=0,c[h]=0,c.willChange="transform";else{var g="bottom"===d?-1:1,v="right"===h?-1:1;c[d]=y*g,c[h]=m*v,c.willChange=d+", "+h}var C={"x-placement":e.placement};return e.attributes=Ce({},C,e.attributes),e.styles=Ce({},c,e.styles),e.arrowStyles=Ce({},e.offsets.arrow,e.arrowStyles),e}function K(e,t,n){var i=F(e,function(e){return e.name===t}),o=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!o){var r="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}function J(e,t){var n;if(!K(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],s=e.offsets,a=s.popper,u=s.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",p=l?"Top":"Left",d=p.toLowerCase(),h=l?"left":"top",f=l?"bottom":"right",m=T(i)[c];u[f]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(u[f]-m)),u[d]+m>a[f]&&(e.offsets.popper[d]+=u[d]+m-a[f]),e.offsets.popper=v(e.offsets.popper);var y=u[d]+u[c]/2-m/2,g=r(e.instance.popper),b=parseFloat(g["margin"+p],10),C=parseFloat(g["border"+p+"Width"],10),S=y-e.offsets.popper[d]-b-C;return S=Math.max(Math.min(a[c]-m,S),0),e.arrowElement=i,e.offsets.arrow=(n={},be(n,d,Math.round(S)),be(n,h,""),n),e}function X(e){return"end"===e?"start":"start"===e?"end":e}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=we.indexOf(e),i=we.slice(n+1).concat(we.slice(0,n));return t?i.reverse():i}function ee(e,t){if($(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=_(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],o=R(i),r=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case xe.FLIP:s=[i,o];break;case xe.CLOCKWISE:s=Z(i);break;case xe.COUNTERCLOCKWISE:s=Z(i,!0);break;default:s=t.behavior}return s.forEach(function(a,u){if(i!==a||s.length===u+1)return e;i=e.placement.split("-")[0],o=R(i);var l=e.offsets.popper,c=e.offsets.reference,p=Math.floor,d="left"===i&&p(l.right)>p(c.left)||"right"===i&&p(l.left)<p(c.right)||"top"===i&&p(l.bottom)>p(c.top)||"bottom"===i&&p(l.top)<p(c.bottom),h=p(l.left)<p(n.left),f=p(l.right)>p(n.right),m=p(l.top)<p(n.top),y=p(l.bottom)>p(n.bottom),g="left"===i&&h||"right"===i&&f||"top"===i&&m||"bottom"===i&&y,v=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(v&&"start"===r&&h||v&&"end"===r&&f||!v&&"start"===r&&m||!v&&"end"===r&&y);(d||g||b)&&(e.flipped=!0,(d||g)&&(i=s[u+1]),b&&(r=X(r)),e.placement=i+(r?"-"+r:""),e.offsets.popper=Ce({},e.offsets.popper,I(e.instance.popper,e.offsets.reference,e.placement)),e=D(e.instance.modifiers,e,"flip"))}),e}function te(e){var t=e.offsets,n=t.popper,i=t.reference,o=e.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",u=s?"left":"top",l=s?"width":"height";return n[a]<r(i[u])&&(e.offsets.popper[u]=r(i[u])-n[l]),n[u]>r(i[a])&&(e.offsets.popper[u]=r(i[a])),e}function ne(e,t,n,i){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],s=o[2];if(!r)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return v(a)[t]/100*r}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}function ie(e,t,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=s.indexOf(F(s,function(e){return-1!==e.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return l=l.map(function(e,i){var o=(1===i?!r:r)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return ne(e,o,t,n)})}),l.forEach(function(e,t){e.forEach(function(n,i){q(n)&&(o[t]+=n*("-"===e[i-1]?-1:1))})}),o}function oe(e,t){var n=t.offset,i=e.placement,o=e.offsets,r=o.popper,s=o.reference,a=i.split("-")[0],u=void 0;return u=q(+n)?[+n,0]:ie(n,r,s,a),"left"===a?(r.top+=u[0],r.left-=u[1]):"right"===a?(r.top+=u[0],r.left+=u[1]):"top"===a?(r.left+=u[0],r.top-=u[1]):"bottom"===a&&(r.left+=u[0],r.top+=u[1]),e.popper=r,e}function re(e,t){var n=t.boundariesElement||l(e.instance.popper);e.instance.reference===n&&(n=l(n));var i=N("transform"),o=e.instance.popper.style,r=o.top,s=o.left,a=o[i];o.top="",o.left="",o[i]="";var u=_(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=r,o.left=s,o[i]=a,t.boundaries=u;var c=t.priority,p=e.offsets.popper,d={primary:function(e){var n=p[e];return p[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(p[e],u[e])),be({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=p[n];return p[e]>u[e]&&!t.escapeWithReference&&(i=Math.min(p[n],u[e]-("right"===e?p.width:p.height))),be({},n,i)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";p=Ce({},p,d[t](e))}),e.offsets.popper=p,e}function se(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var o=e.offsets,r=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",l=a?"width":"height",c={start:be({},u,r[u]),end:be({},u,r[u]+r[l]-s[l])};e.offsets.popper=Ce({},s,c[i])}return e}function ae(e){if(!K(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=F(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function ue(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,o=i.popper,r=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return o[s?"left":"top"]=r[n]-(a?o[s?"width":"height"]:0),e.placement=R(t),e.offsets.popper=v(o),e}for(var le="undefined"!=typeof window&&"undefined"!=typeof document,ce=["Edge","Trident","Firefox"],pe=0,de=0;de<ce.length;de+=1)if(le&&navigator.userAgent.indexOf(ce[de])>=0){pe=1;break}var he=le&&window.Promise,fe=he?n:i,me=le&&!(!window.MSInputMethodContext||!document.documentMode),ye=le&&/MSIE 10/.test(navigator.userAgent),ge=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),be=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Se=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],we=Se.slice(3),xe={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},_e={shift:{order:100,enabled:!0,fn:se},offset:{order:200,enabled:!0,fn:oe,offset:0},preventOverflow:{order:300,enabled:!0,fn:re,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:te},arrow:{order:500,enabled:!0,fn:J,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ee,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:ue},hide:{order:800,enabled:!0,fn:ae},computeStyle:{order:850,enabled:!0,fn:Y,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:W,onLoad:G,gpuAcceleration:void 0}},Oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:_e},Ee=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ge(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=fe(this.update.bind(this)),this.options=Ce({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Ce({},e.Defaults.modifiers,r.modifiers)).forEach(function(t){i.options.modifiers[t]=Ce({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Ce({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&o(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return ve(e,[{key:"update",value:function(){return P.call(this)}},{key:"destroy",value:function(){return k.call(this)}},{key:"enableEventListeners",value:function(){return Q.call(this)}},{key:"disableEventListeners",value:function(){return j.call(this)}}]),e}();Ee.Utils=("undefined"!=typeof window?window:e).PopperUtils,Ee.placements=Se,Ee.Defaults=Oe,t.default=Ee}.call(t,n(61))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.beforeRedirect="beforeRedirect",e}();t.StandaloneSearchInterfaceEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.savePreferences="savePreferences",e.exitPreferencesWithoutSave="exitPreferencesWithoutSave",e}();t.PreferencesPanelEvents=i},function(e,t,n){"use strict";var i=n(140);t.analytics=i;var o=n(288);t.SimpleAnalytics=o;var r=n(141);t.history=r;var s=n(291);t.donottrack=s;var a=n(94);t.storage=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version={lib:"2.7219.22",product:"2.7219.22",supportedApiVersion:2}},function(e,t,n){"use strict";function i(){return t.preferredStorage?t.preferredStorage:o.hasLocalStorage()?localStorage:o.hasCookieStorage()?new s:o.hasSessionStorage()?sessionStorage:new a}var o=n(142),r=n(286);t.preferredStorage=null,t.getAvailableStorage=i;var s=function(){function e(){}return e.prototype.getItem=function(e){return r.Cookie.get(e)},e.prototype.removeItem=function(e){r.Cookie.erase(e)},e.prototype.setItem=function(e,t){r.Cookie.set(e,t)},e}();t.CookieStorage=s;var a=function(){function e(){}return e.prototype.getItem=function(e){return null},e.prototype.removeItem=function(e){},e.prototype.setItem=function(e,t){},e}();t.NullStorage=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.showDebugPanel="showDebugPanel",e}();t.DebugEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.isContextual=!1,this.endpoint=null}return e.prototype.isActivated=function(){return!1},e.prototype.getCurrentEventCause=function(){return this.currentEventCause},e.prototype.getCurrentEventMeta=function(){return this.currentEventMeta},e.prototype.logSearchEvent=function(e,t){this.setNoopCauseAndMeta(e.name,t)},e.prototype.logSearchAsYouType=function(e,t){this.setNoopCauseAndMeta(e.name,t)},e.prototype.logClickEvent=function(e,t,n,i){return this.setNoopCauseAndMeta(e.name,t),Promise.resolve(null)},e.prototype.logCustomEvent=function(e,t,n){return this.setNoopCauseAndMeta(e.name,t),Promise.resolve(null)},e.prototype.getTopQueries=function(e){return new Promise(function(e,t){e([])})},e.prototype.getCurrentVisitIdPromise=function(){return new Promise(function(e,t){e(null)})},e.prototype.getCurrentVisitId=function(){return null},e.prototype.sendAllPendingEvents=function(){},e.prototype.cancelAllPendingEvents=function(){},e.prototype.warnAboutSearchEvent=function(){},e.prototype.getPendingSearchEvent=function(){return null},e.prototype.setOriginContext=function(e){},e.prototype.setNoopCauseAndMeta=function(e,t){this.currentEventCause=e,this.currentEventMeta=t},e}();t.NoopAnalyticsClient=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),r=n(5),s=n(150),a=function(e){function t(t){var n=e.call(this,function(){return t.innerHTML})||this;return n.element=t,n.templateFromAScriptTag=new s.TemplateFromAScriptTag(n,n.element),n}return i(t,e),t.prototype.toHtmlElement=function(){return this.templateFromAScriptTag.toHtmlElement()},t.prototype.getType=function(){return"HtmlTemplate"},t.create=function(e){return r.Assert.exists(e),new t(e)},t.fromString=function(e,n){return new t(s.TemplateFromAScriptTag.fromString(e,n))},t.prototype.getTemplateInfo=function(){return this.element},t.mimeTypes=["text/html","text/HTML"],t}(o.Template);t.HtmlTemplate=a},function(e,t,n){var i=n(74),o=n(360),r=n(361),s=Object.defineProperty;t.f=n(75)?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(365),o=n(77);e.exports=function(e){return i(o(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(155)("keys"),o=n(157);e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){e.exports=n(377)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=n(5),r=n(1),s=n(18),a=n(6),u=n(40),l=n(30),c=n(165),p=n(62),d=n(9),h=n(13),f=n(0),m=function(){function e(e,t,n,s){var a=this;this.root=e,this.endpoint=t,this.templateSearchEvent=n,this.sendToCloud=s,this.searchPromises=[],this.results=[],this.cancelled=!1,this.finished=!1,this.searchEvents=[],o.Assert.exists(e),o.Assert.exists(t),o.Assert.exists(n),this.handler=function(e,t){a.handleDuringQuery(e,t)},r.$$(e).on(i.QueryEvents.duringQuery,this.handler)}return e.prototype.getEventCause=function(){return this.templateSearchEvent.actionCause},e.prototype.getEventMeta=function(){return this.templateSearchEvent.customData},e.prototype.addFacetState=function(e){this.facetState||(this.facetState=[]),(t=this.facetState).push.apply(t,e);var t},e.prototype.cancel=function(){this.stopRecording(),this.cancelled=!0},e.prototype.handleDuringQuery=function(e,t,n){var i=this;o.Assert.check(!this.finished),o.Assert.check(!this.cancelled),this.searchPromises.push(t.promise);var r=e.target,l=a.Component.get(r,s.SearchInterface);o.Assert.exists(l),n||(n=l.queryStateModel.get(h.QueryStateModel.attributesEnum.q));var c=a.Component.get(r,u.QueryController);o.Assert.exists(c),t.promise.then(function(e){if(o.Assert.exists(e),o.Assert.check(!i.finished),!0!==e._reusedSearchUid||i.templateSearchEvent.actionCause==d.analyticsActionCauseList.recommendation.name){var r=f.extend({},i.templateSearchEvent);return i.fillSearchEvent(r,l,t.query,e,n),i.searchEvents.push(r),i.results.push(e),e}}).finally(function(){var e=f.indexOf(i.searchPromises,t.promise);i.searchPromises.splice(e,1),0==i.searchPromises.length&&i.flush()})},e.prototype.stopRecording=function(){this.handler&&(r.$$(this.root).off(i.QueryEvents.duringQuery,this.handler),r.$$(this.root).off(i.QueryEvents.duringFetchMoreQuery,this.handler),this.handler=null)},e.prototype.flush=function(){var e=this;this.cancelled||(this.stopRecording(),this.finished=!0,o.Assert.check(this.searchEvents.length==this.results.length),l.Defer.defer(function(){e.sendToCloud&&e.endpoint.sendSearchEvents(e.searchEvents);var t=f.map(e.searchEvents,function(e){return c.APIAnalyticsBuilder.convertSearchEventToAPI(e)});r.$$(e.root).trigger(p.AnalyticsEvents.searchEvent,{searchEvents:t}),e.searchEvents.length&&e.searchEvents.forEach(function(t){r.$$(e.root).trigger(p.AnalyticsEvents.analyticsEventReady,{event:"CoveoSearchEvent",coveoAnalyticsEventData:t})})}))},e.prototype.fillSearchEvent=function(e,t,n,i,r){o.Assert.exists(e),o.Assert.exists(t),o.Assert.exists(n),o.Assert.exists(i);var s=t.queryStateModel.get(h.QueryStateModel.attributesEnum.q);e.queryPipeline=i.pipeline,e.splitTestRunName=e.splitTestRunName||i.splitTestRun,e.splitTestRunVersion=e.splitTestRunVersion||(void 0!=i.splitTestRun?i.pipeline:void 0),e.originLevel2=e.originLevel2||t.queryStateModel.get("t")||"default",e.queryText=r||s||n.q||"",e.advancedQuery=n.aq||"",e.didYouMean=n.enableDidYouMean,e.numberOfResults=i.totalCount,e.responseTime=i.duration,e.pageNumber=n.firstResult/n.numberOfResults,e.resultsPerPage=n.numberOfResults,e.searchQueryUid=i.searchUid,e.queryPipeline=i.pipeline,e.facetState=this.facetState,void 0!=n.context&&f.each(n.context,function(t,n){e.customData["context_"+n]=t}),void 0!=i.refinedKeywords&&0!=i.refinedKeywords.length&&(e.customData.refinedKeywords=i.refinedKeywords)},e}();t.PendingSearchEvent=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(4),r=n(7),s=n(5),a=n(0),u=function(){function e(){}return e.get=function(t){var n=o.Utils.getFieldValue(t,"objecttype"),i=o.Utils.getFieldValue(t,"filetype");return o.Utils.isNonEmptyString(n)&&!n.match(/^(file|document|contentversion|item)$/i)?e.getObjectType(n):o.Utils.isNonEmptyString(i)?e.getFileType(i):{icon:"coveo-icon filetype",caption:r.l("Unknown")}},e.getObjectType=function(e){var t=e.toLowerCase(),n="objecttype_"+t,i=r.l(n);return i.toLowerCase()==n.toLowerCase()&&(i=r.l(e)),{icon:"coveo-icon objecttype "+t.replace(" ","-"),caption:i}},e.getFileType=function(e){var t=e.toLowerCase();"."==t[0]&&(t=t.substring(1));var n="filetype_"+t,i=r.l(n);return i.toLowerCase()==n.toLowerCase()&&(i=r.l(e)),{icon:"coveo-icon filetype "+t.replace(" ","-"),caption:i}},e.getFileTypeCaptions=function(){if(void 0==i){i={};var e=String.locales[String.locale.toLowerCase()];s.Assert.isNotUndefined(e),a.each(a.keys(e),function(e){0==e.indexOf("filetype_")?i[e.substr("filetype_".length)]=e.toLocaleString():0==e.indexOf("objecttype_")&&(i[e.substr("objecttype_".length)]=e.toLocaleString())})}return i},e}();t.FileTypes=u},function(e,t,n){"use strict";function i(e,t,n,i){var o=[],r=p.chain(n).values().map(p.keys).flatten().value();return p.each(t,function(t,n){var s=p.chain([n]).concat(t).compact().difference(r).map(l.Utils.escapeRegexCharacter).sortBy("length").value(),a=""+h+s.join("|")+")(?=(?:"+d+"|$)+)",c=u.StringUtils.getHighlights(e,new RegExp(a,i.regexFlags),n);void 0!=c&&l.Utils.isNonEmptyArray(c)&&o.push(c)}),p.each(n,function(t,n){var r=n.split(" "),s=h;p.each(r,function(e,n){s+="(?:"+[e].concat(t[e]).join("|")+")",n==r.length-1&&(s+="(?="),s+=d,n==r.length-1&&(s+="|$)"),n!=r.length-1&&(s+="+")}),s+=")";var a=u.StringUtils.getHighlights(e,new RegExp(s,i.regexFlags),n);void 0!=a&&l.Utils.isNonEmptyArray(a)&&o.push(a)}),p.chain(o).flatten().compact().uniq(function(e){return e.offset}).sortBy(function(e){return e.offset}).map(function(e){var i=p.keys(t),o=p.keys(n),r=i.concat(o),s=p.indexOf(r,e.dataHighlightGroupTerm)+1;return p.extend(e,{dataHighlightGroup:s})}).value()}function o(e){var t=c.$$("div").el;return t.innerHTML=e,t}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(72),a=n(64),u=n(19),l=n(4),c=n(1),p=n(0),d="[\\.\\-\\u2011\\s~=,.\\|\\/:'`’;_()!?&+]",h="("+d+"|^)(",f=function(e){function t(t,n,i){void 0===t&&(t="coveo-highlight"),void 0===n&&(n=0),void 0===i&&(i="gi");var o=e.call(this)||this;return o.cssClass=t,o.shorten=n,o.regexFlags=i,o}return r(t,e),t}(s.Options);t.DefaultStreamHighlightOptions=f;var m=function(){function e(){}return e.highlightStreamHTML=function(t,n,r,s){var u=(new f).merge(s),l=o(t),d=c.$$(l).findAll("*");return d.length>0?(p.each(d,function(e,t){var o=c.$$(e).text();e.innerHTML=a.HighlightUtils.highlightString(o,i(o,n,r,u),[],u.cssClass)}),l.innerHTML):e.highlightStreamText(t,n,r,s)},e.highlightStreamText=function(e,t,n,o){var r=(new f).merge(o);return a.HighlightUtils.highlightString(e,i(e,t,n,r),[],r.cssClass)},e}();t.StreamHighlightUtils=m,t.getRestHighlightsForAllTerms=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=n(57),r=n(5),s=n(7),a=function(){function e(e,t,n,i,o){this.element=t,r.Assert.isString(e),r.Assert.exists(t),r.Assert.exists(n),r.Assert.isLargerOrEqualsThan(0,i),r.Assert.isLargerOrEqualsThan(0,o),r.Assert.isSmallerOrEqualsThan(1,o),this.cssClassName="coveo-"+e+"-dropdown-content",this.coveoRoot=n,this.widthRatio=o,this.minWidth=i}return e.isTargetInsideOpenedDropdown=function(t){r.Assert.exists(t);var n=t.parent(e.DEFAULT_CSS_CLASS_NAME);return!!n&&"none"!=n.style.display},e.prototype.positionDropdown=function(){this.setElementAttributes(),this.createPopper()},e.prototype.hideDropdown=function(){this.popperReference&&this.popperReference.destroy(),this.unsetElementAttributes()},e.prototype.cleanUp=function(){this.element.el.removeAttribute("style")},e.prototype.setElementAttributes=function(){this.element.show(),this.element.addClass(this.cssClassName),this.element.addClass(e.DEFAULT_CSS_CLASS_NAME),this.element.setAttribute("role","group"),this.element.setAttribute("aria-label",s.l("FiltersDropdown")),this.setElementWidth()},e.prototype.setElementWidth=function(){var e=this.widthRatio*this.coveoRoot.width();e<=this.minWidth&&(e=this.minWidth),this.element.el.style.width=e.toString()+"px"},e.prototype.unsetElementAttributes=function(){this.element.hide(),this.element.removeClass(this.cssClassName),this.element.removeClass(e.DEFAULT_CSS_CLASS_NAME),this.element.setAttribute("role",null),this.element.setAttribute("aria-label",null)},e.prototype.createPopper=function(){var e=this.coveoRoot.find("."+o.ResponsiveComponentsManager.DROPDOWN_HEADER_WRAPPER_CSS_CLASS);this.popperReference=new i.default(e,this.element.el,{placement:"bottom-end",positionFixed:!0,modifiers:{preventOverflow:{boundariesElement:this.coveoRoot.el}}})},e.DEFAULT_CSS_CLASS_NAME="coveo-dropdown-content",e}();t.ResponsiveDropdownContent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(54),r=n(4),s=function(){function e(){}return e.registerFieldHelper=function(t,n){e.fieldHelpers.push(t),e.registerTemplateHelper(t,n)},e.registerTemplateHelper=function(t,n){i.Assert.isNonEmptyString(t),i.Assert.exists(n),e.registerTemplateHelperInUnderscore(t,n),e.helpers[t]=n},e.getHelper=function(t){return r.Utils.getCaseInsensitiveProperty(e.helpers,t)},e.getHelpers=function(){return e.helpers},e.registerTemplateHelperInUnderscore=function(e,t){i.Assert.isNonEmptyString(e),i.Assert.exists(t),o.UnderscoreTemplate.registerTemplateHelper(e,t)},e.helpers={},e.fieldHelpers=[],e}();t.TemplateHelpers=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),r=n(54),s=n(63),a=n(5),u=n(1),l=n(0),c=n(2),p=function(e){function t(){var t=e.call(this)||this;return t.addFields(c.Initialization.getRegisteredFieldsForQuery()),t}return i(t,e),t.prototype.instantiateToString=function(e,t){void 0===t&&(t={}),a.Assert.exists(e);var n=(new o.DefaultInstantiateTemplateOptions).merge(t);e=l.extend({},e,r.UnderscoreTemplate.templateHelpers);for(var i=l.chain(s.TemplateCache.getDefaultTemplates()).map(function(e){return s.TemplateCache.getTemplate(e)}).value(),u=l.chain(i).sortBy(function(e){return null==e.condition}).sortBy(function(e){return null==e.fieldsToMatch}).value(),c=0;c<u.length;c++){var p=u[c].instantiateToString(e,n);if(null!=p)return p}return this.getFallbackTemplate()},t.prototype.getFields=function(){var e=l.map(s.TemplateCache.getDefaultTemplates(),function(e){return s.TemplateCache.getTemplate(e)});return l.flatten(l.map(e,function(e){return e.getFields()}))},t.prototype.getType=function(){return"DefaultResultTemplate"},t.prototype.getFallbackTemplate=function(){var e=u.$$("div",{className:"coveo-title"}),t=u.$$("a",{className:"CoveoResultLink"});e.append(t.el);var n=u.$$("div",{className:"CoveoExcerpt"}),i=u.$$("div");return i.append(e.el),i.append(n.el),i.el.outerHTML},t}(o.Template);t.DefaultResultTemplate=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1),r=n(133),s=n(0),a=n(17),u=n(26),l=n(15),c=n(5),p=n(7);!function(e){e.OPEN="responsiveDropdownOpen",e.CLOSE="responsiveDropdownClose"}(i=t.ResponsiveDropdownEvent||(t.ResponsiveDropdownEvent={}));var d=function(){function e(e,t,n){var i=this;this.dropdownContent=e,this.dropdownHeader=t,this.coveoRoot=n,this.isOpened=!1,this.onOpenHandlers=[],this.onCloseHandlers=[],this.popupBackgroundIsEnabled=!0,this.closeIfOpened=function(){i.isOpened&&i.close()},c.Assert.exists(e),c.Assert.exists(t),c.Assert.exists(n),this.popupBackground=this.buildPopupBackground(),this.bindOnClickDropdownHeaderEvent(),this.saveContentPosition(),this.bindOnKeyboardEscapeEvent(),this.bindNukeEvents()}return e.prototype.registerOnOpenHandler=function(e,t){c.Assert.exists(e),this.onOpenHandlers.push({handler:e,context:t})},e.prototype.registerOnCloseHandler=function(e,t){c.Assert.exists(e),this.onCloseHandlers.push({handler:e,context:t})},e.prototype.cleanUp=function(){this.close(),this.dropdownHeader.cleanUp(),this.dropdownContent.cleanUp(),this.restoreContentPosition()},e.prototype.open=function(){this.isOpened=!0,this.dropdownHeader.open(),this.dropdownContent.positionDropdown(),s.each(this.onOpenHandlers,function(e){e.handler.apply(e.context)}),this.showPopupBackground(),o.$$(this.dropdownHeader.element).trigger(i.OPEN)},e.prototype.close=function(){this.isOpened=!1,s.each(this.onCloseHandlers,function(e){e.handler.apply(e.context)}),this.dropdownHeader.close(),this.dropdownContent.hideDropdown(),this.hidePopupBackground(),o.$$(this.dropdownHeader.element).trigger(i.CLOSE)},e.prototype.disablePopupBackground=function(){this.popupBackgroundIsEnabled=!1},e.prototype.bindOnClickDropdownHeaderEvent=function(){var e=this;(new a.AccessibleButton).withElement(this.dropdownHeader.element).withSelectAction(function(){return e.isOpened?e.close():e.open()}).withLabel(p.l(this.isOpened?"CloseFiltersDropdown":"OpenFiltersDropdown")).build()},e.prototype.bindOnKeyboardEscapeEvent=function(){o.$$(document.documentElement).on("keyup",u.KeyboardUtils.keypressAction(u.KEYBOARD.ESCAPE,this.closeIfOpened))},e.prototype.unbindOnKeyboardEscapeEvent=function(){o.$$(document.documentElement).off("keyup",u.KeyboardUtils.keypressAction(u.KEYBOARD.ESCAPE,this.closeIfOpened))},e.prototype.bindNukeEvents=function(){var e=this;o.$$(this.coveoRoot).on(l.InitializationEvents.nuke,function(){e.unbindOnKeyboardEscapeEvent()})},e.prototype.showPopupBackground=function(){this.popupBackgroundIsEnabled&&(this.coveoRoot.el.appendChild(this.popupBackground.el),window.getComputedStyle(this.popupBackground.el).opacity,this.popupBackground.el.style.opacity=e.TRANSPARENT_BACKGROUND_OPACITY,this.popupBackground.addClass("coveo-dropdown-background-active"))},e.prototype.hidePopupBackground=function(){this.popupBackgroundIsEnabled&&(window.getComputedStyle(this.popupBackground.el).opacity,this.popupBackground.el.style.opacity="0",this.popupBackground.removeClass("coveo-dropdown-background-active"))},e.prototype.buildPopupBackground=function(){var t=this,n=o.$$("div",{className:e.DROPDOWN_BACKGROUND_CSS_CLASS_NAME});return r.EventsUtils.addPrefixedEvent(n.el,"TransitionEnd",function(){"0"==n.el.style.opacity&&n.detach()}),n.on("click",function(){return t.close()}),n},e.prototype.saveContentPosition=function(){var e=this.dropdownContent.element.el.previousSibling,t=this.dropdownContent.element.el.parentElement;this.previousSibling=e?o.$$(e):null,this.parent=o.$$(t)},e.prototype.restoreContentPosition=function(){this.previousSibling?this.dropdownContent.element.insertAfter(this.previousSibling.el):this.parent.prepend(this.dropdownContent.element.el)},e.TRANSPARENT_BACKGROUND_OPACITY="0.9",e.DROPDOWN_BACKGROUND_CSS_CLASS_NAME="coveo-dropdown-background",e}();t.ResponsiveDropdown=d},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=n(8),s=n(28),a=n(9),u=n(31),l=n(64),c=n(22),p=n(172),d=n(2),h=n(21),f=n(5),m=n(4),y=n(30),g=n(1),v=n(108),b=n(0),C=n(3);n(485);var S=n(17),w=function(e){function t(n,i,o,u,l){var p=e.call(this,n,t.ID,o)||this;if(p.element=n,p.options=i,p.bindings=o,p.result=u,p.os=l,p.logOpenDocument=b.debounce(function(){p.queryController.saveLastQuery();var e=g.$$(p.element).getAttribute("href");void 0!=e&&""!=e||(e=p.result.clickUri),p.usageAnalytics.logClickEvent(a.analyticsActionCauseList.documentOpen,{documentURL:e,documentTitle:p.result.title,author:m.Utils.getFieldValue(p.result,"author")},p.result,p.root),y.Defer.flush()},1500,!0),p.options=r.ComponentOptions.initComponentOptions(n,t,i),p.options=b.extend({},p.options,p.componentOptionsModel.get(s.ComponentOptionsModel.attributesEnum.resultLink)),p.result=u||p.resolveResult(),null==p.options.openQuickview&&(p.options.openQuickview="ExchangeCrawler"==u.raw.connectortype&&c.DeviceUtils.isMobileDevice()),p.element.setAttribute("tabindex","0"),p.addHeadingRoleIfFirstResultLink(),f.Assert.exists(p.componentOptionsModel),f.Assert.exists(p.result),!p.quickviewShouldBeOpened()){var d=b.once(function(){return p.logOpenDocument()});g.$$(n).on(["contextmenu","click","mousedown","mouseup"],d);var h;g.$$(n).on("touchstart",function(){h=window.setTimeout(d,1e3)}),g.$$(n).on("touchend",function(){h&&clearTimeout(h)})}return p.renderUri(n,u),p.bindEventToOpen(),p}return i(t,e),t.prototype.renderUri=function(e,t){if(/^\s*$/.test(this.element.innerHTML))if(this.options.titleTemplate){var n=this.parseStringTemplate(this.options.titleTemplate);this.element.innerHTML=n?v.StreamHighlightUtils.highlightStreamText(n,this.result.termsToHighlight,this.result.phrasesToHighlight):this.result.clickUri}else this.element.innerHTML=this.result.title?l.HighlightUtils.highlightString(this.result.title,this.result.titleHighlights,null,"coveo-highlight"):this.result.clickUri},t.prototype.openLink=function(e){void 0===e&&(e=!0),e&&this.logOpenDocument(),window.location.href=this.getResultUri()},t.prototype.openLinkInNewWindow=function(e){void 0===e&&(e=!0),e&&this.logOpenDocument(),window.open(this.getResultUri(),"_blank")},t.prototype.openLinkInOutlook=function(e){void 0===e&&(e=!0),this.hasOutlookField()&&(e&&this.logOpenDocument(),this.openLink())},t.prototype.openLinkAsConfigured=function(e){void 0===e&&(e=!0),this.toExecuteOnOpen&&(e&&this.logOpenDocument(),this.toExecuteOnOpen())},t.prototype.bindEventToOpen=function(){return this.bindOnClickIfNotUndefined()||this.bindOpenQuickviewIfNotUndefined()||this.setHrefIfNotAlready()||this.openLinkThatIsNotAnAnchor()},t.prototype.addHeadingRoleIfFirstResultLink=function(){this.isFirstResultLink&&(this.element.setAttribute("role","heading"),this.element.setAttribute("aria-level","2"))},Object.defineProperty(t.prototype,"isFirstResultLink",{get:function(){var e=g.$$(this.element).closest("CoveoResult");if(!e)return!1;var n="."+o.Component.computeCssClassNameForType(t.ID);return g.$$(e).find(n)===this.element},enumerable:!0,configurable:!0}),t.prototype.bindOnClickIfNotUndefined=function(){var e=this;return void 0!=this.options.onClick&&(this.toExecuteOnOpen=function(t){e.options.onClick.call(e,t,e.result)},(new S.AccessibleButton).withElement(this.element).withLabel(this.result.title).withSelectAction(function(t){return e.toExecuteOnOpen(t)}).build(),!0)},t.prototype.bindOpenQuickviewIfNotUndefined=function(){var e=this;return!!this.quickviewShouldBeOpened()&&(this.toExecuteOnOpen=function(){g.$$(e.bindings.resultElement).trigger(u.ResultListEvents.openQuickview)},g.$$(this.element).on("click",function(t){t.preventDefault(),e.toExecuteOnOpen()}),!0)},t.prototype.openLinkThatIsNotAnAnchor=function(){var e=this;return!this.elementIsAnAnchor()&&(this.toExecuteOnOpen=function(){e.options.alwaysOpenInNewWindow?e.options.openInOutlook?e.openLinkInOutlook():e.openLinkInNewWindow():e.openLink()},g.$$(this.element).on("click",function(){e.toExecuteOnOpen()}),!0)},t.prototype.setHrefIfNotAlready=function(){return!(!this.elementIsAnAnchor()||m.Utils.isNonEmptyString(g.$$(this.element).getAttribute("href")))&&(g.$$(this.element).setAttribute("href",this.getResultUri()),!this.options.alwaysOpenInNewWindow||this.options.openInOutlook&&this.hasOutlookField()||g.$$(this.element).setAttribute("target","_blank"),!0)},t.prototype.getResultUri=function(){return this.options.hrefTemplate?this.parseStringTemplate(this.options.hrefTemplate):(void 0==this.options.field&&this.options.openInOutlook&&this.setField(),void 0!=this.options.field?m.Utils.getFieldValue(this.result,this.options.field):this.result.clickUri)},t.prototype.elementIsAnAnchor=function(){return"A"==this.element.tagName},t.prototype.setField=function(){var e=m.Utils.exists(this.os)?this.os:p.OSUtils.get();e==p.OS_NAME.MACOSX&&this.hasOutlookField()?this.options.field="@outlookformacuri":e==p.OS_NAME.WINDOWS&&this.hasOutlookField()&&(this.options.field="@outlookuri")},t.prototype.hasOutlookField=function(){var e=m.Utils.exists(this.os)?this.os:p.OSUtils.get();return e==p.OS_NAME.MACOSX&&void 0!=this.result.raw.outlookformacuri||e==p.OS_NAME.WINDOWS&&void 0!=this.result.raw.outlookuri},t.prototype.isUriThatMustBeOpenedInQuickview=function(){return 0==this.result.clickUri.toLowerCase().indexOf("ldap://")},t.prototype.quickviewShouldBeOpened=function(){return(this.options.openQuickview||this.isUriThatMustBeOpenedInQuickview())&&h.QueryUtils.hasHTMLVersion(this.result)},t.prototype.parseStringTemplate=function(e){var t=this;return e?e.replace(/\$\{(.*?)\}/g,function(e){var n=e.substring(2,e.length-1),i=t.readFromObject(t.result,n);return i||(i=t.readFromObject(window,n)),i||t.logger.warn(n+" used in the ResultLink template is undefined for this result: "+t.result.title),i||e}):""},t.prototype.readFromObject=function(e,t){if(e&&-1!==t.indexOf(".")){var n=t.substring(t.indexOf(".")+1);return t=t.substring(0,t.indexOf(".")),this.readFromObject(e[t],n)}return e?e[t]:void 0},t.ID="ResultLink",t.doExport=function(){C.exportGlobally({ResultLink:t})},t.options={field:r.ComponentOptions.buildFieldOption(),openInOutlook:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),openQuickview:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),alwaysOpenInNewWindow:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),hrefTemplate:r.ComponentOptions.buildStringOption(),titleTemplate:r.ComponentOptions.buildStringOption(),onClick:r.ComponentOptions.buildCustomOption(function(){return null})},t}(o.Component);t.ResultLink=w,d.Initialization.registerAutoCreateComponent(w)},function(module,exports,__webpack_require__){"use strict";function showOnlyWithHelper(e,t){return null==t&&(t={}),t.helpers=e,t}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var underscore_1=__webpack_require__(0),GlobalExports_1=__webpack_require__(3),Assert_1=__webpack_require__(5),QueryStateModel_1=__webpack_require__(13),AccessibleButton_1=__webpack_require__(17),DateUtils_1=__webpack_require__(29),Dom_1=__webpack_require__(1),StringUtils_1=__webpack_require__(19),Utils_1=__webpack_require__(4),AnalyticsActionListMeta_1=__webpack_require__(9),Component_1=__webpack_require__(6),ComponentOptions_1=__webpack_require__(8),Initialization_1=__webpack_require__(2),FacetUtils_1=__webpack_require__(46),TemplateHelpers_1=__webpack_require__(110),Strings_1=__webpack_require__(7),DynamicFacet_1=__webpack_require__(88),FieldValue=function(_super){function FieldValue(e,t,n,i,o){void 0===o&&(o=FieldValue.ID);var r=_super.call(this,e,o,n)||this;r.element=e,r.options=t,r.result=i,r.options=ComponentOptions_1.ComponentOptions.initOptions(e,FieldValue.simpleOptions,t),null!=r.options.helper&&r.normalizeHelperAndOptions(),r.result=r.result||r.resolveResult(),Assert_1.Assert.exists(r.result);var s=r.getValue();if(null==s)null!=r.element.parentElement&&r.element.parentElement.removeChild(r.element);else{var a=void 0;underscore_1.isArray(s)?a=s:r.options.splitValues?underscore_1.isString(s)&&(a=underscore_1.map(s.split(r.options.separator),function(e){return e.trim()})):(s=s.toString(),a=[s]),r.appendValuesToDom(a),null!=r.options.textCaption&&r.prependTextCaptionToDom()}return r}return __extends(FieldValue,_super),FieldValue.prototype.getValue=function(){var e=Utils_1.Utils.getFieldValue(this.result,this.options.field);return!underscore_1.isArray(e)&&underscore_1.isObject(e)&&(e=null),e},FieldValue.prototype.renderOneValue=function(e){var t=Dom_1.$$("span").el,n=FacetUtils_1.FacetUtils.tryToGetTranslatedCaption(this.options.field,e);if(this.options.helper){var i=TemplateHelpers_1.TemplateHelpers.getHelper(this.options.helper+"v2")||TemplateHelpers_1.TemplateHelpers.getHelper(""+this.options.helper);Utils_1.Utils.exists(i)?n=i.call(this,e,this.getHelperOptions()):this.logger.warn("Helper "+this.options.helper+" is not found in available helpers. The list of supported helpers is :",underscore_1.keys(TemplateHelpers_1.TemplateHelpers.getHelpers()));var o=this.getFullDate(e,this.options.helper);o&&t.setAttribute("title",o),"date"!=this.options.helper&&"dateTime"!=this.options.helper&&"emailDateTime"!=this.options.helper||(n=StringUtils_1.StringUtils.capitalizeFirstLetter(n))}return this.options.htmlValue?t.innerHTML=n:t.appendChild(document.createTextNode(n)),this.bindEventOnValue(t,e,n),t},FieldValue.prototype.getValueContainer=function(){return this.element},FieldValue.prototype.normalizeHelperAndOptions=function(){var e=this;this.options=ComponentOptions_1.ComponentOptions.initOptions(this.element,FieldValue.helperOptions,this.options);var t=underscore_1.keys(FieldValue.options.helperOptions.subOptions),n=underscore_1.filter(t,function(t){var n=FieldValue.options.helperOptions.subOptions[t];if(n){var i=n.helpers;return null!=i&&underscore_1.contains(i,e.options.helper)}return!1});this.options.helperOptions=underscore_1.omit(this.options.helperOptions,function(e,t){return!underscore_1.contains(n,t)})},FieldValue.prototype.getHelperOptions=function(){var inlineOptions=ComponentOptions_1.ComponentOptions.loadStringOption(this.element,"helperOptions",{});return Utils_1.Utils.isNonEmptyString(inlineOptions)?underscore_1.extend({},this.options.helperOptions,eval("("+inlineOptions+")")):this.options.helperOptions},FieldValue.prototype.getFullDate=function(e,t){var n={useLongDateFormat:!0,useTodayYesterdayAndTomorrow:!1,useWeekdayIfThisWeek:!1,omitYearIfCurrentOne:!1};return"date"==t?DateUtils_1.DateUtils.dateToString(new Date(parseInt(e)),n):"dateTime"==t||"emailDateTime"==t?DateUtils_1.DateUtils.dateTimeToString(new Date(parseInt(e)),n):""},FieldValue.prototype.appendValuesToDom=function(e){var t=this;underscore_1.each(e,function(n,i){void 0!=n&&(t.getValueContainer().appendChild(t.renderOneValue(n)),i!==e.length-1&&t.getValueContainer().appendChild(document.createTextNode(t.options.displaySeparator)))})},FieldValue.prototype.renderTextCaption=function(){return Dom_1.$$("span",{className:"coveo-field-caption"},underscore_1.escape(this.options.textCaption)).el},FieldValue.prototype.prependTextCaptionToDom=function(){var e=this.getValueContainer();Dom_1.$$(e).prepend(this.renderTextCaption()),Dom_1.$$(e).addClass("coveo-with-label")},FieldValue.prototype.bindEventOnValue=function(e,t,n){this.bindFacets(e,t,n),this.bindDynamicFacets(e,t,n)},FieldValue.prototype.bindFacets=function(e,t,n){var i=this,o=QueryStateModel_1.QueryStateModel.getFacetId(this.options.facet),r=underscore_1.filter(this.componentStateModel.get(o),function(e){var t=!0,n=-1!==e.type.indexOf("Dynamic"),i=Component_1.Component.getComponentRef("FacetRange"),o=Component_1.Component.getComponentRef("FacetSlider");return!e.disabled&&!n&&(t&&i&&(t=!(e instanceof i)),t&&o&&(t=!(e instanceof o)),t)});if(r.length){var s=!!underscore_1.find(r,function(e){var n=e.values.get(t);return n&&n.selected}),a=function(){return i.handleFacetSelection(s,r,t)};this.buildClickableElement(e,!!s,n,a)}},FieldValue.prototype.getDynamicFacets=function(){var e=QueryStateModel_1.QueryStateModel.getFacetId(this.options.facet);return underscore_1.filter(this.componentStateModel.get(e),function(e){return e.type===DynamicFacet_1.DynamicFacet.ID&&!e.disabled})},FieldValue.prototype.bindDynamicFacets=function(e,t,n){var i=this,o=this.getDynamicFacets();if(o.length){var r=!!underscore_1.find(o,function(e){return e.values.hasSelectedValue(t)}),s=function(){return i.handleDynamicFacetSelection(r,o,t)};this.buildClickableElement(e,r,n,s)}},FieldValue.prototype.buildClickableElement=function(e,t,n,i){var o=t?Strings_1.l("RemoveFilterOn",n):Strings_1.l("FilterOn",n);(new AccessibleButton_1.AccessibleButton).withTitle(o).withLabel(o).withElement(e).withSelectAction(i).build(),t&&Dom_1.$$(e).addClass("coveo-selected"),Dom_1.$$(e).addClass("coveo-clickable")},FieldValue.prototype.handleFacetSelection=function(e,t,n){t.forEach(function(t){e?t.deselectValue(n):t.selectValue(n)}),this.executeQuery(n)},FieldValue.prototype.handleDynamicFacetSelection=function(e,t,n){t.forEach(function(t){e?t.deselectValue(n):t.selectValue(n)}),this.executeQuery(n)},FieldValue.prototype.executeQuery=function(e){var t=this;this.queryController.deferExecuteQuery({beforeExecuteQuery:function(){return t.usageAnalytics.logSearchEvent(AnalyticsActionListMeta_1.analyticsActionCauseList.documentField,{facetId:t.options.facet,facetField:t.options.field.toString(),facetValue:e.toLowerCase()})}})},FieldValue.ID="FieldValue",FieldValue.doExport=function(){GlobalExports_1.exportGlobally({FieldValue:FieldValue})},FieldValue.options={field:ComponentOptions_1.ComponentOptions.buildFieldOption({defaultValue:"@field",required:!0}),facet:ComponentOptions_1.ComponentOptions.buildStringOption({postProcessing:function(e,t){return e||t.field}}),htmlValue:ComponentOptions_1.ComponentOptions.buildBooleanOption({defaultValue:!1}),splitValues:ComponentOptions_1.ComponentOptions.buildBooleanOption({defaultValue:!1}),separator:ComponentOptions_1.ComponentOptions.buildStringOption({depend:"splitValues",defaultValue:";"}),displaySeparator:ComponentOptions_1.ComponentOptions.buildStringOption({depend:"splitValues",defaultValue:", "}),helper:ComponentOptions_1.ComponentOptions.buildHelperOption(),helperOptions:ComponentOptions_1.ComponentOptions.buildObjectOption({subOptions:{text:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["anchor"])),target:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["anchor"])),class:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["anchor"])),decimals:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["currency"],{min:0})),symbol:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["currency"])),useTodayYesterdayAndTomorrow:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),useWeekdayIfThisWeek:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),omitYearIfCurrentOne:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),useLongDateFormat:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!1})),includeTimeIfToday:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),includeTimeIfThisWeek:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),alwaysIncludeTime:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!1})),predefinedFormat:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"])),companyDomain:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["email"])),me:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["email"])),lengthLimit:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["email"],{min:1})),truncateName:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["email"])),alt:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["image"])),height:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["image"])),width:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["image"])),precision:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["size"],{min:0,defaultValue:2})),base:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["size"],{min:0,defaultValue:0})),isMilliseconds:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["timeSpan"])),length:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["shorten","shortenPath","shortenUri"],{defaultValue:200}))}}),textCaption:ComponentOptions_1.ComponentOptions.buildLocalizedStringOption()},FieldValue.simpleOptions=underscore_1.omit(FieldValue.options,"helperOptions"),FieldValue.helperOptions={helperOptions:FieldValue.options.helperOptions},FieldValue}(Component_1.Component);exports.FieldValue=FieldValue,Initialization_1.Initialization.registerAutoCreateComponent(FieldValue)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);n(525);var o=n(3),r=function(){function e(e,t,n){void 0===e&&(e=function(e){}),this.onChange=e,this.label=t,this.name=n,this.buildContent()}return e.doExport=function(){o.exportGlobally({RadioButton:e})},e.prototype.reset=function(){var e=this.isSelected();this.getRadio().checked=!1,e&&this.onChange(this)},e.prototype.select=function(e){void 0===e&&(e=!0);var t=this.isSelected();this.getRadio().checked=!0,!t&&e&&this.onChange(this)},e.prototype.build=function(){return this.element},e.prototype.getElement=function(){return this.element},e.prototype.getValue=function(){return this.label},e.prototype.isSelected=function(){return this.getRadio().checked},e.prototype.getRadio=function(){return i.$$(this.element).find("input")},e.prototype.getLabel=function(){return i.$$(this.element).find("label")},e.prototype.buildContent=function(){var e=this,t=i.$$("div",{className:"coveo-radio"}),n=i.$$("input",{type:"radio",name:this.name,id:this.label}),o=i.$$("label",{className:"coveo-radio-input-label",for:this.label});o.text(this.label),n.on("change",function(){e.onChange(e)}),t.append(n.el),t.append(o.el),this.element=t.el},e}();t.RadioButton=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(7),r=n(1),s=n(14),a=n(12),u=function(){function e(e,t,n,i){void 0===e&&(e=function(e){}),void 0===t&&(t=0),this.onChange=e,this.min=t,this.max=n,this.label=i,this.buildContent(),this.bindEvents()}return e.doExport=function(){i.exportGlobally({NumericSpinner:e})},e.prototype.reset=function(){this.getSpinnerInput().value="",this.onChange(this)},e.prototype.getElement=function(){return this.element},e.prototype.getValue=function(){return this.getSpinnerInput().value},e.prototype.getIntValue=function(){return this.getSpinnerInput().value?parseInt(this.getSpinnerInput().value,10):this.min},e.prototype.getFloatValue=function(){return this.getSpinnerInput().value?parseFloat(this.getSpinnerInput().value):this.min},e.prototype.setValue=function(e){this.max&&e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.getSpinnerInput().value=e.toString(),this.onChange(this)},e.prototype.build=function(){return this.element},e.prototype.buildContent=function(){var e=r.$$("div",{className:"coveo-numeric-spinner"}),t=r.$$("input",{className:"coveo-number-input",type:"text","aria-label":this.label?o.l(this.label):""}),n=r.$$("span",{className:"coveo-add-on"}),i=r.$$("div",{className:"coveo-spinner-up"},a.SVGIcons.icons.arrowUp);s.SVGDom.addClassToSVGInContainer(i.el,"coveo-spinner-up-svg");var u=r.$$("div",{className:"coveo-spinner-down"},a.SVGIcons.icons.arrowDown);s.SVGDom.addClassToSVGInContainer(u.el,"coveo-spinner-down-svg"),n.append(i.el),n.append(u.el),e.append(t.el),e.append(n.el),this.element=e.el},e.prototype.bindEvents=function(){var e=this,t=r.$$(this.element).find(".coveo-spinner-up");r.$$(t).on("click",function(){e.setValue(e.getFloatValue()+1)});var n=r.$$(this.element).find(".coveo-spinner-down");r.$$(n).on("click",function(){e.setValue(e.getFloatValue()-1)});var i=r.$$(this.element).find("input");r.$$(i).on("input",function(){i.value.match(/[0-9]*/)&&e.onChange(e)})},e.prototype.getSpinnerInput=function(){return r.$$(this.element).find(".coveo-number-input")},e}();t.NumericSpinner=u},function(e,t,n){"use strict";function i(e){e.logSearchEvent(r.analyticsActionCauseList.searchboxSubmit,{})}function o(e,t){e.logSearchEvent(r.analyticsActionCauseList.resultsSort,{resultsSortBy:t})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.logSearchBoxSubmitEvent=i,t.logSortEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(137);t.ColorUtils=i.ColorUtils;var o=n(70);t.Cookie=o.Cookie;var r=n(125);t.CurrencyUtils=r.CurrencyUtils;var s=n(29);t.DateUtils=s.DateUtils;var a=n(22);t.DeviceUtils=a.DeviceUtils;var u=n(1);t.Dom=u.Dom,t.$$=u.$$;var l=n(79);t.DomUtils=l.DomUtils;var c=n(167);t.EmailUtils=c.EmailUtils;var p=n(45);t.HashUtils=p.HashUtils;var d=n(64);t.HighlightUtils=d.HighlightUtils,t.StringAndHoles=d.StringAndHoles;var h=n(168);t.HTMLUtils=h.HTMLUtils;var f=n(26);t.KEYBOARD=f.KEYBOARD,t.KeyboardUtils=f.KeyboardUtils;var m=n(44);t.LocalStorageUtils=m.LocalStorageUtils;var y=n(172);t.OSUtils=y.OSUtils,t.OS_NAME=y.OS_NAME;var g=n(130);t.PopupUtils=g.PopupUtils;var v=n(21);t.QueryUtils=v.QueryUtils;var b=n(108);t.StreamHighlightUtils=b.StreamHighlightUtils;var C=n(19);t.StringUtils=C.StringUtils;var S=n(65);t.TimeSpan=S.TimeSpan;var w=n(4);t.Utils=w.Utils;var x=n(39);t.UrlUtils=x.UrlUtils},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(106),r=n(1),s=n(15),a=n(18),u=n(6),l=n(13),c=n(0),p=function(e){function t(t,n,i,o){var a=e.call(this,t,n,i,o)||this;return a.root=t,a.endpoint=n,a.templateSearchEvent=i,a.sendToCloud=o,a.delayBeforeSending=5e3,a.queryContent="",a.beforeUnloadHandler=function(){a.onWindowUnload()},window.addEventListener("beforeunload",a.beforeUnloadHandler),r.$$(t).on(s.InitializationEvents.nuke,function(){return a.handleNuke()}),a}return i(t,e),t.prototype.handleDuringQuery=function(t,n){var i=this,o=c.clone(t),r=t.target,s=u.Component.get(r,a.SearchInterface);this.modifyQueryContent(s.queryStateModel.get(l.QueryStateModel.attributesEnum.q)),this.beforeResolve=new Promise(function(t){i.toSendRightNow=function(){i.isCancelledOrFinished()||(t(i),e.prototype.handleDuringQuery.call(i,o,n,i.queryContent))},c.delay(function(){i.toSendRightNow()},i.delayBeforeSending)})},t.prototype.sendRightNow=function(){this.toSendRightNow&&this.toSendRightNow()},t.prototype.modifyCustomData=function(e,t){c.each(this.searchEvents,function(n){n.customData[e]=t}),this.templateSearchEvent.customData||(this.templateSearchEvent.customData={}),this.templateSearchEvent.customData[e]=t},t.prototype.modifyEventCause=function(e){c.each(this.searchEvents,function(t){t.actionCause=e.name,t.actionType=e.type}),this.templateSearchEvent.actionCause=e.name,this.templateSearchEvent.actionType=e.type},t.prototype.modifyQueryContent=function(e){this.queryContent=e},t.prototype.stopRecording=function(){e.prototype.stopRecording.call(this),this.beforeUnloadHandler&&(window.removeEventListener("beforeunload",this.beforeUnloadHandler),this.beforeUnloadHandler=void 0)},t.prototype.handleNuke=function(){window.removeEventListener("beforeunload",this.beforeUnloadHandler)},t.prototype.onWindowUnload=function(){this.isCancelledOrFinished()||this.sendRightNow()},t.prototype.isCancelledOrFinished=function(){return!!this.cancelled||!!this.finished&&(this.cancel(),!0)},t}(o.PendingSearchEvent);t.PendingSearchAsYouTypeSearchEvent=p},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return Ai.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return _t(e,t,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=d()),e._pf}function f(e){if(null==e._isValid){var t=h(e),n=Ti.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=p(NaN);return null!=e?c(h(t),e):h(t).userInvalidated=!0,t}function y(e,t){var n,i,o;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=h(t)),r(t._locale)||(e._locale=t._locale),Ri.length>0)for(n=0;n<Ri.length;n++)i=Ri[n],o=t[i],r(o)||(e[i]=o);return e}function g(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ii&&(Ii=!0,t.updateOffset(this),Ii=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function S(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;i<o;i++)(n&&e[i]!==t[i]||!n&&C(e[i])!==C(t[i]))&&s++;return s+r}function w(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,n){var i=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var o,r=[],s=0;s<arguments.length;s++){if(o="","object"==typeof arguments[s]){o+="\n["+s+"] ";for(var a in arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[s];r.push(o)}w(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function _(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Fi[e]||(w(n),Fi[e]=!0)}function O(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e){var t,n;for(n in e)t=e[n],O(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,o=c({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(o[n]={},c(o[n],e[n]),c(o[n],t[n])):null!=t[n]?o[n]=t[n]:delete o[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(o[n]=c({},o[n]));return o}function T(e){null!=e&&this.set(e)}function R(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return O(i)?i.call(t,n):i}function I(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function F(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function D(e,t,n,i){var o=this._relativeTime[n];return O(o)?o(e,t,n,i):o.replace(/%d/i,e)}function P(e,t){var n=this._relativeTime[e>0?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)}function $(e,t){var n=e.toLowerCase();ki[n]=ki[n+"s"]=ki[t]=e}function N(e){return"string"==typeof e?ki[e]||ki[e.toLowerCase()]:void 0}function k(e){var t,n,i={};for(n in e)l(e,n)&&(t=N(n))&&(i[t]=e[n]);return i}function V(e,t){Vi[e]=t}function L(e){var t=[];for(var n in e)t.push({unit:n,priority:Vi[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(e,t,n){var i=""+Math.abs(e),o=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function Q(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(Ui[e]=o),t&&(Ui[t[0]]=function(){return B(o.apply(this,arguments),t[1],t[2])}),n&&(Ui[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e){var t,n,i=e.match(Li);for(t=0,n=i.length;t<n;t++)Ui[i[t]]?i[t]=Ui[i[t]]:i[t]=U(i[t]);return function(t){var o,r="";for(o=0;o<n;o++)r+=O(i[o])?i[o].call(t,e):i[o];return r}}function q(e,t){return e.isValid()?(t=H(t,e.localeData()),Qi[t]=Qi[t]||j(t),Qi[t](e)):e.localeData().invalidDate()}function H(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Bi.lastIndex=0;i>=0&&Bi.test(e);)e=e.replace(Bi,n),Bi.lastIndex=0,i-=1;return e}function z(e,t,n){so[e]=O(t)?t:function(e,i){return e&&n?n:t}}function W(e,t){return l(so,e)?so[e](t._strict,t._locale):new RegExp(G(e))}function G(e){return Y(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o}))}function Y(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),s(t)&&(i=function(e,n){n[t]=C(e)}),n=0;n<e.length;n++)ao[e[n]]=i}function J(e,t){K(e,function(e,n,i,o){i._w=i._w||{},t(e,i._w,i,o)})}function X(e,t,n){null!=t&&l(ao,e)&&ao[e](t,n._a,n,e)}function Z(e){return ee(e)?366:365}function ee(e){return e%4==0&&e%100!=0||e%400==0}function te(){return ee(this.year())}function ne(e,n){return function(i){return null!=i?(oe(this,e,i),t.updateOffset(this,n),this):ie(this,e)}}function ie(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function oe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function re(e){return e=N(e),O(this[e])?this[e]():this}function se(e,t){if("object"==typeof e){e=k(e);for(var n=L(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=N(e),O(this[e]))return this[e](t);return this}function ae(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ae(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function le(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Co).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ce(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Co.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function pe(e,t,n){var i,o,r,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(o=vo.call(this._shortMonthsParse,s),-1!==o?o:null):(o=vo.call(this._longMonthsParse,s),-1!==o?o:null):"MMM"===t?-1!==(o=vo.call(this._shortMonthsParse,s))?o:(o=vo.call(this._longMonthsParse,s),-1!==o?o:null):-1!==(o=vo.call(this._longMonthsParse,s))?o:(o=vo.call(this._shortMonthsParse,s),-1!==o?o:null)}function de(e,t,n){var i,o,r;if(this._monthsParseExact)return pe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function he(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=C(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function fe(e){return null!=e?(he(this,e),t.updateOffset(this,!0),this):ie(this,"Month")}function me(){return ue(this.year(),this.month())}function ye(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=xo),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=_o),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ve(){function e(e,t){return t.length-e.length}var t,n,i=[],o=[],r=[];for(t=0;t<12;t++)n=p([2e3,t]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(e),o.sort(e),r.sort(e),t=0;t<12;t++)i[t]=Y(i[t]),o[t]=Y(o[t]);for(t=0;t<24;t++)r[t]=Y(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function be(e,t,n,i,o,r,s){var a=new Date(e,t,n,i,o,r,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function Ce(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Se(e,t,n){var i=7+t-n;return-(7+Ce(e,0,i).getUTCDay()-t)%7+i-1}function we(e,t,n,i,o){var r,s,a=(7+n-i)%7,u=Se(e,i,o),l=1+7*(t-1)+a+u;return l<=0?(r=e-1,s=Z(r)+l):l>Z(e)?(r=e+1,s=l-Z(e)):(r=e,s=l),{year:r,dayOfYear:s}}function xe(e,t,n){var i,o,r=Se(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return s<1?(o=e.year()-1,i=s+_e(o,t,n)):s>_e(e.year(),t,n)?(i=s-_e(e.year(),t,n),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function _e(e,t,n){var i=Se(e,t,n),o=Se(e+1,t,n);return(Z(e)-i+o)/7}function Oe(e){return xe(e,this._week.dow,this._week.doy).week}function Ee(){return this._week.dow}function Ae(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Re(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ie(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Fe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Me(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function De(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Pe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function $e(e,t,n){var i,o,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(o=vo.call(this._weekdaysParse,s),-1!==o?o:null):"ddd"===t?(o=vo.call(this._shortWeekdaysParse,s),-1!==o?o:null):(o=vo.call(this._minWeekdaysParse,s),-1!==o?o:null):"dddd"===t?-1!==(o=vo.call(this._weekdaysParse,s))?o:-1!==(o=vo.call(this._shortWeekdaysParse,s))?o:(o=vo.call(this._minWeekdaysParse,s),-1!==o?o:null):"ddd"===t?-1!==(o=vo.call(this._shortWeekdaysParse,s))?o:-1!==(o=vo.call(this._weekdaysParse,s))?o:(o=vo.call(this._minWeekdaysParse,s),-1!==o?o:null):-1!==(o=vo.call(this._minWeekdaysParse,s))?o:-1!==(o=vo.call(this._weekdaysParse,s))?o:(o=vo.call(this._shortWeekdaysParse,s),-1!==o?o:null)}function Ne(e,t,n){var i,o,r;if(this._weekdaysParseExact)return $e.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function ke(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ie(e,this.localeData()),this.add(e-t,"d")):t}function Ve(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Le(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Fe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Be(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ro),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qe(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Io),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fo),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function je(){function e(e,t){return t.length-e.length}var t,n,i,o,r,s=[],a=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),s.push(i),a.push(o),u.push(r),l.push(i),l.push(o),l.push(r);for(s.sort(e),a.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)a[t]=Y(a[t]),u[t]=Y(u[t]),l[t]=Y(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function qe(){return this.hours()%12||12}function He(){return this.hours()||24}function ze(e,t){Q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ye(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ke(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e){for(var t,n,i,o,r=0;r<e.length;){for(o=Ke(e[r]).split("-"),t=o.length,n=Ke(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=Xe(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&S(o,n,!0)>=t-1)break;t--}r++}return null}function Xe(t){var n=null;if(!No[t]&&void 0!==e&&e&&e.exports)try{n=Mo._abbr;!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),Ze(n)}catch(e){}return No[t]}function Ze(e,t){var n;return e&&(n=r(t)?nt(e):et(e,t))&&(Mo=n),Mo._abbr}function et(e,t){if(null!==t){var n=$o;if(t.abbr=e,null!=No[e])_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=No[e]._config;else if(null!=t.parentLocale){if(null==No[t.parentLocale])return ko[t.parentLocale]||(ko[t.parentLocale]=[]),ko[t.parentLocale].push({name:e,config:t}),null;n=No[t.parentLocale]._config}return No[e]=new T(A(n,t)),ko[e]&&ko[e].forEach(function(e){et(e.name,e.config)}),Ze(e),No[e]}return delete No[e],null}function tt(e,t){if(null!=t){var n,i,o=$o;i=Xe(e),null!=i&&(o=i._config),t=A(o,t),n=new T(t),n.parentLocale=No[e],No[e]=n,Ze(e)}else null!=No[e]&&(null!=No[e].parentLocale?No[e]=No[e].parentLocale:null!=No[e]&&delete No[e]);return No[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Mo;if(!n(e)){if(t=Xe(e))return t;e=[e]}return Je(e)}function it(){return Mi(No)}function ot(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[lo]<0||n[lo]>11?lo:n[co]<1||n[co]>ue(n[uo],n[lo])?co:n[po]<0||n[po]>24||24===n[po]&&(0!==n[ho]||0!==n[fo]||0!==n[mo])?po:n[ho]<0||n[ho]>59?ho:n[fo]<0||n[fo]>59?fo:n[mo]<0||n[mo]>999?mo:-1,h(e)._overflowDayOfYear&&(t<uo||t>co)&&(t=co),h(e)._overflowWeeks&&-1===t&&(t=yo),h(e)._overflowWeekday&&-1===t&&(t=go),h(e).overflow=t),e}function rt(e,t,n){return null!=e?e:null!=t?t:n}function st(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function at(e){var t,n,i,o,r,s=[];if(!e._d){for(i=st(e),e._w&&null==e._a[co]&&null==e._a[lo]&&ut(e),null!=e._dayOfYear&&(r=rt(e._a[uo],i[uo]),(e._dayOfYear>Z(r)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=Ce(r,0,e._dayOfYear),e._a[lo]=n.getUTCMonth(),e._a[co]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[po]&&0===e._a[ho]&&0===e._a[fo]&&0===e._a[mo]&&(e._nextDay=!0,e._a[po]=0),e._d=(e._useUTC?Ce:be).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[po]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}function ut(e){var t,n,i,o,r,s,a,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,s=4,n=rt(t.GG,e._a[uo],xe(Ot(),1,4).year),i=rt(t.W,1),((o=rt(t.E,1))<1||o>7)&&(u=!0);else{r=e._locale._week.dow,s=e._locale._week.doy;var l=xe(Ot(),r,s);n=rt(t.gg,e._a[uo],l.year),i=rt(t.w,l.week),null!=t.d?((o=t.d)<0||o>6)&&(u=!0):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(u=!0)):o=r}i<1||i>_e(n,r,s)?h(e)._overflowWeeks=!0:null!=u?h(e)._overflowWeekday=!0:(a=we(n,i,o,r,s),e._a[uo]=a.year,e._dayOfYear=a.dayOfYear)}function lt(e){var t,n,i,o,r,s,a=e._i,u=Vo.exec(a)||Lo.exec(a);if(u){for(h(e).iso=!0,t=0,n=Qo.length;t<n;t++)if(Qo[t][1].exec(u[1])){o=Qo[t][0],i=!1!==Qo[t][2];break}if(null==o)return void(e._isValid=!1);if(u[3]){for(t=0,n=Uo.length;t<n;t++)if(Uo[t][1].exec(u[3])){r=(u[2]||" ")+Uo[t][0];break}if(null==r)return void(e._isValid=!1)}if(!i&&null!=r)return void(e._isValid=!1);if(u[4]){if(!Bo.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=o+(r||"")+(s||""),gt(e)}else e._isValid=!1}function ct(e,t,n,i,o,r){var s=[pt(e),wo.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return r&&s.push(parseInt(r,10)),s}function pt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function dt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function ht(e,t,n){if(e){if(Ao.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return h(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ft(e,t,n){if(e)return Ho[e];if(t)return 0;var i=parseInt(n,10),o=i%100;return(i-o)/100*60+o}function mt(e){var t=qo.exec(dt(e._i));if(t){var n=ct(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ht(t[1],n,e))return;e._a=n,e._tzm=ft(t[8],t[9],t[10]),e._d=Ce.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function yt(e){var n=jo.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));lt(e),!1===e._isValid&&(delete e._isValid,mt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function gt(e){if(e._f===t.ISO_8601)return void lt(e);if(e._f===t.RFC_2822)return void mt(e);e._a=[],h(e).empty=!0;var n,i,o,r,s,a=""+e._i,u=a.length,l=0;for(o=H(e._f,e._locale).match(Li)||[],n=0;n<o.length;n++)r=o[n],i=(a.match(W(r,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&h(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),l+=i.length),Ui[r]?(i?h(e).empty=!1:h(e).unusedTokens.push(r),X(r,i,e)):e._strict&&!i&&h(e).unusedTokens.push(r);h(e).charsLeftOver=u-l,a.length>0&&h(e).unusedInput.push(a),e._a[po]<=12&&!0===h(e).bigHour&&e._a[po]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[po]=vt(e._locale,e._a[po],e._meridiem),at(e),ot(e)}function vt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function bt(e){var t,n,i,o,r;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],gt(t),f(t)&&(r+=h(t).charsLeftOver,r+=10*h(t).unusedTokens.length,h(t).score=r,(null==i||r<i)&&(i=r,n=t));c(e,n||t)}function Ct(e){if(!e._d){var t=k(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),at(e)}}function St(e){var t=new g(ot(wt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function wt(e){var t=e._i,i=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===i&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(ot(t)):(a(t)?e._d=t:n(i)?bt(e):i?gt(e):xt(e),f(e)||(e._d=null),e))}function xt(e){var o=e._i;r(o)?e._d=new Date(t.now()):a(o)?e._d=new Date(o.valueOf()):"string"==typeof o?yt(e):n(o)?(e._a=u(o.slice(0),function(e){return parseInt(e,10)}),at(e)):i(o)?Ct(e):s(o)?e._d=new Date(o):t.createFromInputFallback(e)}function _t(e,t,r,s,a){var u={};return!0!==r&&!1!==r||(s=r,r=void 0),(i(e)&&o(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=r,u._i=e,u._f=t,u._strict=s,St(u)}function Ot(e,t,n,i){return _t(e,t,n,i,!1)}function Et(e,t){var i,o;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ot();for(i=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](i)||(i=t[o]);return i}function At(){return Et("isBefore",[].slice.call(arguments,0))}function Tt(){return Et("isAfter",[].slice.call(arguments,0))}function Rt(e){for(var t in e)if(-1===vo.call(Yo,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Yo.length;++i)if(e[Yo[i]]){if(n)return!1;parseFloat(e[Yo[i]])!==C(e[Yo[i]])&&(n=!0)}return!0}function It(){return this._isValid}function Ft(){return Kt(NaN)}function Mt(e){var t=k(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=Rt(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=nt(),this._bubble()}function Dt(e){return e instanceof Mt}function Pt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function $t(e,t){Q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],o=(i+"").match(Ko)||["-",0,0],r=60*o[1]+C(o[2]);return 0===r?0:"+"===o[0]?r:-r}function kt(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(v(e)||a(e)?e.valueOf():Ot(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),t.updateOffset(i,!1),i):Ot(e).local()}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(e,n,i){var o,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Nt(io,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(o=Vt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==e&&(!n||this._changeInProgress?tn(this,Kt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Vt(this)}function Bt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Qt(e){return this.utcOffset(0,e)}function Ut(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this}function jt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(no,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function qt(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Ht(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zt(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=wt(e),e._a){var t=e._isUTC?p(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wt(){return!!this.isValid()&&!this._isUTC}function Gt(){return!!this.isValid()&&this._isUTC}function Yt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Kt(e,t){var n,i,o,r=e,a=null;return Dt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=Jo.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:C(a[co])*n,h:C(a[po])*n,m:C(a[ho])*n,s:C(a[fo])*n,ms:C(Pt(1e3*a[mo]))*n}):(a=Xo.exec(e))?(n="-"===a[1]?-1:(a[1],1),r={y:Jt(a[2],n),M:Jt(a[3],n),w:Jt(a[4],n),d:Jt(a[5],n),h:Jt(a[6],n),m:Jt(a[7],n),s:Jt(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Zt(Ot(r.from),Ot(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),i=new Mt(r),Dt(e)&&l(e,"_locale")&&(i._locale=e._locale),i}function Jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Zt(e,t){var n;return e.isValid()&&t.isValid()?(t=kt(t,e),e.isBefore(t)?n=Xt(e,t):(n=Xt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,i){var o,r;return null===i||isNaN(+i)||(_(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=Kt(n,i),tn(this,o,e),this}}function tn(e,n,i,o){var r=n._milliseconds,s=Pt(n._days),a=Pt(n._months);e.isValid()&&(o=null==o||o,a&&he(e,ie(e,"Month")+a*i),s&&oe(e,"Date",ie(e,"Date")+s*i),r&&e._d.setTime(e._d.valueOf()+r*i),o&&t.updateOffset(e,s||a))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function on(e,n){var i=e||Ot(),o=kt(i,this).startOf("day"),r=t.calendarFormat(this,o)||"sameElse",s=n&&(O(n[r])?n[r].call(this,i):n[r]);return this.format(s||this.localeData().calendar(r,this,Ot(i)))}function rn(){return new g(this)}function sn(e,t){var n=v(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&(t=N(r(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function an(e,t){var n=v(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&(t=N(r(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function un(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function ln(e,t){var n,i=v(e)?e:Ot(e);return!(!this.isValid()||!i.isValid())&&(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function cn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function pn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function dn(e,t,n){var i,o,r;if(!this.isValid())return NaN;if(i=kt(e,this),!i.isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),t=N(t)){case"year":r=hn(this,i)/12;break;case"month":r=hn(this,i);break;case"quarter":r=hn(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-o)/864e5;break;case"week":r=(this-i-o)/6048e5;break;default:r=this-i}return n?r:b(r)}function hn(e,t){var n,i,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return t-r<0?(n=e.clone().add(o-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(o+1,"months"),i=(t-r)/(n-r)),-(o+i)||0}function fn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+o)}function gn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=q(this,e);return this.localeData().postformat(n)}function vn(e,t){return this.isValid()&&(v(e)&&e.isValid()||Ot(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bn(e){return this.from(Ot(),e)}function Cn(e,t){return this.isValid()&&(v(e)&&e.isValid()||Ot(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Sn(e){return this.to(Ot(),e)}function wn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function xn(){return this._locale}function _n(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function On(e){return void 0===(e=N(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function En(){return this._d.valueOf()-6e4*(this._offset||0)}function An(){return Math.floor(this.valueOf()/1e3)}function Tn(){return new Date(this.valueOf())}function Rn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function In(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Fn(){return this.isValid()?this.toISOString():null}function Mn(){return f(this)}function Dn(){return c({},h(this))}function Pn(){return h(this).overflow}function $n(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Nn(e,t){Q(0,[e,e.length],0,t)}function kn(e){return Qn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vn(e){return Qn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ln(){return _e(this.year(),1,4)}function Bn(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)}function Qn(e,t,n,i,o){var r;return null==e?xe(this,i,o).year:(r=_e(e,i,o),t>r&&(t=r),Un.call(this,e,t,n,i,o))}function Un(e,t,n,i,o){var r=we(e,t,n,i,o),s=Ce(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function jn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function qn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Hn(e,t){t[mo]=C(1e3*("0."+e))}function zn(){return this._isUTC?"UTC":""}function Wn(){return this._isUTC?"Coordinated Universal Time":""}function Gn(e){return Ot(1e3*e)}function Yn(){return Ot.apply(null,arguments).parseZone()}function Kn(e){return e}function Jn(e,t,n,i){var o=nt(),r=p().set(i,t);return o[n](r,e)}function Xn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return Jn(e,t,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Jn(e,i,n,"month");return o}function Zn(e,t,n,i){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var o=nt(),r=e?o._week.dow:0;if(null!=n)return Jn(t,(n+r)%7,i,"day");var a,u=[];for(a=0;a<7;a++)u[a]=Jn(t,(a+r)%7,i,"day");return u}function ei(e,t){return Xn(e,t,"months")}function ti(e,t){return Xn(e,t,"monthsShort")}function ni(e,t,n){return Zn(e,t,n,"weekdays")}function ii(e,t,n){return Zn(e,t,n,"weekdaysShort")}function oi(e,t,n){return Zn(e,t,n,"weekdaysMin")}function ri(){var e=this._data;return this._milliseconds=lr(this._milliseconds),this._days=lr(this._days),this._months=lr(this._months),e.milliseconds=lr(e.milliseconds),e.seconds=lr(e.seconds),e.minutes=lr(e.minutes),e.hours=lr(e.hours),e.months=lr(e.months),e.years=lr(e.years),this}function si(e,t,n,i){var o=Kt(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function ai(e,t){return si(this,e,t,1)}function ui(e,t){return si(this,e,t,-1)}function li(e){return e<0?Math.floor(e):Math.ceil(e)}function ci(){var e,t,n,i,o,r=this._milliseconds,s=this._days,a=this._months,u=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*li(di(a)+s),s=0,a=0),u.milliseconds=r%1e3,e=b(r/1e3),u.seconds=e%60,t=b(e/60),u.minutes=t%60,n=b(t/60),u.hours=n%24,s+=b(n/24),o=b(pi(s)),a+=o,s-=li(di(o)),i=b(a/12),a%=12,u.days=s,u.months=a,u.years=i,this}function pi(e){return 4800*e/146097}function di(e){return 146097*e/4800}function hi(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=N(e))||"year"===e)return t=this._days+i/864e5,n=this._months+pi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(di(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function fi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN}function mi(e){return function(){return this.as(e)}}function yi(){return Kt(this)}function gi(e){return e=N(e),this.isValid()?this[e+"s"]():NaN}function vi(e){return function(){return this.isValid()?this._data[e]:NaN}}function bi(){return b(this.days()/7)}function Ci(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function Si(e,t,n){var i=Kt(e).abs(),o=Or(i.as("s")),r=Or(i.as("m")),s=Or(i.as("h")),a=Or(i.as("d")),u=Or(i.as("M")),l=Or(i.as("y")),c=o<=Er.ss&&["s",o]||o<Er.s&&["ss",o]||r<=1&&["m"]||r<Er.m&&["mm",r]||s<=1&&["h"]||s<Er.h&&["hh",s]||a<=1&&["d"]||a<Er.d&&["dd",a]||u<=1&&["M"]||u<Er.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,Ci.apply(null,c)}function wi(e){return void 0===e?Or:"function"==typeof e&&(Or=e,!0)}function xi(e,t){return void 0!==Er[e]&&(void 0===t?Er[e]:(Er[e]=t,"s"===e&&(Er.ss=t-1),!0))}function _i(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Si(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Oi(e){return(e>0)-(e<0)||+e}function Ei(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=Ar(this._milliseconds)/1e3,o=Ar(this._days),r=Ar(this._months);e=b(i/60),t=b(e/60),i%=60,e%=60,n=b(r/12),r%=12;var s=n,a=r,u=o,l=t,c=e,p=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=Oi(this._months)!==Oi(d)?"-":"",m=Oi(this._days)!==Oi(d)?"-":"",y=Oi(this._milliseconds)!==Oi(d)?"-":"";return h+"P"+(s?f+s+"Y":"")+(a?f+a+"M":"")+(u?m+u+"D":"")+(l||c||p?"T":"")+(l?y+l+"H":"")+(c?y+c+"M":"")+(p?y+p+"S":"")}var Ai,Ti;Ti=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var Ri=t.momentProperties=[],Ii=!1,Fi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Mi;Mi=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Di={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Pi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},$i=/\d{1,2}/,Ni={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ki={},Vi={},Li=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Bi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Qi={},Ui={},ji=/\d/,qi=/\d\d/,Hi=/\d{3}/,zi=/\d{4}/,Wi=/[+-]?\d{6}/,Gi=/\d\d?/,Yi=/\d\d\d\d?/,Ki=/\d\d\d\d\d\d?/,Ji=/\d{1,3}/,Xi=/\d{1,4}/,Zi=/[+-]?\d{1,6}/,eo=/\d+/,to=/[+-]?\d+/,no=/Z|[+-]\d\d:?\d\d/gi,io=/Z|[+-]\d\d(?::?\d\d)?/gi,oo=/[+-]?\d+(\.\d{1,3})?/,ro=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,so={},ao={},uo=0,lo=1,co=2,po=3,ho=4,fo=5,mo=6,yo=7,go=8;Q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),$("year","y"),V("year",1),z("Y",to),z("YY",Gi,qi),z("YYYY",Xi,zi),z("YYYYY",Zi,Wi),z("YYYYYY",Zi,Wi),K(["YYYYY","YYYYYY"],uo),K("YYYY",function(e,n){n[uo]=2===e.length?t.parseTwoDigitYear(e):C(e)}),K("YY",function(e,n){n[uo]=t.parseTwoDigitYear(e)}),K("Y",function(e,t){t[uo]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var vo,bo=ne("FullYear",!0);vo=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),$("month","M"),V("month",8),z("M",Gi),z("MM",Gi,qi),z("MMM",function(e,t){return t.monthsShortRegex(e)}),z("MMMM",function(e,t){return t.monthsRegex(e)}),K(["M","MM"],function(e,t){t[lo]=C(e)-1}),K(["MMM","MMMM"],function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[lo]=o:h(n).invalidMonth=e});var Co=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,So="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xo=ro,_o=ro;Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),V("week",5),V("isoWeek",5),z("w",Gi),z("ww",Gi,qi),z("W",Gi),z("WW",Gi,qi),J(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=C(e)});var Oo={dow:0,doy:6};Q("d",0,"do","day"),Q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),z("d",Gi),z("e",Gi),z("E",Gi),z("dd",function(e,t){return t.weekdaysMinRegex(e)}),z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),z("dddd",function(e,t){return t.weekdaysRegex(e)}),J(["dd","ddd","dddd"],function(e,t,n,i){var o=n._locale.weekdaysParse(e,i,n._strict);null!=o?t.d=o:h(n).invalidWeekday=e}),J(["d","e","E"],function(e,t,n,i){t[i]=C(e)});var Eo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ao="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),To="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ro=ro,Io=ro,Fo=ro;Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,qe),Q("k",["kk",2],0,He),Q("hmm",0,0,function(){return""+qe.apply(this)+B(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+qe.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),ze("a",!0),ze("A",!1),$("hour","h"),V("hour",13),z("a",We),z("A",We),z("H",Gi),z("h",Gi),z("k",Gi),z("HH",Gi,qi),z("hh",Gi,qi),z("kk",Gi,qi),z("hmm",Yi),z("hmmss",Ki),z("Hmm",Yi),z("Hmmss",Ki),K(["H","HH"],po),K(["k","kk"],function(e,t,n){var i=C(e);t[po]=24===i?0:i}),K(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),K(["h","hh"],function(e,t,n){t[po]=C(e),h(n).bigHour=!0}),K("hmm",function(e,t,n){var i=e.length-2;t[po]=C(e.substr(0,i)),t[ho]=C(e.substr(i)),h(n).bigHour=!0}),K("hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[po]=C(e.substr(0,i)),t[ho]=C(e.substr(i,2)),t[fo]=C(e.substr(o)),h(n).bigHour=!0}),K("Hmm",function(e,t,n){var i=e.length-2;t[po]=C(e.substr(0,i)),t[ho]=C(e.substr(i))}),K("Hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[po]=C(e.substr(0,i)),t[ho]=C(e.substr(i,2)),t[fo]=C(e.substr(o))});var Mo,Do=/[ap]\.?m?\.?/i,Po=ne("Hours",!0),$o={calendar:Di,longDateFormat:Pi,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:$i,relativeTime:Ni,months:So,monthsShort:wo,week:Oo,weekdays:Eo,weekdaysMin:To,weekdaysShort:Ao,meridiemParse:Do},No={},ko={},Vo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bo=/Z|[+-]\d\d(?::?\d\d)?/,Qo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Uo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jo=/^\/?Date\((\-?\d+)/i,qo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ho={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var zo=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Wo=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Go=function(){return Date.now?Date.now():+new Date},Yo=["year","quarter","month","week","day","hour","minute","second","millisecond"];$t("Z",":"),$t("ZZ",""),z("Z",io),z("ZZ",io),K(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(io,e)});var Ko=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Jo=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Xo=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Kt.fn=Mt.prototype,Kt.invalid=Ft;var Zo=en(1,"add"),er=en(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tr=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nn("gggg","weekYear"),Nn("ggggg","weekYear"),Nn("GGGG","isoWeekYear"),Nn("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),z("G",to),z("g",to),z("GG",Gi,qi),z("gg",Gi,qi),z("GGGG",Xi,zi),z("gggg",Xi,zi),z("GGGGG",Zi,Wi),z("ggggg",Zi,Wi),J(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=C(e)}),J(["gg","GG"],function(e,n,i,o){n[o]=t.parseTwoDigitYear(e)}),Q("Q",0,"Qo","quarter"),$("quarter","Q"),V("quarter",7),z("Q",ji),K("Q",function(e,t){t[lo]=3*(C(e)-1)}),Q("D",["DD",2],"Do","date"),$("date","D"),V("date",9),z("D",Gi),z("DD",Gi,qi),z("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),K(["D","DD"],co),K("Do",function(e,t){t[co]=C(e.match(Gi)[0])});var nr=ne("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),V("dayOfYear",4),z("DDD",Ji),z("DDDD",Hi),K(["DDD","DDDD"],function(e,t,n){n._dayOfYear=C(e)}),Q("m",["mm",2],0,"minute"),$("minute","m"),V("minute",14),z("m",Gi),z("mm",Gi,qi),K(["m","mm"],ho);var ir=ne("Minutes",!1);Q("s",["ss",2],0,"second"),$("second","s"),V("second",15),z("s",Gi),z("ss",Gi,qi),K(["s","ss"],fo);var or=ne("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),$("millisecond","ms"),V("millisecond",16),z("S",Ji,ji),z("SS",Ji,qi),z("SSS",Ji,Hi);var rr;for(rr="SSSS";rr.length<=9;rr+="S")z(rr,eo);for(rr="S";rr.length<=9;rr+="S")K(rr,Hn);var sr=ne("Milliseconds",!1);Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var ar=g.prototype;ar.add=Zo,ar.calendar=on,ar.clone=rn,ar.diff=dn,ar.endOf=On,ar.format=gn,ar.from=vn,ar.fromNow=bn,ar.to=Cn,ar.toNow=Sn,ar.get=re,ar.invalidAt=Pn,ar.isAfter=sn,ar.isBefore=an,ar.isBetween=un,ar.isSame=ln,ar.isSameOrAfter=cn,ar.isSameOrBefore=pn,ar.isValid=Mn,ar.lang=tr,ar.locale=wn,ar.localeData=xn,ar.max=Wo,ar.min=zo,ar.parsingFlags=Dn,ar.set=se,ar.startOf=_n,ar.subtract=er,ar.toArray=Rn,ar.toObject=In,ar.toDate=Tn,ar.toISOString=mn,ar.inspect=yn,ar.toJSON=Fn,ar.toString=fn,ar.unix=An,ar.valueOf=En,ar.creationData=$n,ar.year=bo,ar.isLeapYear=te,ar.weekYear=kn,ar.isoWeekYear=Vn,ar.quarter=ar.quarters=jn,ar.month=fe,ar.daysInMonth=me,ar.week=ar.weeks=Te,ar.isoWeek=ar.isoWeeks=Re,ar.weeksInYear=Bn,ar.isoWeeksInYear=Ln,ar.date=nr,ar.day=ar.days=ke,ar.weekday=Ve,ar.isoWeekday=Le,ar.dayOfYear=qn,ar.hour=ar.hours=Po,ar.minute=ar.minutes=ir,ar.second=ar.seconds=or,ar.millisecond=ar.milliseconds=sr,ar.utcOffset=Lt,ar.utc=Qt,ar.local=Ut,ar.parseZone=jt,ar.hasAlignedHourOffset=qt,ar.isDST=Ht,ar.isLocal=Wt,ar.isUtcOffset=Gt,ar.isUtc=Yt,ar.isUTC=Yt,ar.zoneAbbr=zn,ar.zoneName=Wn,ar.dates=x("dates accessor is deprecated. Use date instead.",nr),ar.months=x("months accessor is deprecated. Use month instead",fe),ar.years=x("years accessor is deprecated. Use year instead",bo),ar.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Bt),ar.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zt);var ur=T.prototype;ur.calendar=R,ur.longDateFormat=I,ur.invalidDate=F,ur.ordinal=M,ur.preparse=Kn,ur.postformat=Kn,ur.relativeTime=D,ur.pastFuture=P,ur.set=E,ur.months=le,ur.monthsShort=ce,ur.monthsParse=de,ur.monthsRegex=ge,ur.monthsShortRegex=ye,ur.week=Oe,ur.firstDayOfYear=Ae,ur.firstDayOfWeek=Ee,ur.weekdays=Me,ur.weekdaysMin=Pe,ur.weekdaysShort=De,ur.weekdaysParse=Ne,ur.weekdaysRegex=Be,ur.weekdaysShortRegex=Qe,ur.weekdaysMinRegex=Ue,ur.isPM=Ge,ur.meridiem=Ye,Ze("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=x("moment.lang is deprecated. Use moment.locale instead.",Ze),t.langData=x("moment.langData is deprecated. Use moment.localeData instead.",nt);var lr=Math.abs,cr=mi("ms"),pr=mi("s"),dr=mi("m"),hr=mi("h"),fr=mi("d"),mr=mi("w"),yr=mi("M"),gr=mi("y"),vr=vi("milliseconds"),br=vi("seconds"),Cr=vi("minutes"),Sr=vi("hours"),wr=vi("days"),xr=vi("months"),_r=vi("years"),Or=Math.round,Er={ss:44,s:45,m:45,h:22,d:26,M:11},Ar=Math.abs,Tr=Mt.prototype;return Tr.isValid=It,Tr.abs=ri,Tr.add=ai,Tr.subtract=ui,Tr.as=hi,Tr.asMilliseconds=cr,Tr.asSeconds=pr,Tr.asMinutes=dr,Tr.asHours=hr,Tr.asDays=fr,Tr.asWeeks=mr,Tr.asMonths=yr,Tr.asYears=gr,Tr.valueOf=fi,Tr._bubble=ci,Tr.clone=yi,Tr.get=gi,Tr.milliseconds=vr,Tr.seconds=br,Tr.minutes=Cr,Tr.hours=Sr,Tr.days=wr,Tr.weeks=bi,Tr.months=xr,Tr.years=_r,Tr.humanize=_i,Tr.toISOString=Ei,Tr.toString=Ei,Tr.toJSON=Ei,Tr.locale=wn,Tr.localeData=xn,Tr.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ei),Tr.lang=tr,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),z("x",to),z("X",oo),K("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),K("x",function(e,t,n){n._d=new Date(C(e))}),t.version="2.20.1",function(e){Ai=e}(Ot),t.fn=ar,t.min=At,t.max=Tt,t.now=Go,t.utc=p,t.unix=Gn,t.months=ei,t.isDate=a,t.locale=Ze,t.invalid=m,t.duration=Kt,t.isMoment=v,t.weekdays=ni,t.parseZone=Yn,t.localeData=nt,t.isDuration=Dt,t.monthsShort=ti,t.weekdaysMin=oi,t.defineLocale=et,t.updateLocale=tt,t.locales=it,t.weekdaysShort=ii,t.normalizeUnits=N,t.relativeTimeRounding=wi,t.relativeTimeThreshold=xi,t.calendarFormat=nn,t.prototype=ar,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t})}).call(t,n(138)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(84),r=n(1),s=n(0),a=n(11),u=function(){function e(){}return e.hideIfInfiniteScrollEnabled=function(t){e.isInfiniteScrollEnabled(t.searchInterface.element)?(t.disable(),r.$$(t.element).hide(),e.warnIfComponentNotNeeded(t)):(t.enable(),r.$$(t.element).unhide())},e.isInfiniteScrollEnabled=function(t){var n=e.getActiveResultList(t);return!!n&&!!n.options.enableInfiniteScroll},e.scrollToTop=function(t){var n=e.getActiveResultList(t);if(!n)return new a.Logger(this).warn("No active ResultList, scrolling to the top of the Window"),window.scrollTo(0,0);var i=n.options.infiniteScrollContainer;if("function"==typeof i.scrollTo){var o=n.searchInterface.element.getBoundingClientRect().top;i.scrollTo(0,window.pageYOffset+o)}else i.scrollTop=0},e.getActiveResultList=function(t){var n=e.getResultLists(t);return s.find(n,function(e){return!e.disabled})},e.getResultLists=function(t){return r.$$(t).findAll("."+e.cssClass()).map(function(e){return i.Component.get(e,o.ResultList)})},e.cssClass=function(){return i.Component.computeCssClassName(o.ResultList)},e.warnIfComponentNotNeeded=function(t){var n=t.searchInterface.root;e.allResultListsUseInfiniteScroll(n)&&e.notNeededComponentWarning(t)},e.allResultListsUseInfiniteScroll=function(t){return 0===e.getResultLists(t).filter(function(e){return!e.options.enableInfiniteScroll}).length},e.notNeededComponentWarning=function(t){var n=i.Component.computeCssClassNameForType(t.type),o="The "+n+" component is not needed because all "+e.cssClass()+" components have enableInfiniteScroll set to 'true'.\n    For the best performance, remove the "+n+" component from your search page.";new a.Logger(t).warn(o)},e}();t.ResultListUtils=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(109),o=function(){function e(){}return e.shouldDrawFacetSlider=function(e,t){return i.ResponsiveDropdownContent.isTargetInsideOpenedDropdown(t)||!this.isSmallFacetActivated(e)},e.isSmallTabsActivated=function(e){return e.hasClass(this.smallTabsClassName)},e.isSmallFacetActivated=function(e){return e.hasClass(this.smallFacetClassName)},e.isSmallRecommendationActivated=function(e){return e.hasClass(this.smallRecommendationClassName)},e.activateSmallTabs=function(e){e.addClass(this.smallTabsClassName)},e.deactivateSmallTabs=function(e){e.removeClass(this.smallTabsClassName)},e.activateSmallFacet=function(e){e.addClass(this.smallFacetClassName)},e.deactivateSmallFacet=function(e){e.removeClass(this.smallFacetClassName)},e.activateSmallRecommendation=function(e){e.addClass(this.smallRecommendationClassName)},e.deactivateSmallRecommendation=function(e){e.removeClass(this.smallRecommendationClassName)},e.smallTabsClassName="coveo-small-tabs",e.smallFacetClassName="coveo-small-facets",e.smallRecommendationClassName="coveo-small-recommendation",e}();t.ResponsiveComponentsUtils=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.idle="idle",e.selected="selected"}(t.FacetValueState||(t.FacetValueState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.populateResultLayout="populateResultLayout",e}();t.ResultLayoutEvents=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(72),s=n(4),a=n(20),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decimals=0,t}return i(t,e),t}(r.Options),l=function(){function e(){}return e.currencyToString=function(e,t){if(s.Utils.isNullOrUndefined(e))return"";e=Number(e),o.Assert.isNumber(e),t=(new u).merge(t);var n=a.culture().numberFormat.currency,i=n.symbol;s.Utils.isNonEmptyString(t.symbol)&&(n.symbol=t.symbol);var r=a.format(e,"c"+t.decimals.toString());return n.symbol=i,r},e}();t.CurrencyUtils=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(4),r=n(20),s=n(0),a=function(){function e(){this.selected=!1,this.excluded=!1,this.waitingForDelta=!1}return e.prototype.reset=function(){this.selected=!1,this.excluded=!1},e.prototype.updateCountsFromNewValue=function(e){i.Assert.exists(e),this.occurrences=e.occurrences,this.delta=e.delta,this.computedField=e.computedField},e.prototype.clone=function(){return this.computedField=void 0,this.delta=void 0,this},e.prototype.cloneWithZeroOccurrences=function(){return this.occurrences=0,this.clone()},e.prototype.cloneWithDelta=function(e,t){i.Assert.isLargerOrEqualsThan(0,e);var n=this.cloneWithZeroOccurrences();return n.delta=t,n.occurrences=e,n},e.prototype.getFormattedCount=function(){var e=void 0;return o.Utils.exists(this.delta)&&this.delta>0?e="+"+r.format(this.delta,"n0"):this.occurrences>0&&(e=r.format(this.occurrences,"n0")),e},e.prototype.getFormattedComputedField=function(e){return 0!=this.computedField?r.format(this.computedField,e):void 0},e.create=function(t){if(s.isString(t))return e.createFromValue(t);if(s.isObject(t))return"computedFieldResults"in t?e.createFromGroupByValue(t):e.createFromFieldValue(t);throw new Error("Can't create value from "+t)},e.createFromValue=function(t){i.Assert.isNonEmptyString(t);var n=new e;return n.value=t,n.lookupValue=t,n},e.createFromGroupByValue=function(t){i.Assert.exists(t),i.Assert.exists(t);var n=new e;return n.value=t.value,n.lookupValue=o.Utils.exists(t.lookupValue)?t.lookupValue:t.value,n.occurrences=t.numberOfResults,n.computedField=o.Utils.isNonEmptyArray(t.computedFieldResults)?t.computedFieldResults[0]:void 0,n.score=t.score,n},e.createFromFieldValue=function(t){i.Assert.exists(t);var n=new e;return n.value=t.value,n.lookupValue=t.lookupValue,n.occurrences=t.numberOfResults,n},e}();t.FacetValue=a;var u=function(){function e(e){o.Utils.exists(e)?this.values=s.map(e.values,function(e){return a.createFromGroupByValue(e)}):this.values=[]}return e.prototype.add=function(e){i.Assert.exists(e),i.Assert.check(!this.contains(e.value)),this.values.push(e)},e.prototype.remove=function(e){i.Assert.isNonEmptyString(e),e=e,this.values=s.filter(this.values,function(t){return t.value!=e})},e.prototype.size=function(){return this.values.length},e.prototype.isEmpty=function(){return 0==this.values.length},e.prototype.at=function(e){return i.Assert.isLargerOrEqualsThan(0,e),i.Assert.isSmallerThan(this.values.length,e),this.values[e]},e.prototype.get=function(e){return s.find(this.values,function(t){return t.value.toLowerCase()==e.toLowerCase()})},e.prototype.contains=function(e){return o.Utils.exists(this.get(e))},e.prototype.getAll=function(){return this.values},e.prototype.getSelected=function(){return s.filter(this.values,function(e){return e.selected})},e.prototype.getExcluded=function(){return s.filter(this.values,function(e){return e.excluded})},e.prototype.hasSelectedOrExcludedValues=function(){return 0!=this.getSelected().length||0!=this.getExcluded().length},e.prototype.hasSelectedAndExcludedValues=function(){return 0!=this.getSelected().length&&0!=this.getExcluded().length},e.prototype.hasOnlyExcludedValues=function(){return 0==this.getSelected().length&&0!=this.getExcluded().length},e.prototype.hasOnlySelectedValues=function(){return 0!=this.getSelected().length&&0==this.getExcluded().length},e.prototype.reset=function(){s.each(this.values,function(e){return e.reset()})},e.prototype.importActiveValuesFromOtherList=function(e){var t=this;i.Assert.exists(e),s.each(e.getSelected(),function(e){var n=t.get(e.value);o.Utils.exists(n)?n.selected=!0:t.values.push(e.cloneWithZeroOccurrences())}),s.each(e.getExcluded(),function(e){var n=t.get(e.value);if(o.Utils.exists(n))n.excluded=!0;else if(0!=e.occurrences){var i=e.occurrences,r=e.cloneWithZeroOccurrences();r.occurrences=i,t.values.push(r)}else t.values.push(e.cloneWithZeroOccurrences())})},e.prototype.updateCountsFromNewValues=function(e){i.Assert.exists(e),this.values=s.map(this.values,function(t){var n=e.get(t.value);return o.Utils.exists(n)?(t.updateCountsFromNewValue(n),t):null==t.occurrences?t.cloneWithZeroOccurrences():t})},e.prototype.updateDeltaWithFilteredFacetValues=function(e,t){var n=this;i.Assert.exists(e),s.each(this.values,function(i){var r=e.get(i.value);i.waitingForDelta=!1,o.Utils.exists(r)?i.occurrences-r.occurrences>0?n.hasOnlyExcludedValues()?(i.delta=null,i.occurrences=r.occurrences):i.delta=i.occurrences-r.occurrences:i.delta=null:i.selected||i.excluded||(t&&0==e.values.length?(i.delta=null,i.occurrences=0):i.delta=i.occurrences)})},e.prototype.mergeWithUnfilteredFacetValues=function(e){var t=this;i.Assert.exists(e);var n=[];s.each(e.values,function(e){var i=t.get(e.value);o.Utils.exists(i)?i.occurrences==e.occurrences?n.push(i):n.push(e.cloneWithDelta(e.occurrences,e.occurrences-i.occurrences)):n.push(e.cloneWithDelta(e.occurrences,e.occurrences))});var r=0;s.each(this.values,function(t){var i=e.get(t.value);if(o.Utils.exists(i)){for(var s=0;s<n.length;s++)if(n[s].value==t.value){r=s+1;break}}else(t.selected||t.excluded)&&(n.splice(r,0,t),r++)}),this.values=n},e.prototype.sortValuesDependingOnStatus=function(e){if(this.values=s.sortBy(this.values,function(e){return e.selected?1:e.excluded?3:2}),null!=e&&e<this.values.length){var t=this.getExcluded().length,n=this.values.splice(this.values.length-t,t);Array.prototype.splice.apply(this.values,[e-t,0].concat(n))}},e}();t.FacetValues=u},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(438),r=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.facet=t,o.facetValue=n,o.keepDisplayedValueNextTime=i,o}return i(t,e),t.prototype.bindEvent=function(){e.prototype.bindEvent.call(this,{displayNextTime:this.keepDisplayedValueNextTime,pinFacet:this.facet.options.preservePosition})},t}(o.ValueElement);t.FacetValueElement=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(47),o=n(47);t.notWordStart=" ()[],$@'\"",t.notInWord=" ()[],:",t.Basic={basicExpressions:["Word","DoubleQuoted"],grammars:{DoubleQuoted:'"[NotDoubleQuote]"',NotDoubleQuote:/[^"]*/,SingleQuoted:"'[NotSingleQuote]'",NotSingleQuote:/[^']*/,Number:/-?(0|[1-9]\d*)(\.\d+)?/,Word:function(e,n,r){var s=new RegExp("[^"+t.notWordStart.replace(/(.)/g,"\\$1")+"][^"+t.notInWord.replace(/(.)/g,"\\$1")+"]*"),a=e.match(s);null!=a&&0!=a.index&&(a=null);var u=new i.Result(null!=a?a[0]:null,r,e);return u.isSuccess()&&n&&e.length>u.value.length?new o.EndOfInputResult(u):u}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(5),r=function(){function e(t,n){this.element=n,o.Assert.isString(t),o.Assert.exists(n),this.element.addClass("coveo-"+t+"-dropdown-header"),this.element.addClass(e.DEFAULT_CSS_CLASS_NAME)}return e.prototype.open=function(){this.element.addClass(e.ACTIVE_HEADER_CSS_CLASS_NAME)},e.prototype.close=function(){this.element.removeClass(e.ACTIVE_HEADER_CSS_CLASS_NAME)},e.prototype.cleanUp=function(){this.element.detach()},e.prototype.hide=function(){i.$$(this.element).addClass("coveo-hidden")},e.prototype.show=function(){i.$$(this.element).removeClass("coveo-hidden")},e.DEFAULT_CSS_CLASS_NAME="coveo-dropdown-header",e.ACTIVE_HEADER_CSS_CLASS_NAME="coveo-dropdown-header-active",e}();t.ResponsiveDropdownHeader=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1);!function(e){e[e.TOP=0]="TOP",e[e.MIDDLE=1]="MIDDLE",e[e.BOTTOM=2]="BOTTOM",e[e.INNERTOP=3]="INNERTOP",e[e.INNERBOTTOM=4]="INNERBOTTOM"}(i=t.PopupVerticalAlignment||(t.PopupVerticalAlignment={}));var r;!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT",e[e.INNERLEFT=3]="INNERLEFT",e[e.INNERRIGHT=4]="INNERRIGHT"}(r=t.PopupHorizontalAlignment||(t.PopupHorizontalAlignment={}));var s=function(){function e(){}return e.positionPopup=function(t,n,i,r,s,a){void 0===a&&(a=0),t.style.position="absolute",s&&o.$$(s).append(t),r.verticalOffset=r.verticalOffset?r.verticalOffset:0,r.horizontalOffset=r.horizontalOffset?r.horizontalOffset:0;var u=o.$$(n).offset();e.basicVerticalAlignment(u,t,n,r),e.basicHorizontalAlignment(u,t,n,r),e.finalAdjustement(o.$$(t).offset(),u,t,r);var l=e.getBoundary(t),c=e.getBoundary(i);if(a<2){var p=e.checkForOutOfBoundary(l,c);if("ok"!=p.horizontal&&!0===r.horizontalClip){var d=t.offsetWidth;l.left<c.left&&(d-=c.left-l.left),l.right>c.right&&(d-=l.right-c.right),t.style.width=d+"px",p.horizontal="ok"}if("ok"!=p.vertical||"ok"!=p.horizontal){var h=e.alignInsideBoundary(r,p);e.positionPopup(t,n,i,h,s,a+1)}}},e.finalAdjustement=function(e,t,n,i){var r=o.$$(n).position();n.style.top=r.top+i.verticalOffset-(e.top-t.top)+"px",n.style.left=r.left+i.horizontalOffset-(e.left-t.left)+"px"},e.basicVerticalAlignment=function(e,t,n,o){switch(o.vertical){case i.TOP:e.top-=t.offsetHeight;break;case i.BOTTOM:e.top+=n.offsetHeight;break;case i.MIDDLE:e.top-=t.offsetHeight/3;case i.INNERTOP:break;case i.INNERBOTTOM:e.top-=t.offsetHeight-n.offsetHeight}},e.basicHorizontalAlignment=function(t,n,i,o){switch(o.horizontal){case r.LEFT:t.left-=n.offsetWidth;break;case r.RIGHT:t.left+=i.offsetWidth;break;case r.CENTER:t.left+=e.offSetToAlignCenter(n,i);break;case r.INNERLEFT:break;case r.INNERRIGHT:t.left-=n.offsetWidth-i.offsetWidth}},e.alignInsideBoundary=function(e,t){var n=e;return"left"==t.horizontal&&(n.horizontal=r.RIGHT),"right"==t.horizontal&&(n.horizontal=r.LEFT),"top"==t.vertical&&(n.vertical=i.BOTTOM),"bottom"==t.vertical&&(n.vertical=i.TOP),n},e.offSetToAlignCenter=function(e,t){return(t.offsetWidth-e.offsetWidth)/2},e.getBoundary=function(e){var t,n=o.$$(e).offset();return t="body"==e.tagName.toLowerCase()?Math.max(e.scrollHeight,e.offsetHeight):"html"==e.tagName.toLowerCase()?Math.max(e.clientHeight,e.scrollHeight,e.offsetHeight):e.offsetHeight,{top:n.top,left:n.left,right:n.left+e.offsetWidth,bottom:n.top+t}},e.checkForOutOfBoundary=function(e,t){var n={vertical:"ok",horizontal:"ok"};return e.top<t.top&&(n.vertical="top"),e.bottom>t.bottom&&(n.vertical="bottom"),e.left<t.left&&(n.horizontal="left"),e.right>t.right&&(n.horizontal="right"),n},e}();t.PopupUtils=s},function(e,t,n){"use strict";function i(){}function o(e,t){var n=new i;if(e instanceof i)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var o,r=-1,s=e.length;if(null==t)for(;++r<s;)n.set(r,e[r]);else for(;++r<s;)n.set(t(o=e[r],r,e),o)}else if(e)for(var a in e)n.set(a,e[a]);return n}function r(){return{}}function s(e,t,n){e[t]=n}function a(){return p()}function u(e,t,n){e.set(t,n)}function l(){}function c(e,t){var n=new l;if(e instanceof l)e.each(function(e){n.add(e)});else if(e){var i=-1,o=e.length;if(null==t)for(;++i<o;)n.add(e[i]);else for(;++i<o;)n.add(t(e[i],i,e))}return n}i.prototype=o.prototype={constructor:i,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var p=o,d=function(){function e(t,o,r,s){if(o>=l.length)return null!=n&&t.sort(n),null!=i?i(t):t;for(var a,u,c,d=-1,h=t.length,f=l[o++],m=p(),y=r();++d<h;)(c=m.get(a=f(u=t[d])+""))?c.push(u):m.set(a,[u]);return m.each(function(t,n){s(y,n,e(t,o,r,s))}),y}function t(e,n){if(++n>l.length)return e;var o,r=c[n-1];return null!=i&&n>=l.length?o=e.entries():(o=[],e.each(function(e,i){o.push({key:i,values:t(e,n)})})),null!=r?o.sort(function(e,t){return r(e.key,t.key)}):o}var n,i,o,l=[],c=[];return o={object:function(t){return e(t,0,r,s)},map:function(t){return e(t,0,a,u)},entries:function(n){return t(e(n,0,a,u),0)},key:function(e){return l.push(e),o},sortKeys:function(e){return c[l.length-1]=e,o},sortValues:function(e){return n=e,o},rollup:function(e){return i=e,o}}},h=p.prototype;l.prototype=c.prototype={constructor:l,has:h.has,add:function(e){return e+="",this["$"+e]=e,this},remove:h.remove,clear:h.clear,values:h.keys,size:h.size,empty:h.empty,each:h.each};var f=c,m=function(e){var t=[];for(var n in e)t.push(n);return t},y=function(e){var t=[];for(var n in e)t.push(e[n]);return t},g=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};n.d(t,"d",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"a",function(){return g})},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(10),s=n(90),a=n(5),u=n(16),l=n(13),c=n(7),p=n(1),d=n(9),h=n(6),f=n(8),m=n(2),y=n(469),g=n(208),v=n(170),b=n(470);n(529);var C=function(e){function t(n,i,o){var a=e.call(this,n,t.ID,o)||this;a.element=n,a.options=i,a.bindings=o,n instanceof HTMLInputElement&&a.logger.error("Querybox cannot be used on an HTMLInputElement"),a.options=f.ComponentOptions.initComponentOptions(n,t,i),new b.QueryboxOptionsProcessing(a).postProcess(),p.$$(a.element).toggleClass("coveo-query-syntax-disabled",0==a.options.enableQuerySyntax),a.magicBox=g.createMagicBox(n,new v.Grammar("Query",{Query:"[Term*][Spaces?]",Term:"[Spaces?][Word]",Spaces:/ +/,Word:/[^ ]+/}),{inline:!0});var h=p.$$(a.magicBox.element).find("input");return h&&p.$$(h).setAttribute("aria-label",a.options.placeholder||c.l("Search")),a.bind.onRootElement(r.QueryEvents.buildingQuery,function(e){return a.handleBuildingQuery(e)}),a.bind.onRootElement(s.StandaloneSearchInterfaceEvents.beforeRedirect,function(){return a.updateQueryState()}),a.bind.onQueryState(u.MODEL_EVENTS.CHANGE_ONE,l.QUERY_STATE_ATTRIBUTES.Q,function(e){return a.handleQueryStateChanged(e)}),a.options.enableSearchAsYouType&&(p.$$(a.element).addClass("coveo-search-as-you-type"),a.magicBox.onchange=function(){a.searchAsYouType()}),a.magicBox.onsubmit=function(){a.submit()},a.magicBox.onblur=function(){a.updateQueryState()},a.magicBox.onclear=function(){a.updateQueryState(),a.options.triggerQueryOnClear&&(a.usageAnalytics.logSearchEvent(d.analyticsActionCauseList.searchboxClear,{}),a.triggerNewQuery(!1))},a}return i(t,e),t.prototype.submit=function(){this.magicBox.clearSuggestion(),this.updateQueryState(),this.usageAnalytics.logSearchEvent(d.analyticsActionCauseList.searchboxSubmit,{}),this.triggerNewQuery(!1)},t.prototype.setText=function(e){this.magicBox.setText(e),this.updateQueryState()},t.prototype.clear=function(){this.magicBox.clear()},t.prototype.getText=function(){return this.magicBox.getText()},t.prototype.getResult=function(){return this.magicBox.getResult()},t.prototype.getDisplayedResult=function(){return this.magicBox.getDisplayedResult()},t.prototype.getCursor=function(){return this.magicBox.getCursor()},t.prototype.resultAtCursor=function(e){return this.magicBox.resultAtCursor(e)},t.prototype.handleBuildingQuery=function(e){a.Assert.exists(e),a.Assert.exists(e.queryBuilder),this.updateQueryState(),this.lastQuery=this.magicBox.getText(),new y.QueryboxQueryParameters(this.options).addParameters(e.queryBuilder,this.lastQuery)},t.prototype.triggerNewQuery=function(e){clearTimeout(this.searchAsYouTypeTimeout);var t=this.magicBox.getText();this.lastQuery!=t&&null!=t&&(this.lastQuery=t,this.queryController.executeQuery({searchAsYouType:e,logInActionsHistory:!0}))},t.prototype.updateQueryState=function(){this.queryStateModel.set(l.QueryStateModel.attributesEnum.q,this.magicBox.getText())},t.prototype.handleQueryStateChanged=function(e){a.Assert.exists(e);var t=e.value;t!=this.magicBox.getText()&&this.magicBox.setText(t)},t.prototype.searchAsYouType=function(){var e=this;clearTimeout(this.searchAsYouTypeTimeout),this.searchAsYouTypeTimeout=window.setTimeout(function(){e.usageAnalytics.logSearchAsYouType(d.analyticsActionCauseList.searchboxAsYouType,{}),e.triggerNewQuery(!0)},this.options.searchAsYouTypeDelay)},t.ID="Querybox",t.doExport=function(){o.exportGlobally({Querybox:t,QueryboxQueryParameters:y.QueryboxQueryParameters})},t.options={enableSearchAsYouType:f.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Advanced Options"}),searchAsYouTypeDelay:f.ComponentOptions.buildNumberOption({defaultValue:50,min:0,section:"Advanced Options"}),enableQuerySyntax:f.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Advanced Options"}),enableWildcards:f.ComponentOptions.buildBooleanOption({defaultValue:!1,section:"Advanced Options"}),enableQuestionMarks:f.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableWildcards"}),enableLowercaseOperators:f.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableQuerySyntax"}),enablePartialMatch:f.ComponentOptions.buildBooleanOption({defaultValue:!1}),partialMatchKeywords:f.ComponentOptions.buildNumberOption({defaultValue:5,min:1,depend:"enablePartialMatch"}),partialMatchThreshold:f.ComponentOptions.buildStringOption({defaultValue:"50%",depend:"enablePartialMatch"}),triggerQueryOnClear:f.ComponentOptions.buildBooleanOption({defaultValue:!1})},t}(h.Component);t.Querybox=C,m.Initialization.registerAutoCreateComponent(C)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(){}return e.addPrefixedEvent=function(e,t,n){i.each(this.prefixes,function(i){""==i&&(t=t.toLowerCase()),e.addEventListener(i+t,n,!1)})},e.removePrefixedEvent=function(e,t,n){i.each(this.prefixes,function(i){""==i&&(t=t.toLowerCase()),e.removeEventListener(i+t,n,!1)})},e.prefixes=["webkit","moz","MS","o",""],e}();t.EventsUtils=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0);n(530);var r=n(3),s=function(){function e(e,t){var n=this;this.labelElement=i.$$("span",{className:"coveo-form-group-label"}),this.labelElement.text(t),this.element=i.$$("fieldset",{className:"coveo-form-group"},this.labelElement),o.each(e,function(e){n.element.append(e.build())})}return e.doExport=function(){r.exportGlobally({FormGroup:e})},e.prototype.build=function(){return this.element.el},e}();t.FormGroup=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(81);t.AdvancedSearchEvents=i.AdvancedSearchEvents;var o=n(62);t.AnalyticsEvents=o.AnalyticsEvents;var r=n(37);t.BreadcrumbEvents=r.BreadcrumbEvents;var s=n(95);t.DebugEvents=s.DebugEvents;var a=n(189);t.DistanceEvents=a.DistanceEvents;var u=n(15);t.InitializationEvents=u.InitializationEvents;var l=n(32);t.OmniboxEvents=l.OmniboxEvents;var c=n(91);t.PreferencesPanelEvents=c.PreferencesPanelEvents;var p=n(10);t.QueryEvents=p.QueryEvents;var d=n(31);t.ResultListEvents=d.ResultListEvents;var h=n(124);t.ResultLayoutEvents=h.ResultLayoutEvents;var f=n(80);t.SearchAlertsEvents=f.SearchAlertsEvents;var m=n(53);t.SettingsEvents=m.SettingsEvents;var y=n(136);t.SliderEvents=y.SliderEvents;var g=n(90);t.StandaloneSearchInterfaceEvents=g.StandaloneSearchInterfaceEvents},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.startSlide="startSlide",e.duringSlide="duringSlide",e.endSlide="endSlide",e.graphValueSelected="graphValueSelected",e}();t.SliderEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.hsvToRgb=function(e,t,n){var i,o,r,s=Math.floor(6*e),a=6*e-s,u=n*(1-t),l=n*(1-a*t),c=n*(1-(1-a)*t);switch(s%6){case 0:i=n,o=c,r=u;break;case 1:i=l,o=n,r=u;break;case 2:i=u,o=n,r=c;break;case 3:i=u,o=l,r=n;break;case 4:i=c,o=u,r=n;break;case 5:i=n,o=u,r=l}return[Math.round(255*i),Math.round(255*o),Math.round(255*r)]},e.rgbToHsv=function(e,t,n){e/=255,t/=255,n/=255;var i,o,r=Math.max(e,t,n),s=Math.min(e,t,n),a=r,u=r-s;if(o=0==r?0:u/r,r==s)i=0;else{switch(r){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return[i,o,a]},e}();t.ColorUtils=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=function(){function e(e){this.status=e.statusCode,this.message=e.data.message,this.name=this.type=e.data.type,this.queryExecutionReport=e.data.executionReport,i.Assert.isNumber(this.status),i.Assert.isNonEmptyString(this.message),i.Assert.isNonEmptyString(this.type)}return e}();t.QueryError=o},function(e,t,n){"use strict";function i(e){return e.json().then(function(t){return t.raw=e,t})}var o=n(141);n(287),t.Version="v15",t.Endpoints={default:"https://usageanalytics.coveo.com",production:"https://usageanalytics.coveo.com",dev:"https://usageanalyticsdev.coveo.com",staging:"https://usageanalyticsstaging.coveo.com"};var r=function(){function e(e){if(void 0===e)throw new Error("You have to pass options to this constructor");this.endpoint=e.endpoint||t.Endpoints.default,this.token=e.token,this.version=e.version||t.Version}return e.prototype.sendEvent=function(e,t){return fetch(this.getRestEndpoint()+"/analytics/"+e,{method:"POST",headers:this.getHeaders(),mode:"cors",body:JSON.stringify(t),credentials:"include"})},e.prototype.sendSearchEvent=function(e){return this.sendEvent("search",e).then(i)},e.prototype.sendClickEvent=function(e){return this.sendEvent("click",e).then(i)},e.prototype.sendCustomEvent=function(e){return this.sendEvent("custom",e).then(i)},e.prototype.sendViewEvent=function(e){""===e.referrer&&delete e.referrer;var t=new o.HistoryStore,n={name:"PageView",value:e.contentIdValue,time:JSON.stringify(new Date)};return t.addElement(n),this.sendEvent("view",e).then(i)},e.prototype.getVisit=function(){return fetch(this.getRestEndpoint()+"/analytics/visit").then(i)},e.prototype.getHealth=function(){return fetch(this.getRestEndpoint()+"/analytics/monitoring/health").then(i)},e.prototype.getRestEndpoint=function(){return this.endpoint+"/rest/"+this.version},e.prototype.getHeaders=function(){var e={"Content-Type":"application/json"};return this.token&&(e.Authorization="Bearer "+this.token),e},e}();t.Client=r,Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";var i=n(94),o=n(142);t.STORE_KEY="__coveo.analytics.history",t.MAX_NUMBER_OF_HISTORY_ELEMENTS=20,t.MIN_THRESHOLD_FOR_DUPLICATE_VALUE=6e4,t.MAX_VALUE_SIZE=75;var r=function(){function e(e){this.store=e||i.getAvailableStorage(),this.store instanceof i.CookieStorage||!o.hasCookieStorage()||(new i.CookieStorage).removeItem(t.STORE_KEY)}return e.prototype.addElement=function(e){e.internalTime=(new Date).getTime(),this.cropQueryElement(e);var t=this.getHistoryWithInternalTime();null!=t?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])},e.prototype.getHistory=function(){var e=this.getHistoryWithInternalTime();return this.stripInternalTime(e)},e.prototype.getHistoryWithInternalTime=function(){try{return JSON.parse(this.store.getItem(t.STORE_KEY))}catch(e){return[]}},e.prototype.setHistory=function(e){try{this.store.setItem(t.STORE_KEY,JSON.stringify(e.slice(0,t.MAX_NUMBER_OF_HISTORY_ELEMENTS)))}catch(e){}},e.prototype.clear=function(){try{this.store.removeItem(t.STORE_KEY)}catch(e){}},e.prototype.getMostRecentElement=function(){var e=this.getHistoryWithInternalTime();if(null!=e){return e.sort(function(e,t){return null==e.internalTime&&null==t.internalTime?0:null==e.internalTime&&null!=t.internalTime?1:null!=e.internalTime&&null==t.internalTime?-1:t.internalTime-e.internalTime})[0]}return null},e.prototype.cropQueryElement=function(e){e.name&&"query"==e.name.toLowerCase()&&null!=e.value&&(e.value=e.value.slice(0,t.MAX_VALUE_SIZE))},e.prototype.isValidEntry=function(e){var n=this.getMostRecentElement();return!n||n.value!=e.value||e.internalTime-n.internalTime>t.MIN_THRESHOLD_FOR_DUPLICATE_VALUE},e.prototype.stripInternalTime=function(e){return e&&e.forEach(function(e,t,n){delete e.internalTime}),e},e}();t.HistoryStore=r,Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function i(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function o(){try{return"sessionStorage"in window&&null!==window.sessionStorage}catch(e){return!1}}function r(){return navigator.cookieEnabled}function s(){return null!==document}function a(){return s()&&null!==document.location}t.hasLocalStorage=i,t.hasSessionStorage=o,t.hasCookieStorage=r,t.hasDocument=s,t.hasDocumentLocation=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{u(i.next(e))}catch(e){r(e)}}function a(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(11),a=n(0);!function(e){e.NO_RENEW_FUNCTION="NO_RENEW_FUNCTION",e.REPEATED_FAILURES="REPEATED_FAILURES"}(r=t.ACCESS_TOKEN_ERRORS||(t.ACCESS_TOKEN_ERRORS={}));var u=function(){function e(e,t){var n=this;this.token=e,this.renew=t,this.subscribers=[],this.logger=new s.Logger(this),this.triedRenewals=0,this.resetRenewalTriesAfterDelay=a.debounce(function(){n.triedRenewals=0},500,!1)}return e.prototype.isExpired=function(e){return null!=e&&419===e.statusCode},e.prototype.doRenew=function(e){return i(this,void 0,void 0,function(){var t,n,i=this;return o(this,function(o){switch(o.label){case 0:this.triedRenewals++,this.resetRenewalTriesAfterDelay(),o.label=1;case 1:return o.trys.push([1,3,,4]),this.verifyRenewSetup(),this.logger.info("Renewing expired access token"),t=this,[4,this.renew()];case 2:return t.token=o.sent(),this.logger.info("Access token renewed",this.token),this.subscribers.forEach(function(e){return e(i.token)}),[2,!0];case 3:switch(n=o.sent(),n.message){case r.REPEATED_FAILURES:this.logger.error("AccessToken tried to renew itself extremely fast in a short period of time"),this.logger.error("There is most probably an authentication error, or a bad implementation of the custom renew function"),this.logger.error("Inspect the developer console of your browser to find out the root cause");break;case r.NO_RENEW_FUNCTION:this.logger.error("AccessToken tried to renew, but no function is configured on initialization to provide acess token renewal"),this.logger.error("The option name is renewAccessToken on the SearchEndpoint class")}return this.logger.error("Failed to renew access token",n),e&&e(n),[2,!1];case 4:return[2]}})})},e.prototype.subscribeToRenewal=function(e){this.subscribers.push(e)},e.prototype.verifyRenewSetup=function(){if(null==this.renew)throw new Error(r.NO_RENEW_FUNCTION);if(this.triedRenewals>=5)throw new Error(r.REPEATED_FAILURES)},e}();t.AccessToken=u},function(e,t,n){"use strict";function i(){var e=String.locales||(String.locales={});e.en=s(e.en,a),String.toLocaleString.call(this,{en:a}),String.locale="en",String.defaultLocale="en",r.culture("en")}function o(){var e=String.locales||(String.locales={});e.en=s(e.en,a),String.toLocaleString.call(this,{en:a}),String.locale="en",String.defaultLocale="en",r.culture("en")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),s=function(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n},a={"box user":"User","filetype_box user":"User",html:"HTML File",filetype_html:"HTML File",wiki:"Wiki",filetype_wiki:"Wiki",webscraperwebpage:"Web Page",filetype_webscraperwebpage:"Web Page",image:"Image",filetype_image:"Image",folder:"Folder",filetype_folder:"Folder",txt:"Text",filetype_txt:"Text",zip:"Zip File",filetype_zip:"Zip File",olefile:"OLE file",filetype_olefile:"OLE file",gmailmessage:"Gmail Message",filetype_gmailmessage:"Gmail Message",pdf:"PDF File",filetype_pdf:"PDF File",swf:"Flash File",filetype_swf:"Flash File",xml:"XML File",filetype_xml:"XML File",vsd:"Visio",filetype_vsd:"Visio",svg:"SVG",filetype_svg:"SVG",svm:"Open Office",filetype_svm:"Open Office",rssitem:"RSS feed",filetype_rssitem:"RSS feed",doc:"Document",filetype_doc:"Document",docx:"Microsoft Word Document",filetype_docx:"Microsoft Word Document",xls:"Spreadsheet Document",filetype_xls:"Spreadsheet Document",ppt:"Presentation Document",filetype_ppt:"Presentation Document",video:"Video",filetype_video:"Video",youtube:"YouTube video",filetype_youtube:"YouTube video",saleforceitem:"Salesforce",filetype_saleforceitem:"Salesforce",dynamicscrmitem:"Dynamics CRM",filetype_dynamicscrmitem:"Dynamics CRM",salesforceitem:"Salesforce",filetype_salesforceitem:"Salesforce",odt:"Open Text Document",filetype_odt:"Open Text Document",box:"User",filetype_box:"User",jiraissue:"Jira Issue",filetype_jiraissue:"Jira Issue",cfpage:"Confluence Page",filetype_cfpage:"Confluence Page",cfcomment:"Confluence Comment",filetype_cfcomment:"Confluence Comment",cfspace:"Confluence Space",filetype_cfspace:"Confluence Space",cfblogentry:"Confluence Blog Entry",filetype_cfblogentry:"Confluence Blog Entry",confluencespace:"Confluence Space",filetype_confluencespace:"Confluence Space",exchangemessage:"Message",filetype_exchangemessage:"Message",exchangeappointment:"Appointment",filetype_exchangeappointment:"Appointment",exchangenote:"Note",filetype_exchangenote:"Note",exchangetask:"Task",filetype_exchangetask:"Task",exchangeperson:"Exchange User",filetype_exchangeperson:"Exchange User",activedirperson:"Active Directory User",filetype_activedirperson:"Active Directory User",exchangeactivity:"Activity",filetype_exchangeactivity:"Activity",exchangecalendarmessage:"Calendar Message",filetype_exchangecalendarmessage:"Calendar Message",exchangedocument:"Exchange Document",filetype_exchangedocument:"Exchange Document",exchangedsn:"DSN",filetype_exchangedsn:"DSN",exchangefreebusy:"Free/Busy",filetype_exchangefreebusy:"Free/Busy",exchangegroup:"Group",filetype_exchangegroup:"Group",exchangerssfeed:"RSS Feed",filetype_exchangerssfeed:"RSS Feed",exchangejunkmessage:"Junk Email",filetype_exchangejunkmessage:"Junk Email",exchangeofficecom:"Communications",filetype_exchangeofficecom:"Communications",lithiummessage:"Lithium Message",filetype_lithiummessage:"Lithium Message",lithiumthread:"Lithium Thread",filetype_lithiumthread:"Lithium Thread",lithiumboard:"Lithium Board",filetype_lithiumboard:"Lithium Board",lithiumcategory:"Lithium Category",filetype_lithiumcategory:"Lithium Category",lithiumcommunity:"Lithium Community",filetype_lithiumcommunity:"Lithium Community",people:"User",objecttype_people:"User",message:"Message",objecttype_message:"Message",feed:"RSS Feed",objecttype_feed:"RSS Feed",thread:"Thread",objecttype_thread:"Thread",file:"File",objecttype_file:"File",board:"Board",objecttype_board:"Board",category:"Category",objecttype_category:"Category",account:"Account",objecttype_account:"Account",annotation:"Note",objecttype_annotation:"Note",campaign:"Campaign",objecttype_campaign:"Campaign",case:"Case",objecttype_case:"Case",contact:"Contact",objecttype_contact:"Contact",contract:"Contract",objecttype_contract:"Contract",event:"Event",objecttype_event:"Event",email:"Email",objecttype_email:"Email",goal:"Goal",objecttype_goal:"Goal",incident:"Case",objecttype_incident:"Case",invoice:"Invoice",objecttype_invoice:"Invoice",lead:"Lead",objecttype_lead:"Lead",list:"List",objecttype_list:"Marketing List",solution:"Solution",objecttype_solution:"Solution",report:"Report",objecttype_report:"Report",task:"Task",objecttype_task:"Task",user:"User",objecttype_user:"User",attachment:"Attachment",objecttype_attachment:"Attachment",casecomment:"Case Comment",objecttype_casecomment:"Case Comment",opportunity:"Opportunity",objecttype_opportunity:"Opportunity",opportunityproduct:"Opportunity Product",objecttype_opportunityproduct:"Opportunity Product",feeditem:"Chatter",objecttype_feeditem:"Chatter",feedcomment:"Comment",objecttype_feedcomment:"Comment",note:"Note",objecttype_note:"Note",product:"Product",objecttype_product:"Product",partner:"Partner",objecttype_partner:"Partner",queueitem:"Queue Item",objecttype_queueitem:"Queue Item",quote:"Quote",objecttype_quote:"Quote",salesliterature:"Sales Literature",objecttype_salesliterature:"Sales Literature",salesorder:"Sales Order",objecttype_salesorder:"Sales Order",service:"Service",objecttype_service:"Service",socialprofile:"Social Profile",objecttype_socialprofile:"Social Profile",kbdocumentation:"Knowledge Document",objecttype_kbdocumentation:"Knowledge Document",kbtechnicalarticle:"Technical Documentation",objecttype_kbtechnicalarticle:"Technical Documentation",kbsolution:"Solution",objecttype_kbsolution:"Solution",kbknowledgearticle:"Knowledge Article",objecttype_kbknowledgearticle:"Knowledge Article",kbattachment:"Attachment",objecttype_kbattachment:"Attachment",kbarticle:"Article",objecttype_kbarticle:"Article",kbarticlecomment:"Article Comment",objecttype_kbarticlecomment:"Article Comment",knowledgearticle:"Knowledge Article",objecttype_knowledgearticle:"Knowledge Article",topic:"Topic",objecttype_topic:"Topic",dashboard:"Dashboard",objecttype_dashboard:"Dashboard",contentversion:"Document",objecttype_contentversion:"Document",collaborationgroup:"Collaboration group",objecttype_collaborationgroup:"Collaboration group",phonecall:"Phone call",objecttype_phonecall:"Phone call",appointment:"Appointment",objecttype_appointment:"Appointment",spportal:"Portal",filetype_spportal:"Portal",spsite:"SharePoint Site",filetype_spsite:"SharePoint Site",spuserprofile:"SharePoint User",filetype_spuserprofile:"SharePoint User",sparea:"Area",filetype_sparea:"Area",spannouncement:"Announcement",filetype_spannouncement:"Announcement",spannouncementlist:"Announcements",filetype_spannouncementlist:"Announcements",spcontact:"Contact",filetype_spcontact:"Contact",spcontactlist:"Contacts",filetype_spcontactlist:"Contacts",spcustomlist:"Custom Lists",filetype_spcustomlist:"Custom Lists",spdiscussionboard:"Discussion Board",filetype_spdiscussionboard:"Discussion Board",spdiscussionboardlist:"Discussion Boards",filetype_spdiscussionboardlist:"Discussion Boards",spdocumentlibrarylist:"Document Library",filetype_spdocumentlibrarylist:"Document Library",spevent:"Event",filetype_spevent:"Event",speventlist:"Events",filetype_speventlist:"Events",spformlibrarylist:"Form Library",filetype_spformlibrarylist:"Form Library",spissue:"Issue",filetype_spissue:"Issue",spissuelist:"Issues",filetype_spissuelist:"Issues",splink:"Link",filetype_splink:"Link",splinklist:"Links",filetype_splinklist:"Links",sppicturelibrarylist:"Picture Library",filetype_sppicturelibrarylist:"Picture Library",spsurvey:"Survey",filetype_spsurvey:"Survey",spsurveylist:"Surveys",filetype_spsurveylist:"Surveys",sptask:"Task",filetype_sptask:"Task",sptasklist:"Tasks",filetype_sptasklist:"Tasks",spagenda:"Agenda",filetype_spagenda:"Agenda",spagendalist:"Agendas",filetype_spagendalist:"Agendas",spattendee:"Attendee",filetype_spattendee:"Attendee",spattendeelist:"Attendees",filetype_spattendeelist:"Attendees",spcustomgridlist:"Custom Grids",filetype_spcustomgridlist:"Custom Grids",spdecision:"Decision",filetype_spdecision:"Decision",spdecisionlist:"Decisions",filetype_spdecisionlist:"Decisions",spobjective:"Objective",filetype_spobjective:"Objective",spobjectivelist:"Objectives",filetype_spobjectivelist:"Objectives",sptextbox:"Textbox",filetype_sptextbox:"Textbox",sptextboxlist:"Textbox list",filetype_sptextboxlist:"Textbox list",spthingstobring:"Thing To Bring",filetype_spthingstobring:"Thing To Bring",spthingstobringlist:"Things To Bring",filetype_spthingstobringlist:"Things To Bring",sparealisting:"Area Listing",filetype_sparealisting:"Area Listing",spmeetingserie:"Meeting series",filetype_spmeetingserie:"Meeting series",spmeetingserielist:"Meeting Series List",filetype_spmeetingserielist:"Meeting Series List",spsitedirectory:"Site Directory Item",filetype_spsitedirectory:"Site Directory Item",spsitedirectorylist:"Site Directory",filetype_spsitedirectorylist:"Site Directory",spdatasource:"Data Source",filetype_spdatasource:"Data Source",spdatasourcelist:"Data Source List",filetype_spdatasourcelist:"Data Source List",splisttemplatecataloglist:"List Template Gallery",filetype_splisttemplatecataloglist:"List Template Gallery",spwebpartcataloglist:"WebPart Gallery",filetype_spwebpartcataloglist:"WebPart Gallery",spwebtemplatecataloglist:"Site Template Gallery",filetype_spwebtemplatecataloglist:"Site Template Gallery",spworkspacepagelist:"Workspace Pages",filetype_spworkspacepagelist:"Workspace Pages",spunknownlist:"Custom List",filetype_spunknownlist:"Custom List",spadministratortask:"Administrator Task",filetype_spadministratortask:"Administrator Task",spadministratortasklist:"Administrator Tasks",filetype_spadministratortasklist:"Administrator Tasks",spareadocumentlibrarylist:"Area Document Library",filetype_spareadocumentlibrarylist:"Area Document Library",spblogcategory:"Blog Category",filetype_spblogcategory:"Blog Category",spblogcategorylist:"Blog Categories",filetype_spblogcategorylist:"Blog Categories",spblogcomment:"Blog Comment",filetype_spblogcomment:"Blog Comment",spblogcommentlist:"Blog Comments",filetype_spblogcommentlist:"Blog Comments",spblogpost:"Blog Post",filetype_spblogpost:"Blog Post",spblogpostlist:"Blog Posts",filetype_spblogpostlist:"Blog Posts",spdataconnectionlibrarylist:"Data Connection Library",filetype_spdataconnectionlibrarylist:"Data Connection Library",spdistributiongroup:"Distribution Group",filetype_spdistributiongroup:"Distribution Group",spdistributiongrouplist:"Distribution Groups",filetype_spdistributiongrouplist:"Distribution Groups",spipfslist:"InfoPath Forms Servers",filetype_spipfslist:"InfoPath Forms Servers",spkeyperformanceindicator:"Key Performance Indicator",filetype_spkeyperformanceindicator:"Key Performance Indicator",spkeyperformanceindicatorlist:"Key Performance Indicators",filetype_spkeyperformanceindicatorlist:"Key Performance Indicators",splanguagesandtranslator:"Languages and Translator",filetype_splanguagesandtranslator:"Languages and Translator",splanguagesandtranslatorlist:"Languages and Translators",filetype_splanguagesandtranslatorlist:"Languages and Translators",spmasterpagescataloglist:"Master Page Gallery",filetype_spmasterpagescataloglist:"Master Page Gallery",spnocodeworkflowlibrarylist:"No-code Workflow Libraries",filetype_spnocodeworkflowlibrarylist:"No-code Workflow Libraries",spprojecttask:"Project Task",filetype_spprojecttask:"Project Task",spprojecttasklist:"Project Tasks",filetype_spprojecttasklist:"Project Tasks",sppublishingpageslibrarylist:"Page Library",filetype_sppublishingpageslibrarylist:"Page Library",spreportdocumentlibrarylist:"Report Document Library",filetype_spreportdocumentlibrarylist:"Report Document Library",spreportlibrarylist:"Report Library",filetype_spreportlibrarylist:"Report Library",spslidelibrarylist:"Slide Library",filetype_spslidelibrarylist:"Slide Library",sptab:"Tabs",filetype_sptab:"Tabs",sptablist:"Tabs List",filetype_sptablist:"Tabs List",sptranslationmanagementlibrarylist:"Translation Management Library",filetype_sptranslationmanagementlibrarylist:"Translation Management Library",spuserinformation:"User Information",filetype_spuserinformation:"User Information",spuserinformationlist:"User Information List",filetype_spuserinformationlist:"User Information List",spwikipagelibrarylist:"Wiki Page Library",filetype_spwikipagelibrarylist:"Wiki Page Library",spworkflowhistory:"Workflow History",filetype_spworkflowhistory:"Workflow History",spworkflowhistorylist:"Workflow History List",filetype_spworkflowhistorylist:"Workflow History List",spworkflowprocess:"Custom Workflow Process",filetype_spworkflowprocess:"Custom Workflow Process",spworkflowprocesslist:"Custom Workflow Processes",filetype_spworkflowprocesslist:"Custom Workflow Processes",sppublishingimageslibrarylist:"Publishing Image Library",filetype_sppublishingimageslibrarylist:"Publishing Image Library",spcirculation:"Circulation",filetype_spcirculation:"Circulation",spcirculationlist:"Circulations",filetype_spcirculationlist:"Circulations",spdashboardslibrarylist:"Dashboards Library",filetype_spdashboardslibrarylist:"Dashboards Library",spdataconnectionforperformancepointlibrarylist:"PerformancePoint Data Connection Library",filetype_spdataconnectionforperformancepointlibrarylist:"PerformancePoint Data Connection Library",sphealthreport:"Health Report",filetype_sphealthreport:"Health Report",sphealthreportlist:"Health Reports",filetype_sphealthreportlist:"Health Reports",sphealthrule:"Health Rule",filetype_sphealthrule:"Health Rule",sphealthrulelist:"Health Rules",filetype_sphealthrulelist:"Health Rules",spimedictionary:"IME Dictionary",filetype_spimedictionary:"IME Dictionary",spimedictionarylist:"IME Dictionaries",filetype_spimedictionarylist:"IME Dictionaries",spperformancepointcontent:"PerformancePoint Content",filetype_spperformancepointcontent:"PerformancePoint Content",spperformancepointcontentlist:"PerformancePoint Contents",filetype_spperformancepointcontentlist:"PerformancePoint Contents",spphonecallmemo:"Phone Call Memo",filetype_spphonecallmemo:"Phone Call Memo",spphonecallmemolist:"Phone Call Memos",filetype_spphonecallmemolist:"Phone Call Memos",sprecordlibrarylist:"Record Library",filetype_sprecordlibrarylist:"Record Library",spresource:"Resource",filetype_spresource:"Resource",spresourcelist:"Resources",filetype_spresourcelist:"Resources",spprocessdiagramslibrarylist:"Process Diagram Library",filetype_spprocessdiagramslibrarylist:"Process Diagram Library",spsitethemeslibrarylist:"Site Theme Library",filetype_spsitethemeslibrarylist:"Site Theme Library",spsolutionslibrarylist:"Solution Library",filetype_spsolutionslibrarylist:"Solution Library",spwfpublibrarylist:"WFPUB Library",filetype_spwfpublibrarylist:"WFPUB Library",spwhereabout:"Whereabout",filetype_spwhereabout:"Whereabout",spwhereaboutlist:"Whereabouts",filetype_spwhereaboutlist:"Whereabouts",spdocumentlink:"Link to a Document",filetype_spdocumentlink:"Link to a Document",spdocumentset:"Document Set",filetype_spdocumentset:"Document Set",spmicrofeedpost:"Microfeed Post",filetype_spmicrofeedpost:"Microfeed Post",spmicrofeedlist:"Microfeed",filetype_spmicrofeedlist:"Microfeed",splistfolder:"List Folder",filetype_splistfolder:"List Folder",youtubevideo:"YouTube video",filetype_youtubevideo:"YouTube video",youtubeplaylistitem:"YouTube playlist item",filetype_youtubeplaylistitem:"YouTube playlist item",youtubeplaylist:"YouTube playlist",filetype_youtubeplaylist:"YouTube playlist",Unknown:"Unknown",And:"AND",Authenticating:"Authenticating {0}...",Clear:"Clear {0}",CompleteQuery:"Complete query",Exclude:"Exclude {0}",EnterTag:"Add Tag",Next:"Next",Last:"Last",Link:"Link",Or:"OR",Previous:"Previous",QueryDidntMatchAnyDocuments:"Your query did not match any documents.",QueryException:"Your query has an error: {0}.",Me:"Me",Remove:"Remove",Search:"Search",SearchFor:"Search for {0}",SubmitSearch:"Submit search",ShareQuery:"Share Query",Preferences:"Preferences",LinkOpeningSettings:"Link opening settings",Reauthenticate:"Reauthenticate {0}",ResultsFilteringExpression:"Results filtering expressions",FiltersInYourPreferences:"Filters in your preferences",Create:"Create",SearchIn:"Search in {0}",Seconds:"in {0} second<pl>s</pl>",ShowingResultsOf:"Result<pl>s</pl> {0}<pl>-{1}</pl> of {2}",ShowingResultsOfWithQuery:"Result<pl>s</pl> {0}<pl>-{1}</pl> of {2} for {3}",SwitchTo:"Switch to {0}",Unexclude:"Unexclude {0}",ClearAllFilters:"Clear All Filters",SkipLogin:"Skip login",LoginInProgress:"Login in progress, please wait ...",Login:"Log In",GetStarted:"Get Started",More:"More",NMore:"{0} more...",Less:"Fewer",Settings:"Settings",Score:"Score",ScoreDescription:"The score is computed from the number of occurrences as well as from the position in the result set.",Occurrences:"Occurrences",OccurrencesDescription:"Sort by number of occurrences, with values having the highest number appearing first.",Label:"Label",Of:"of",LabelDescription:"Sort alphabetically on the field values.",Value:"Value",ValueDescription:"Sort on the values of the first computed field",AlphaAscending:"Value Ascending",AlphaDescending:"Value Descending",ChiSquare:"Chi Square",Nosort:"No Sort",NosortDescription:"Do not sort the values. The values will be returned in a random order.",RelativeFrequency:"Relative Frequency",RelativeFrequencyDescription:"Sort based on the relative frequency of values. Less common values will appear higher.",DateDistribution:"Date distribution",Custom:"Custom",CustomDescription:"Sort based on a custom order",ComputedField:"Computed Field",Ascending:"Ascending",Descending:"Descending",noResultFor:"No results for {0}",autoCorrectedQueryTo:"Query was automatically corrected to {0}",didYouMean:"Did you mean: {0}",SuggestedResults:"Suggested Results",SuggestedQueries:"Suggested Queries",MostRelevantItems:"Most relevant items:",AllItems:"All items:",ShowLess:"Show less",ShowMore:"Show more",HideFacet:"Hide Facet",ShowFacet:"Show Facet",AndOthers:"and {0} other<pl>s</pl>",Others:"{0} other<pl>s</pl>",MostRelevantPosts:"Most Relevant Posts:",CompleteThread:"Complete Thread:",ShowCompleteThread:"Show Complete Thread",ShowOnlyTopMatchingPosts:"Show Only Top Matching Posts",MostRelevantReplies:"Most Relevant Replies:",AllConversation:"All Conversation:",ShowAllConversation:"Show All Conversation",ShowAllReplies:"Show All Replies",ShowOnlyMostRelevantReplies:"Show Only Most Relevant Replies",Close:"Close",Open:"Open",OpenInOutlookWhenPossible:"Open in Outlook (when possible)",AlwaysOpenInNewWindow:"Always open results in new window",Quickview:"Quick View",NoQuickview:"The Quick View for this document is unavailable",ErrorReport:"Error Report",OopsError:"Something went wrong.",ProblemPersists:"If the problem persists contact the administrator.",GoBack:"Go Back",Reset:"Reset",Retry:"Retry",MoreInfo:"More Information",Username:"Username",Password:"Password",PostedBy:"Posted by",CannotConnect:"Cannot connect to the server address.",BadUserPass:"Password does not match with username.",PleaseEnterYourCredentials:"Please enter your credentials for {0}.",PleaseEnterYourSearchPage:"Please enter your search page URL",Collapse:"Collapse",Collapsable:"Collapsible",Expand:"Expand",CollapseFacet:"Collapse {0} facet",ExpandFacet:"Expand {0} facet",ShowLessFacetResults:"Show less results for {0} facet",ShowMoreFacetResults:"Show more results for {0} facet",SearchFacetResults:"Search for values in {0} facet",Today:"Today",Yesterday:"Yesterday",Tomorrow:"Tomorrow",Duration:"Duration: {0}",IndexDuration:"Index Duration: {0}",ProxyDuration:"Proxy Duration: {0}",ClientDuration:"Client Duration: {0}",Unavailable:"Unavailable",Reply:"Reply",ReplyAll:"Reply All",Forward:"Forward",From:"From",Caption:"Caption",Expression:"Expression",Tab:"Tab",Tabs:"Tabs",EnterExpressionName:"Enter expression name",EnterExpressionToFilterWith:"Enter expression to filter results with",SelectTab:"Select Tab",SelectAll:"Select All",PageUrl:"Search page URL",ErrorSavingToDevice:"Error while saving the information to your device",ErrorReadingFromDevice:"Error while reading the information from your device",AppIntro:"Speak with a product specialist who can answer your questions about Coveo and help you decide which Coveo solution is right for you. Or, try a live demo !",TryDemo:"Try the demo",ContactUs:"Contact us",NewToCoveo:"New to Coveo?",LetUsHelpGetStarted:"Let us help you get started",LikesThis:"{0} like<sn>s</sn> this.",CannotConnectSearchPage:"Cannot connect to your search page",AreYouSureDeleteFilter:"Are you sure you want to delete the filter {0} with the expression {1}",OnlineHelp:"Online Help",Done:"Done",SaveFacetState:"Save this facet state",ClearFacetState:"Clear facet state",DisplayingTheOnlyMessage:"Displaying the only message in this conversation",NoNetworkConnection:"No network connection",UnknownConnection:"Unknown connection",EthernetConnection:"Ethernet connection",WiFi:"WiFi connection",CELL:"Cellular connection",CELL_2G:"Cellular 2G connection",CELL_3G:"Cellular 3G connection",CELL_4G:"Cellular 4G connection",Relevance:"Relevance",Date:"Date",Amount:"Amount",QueryExceptionNoException:"No exception",QueryExceptionInvalidSyntax:"Invalid syntax",QueryExceptionInvalidCustomField:"Invalid custom field",QueryExceptionInvalidDate:"Invalid date",QueryExceptionInvalidExactPhrase:"Invalid exact phrase",QueryExceptionInvalidDateOp:"Invalid date operator",QueryExceptionInvalidNear:"Invalid NEAR operator",QueryExceptionInvalidWeightedNear:"Invalid weighted NEAR",QueryExceptionInvalidTerm:"Invalid term",QueryExceptionTooManyTerms:"Too many terms",QueryExceptionWildcardTooGeneral:"Wildcard too general",QueryExceptionInvalidSortField:"Invalid sort field",QueryExceptionInvalidSmallStringOp:"Invalid small string operator",QueryExceptionRequestedResultsMax:"Requested results maximum",QueryExceptionAggregatedMirrorDead:"Aggregated mirror is offline",QueryExceptionAggregatedMirrorQueryTimeOut:"Aggregated mirror query timeout",QueryExceptionAggregatedMirrorInvalidBuildNumber:"Aggregated mirror invalid build number",QueryExceptionAggregatedMirrorCannotConnect:"Aggregated mirror cannot connect",QueryExceptionNotEnoughLeadingCharsWildcard:"Not enough leading character wildcard",QueryExceptionSecurityInverterNotFound:"Security inverter not found",QueryExceptionSecurityInverterAccessDenied:"Security inverter access denied",QueryExceptionAggregatedMirrorCannotImpersonate:"Aggregated mirror cannot impersonate",QueryExceptionUnexpected:"Unexpected",QueryExceptionAccessDenied:"Access denied",QueryExceptionSuperUserTokenInvalid:"Super user token invalid",QueryExceptionSuperUserTokenExpired:"Super user token is expired",QueryExceptionLicenseQueriesExpired:"Queries license expired",QueryExceptionLicenseSuperUserTokenNotSupported:"License super user token not supported",QueryExceptionInvalidSession:"Invalid session",QueryExceptionInvalidDocument:"Invalid document",QueryExceptionSearchDisabled:"Search disabled",FileType:"File type",ShowAttachment:"Show attachment",OnFeed:"on {0}'s feed.",Author:"Author",NoTitle:"No title",CurrentSelections:"Current selections",AllContent:"All content",CancelLastAction:"Cancel last action",SearchTips:"Search tips",CheckSpelling:"Check the spelling of your keywords.",TryUsingFewerKeywords:"Try using fewer, different or more general keywords.",SelectFewerFilters:"Select fewer filters to broaden your search.",Document:"Document",Time:"Time",StartDate:"Start Date",StartTime:"Start Time",DurationTitle:"Duration",UserQuery:"User query",ShowUserActions:"Show User Actions",NoData:"No data available",EventType:"Event type",GoToFullSearch:"Full search",GoToEdition:"Customize Panel",RemoveContext:"Remove context",BoxAttachToCase:"Attach to case",AttachToCase:"Attach to case",Attach:"Attach",Attached:"Attached",Detach:"Detach",Details:"Details",AdditionalFilters:"Additional filters",SelectNonContextualSearch:"Remove the context from the current record to broaden your search",CopyPasteToSupport:"Copy paste this message to the Coveo Support team for more information.",FollowQueryDescription:"Alert me for changes to the search results of this query.",SearchAlerts_Panel:"Manage Alerts",SearchAlerts_PanelDescription:"View and manage your search alerts.",SearchAlerts_PanelNoSearchAlerts:"You have no subscriptions.",SearchAlerts_Fail:"The Search Alerts service is currently unavailable.",SearchAlerts_Type:"Type",SearchAlerts_Content:"Content",SearchAlerts_Actions:"Action",EmptyQuery:"<empty>",SearchAlerts_Type_followQuery:"Query",SearchAlerts_Type_followDocument:"Item",SearchAlerts_unFollowing:"Stop Following",SearchAlerts_follow:"Follow",SearchAlerts_followed:"Followed",SearchAlerts_followQuery:"Follow Query",Subscription_StopFollowingQuery:"Stop Following Query",SearchAlerts_Frequency:"When",SubscriptionsManageSubscriptions:"Manage Alerts",SubscriptionsMessageFollowQuery:"You will receive alerts when the query <b>{0}</b> returns new or updated items.",SubscriptionsMessageFollow:"You will receive alerts for changes to the item <b>{0}</b>.",Expiration:"Expiration",Monthly:"Monthly",Daily:"Daily",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sunday:"Sunday",NextDay:"Next {0}",LastDay:"Last {0}",StartTypingCaseForSuggestions:"Describe your problem to see possible solutions",ExportToExcel:"Export to Excel",ExportToExcelDescription:"Export search results to Excel",CaseCreationNoResults:"No recommended solutions were found",SortBy:"Sort by",BoxCreateArticle:"Create Article",Facets:"Facets",AdvancedSearch:"Advanced Search",Keywords:"Keywords",AllTheseWords:"All these words",ExactPhrase:"This exact phrase",AnyOfTheseWords:"Any of these words",NoneOfTheseWords:"None of these words",Anytime:"Anytime",InTheLast:"In the last",Days:"days",Months:"months",Month:"Month",Year:"Year",Between:"Between",Language:"Language",Size:"Size",AtLeast:"at least",AtMost:"at most",Contains:"contains",DoesNotContain:"does not contain",Matches:"matches",Bytes:"bytes",card:"Card",table:"Table",ResultLinks:"Result links",EnableQuerySyntax:"Enable query syntax",On:"On",Off:"Off",Automatic:"Automatic",ResultsPerPage:"Results per page",PreviousMonth:"Previous month",NextMonth:"Next month",Title:"Title",FiltersInAdvancedSearch:"Filters in Advanced Search",NoEndpoints:"{0} has no registered endpoints.",InvalidToken:"The token used is invalid.",AddSources:"You will need to add sources in your index, or wait for the created sources to finish indexing.",TryAgain:"Please try again.",CoveoOnlineHelp:"Coveo Online Help",CannotAccess:"{0} cannot be accessed.",CoveoOrganization:"Coveo Organization",SearchAPIDuration:"Search API Duration: {0}",LastUpdated:"Last updated",AllDates:"All dates",WithinLastDay:"Within last day",WithinLastWeek:"Within last week",WithinLastMonth:"Within last month",WithinLastYear:"Within last year",RelevanceInspector:"Relevance Inspector",KeywordInCategory:'{0} <span class="coveo-omnibox-suggestion-category">in {1}</span>',ResultCount:"{0} result<pl>s</pl>",ShowingResults:"{0} result<pl>s</pl>",ShowingResultsWithQuery:"{0} result<pl>s</pl> for {1}",NumberOfVideos:"Number of videos",AllCategories:"All Categories",Recommended:"Recommended",Featured:"Featured",CoveoHomePage:"Coveo Home page",SizeValue:"Size value",UnitMeasurement:"Unit of measurement",Toggle:"Toggle",FilterOn:"Filter on {0}",RemoveFilterOn:"Remove filter on {0}",Enter:"Enter",InsertAQuery:"Insert a query",PressEnterToSend:"Press enter to send",SortResultsBy:"Sort results by {0}",DisplayResultsAs:"Display results as {0}",FacetTitle:"{0} facet",SelectValueWithResultCount:"Select {0} with {1}",UnselectValueWithResultCount:"Unselect {0} with {1}",ExcludeValueWithResultCount:"Exclude {0} with {1}",UnexcludeValueWithResultCount:"Unexclude {0} with {1}",PageNumber:"Page {0}",DisplayResultsPerPage:"Display {0} results per page",GroupByAndFacetRequestsCannotCoexist:"The query is invalid because it contains both Group By and Facet requests. Ensure that the search interface does not initialize DynamicFacet components alongside Facet components (or alongside any component extending the Facet component, such as FacetRange or FacetSlider).",MustContain:"Must contain:",Missing:"Missing:",Filters:"Filters",FiltersDropdown:"Filters dropdown",OpenFiltersDropdown:"Open the filters dropdown",CloseFiltersDropdown:"Close the filters dropdown",NoValuesFound:"No values found.",QuerySuggestPreview:"Query result item(s) for",To:"to"};t.defaultLanguage=i,t.setLanguageAfterPageLoaded=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=n(0);String.toLocaleString=i.LocaleString;var r=/<pl>(((?!<\/pl>).)*)<\/pl>/g,s=/<sn>(((?!<\/sn>).)*)<\/sn>/g;t.L10N={format:function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=e.toLocaleString();if(r==e){var s=e.toUpperCase().toLocaleString(),a=e.toLowerCase().toLocaleString(),u=(e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)).toLocaleString();s!=e.toUpperCase().toLocaleString()?r=s:a!=e.toLowerCase().toLocaleString()?r=a:u!=e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)&&(r=u)}if(n.length>0){var l=o.last(n);(o.isBoolean(l)||o.isNumber(l))&&(n.pop(),r=t.L10N.formatPlSn(r,l)),o.each(n,function(e,t){return r=r.replace("{"+t+"}",e)})}else r=r.replace(/{[0-9]}|<pl>[a-zA-Z]+<\/pl>|<sn>|<\/sn>/g,"").trim();return r},formatPlSn:function(e,t){return e=(o.isBoolean(t)?t:t>1)?e.replace(r,"$1").replace(s,""):e.replace(r,"").replace(s,"$1")}}},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{u(i.next(e))}catch(e){r(e)}}function a(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,r=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(5),u=n(11),l=n(298),c=n(70),p=n(39),d=n(4),h=function(){function e(e){this.options=e,this.logger=new u.Logger(this);var t={accessToken:this.options.accessToken.token};this.endpointCaller=new l.AnalyticsEndpointCaller(t),this.organization=e.organization}return e.prototype.getCurrentVisitId=function(){return this.visitId},e.prototype.getCurrentVisitIdPromise=function(){var e=this;return new Promise(function(t,n){if(e.getCurrentVisitId())t(e.getCurrentVisitId());else{var i=e.buildAnalyticsUrl("/analytics/visit");e.getFromService(i,{}).then(function(n){e.visitId=n.id,t(e.visitId)}).catch(function(e){n(e)})}})},e.prototype.sendSearchEvents=function(e){if(e.length>0)return this.logger.info("Logging analytics search events",e),this.sendToService(e,"searches","searchEvents")},e.prototype.sendDocumentViewEvent=function(e){return a.Assert.exists(e),this.logger.info("Logging analytics document view",e),this.sendToService(e,"click","clickEvent")},e.prototype.sendCustomEvent=function(e){return a.Assert.exists(e),this.logger.info("Logging analytics custom event",e),this.sendToService(e,"custom","customEvent")},e.prototype.getTopQueries=function(e){var t=this.buildAnalyticsUrl("/stats/topQueries");return this.getFromService(t,e)},e.prototype.clearCookies=function(){c.Cookie.erase("visitorId"),c.Cookie.erase("visitId")},e.prototype.sendToService=function(t,n,i){return o(this,void 0,void 0,function(){var o,s,a,u,l;return r(this,function(r){switch(r.label){case 0:return null==e.pendingRequest?[3,2]:[4,e.pendingRequest];case 1:r.sent(),r.label=2;case 2:o=this.getURL(n),s=this.executeRequest(o,t),r.label=3;case 3:return r.trys.push([3,5,,8]),[4,s];case 4:return a=r.sent(),e.pendingRequest=null,this.handleAnalyticsEventResponse(a.data),[2,a.data];case 5:return u=r.sent(),e.pendingRequest=null,this.options.accessToken.isExpired(u)?[4,this.options.accessToken.doRenew()]:[3,7];case 6:if(l=r.sent())return[2,this.sendToService(t,n,i)];r.label=7;case 7:throw u;case 8:return[2]}})})},e.prototype.executeRequest=function(t,n){var i=this.endpointCaller.call({errorsAsSuccess:!1,method:"POST",queryString:t.queryNormalized,requestData:n,url:t.path,responseType:"text",requestDataType:"application/json"});return i?(e.pendingRequest=i,i):Promise.resolve({data:{visitId:"",visitorId:""},duration:0})},e.prototype.getURL=function(t){var n=e.CUSTOM_ANALYTICS_VERSION||e.DEFAULT_ANALYTICS_VERSION;return p.UrlUtils.normalizeAsParts({paths:[this.options.serviceUrl,"/rest/",n,"/analytics/",t],query:{org:this.organization,visitor:c.Cookie.get("visitorId")}})},e.prototype.getFromService=function(e,t){var n=i({},t,{access_token:this.options.accessToken.token});return this.endpointCaller.call({errorsAsSuccess:!1,method:"GET",queryString:this.options.organization?["org="+d.Utils.safeEncodeURIComponent(this.options.organization)]:[],requestData:n,responseType:"json",url:e}).then(function(e){return e.data})},e.prototype.handleAnalyticsEventResponse=function(t){var n,i;return t.visitId?(n=t.visitId,i=t.visitorId):t.searchEventResponses&&(n=s.first(t.searchEventResponses).visitId,i=s.first(t.searchEventResponses).visitorId),n&&(this.visitId=n),i&&c.Cookie.set("visitorId",i,e.VISITOR_COOKIE_TIME),t},e.prototype.buildAnalyticsUrl=function(t){return p.UrlUtils.normalizeAsString({paths:[this.options.serviceUrl,"/rest/",e.CUSTOM_ANALYTICS_VERSION||e.DEFAULT_ANALYTICS_VERSION,t]})},e.DEFAULT_ANALYTICS_URI="https://usageanalytics.coveo.com",e.DEFAULT_ANALYTICS_VERSION="v15",e.CUSTOM_ANALYTICS_VERSION=void 0,e.VISITOR_COOKIE_TIME=864e9,e}();t.AnalyticsEndpoint=h},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(15),s=n(1),a=n(45),u=n(30),l=n(41),c=n(4),p=n(0),d=n(13),h=n(9),f=n(117),m=n(16),y=function(e){function t(n,i,a,u,l){var c=e.call(this,n,t.ID)||this;return c.window=i,c.queryStateModel=a,c.queryController=u,c.ignoreNextHashChange=!1,c.initialHashChange=!1,c.willUpdateHash=!1,o.Assert.exists(c.queryStateModel),o.Assert.exists(c.queryController),s.$$(c.element).on(r.InitializationEvents.restoreHistoryState,function(){c.logger.trace("Restore history state. Update model"),c.updateModelFromHash(),c.lastState=c.queryStateModel.getAttributes()}),s.$$(c.element).on(c.queryStateModel.getEventName(m.Model.eventTypes.all),function(){c.logger.trace("Query model changed. Update hash"),c.updateHashFromModel()}),c.hashchange=function(){c.handleHashChange(),c.lastState=c.queryStateModel.getAttributes()},c.window.addEventListener("hashchange",c.hashchange),s.$$(c.element).on(r.InitializationEvents.nuke,function(){return c.handleNuke()}),c}return i(t,e),Object.defineProperty(t.prototype,"usageAnalytics",{get:function(){return this.queryController.usageAnalytics},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hashUtils",{get:function(){}