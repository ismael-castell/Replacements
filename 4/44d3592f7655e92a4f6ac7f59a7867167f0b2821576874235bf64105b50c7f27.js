!function(){"use strict";var e=function(){var e=setTimeout;function t(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void o(t.promise,e)}i(t.promise,r)}else(1===e._state?i:o)(t.promise,e._value)}))):e._deferreds.push(t)}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof n)return e._state=3,e._value=t,void a(e);if("function"==typeof r)return void c((i=r,u=t,function(){i.apply(u,arguments)}),e)}e._state=1,e._value=t,a(e)}catch(t){o(e,t)}var i,u}function o(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&n._immediateFn((function(){e._handled||n._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;i>t;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e((function(e){n||(n=!0,i(t,e))}),(function(e){n||(n=!0,o(t,e))}))}catch(e){if(n)return;n=!0,o(t,e)}}n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,n){var i=new this.constructor(t);return r(this,new u(e,n,i)),i},n.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},n.all=function(e){return new n((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;r.length>a;a++)o(a,r[a])}))},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)}))},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(t){e(t,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var s=n;return/native code/.test(window.Promise)?window.Promise:s}();function t(){return(t=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e,t){return e+t}var r={}.hasOwnProperty;function i(e,t){return r.call(t,e)}function o(){return(o=Object.assign||function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return n.forEach((function(t){for(var n in t)i(n,t)&&(e[n]=t[n])})),e}).apply(void 0,arguments)}var a=Array.isArray;function u(e){return"object"==typeof e&&null!==e&&!a(e)}function c(e,t){return Object.keys(t).reduce((function(n,r){return n[r]=e(t[r]),n}),{})}function s(e){return a(e)?e.map(s):u(e)?c(s,e):e}function d(e,t){for(var n=0;t.length>n;n++){var r=t[n];if(e(r))return r}}function l(e,t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n]}function f(e){return e}function p(e,t){return Object.keys(t).forEach((function(n){e(t[n],n)}))}function h(){return Math.random().toString(36).substring(2)}function m(e){var t=h();return i(t,e)?m(e):t}function v(e,t,n){var r=function(e,t){for(var n="string"==typeof e?e.split("."):e,r=0,i=t;i&&n.length>r;)i=i[n[r++]];return i}(t,n);return null!=r?r:e}function g(e,t){return-1!==t.indexOf(e)}function _(e){return 0===(a(e)?e:Object.keys(e)).length}function w(e){return!e}function y(e){return!!e}function b(e){return e.length>0?e[e.length-1]:null}function k(e,t){return Object.keys(t).reduce((function(n,r){return n[e(r)]=t[r],n}),{})}function C(e,t){if(_(t))return e;var n={};return p((function(r,o){if(i(o,t))if(u(e[o])&&u(t[o]))n[o]=C(e[o],t[o]);else if(a(e[o])&&a(t[o])){var c=Math.max(e[o].length,t[o].length);n[o]=Array(c);for(var s=0;c>s;s++)s in t[o]?n[o][s]=t[o][s]:s in e[o]&&(n[o][s]=e[o][s])}else n[o]=t[o];else n[o]=e[o]}),e),p((function(e,r){i(r,n)||(n[r]=t[r])}),t),n}function E(e){if(0===e.length)return{};var t=e[0];return e.slice(1).reduce((function(e,t){return C(e,t)}),t)}function x(e){return function(e,t){var n={};return function(){var r=e.apply(void 0,arguments);if(i(r,n))return n[r];var o=t.apply(void 0,arguments);return n[r]=o,o}}(f,e)}function I(){}function L(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function A(e,t){if(L(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;n.length>r;r++)if(!i(n[r],t)||!L(e[n[r]],t[n[r]]))return!1;return!0}function T(e){return e.reduce(n,0)}var O=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))};var P=function(e,t){p((function(e,n){t.style[n]=e}),e)},S=function(e,t){p((function(e,n){"style"!==n?t.setAttribute(n,e):P(e,t)}),e)},z=function(){return!!document.documentElement.currentStyle},j=function(e,t){var n=window.getComputedStyle(t),r="border-box"===n.boxSizing,o=function(e,t){return e.reduce((function(e,n){return e[n]=t[n],e}),{})}(e,n);z()&&r&&i("width",o)&&null!==o.width&&(o.width=T([o.width,n.paddingLeft,n.paddingRight,n.borderLeftWidth,n.borderRightWidth].map(parseFloat))+"px");z()&&r&&i("height",o)&&null!==o.height&&(o.height=T([o.height,n.paddingTop,n.paddingBottom,n.borderTopWidth,n.borderBottomWidth].map(parseFloat))+"px");return o};function M(){return new e((function(e){!function t(){document.body?e(document.body):setTimeout(t,100)}()}))}function N(e){var t=e.parentNode;t&&t.removeChild(e)}var D=function(e,t){var n=document.createElement(e);return S(t,n),n},q=function(e){return O(e).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")},H=/(?:[^:]+:\/\/)?([^/\s]+)/;var R=/[^:]+:\/\/[^(/|?)\s]+/,F=/.*?\?([^#]+)/,B=function(e){var t=function(e){return e.replace(/^\?/,"")}(function(e){var t=e.match(F);return t?"?"+t[1]:""}(e));return(t||e).split("&").map((function(e){return e.split("=").map((function(e){return decodeURIComponent(e.replace("+","%20"))}))})).reduce((function(e,t){return e[t[0]]=t[1],e}),{})},W=/^(?:https?:)?\/\/[^/]+\/([^?#]+)/,V=function(e){return e.replace(/\w/g,"$&[\\r\\n\\t]*")},G=(RegExp("^[\0-]*("+V("javascript")+"|"+V("data")+"):","i"),/^((http(s)?:)?\/\/)/),U=function(e){return function(t,n){if(0===t){if("function"!=typeof e)return n(0,(function(){})),void n(2);var r,i=!1;n(0,(function(e){i||(i=2===e)&&"function"==typeof r&&r()})),i||(r=e((function(e){i||n(1,e)}),(function(e){i||void 0===e||(i=!0,n(2,e))}),(function(){i||(i=!0,n(2))})))}}},Y=function(e){return function(t,n){var r,i;0===t&&e(0,(function(e,t){if(0===e)r=t,n(0,o);else if(1===e){var a=t;i&&i(2),a(0,(function(e,t){0===e?(i=t)(1):1===e?n(1,t):2===e&&t?(r&&r(2),n(2,t)):2===e&&(r?(i=void 0,r(1)):n(2))}))}else 2===e&&t?(i&&i(2),n(2,t)):2===e&&(i?r=void 0:n(2))}));function o(e,t){1===e&&(i||r)(1,t),2===e&&(i&&i(2),r&&r(2))}}},X=function(e,t){return e===t};function J(e){return void 0===e&&(e=X),function(t){return function(n,r){if(0===n){var i,o,a=!1;t(0,(function(t,n){0===t&&(o=n),1===t?a&&e(i,n)?o(1):(a=!0,i=n,r(1,n)):r(t,n)}))}}}}var $=function(e){return function(t){return function(n,r){var i;0===n&&t(0,(function(t,n){0===t?(i=n,r(t,n)):1===t?e(n)?r(t,n):i(1):r(t,n)}))}}},K=function(e){return function(t){var n;t(0,(function(t,r){0===t&&(n=r),1===t&&e(r),1!==t&&0!==t||n(1)}))}},Z=function(e,t,n){return function(r,i){if(0===r){var o=!1,a=function(e){i(1,e)};i(0,(function(r){2===r&&(o=!0,e.removeEventListener(t,a,n))})),o||e.addEventListener(t,a,n)}}};var Q=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){if(0===e)for(var r=t.length,i=Array(r),o=0,a=0,u=function(e){if(0!==e)for(var t=0;r>t;t++)i[t]&&i[t](e)},c=function(e){t[e](0,(function(t,c){0===t?(i[e]=c,1==++o&&n(0,u)):2===t?(i[e]=void 0,++a===r&&n(2)):n(t,c)}))},s=0;r>s;s++)c(s)}};function ee(e,t){return U((function(n){return e.on(t,n),function(){e.off(t,n)}}))}!function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());var te=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var r=t[0],i=1,o=t.length;o>i;i++)r=t[i](r);return r},ne=function(e){return function(t){return function(n,r){var i;0===n&&t(0,(function(t,n){0===t?(i=n,r(0,(function(e,t){0!==e&&i(e,t)})),r(1,e)):r(t,n)}))}}},re=function(e){return function(t){return function(n,r){0===n&&t(0,(function(t,n){r(t,1===t?e(n):n)}))}}};function ie(e){return function(t){return Y(re(e)(t))}}var oe=function(){};function ae(e,t){0===e&&t(0,oe)}function ue(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){if(0===e){var r=!1;for(n(0,(function(e){2===e&&(r=!0,t.length=0)}));0!==t.length;)n(1,t.shift());r||n(2)}}}function ce(e){return function(t,n){if(0===t){var r,i,o,a=0;e(0,(function(e,t){if(0===e&&(o=t),1===e){var u=[i,t];r=u[0],i=u[1],2>++a?o(1):n(1,[r,i])}else n(e,t)}))}}}var se=function(){},de={};function le(e){var t,n,r=[],i=!1,o=de;return function(a,u){if(0===a){if(o!==de)return u(0,se),i&&u(1,n),void u(2,o);r.push(u);var c=function(e,n){if(2!==e)o===de&&t(e,n);else{var i=r.indexOf(u);-1!==i&&r.splice(i,1)}};1!==r.length?(u(0,c),i&&o===de&&u(1,n)):e(0,(function(e,a){if(0===e)return t=a,void u(0,c);1===e&&(i=!0,n=a);var s=r.slice(0);2===e&&(o=a,r=null),s.forEach((function(t){t(e,a)}))}))}}}var fe=function(e){return function(t){return function(n,r){if(0===n){var i,o=0;t(0,(function(t,n){0===t?(i=n,r(t,n)):1===t&&e>o?(o++,i(1)):r(t,n)}))}}}},pe=function(e){return void 0===e&&(e={}),function(t){"function"==typeof e&&(e={next:e});var n,r=e.next,i=e.error,o=e.complete;t(0,(function(e,t){0===e&&(n=t),1===e&&r&&r(t),1!==e&&0!==e||n(1),2===e&&!t&&o&&o(),2===e&&t&&i&&i(t)}));return function(){n&&n(2)}}},he=function(e){return function(t){return function(n,r){if(0===n){var i,o=0;t(0,(function(t,n){0===t?(i=n,r(0,a)):1===t?e>o&&(o++,r(t,n),o===e&&(r(2),i(2))):r(t,n)}))}function a(t,n){e>o&&i(t,n)}}}},me={},ve=function(e){return function(t){return function(n,r){if(0===n){var i,o,a=!1,u=me;t(0,(function(t,n){if(0===t)return i=n,e(0,(function(e,t){if(0!==e)return 1===e?(u=void 0,o(2),i(2),void(a&&r(2))):void(2===e&&(o=null,t&&(u=t,i(2),a&&r(e,t))));(o=t)(1)})),a=!0,r(0,(function(e,t){u===me&&(2===e&&o&&o(2),i(e,t))})),void(u!==me&&r(2,u));2===t&&o(2),r(t,n)}))}}}};function ge(t){return new e((function(e,n){pe({next:e,error:n,complete:function(){var e=Error("No elements in sequence.");e.code="NO_ELEMENTS",n(e)}})(function(e){return function(t,n){if(0===t){var r,i,o=!1,a=!1;e(0,(function(e,t){return 0===e?(r=t,void n(0,(function(e,t){2===e&&(a=!0),r(e,t)}))):1===e?(o=!0,i=t,void r(1)):void(2===e&&!t&&o&&(n(1,i),a)||n(e,t))}))}}}(t))}))}var _e=function(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}((function(e,t){function n(e,t){return e===t}function r(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;r>i;i++)if(!e(t[i],n[i]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=null,o=null;return function(){return r(t,i,arguments)||(o=e.apply(null,arguments)),i=arguments,o}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;t>a;a++)r[a]=arguments[a];var u=0,c=r.pop(),s=o(r),d=e.apply(void 0,[function(){return u++,c.apply(null,arguments)}].concat(n)),l=i((function(){for(var e=[],t=s.length,n=0;t>n;n++)e.push(s[n].apply(null,arguments));return d.apply(null,e)}));return l.resultFunc=c,l.recomputations=function(){return u},l.resetRecomputations=function(){return u=0},l}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=a,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("object"!=typeof e)throw Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var u=t.createSelector=a(i)})),we=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ye=function(){function e(){we(this,e),this._cache={}}return e.prototype.set=function(e,t){this._cache[e]=t},e.prototype.get=function(e){return this._cache[e]},e.prototype.remove=function(e){delete this._cache[e]},e.prototype.clear=function(){this._cache={}},e}();(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.cacheSize;if(we(this,e),void 0===n)throw Error("Missing the required property `cacheSize`.");if(!Number.isInteger(n)||0>=n)throw Error("The `cacheSize` property must be a positive integer value.");this._cache={},this._cacheOrdering=[],this._cacheSize=n}e.prototype.set=function(e,t){(this._cache[e]=t,this._cacheOrdering.push(e),this._cacheOrdering.length>this._cacheSize)&&this.remove(this._cacheOrdering[0])},e.prototype.get=function(e){return this._cache[e]},e.prototype.remove=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1),delete this._cache[e]},e.prototype.clear=function(){this._cache={},this._cacheOrdering=[]}})(),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.cacheSize;if(we(this,e),void 0===n)throw Error("Missing the required property `cacheSize`.");if(!Number.isInteger(n)||0>=n)throw Error("The `cacheSize` property must be a positive integer value.");this._cache={},this._cacheOrdering=[],this._cacheSize=n}e.prototype.set=function(e,t){(this._cache[e]=t,this._registerCacheHit(e),this._cacheOrdering.length>this._cacheSize)&&this.remove(this._cacheOrdering[0])},e.prototype.get=function(e){return this._registerCacheHit(e),this._cache[e]},e.prototype.remove=function(e){this._deleteCacheHit(e),delete this._cache[e]},e.prototype.clear=function(){this._cache={},this._cacheOrdering=[]},e.prototype._registerCacheHit=function(e){this._deleteCacheHit(e),this._cacheOrdering.push(e)},e.prototype._deleteCacheHit=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1)}}();function be(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=ye;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,o=void 0;"function"==typeof n?(console.warn('[re-reselect] Deprecation warning: "selectorCreator" argument is discouraged and will be removed in the upcoming major release. Please use "options.selectorCreator" instead.'),i=new r,o=n):(i=n.cacheObject||new r,o=n.selectorCreator||_e.createSelector);var a=function(){var n=e.apply(void 0,arguments);if("string"==typeof n||"number"==typeof n){var r=i.get(n);return void 0===r&&(r=o.apply(void 0,t),i.set(n,r)),r.apply(void 0,arguments)}};return a.getMatchingSelector=function(){var t=e.apply(void 0,arguments);return i.get(t)},a.removeMatchingSelector=function(){var t=e.apply(void 0,arguments);i.remove(t)},a.clearCache=function(){i.clear()},a.resultFunc=t[t.length-1],a}}var ke=function(e,t){return t},Ce=function(e,t){return function(e){return e.entities.chats.byIds}(e)[t]},Ee=be([function(e,t){return Ce(e,t).events.orderedIds},function(e,t){return Ce(e,t).events.byIds}],(function(e,t){return e.map((function(e){return t[e]}))}))(ke),xe=be([Ce,Ee],(function(e,n){return t({},e,{events:n})}))(ke),Ie=function(e){return e.entities.users.byIds},Le=function(e){return Ie(e)[function(e){return e.session.id}(e)]},Ae=function(e,t){return Ie(e)[t]},Te=function(e){return Le(e).id},Oe=(be([Ee,Te],(function(e,t){return l((function(e){return e.delivered&&e.author===t}),e)}))(ke),be([Ee,Te],(function(e,t){return l((function(e){return e.seen&&e.author===t}),e)}))(ke),{boosters:!0,form:!0,system_message:!0});_e.createSelector([Ee,function(e){return Le(e).id}],(function(e,t){return function(e,t,n){for(var r=t;r>=0;r--)if(e(n[r]))return r;return-1}((function(e){return e.author===t&&"message"===e.type&&!(e.properties&&"file"===e.properties.serverType)||!0===e.seen&&!Oe[e.type]&&e.serverId}),(n=e).length-1,n);var n})),be([function(e,t){return Ce(e,t).participants},Ie],(function(e,t){return e.map((function(e){return t[e]}))}))(ke);function Pe(e,t){return void 0===t?e.application:e.application[t]}function Se(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;o.length>r;r++)0>t.indexOf(n=o[r])&&(i[n]=e[n]);return i}var ze="application/x-postmate-v1+json",je=0,Me={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Ne=function(e,t){return("string"!=typeof t||e.origin===t)&&(!!e.data&&("object"==typeof e.data&&("postmate"in e.data&&(e.data.type===ze&&!!Me[e.data.postmate]))))},De=function(){function e(e){var t=this;this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.events={},this.listener=function(e){if(!Ne(e,t.childOrigin))return!1;var n=((e||{}).data||{}).value||{},r=n.name;"emit"===e.data.postmate&&r in t.events&&t.events[r].call(t,n.data)},this.parent.addEventListener("message",this.listener,!1)}var t=e.prototype;return t.get=function(e){var t=this;return new He.Promise((function(n){var r=++je;t.parent.addEventListener("message",(function e(i){i.data.uid===r&&"reply"===i.data.postmate&&(t.parent.removeEventListener("message",e,!1),n(i.data.value))}),!1),t.child.postMessage({postmate:"request",type:ze,property:e,uid:r},t.childOrigin)}))},t.call=function(e,t){this.child.postMessage({postmate:"call",type:ze,property:e,data:t},this.childOrigin)},t.on=function(e,t){this.events[e]=t},t.destroy=function(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)},e}(),qe=function(){function e(e){var t=this;this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",(function(e){if(Ne(e,t.parentOrigin)){var n=e.data,r=n.property,i=n.uid,o=n.data;"call"!==e.data.postmate?function(e,t){var n="function"==typeof e[t]?e[t]():e[t];return He.Promise.resolve(n)}(t.model,r).then((function(t){return e.source.postMessage({property:r,postmate:"reply",type:ze,uid:i,value:t},e.origin)})):r in t.model&&"function"==typeof t.model[r]&&t.model[r].call(t,o)}}))}return e.prototype.emit=function(e,t){this.parent.postMessage({postmate:"emit",type:ze,value:{name:e,data:t}},this.parentOrigin)},e}(),He=function(){function e(e){var t=e.container,n=void 0===t?void 0!==n?n:document.body:t,r=e.model,i=e.url,o=e.iframeAllowedProperties;return this.parent=window,this.frame=document.createElement("iframe"),o&&(this.frame.allow=o),n.appendChild(this.frame),this.child=this.frame.contentWindow||this.frame.contentDocument.parentWindow,this.model=r||{},this.sendHandshake(i)}return e.prototype.sendHandshake=function(t){var n,r=this,i=function(e){var t=document.createElement("a");t.href=e;var n=t.protocol.length>4?t.protocol:window.location.protocol,r=t.host.length?"80"===t.port||"443"===t.port?t.hostname:t.host:window.location.host;return t.origin||n+"//"+r}(t),o=0;return new e.Promise((function(e,a){r.parent.addEventListener("message",(function t(o){return!!Ne(o,i)&&("handshake-reply"===o.data.postmate?(clearInterval(n),r.parent.removeEventListener("message",t,!1),r.childOrigin=o.origin,e(new De(r))):a("Failed handshake"))}),!1);var u=function(){o++,r.child.postMessage({postmate:"handshake",type:ze,model:r.model},i),5===o&&clearInterval(n)},c=function(){u(),n=setInterval(u,500)};r.frame.attachEvent?r.frame.attachEvent("onload",c):r.frame.addEventListener("load",c),r.frame.src=t}))},e}();He.debug=!1,He.Promise=function(){try{return window?window.Promise:e}catch(e){return null}}(),He.Model=function(){function e(e){return this.child=window,this.model=e,this.parent=this.child.parent,this.sendHandshakeReply()}return e.prototype.sendHandshakeReply=function(){var e=this;return new He.Promise((function(t,n){e.child.addEventListener("message",(function r(i){if(i.data.postmate){if("handshake"===i.data.postmate){e.child.removeEventListener("message",r,!1),i.source.postMessage({postmate:"handshake-reply",type:ze},i.origin),e.parentOrigin=i.origin;var o=i.data.model;return o&&Object.keys(o).forEach((function(t){e.model[t]=o[t]})),t(new qe(e))}return n("Handshake Reply Failed")}}),!1)}))},e}();var Re=function(){var e,n={all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map((function(e){e(n)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,n)}))}},r=n.all,i=Se(n,["all"]);return t({},i,{off:function(e,t){e?i.off(e,t):r.clear()},once:function(e,t){i.on(e,(function n(r,o){i.off(e,n),t(r,o)}))}})};He.Promise=e;var Fe=function(t){var n=t.methods,r=Se(t,["methods"]);return new He(r).then((function(t){var r=t.on,i=t.call,a=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return i.apply(t,n)},u=Re(),c={},s={};return n.resolveRemoteCall=function(e){var t=e.id,n=e.value,r=s[t];delete s[t],r(n)},t.on=function(e,n){u.on(e,n),c[e]||(c[e]=!0,function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];r.apply(t,n)}(e,(function(t){u.emit(e,t)})))},t.off=u.off,t.on("remote-call",(function(e){var r=e.id,i=e.method,o="function"==typeof n[i]?n[i].apply(t,e.args):void 0;o&&"function"==typeof o.then?o.then((function(e){a("resolveRemoteCall",{id:r,value:e})})):a("resolveRemoteCall",{id:r,value:o})})),t.emit=function(e,t){a("emitEvent",{event:e,data:t})},t._emit=u.emit,t.call=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];return new e((function(e){var n=m(s);s[n]=e,a("remoteCall",{id:n,method:t,args:r})}))},o(t,n)}))};function Be(e,t){return null!=t&&null!=e&&"object"==typeof t&&"object"==typeof e?We(t,e):e}function We(e,n){var r;if(Array.isArray(e)){r=e.slice(0,n.length);for(var o=0;n.length>o;o++)void 0!==n[o]&&(r[o]=Be(n[o],r[o]))}else for(var a in r=t({},e),n)i(a,n)&&(void 0===n[a]?delete r[a]:r[a]=Be(n[a],r[a]));return r}var Ve=function(t){return new e((function(e){t.on("state",(function n(r){t.off("state",n),t.state=r,e(r)})),t.on("state_diff",(function(e){t.state=We(t.state,e)})),t.on("store_event",(function(e){t._emit(e[0],e[1])})),t.call("startStateSync")}))},Ge="chat-widget",Ue={opacity:0,visibility:"hidden",zIndex:-1},Ye={opacity:1,visibility:"visible",zIndex:2147483639},Xe={id:Ge+"-container",style:t({},Ue,{position:"fixed",bottom:0,width:0,height:0,maxWidth:"100%",maxHeight:"100%",minHeight:0,minWidth:0,backgroundColor:"transparent",border:0,overflow:"hidden"})},Je=(t({},Xe.style),{id:"livechat-eye-catcher",style:{position:"fixed",visibility:"visible",zIndex:2147483639,background:"transparent",border:0,padding:"10px 10px 0 0",float:"left",marginRight:"-10px",webkitBackfaceVisibility:"hidden"}}),$e={style:{position:"absolute",display:"none",top:"-5px",right:"-5px",width:"16px",lineHeight:"16px",textAlign:"center",cursor:"pointer",textDecoration:"none",color:"#000",fontSize:"20px",fontFamily:"Arial, sans-serif",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.5)"}},Ke={id:"livechat-eye-catcher-img",style:{display:"block",overflow:"hidden",cursor:"pointer"}},Ze={alt:"",style:{display:"block",border:0,float:"right"}},Qe={position:"absolute",top:"0px",left:"0px",bottom:"0px",right:"0px"},et={allowtransparency:!0,id:Ge,name:Ge,title:"LiveChat chat widget",scrolling:"no",style:{width:"100%",height:"100%","min-height":"0px","min-width":"0px",margin:"0px",padding:"0px","background-image":"none","background-position-x":"0%","background-position-y":"0%","background-size":"initial","background-attachment":"scroll","background-origin":"initial","background-clip":"initial","background-color":"rgba(0, 0, 0, 0)","border-width":"0px",float:"none"}},tt=e.resolve(),nt=function(e){tt.then(e)},rt=function(e){return nt((function(){throw e}))},it=function(e){return function(t){var n=window.LC_API||{};if("function"==typeof t&&t(n),"function"==typeof n[e])try{n[e]()}catch(e){rt(e)}}},ot=function(e,t){if(!e)return!0;var n=function(e){var t=e.match(H);return t&&t[1]}(t);return!!n&&[].concat(e,["livechatinc.com","lc.chat"]).some((function(e){var t=n.length-e.length;return-1!==n.indexOf(e,t)&&(n.length===e.length||"."===n.charAt(t-1))}))},at=[],ut=function(e){30>at.length||(at=at.slice(1));for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];at.push({name:e,args:n})},ct="always visible",st="always hide",dt="hide until it gets activated";function lt(e,t,n){return function(r){var i,o=(void 0===r?{}:r).prettyPrint,a=void 0===o||o,u=t.analytics.googleAnalytics.trackerName,c=!ot(n.allowedDomains,document.location.href),s=[["window.open",!/native code/.test(window.open)],["document.domain",window.location.hostname!==document.domain],["window.frames",window.frames!==window],["JSON.stringify",!/native code/.test(window.JSON.stringify)],["JSON.parse",!/native code/.test(window.JSON.parse)],["Object.keys",!/native code/.test(Object.keys)],["console.log",!/native code/.test(console.log)]].filter((function(e){return e[1]})).map((function(e){return e[0]})),d=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}(et.style).some((function(t){return e.frame.style.getPropertyValue(t)!==et.style[t]})),l=function(e){var t="";return{desktopVisibility:t=e.initiallyHidden?e.disabledMinimized?st:dt:ct,mobileVisibility:e.hasCustomMobileSettings?e.hiddenOnMobile?st:e.initiallyHiddenOnMobile?e.disabledMinimizedOnMobile?st:dt:ct:t}}(n.__unsafeProperties.group),f=l.desktopVisibility,p=l.mobileVisibility,h=[{msg:"language: "+n.__unsafeProperties.group.language},{msg:"region: "+n.region},{msg:"license number: "+window.__lc.license},{msg:"group id: "+e.state.application.group},{msg:"hidden: "+(e.state.application.hidden?"yes":"no")},{msg:"tracker name: "+u},{msg:"desktop visibility: "+f,isNotStandard:f!==ct},{msg:"mobile visibility: "+p,isNotStandard:p!==ct},{msg:"chat between groups: "+(window.__lc.chat_between_groups?"yes":"no")},{msg:"is iframe inline style modified: "+(d?"yes":"no"),isNotStandard:d},{msg:"is current domain not allowed by the allowed domains: "+(c?"yes":"no"),isNotStandard:c},{msg:"overrides: "+(s.length>0?s.join(",\n"):"none"),isNotStandard:s.length>0},{msg:"call history: "+(at.length>0?at.map((function(e){return e.name+"("+e.args.join(", ")+")"})).join(",\n"):"none"),isNotStandard:at.length>0}];if(!a)return h;var m=h.filter((function(e){return e.isNotStandard})),v=h.filter((function(e){return!e.isNotStandard})),g=[].concat(m,v);return-1!==s.indexOf("console.log")?g.map((function(e){return e.msg})).join("\n\n"):((i=console).log.apply(i,[g.map((function(e){return"%c"+e.msg})).join("\n\n")].concat(g.map((function(e){return e.isNotStandard?"color: red;":""})))),"")}}function ft(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return function(){"function"==typeof e&&e.apply(void 0,n)}}function pt(e,t,n){return te(ee(e,n),K((function(e){return nt(ft(t[n],e))})))}function ht(e){return E(e.filter(Boolean).map((function(e){var t;return(t={})[e.name]=e.value+"",t})))}function mt(e,t){var n,r=d((function(e){return!e[1]}),O((n=t,["name","email"].reduce((function(e,t){return i(t,n)&&(e[t]=n[t]),e}),{}))));if(r){var o=r[1];console.error("[LiveChatWidget] Customer "+r[0]+" cannot be set to "+(""===o?"empty string":o))}else e.call("storeMethod",["requestUpdateUser",Te(e.state),t])}function vt(e,t){e.call("storeMethod",["requestSetUserProperties",Te(e.state),t])}function gt(e){return null!=e?e+"":null}var _t=function(e,t){return Pe(e,"visibility").state===t};function wt(e,t){return Y((n=function(){return te(ee(e,"state_diff"),re((function(){return e.state})),ne(e.state),re(t),J(A),ve(ee(e,"unbind")))},function(e,t){if(0===e){var r=!1;t(0,(function(e){2===e&&(r=!0)})),t(1,n()),r||t(2)}}));var n}var yt=function(e,t){return te(wt(e,t),fe(1))};function bt(e){return te(wt(e,(function(e){return Pe(e,"availability")})),$(y))}var kt="liveChatChatId";function Ct(e){return te(wt(e,(function(e){return xe(e,kt).active})),fe(1),ie((function(t){return t?te(wt(e,(function(e){return xe(e,kt).properties.currentAgent})),$(Boolean),re((function(){return t})),he(1)):ue(t)})))}function Et(e,t){return te(ee(e,"state_diff"),re((function(){return Pe(e.state,"readyState")})),$((function(e){return e===t})),he(1),le)}var xt="not_ready",It="ready",Lt="bootstrapped";function At(e,t){return te(Et(e,It),ie(t))}function Tt(e,t){return te(Et(e,Lt),ie(t))}function Ot(e,t){return te(wt(e,(function(e){return Pe(e,"invitation")})),re((function(e){return e[t]})),$(y),ce,$((function(e){return e[1].length>e[0].length})),re((function(e){return b(e[1])})))}var Pt=function(e){return e.actingAsDirectLink||e.isInCustomContainer},St="liveChatChatId",zt=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return nt(ft.apply(void 0,[e].concat(n)))};function jt(e,t,n){window.LC_API=window.LC_API||{};var r=window.LC_API;te(function(e){return te(wt(e,(function(e){return _t(e,"maximized")})),$(y))}(e),K((function(){return zt(r.on_chat_window_opened)}))),te(Tt(e,(function(){return function(e){return te(wt(e,(function(e){return _t(e,"minimized")})),fe(1),$(y))}(e)})),K((function(){return zt(r.on_chat_window_minimized)}))),te(function(e){return te(wt(e,(function(e){return _t(e,"hidden")})),$(y))}(e),K((function(){return zt(r.on_chat_window_hidden)}))),te(bt(e),K((function(e){return zt(r.on_chat_state_changed,{state:"online"===e?"online_for_chat":"offline"})}))),te(Tt(e,(function(){return Ct(e)})),$(y),K((function(){return zt(r.on_chat_started,{agent_name:Ae(e.state,xe(e.state,St).properties.currentAgent).name})}))),te(Tt(e,(function(){return Ct(e)})),$(w),K((function(){return zt(r.on_chat_ended)}))),te(Tt(e,(function(){return ee(e,"on_message")})),K((function(e){return zt(r.on_message,e)}))),te(ee(e,"widget_resize"),K((function(e){return zt(r.on_widget_resize,e.size)}))),te(function(e){return te(ee(e,"add_event"),$((function(e){return e.event.properties.invitation})),re((function(t){var n=t.event;return{event:n,author:Ae(e.state,n.author)}})))}(e),K((function(e){var t=e.author,n=e.event,i=n.properties;zt(r.on_message,{text:i.text,timestamp:n.timestamp,invitation:!0,user_type:"agent",agent_login:t.id,agent_name:t.name,received_first_time:i.receivedFirstTime})}))),pt(e,r,"on_postchat_survey_submitted"),pt(e,r,"on_prechat_survey_submitted"),pt(e,r,"on_rating_comment_submitted"),pt(e,r,"on_rating_submitted"),pt(e,r,"on_ticket_created"),r.set_custom_variables=function(t){ut("LC_API.set_custom_variables",t),vt(e,ht(t))},r.update_custom_variables=function(t){ut("LC_API.update_custom_variables",t),mt(e,{properties:ht(t)})},r.set_visitor_name=function(t){ut("LC_API.set_visitor_name",t),mt(e,{name:gt(t)})},r.set_visitor_email=function(t){ut("LC_API.set_visitor_email",t),mt(e,{email:gt(t)})},r.open_chat_window=r.show_full_view=r.open_mobile_window=function(){ut("LC_API.open_chat_window"),e.maximize()},r.minimize_chat_window=function(){ut("LC_API.minimize_chat_window"),Pt(t)||e.minimize()},r.hide_eye_catcher=function(){ut("LC_API.hide_eye_catcher"),e.call("hideEyeCatcher")},r.hide_chat_window=function(){ut("LC_API.hide_chat_window"),Pt(t)||e.hide()},r.agents_are_available=function(){return ut("LC_API.agents_are_available"),"online"===Pe(e.state,"availability")},r.chat_window_maximized=function(){return ut("LC_API.chat_window_maximized"),_t(e.state,"maximized")},r.chat_window_minimized=function(){return ut("LC_API.chat_window_minimized"),_t(e.state,"minimized")},r.chat_window_hidden=function(){return ut("LC_API.chat_window_hidden"),_t(e.state,"hidden")},r.visitor_queued=function(){return ut("LC_API.visitor_queued"),xe(e.state,St).properties.queued},r.chat_running=function(){return ut("LC_API.chat_running"),xe(e.state,St).active},r.visitor_engaged=function(){return ut("LC_API.visitor_engaged"),r.visitor_queued()||r.chat_running()||!!xe(e.state,St).properties.fakeAgentMessageId},r.get_window_type=function(){return ut("LC_API.get_window_type"),"embedded"},r.close_chat=function(){ut("LC_API.close_chat"),e.call("storeMethod",["requestUpdateChat",St,{active:!1}])},r.diagnose=lt(e,t,n),r.get_last_visit_timestamp=function(){return Pe(e.state).clientLastVisitTimestamp},r.get_visits_number=function(){return Pe(e.state).clientVisitNumber},r.get_page_views_number=function(){return Pe(e.state).clientPageViewsCount},r.get_chats_number=function(){return Pe(e.state).clientChatNumber},r.get_visitor_id=function(){return Le(e.state).serverId},r.get_chat_id=function(){return xe(e.state,St).serverId},r.trigger_sales_tracker=function(e,t){var n=a(t)?t:[];"string"==typeof e&&""!==e&&r.set_custom_variables([].concat(n,[{name:"__sales_tracker_"+e,value:"1"}]))},r.scriptTagVersion=function(){return"LiveChatWidget"in window?window.LiveChatWidget._v:"1.0"},["on","off","call","get"].forEach((function(e){r[e]=function(){var t="LiveChatWidget"in window?'call it on the new "LiveChatWidget" global object.':"upgrade your snippet code. You can do it by going to: https://my.livechatinc.com/settings/code";console.warn('[LiveChatWidget] In order to use "'+e+'" function you need to '+t)}})),r.disable_sounds=I}var Mt={handler:null,setHandler:function(e){this.handler=e},navigate:function(e){var t=this;nt((function(){window.location.origin===function(e){var t=e.match(R);return t&&t[0]}(e)&&"function"==typeof t.handler?t.handler(function(e){var t=e.match(W);return"/"+(t&&t[1]||"")}(e)):window.open(e,"_blank")}))}},Nt="liveChatChatId",Dt=function(e){var n,r=e.trackerId,i=e.variables;return t({},c(String,void 0===i?{}:i),((n={})["__sales_tracker_"+r]="1",n))},qt=function(e){var n=e.id;return t({uniqueId:e.uniqueId},n&&{id:n})},Ht=function(e,t){return v(null,"properties",l((function(e){return e.properties.uniqueId===t}),Ee(e.state,Nt)))},Rt=function(e){return t=function(e){if("call"!==e[0])return"other";switch(e[1][0]){case"set_customer_email":return"email";case"set_customer_name":return"name";case"set_session_variables":case"trigger_sales_tracker":case"update_session_variables":return"fields";case"destroy":case"hide":case"maximize":case"minimize":return"visibility"}},Object.keys(n=e).reduce((function(e,r){var i=n[r],o=t(i);return e[o]=e[o]||[],e[o].push(i),e}),{});var t,n};function Ft(e,n,r){var i,o=Re(),a=window.LiveChatWidget,u=function(e,t){var n;return(n={get:w,call:k,on:m,once:v,off:o.off})[e].apply(n,t)},l=function(e,t){return nt((function(){return o.emit(e,t)}))},f=function(e){void 0===e&&(e=[]);var t=b(e);if(t){var n=t[1];k(n[0],n[1])}},p=Rt(a._q);function h(t,n,r){switch(n){case"new_event":case"form_submitted":case"greeting_hidden":case"rating_submitted":case"visibility_changed":case"greeting_displayed":case"availability_changed":case"customer_status_changed":case"rich_message_button_clicked":return void o[t](n,r);case"ready":return void(Pe(e.state,"readyState")!==xt?nt((function(){return r({state:_("state"),customerData:_("customer_data")})})):o[t](n,r));default:return void console.error('[LiveChatWidget] callback "'+n+'" does not exist.')}}function m(e,t){ut("LiveChatWidget.on","'"+e+"'",t),h("on",e,t)}function v(e,t){ut("LiveChatWidget.once","'"+e+"'",t),h("once",e,t)}function _(t){switch(t){case"state":var n=Pe(e.state);return{availability:n.availability,visibility:n.visibility.state};case"chat_data":var r=xe(e.state,Nt),i=r.properties;return{chatId:r.serverId||null,threadId:(r.active||i.ended)&&i.lastThread||null};case"customer_data":var o=Le(e.state),a=o.serverId,u=o.name,c=o.email,l=o.properties,f=Pe(e.state).isReturning,p=xe(e.state,Nt),h=p.active,m=p.properties,v=m.queued,g=m.fakeAgentMessageId,_=d((function(e){return e.id===g}),p.events);return{name:u,email:c,isReturning:f,sessionVariables:l,id:a,status:v?"queued":h?"chatting":_&&_.properties.invitation?"invited":"browsing"};case"features":return s(Pe(e.state).config.features);default:return void console.error('[LiveChatWidget] property "'+t+'" not exists.')}}function w(e){return ut("LiveChatWidget.get","'"+e+"'"),_(e)}function k(t,r){switch(ut.apply(void 0,["LiveChatWidget.call","'"+t+"'"].concat(r)),t){case"hide":case"maximize":case"minimize":if(Pt(n))return;return void e[t](r);case"destroy":return e.kill(),delete window.__lc_inited,delete window.LC_API,void delete window.LiveChatWidget;case"set_session_variables":return void vt(e,c(String,r));case"set_customer_name":return void mt(e,{name:gt(r)});case"set_customer_email":return void mt(e,{email:gt(r)});case"update_session_variables":return void mt(e,{properties:c(String,r)});case"trigger_sales_tracker":return void vt(e,Dt(r));case"hide_greeting":return void e.call("hideGreeting");case"set_navigation_handler":return void Mt.setHandler(r);default:return void console.error('[LiveChatWidget] method "'+t+'" not exists.')}}void 0===(i=p.other)&&(i=[]),i.forEach((function(e){u(e[0],e[1])})),f(p.visibility),f(p.name),f(p.email),function(e){var n,r=(void 0===(n=e)&&(n=[]),n.reduce((function(e,n){var r=n[1],i=r[1];switch(r[0]){case"set_session_variables":return e.mode="set",e.properties=i,e;case"trigger_sales_tracker":return e.mode="set",e.properties=Dt(i),e;case"update_session_variables":return"none"===e.mode&&(e.mode="update"),e.properties=t({},e.properties,i),e}}),{mode:"none"})),i=r.mode;"none"!==i&&k(i+"_session_variables",r.properties)}(p.fields),a._q=[],a._h=u,a.scriptTagVersion=function(){return a._v},a.diagnose=lt(e,n,r),te(Et(e,Lt),K((function(){var e;e=function(e){return"function"==typeof e&&nt((function(){return e(a)}))},Array.isArray(window.__lc_onready)&&(window.__lc_onready.forEach(e),window.__lc_onready={push:e}),l("ready",{state:_("state"),customerData:_("customer_data")})}))),te(Tt(e,(function(){return bt(e)})),K((function(e){return l("availability_changed",{availability:e})}))),te(Tt(e,(function(){return yt(e,(function(){return _("state").visibility}))})),K((function(e){l("visibility_changed",{visibility:e})}))),te(Tt(e,(function(){return yt(e,(function(){return _("customer_data").status}))})),K((function(e){return l("customer_status_changed",{status:e})}))),te(Tt(e,(function(){return Ot(e,"hiddenIds")})),re((function(t){return Ht(e,t)})),$(y),K((function(e){return l("greeting_hidden",qt(e))}))),te(Tt(e,(function(){return Ot(e,"displayedIds")})),re((function(t){return Ht(e,t)})),$(y),K((function(e){return l("greeting_displayed",qt(e))}))),te(ee(e,"on_rating_submitted"),K((function(e){return l("rating_submitted",e)}))),te(Q(ee(e,"add_event"),ee(e,"send_event")),$((function(e){return g(e.event.type,["message","emoji","rich_message","file"])})),re((function(n){var r=n.event,i=r.timestamp,o=r.properties,a=Ae(e.state,r.author),u=!0===o.invitation;return t({timestamp:i,type:r.type,author:{id:a.serverId,type:a.id===Te(e.state)?"customer":"agent"}},u&&{greeting:qt(o)})})),K((function(e){return l("new_event",e)}))),te(Q(te(ee(e,"send_event"),re((function(e){var t=e.event,n=t.type,r=t.properties;if("rich_message_postback"===n)return{postbackId:"postback"in r?r.postback.id:r.id,eventId:r.eventId};if("message"===n&&r.triggeredBy){var i=r.triggeredBy;return{postbackId:i.button.postbackId,eventId:i.event}}return null})),$(y)),te(ee(e,"rich_greeting_button_clicked"),re((function(e){var t=e.event;return{eventId:t.id,postbackId:e.button.postbackId,greeting:qt(t.properties)}})))),K((function(e){return l("rich_message_button_clicked",e)}))),te(Q(te(ee(e,"on_ticket_created"),re((function(){return"ticket"}))),te(ee(e,"on_prechat_survey_submitted"),re((function(){return"prechat"}))),te(ee(e,"on_postchat_survey_submitted"),re((function(){return"postchat"})))),K((function(e){return l("form_submitted",{type:e})})))}var Bt,Wt=function(){return window.GoogleAnalyticsObject||"ga"},Vt=function(e){var t=e.event,n=e.label,r=e.nonInteraction,i=e.trackerName,o=window[Wt()];o&&"function"==typeof o&&o([i,"send"].filter(Boolean).join("."),{hitType:"event",eventCategory:"LiveChat",eventAction:t,eventLabel:n,nonInteraction:r})},Gt={ga:Vt,gaAll:function(e){var n=window[Wt()];if(n&&"function"==typeof n.getAll){var r=n.getAll();a(r)&&r.forEach((function(n){Vt(t({},e,{trackerName:n&&"function"==typeof n.get?n.get("name"):null}))}))}},gaq:function(e){var t=window._gaq;t&&"function"==typeof t.push&&t.push(["_trackEvent","LiveChat",e.event,e.label,null,e.nonInteraction])},gtm:function(e){var t=window.dataLayer;t&&"function"==typeof t.push&&t.push({event:"LiveChat",eventCategory:"LiveChat",eventAction:e.event,eventLabel:e.label,nonInteraction:e.nonInteraction})},pageTracker:function(e){var t=window.pageTracker;t&&"function"==typeof t._trackEvent&&t._trackEvent("LiveChat",e.event,e.label,null,e.nonInteraction)},urchinTracker:function(e){var t=window.urchinTracker;t&&"function"==typeof t&&t(e.event)},gtag:function(e){var t=window.gtag;t&&"function"==typeof t&&t("event",e.event,{event_category:"LiveChat",event_label:e.label,non_interaction:e.nonInteraction})}},Ut=function(e){var t=e.version,n=e.sendToAll;if(t&&"function"==typeof Gt[t])return n&&"ga"===t?"gaAll":t;if("object"==typeof window.pageTracker&&"function"==typeof window.pageTracker._trackEvent)return"pageTracker";if("function"==typeof window.urchinTracker)return"urchinTracker";if("function"==typeof window.gtag)return"gtag";if(!e.omitGtm&&"object"==typeof window.dataLayer&&"function"==typeof window.dataLayer.push)return"gtm";if("object"==typeof window._gaq)return"gaq";if(window.GoogleAnalyticsObject&&"string"==typeof window.GoogleAnalyticsObject)return n?"gaAll":"ga";if("function"==typeof window.ga){var r=!1;if(window.ga((function(e){r="object"==typeof e})),r)return n?"gaAll":"ga"}return null},Yt={Chat:"LiveChat Chat started","Automated greeting":"LiveChat Automated greeting displayed","Ticket form":"LiveChat Ticket form displayed","Ticket form filled in":"LiveChat Ticket form filled in","Pre-chat survey":"LiveChat Pre-chat survey displayed","Pre-chat survey filled in":"LiveChat Pre-chat survey filled in","Post-chat survey":"LiveChat Post-chat survey displayed","Post-chat survey filled in":"LiveChat Post-chat survey filled in"},Xt=function(){return window.mixpanel&&"function"==typeof window.mixpanel.track&&"function"==typeof window.mixpanel.register},Jt={googleAnalytics:function(e){var t=e.trackerName;return t?Gt[t]:null},kissmetrics:function(){return null},mixpanel:function(){if(!Xt())return null;return function(e){var t=e.event,n=e.eventData,r=e.persistentData;if(Xt()){var i=window.mixpanel;r&&(i.register(r),!Xt())||t in Yt&&i.track(Yt[t],n)}}}},$t=function(e,n){var r=n.analytics,i=Object.keys(r).filter((function(e){return r[e].enabled})).map((function(e){var t=r[e],n=Jt[e];try{return n(t)}catch(e){return rt(e),null}})).filter(Boolean);if(0!==i.length){var o=function(n,r){var o=void 0===r?{}:r,a=o.group,u=void 0===a?Pe(e.state,"group"):a,c=o.nonInteraction,s=void 0!==c&&c,d=o.eventData,l=void 0===d?{}:d,f=o.persistentData,p=void 0===f?null:f,h=o.useDataAsLabel,m=0!==u?"Group ID: "+u:"(no group)",v=void 0!==h&&h?O(l).map((function(e){return e[0]+": "+e[1]})).join(", "):m;i.forEach((function(e){try{e({event:n,nonInteraction:s,label:v,eventData:t({},l,{group:m}),persistentData:p})}catch(e){rt(e)}}))};te(wt(e,(function(e){return Pe(e,"readyState")})),$((function(e){return e===It})),he(1),ie((function(){return Ct(e)})),$(Boolean),K((function(){var t=Le(e.state);o("Chat",{eventData:{email:t.email,name:t.name},persistentData:{"performed chat":!0}})}))),e.on("add_event",(function(e){var t=e.event.properties;t.invitation&&t.receivedFirstTime&&o("Automated greeting",{nonInteraction:!0})})),e.on("on_chat_booster_launched",(function(e){var t=e.title;o("Chat Booster Launched: "+t,{eventData:{appId:e.id,title:t}})})),e.on("on_prechat_survey_submitted",(function(){o("Pre-chat survey filled in")})),e.on("on_postchat_survey_submitted",(function(){o("Post-chat survey filled in")})),e.on("on_ticket_created",(function(e){o("Ticket form filled in",{eventData:{email:e.visitor_email}})})),e.on("rich_greeting_button_clicked",(function(e){o("Rich greeting button clicked",{eventData:{buttonText:e.button.text,greetingId:e.event.properties.id},useDataAsLabel:!0})})),["prechat","postchat","ticket","offline"].forEach((function(t){var n;te(Q(ee(e,"set_default_view"),ee(e,"set_current_view")),$((function(e){return e.viewInfo&&"Chat"===e.viewInfo.view&&e.viewInfo.default===t})),ve(ee(e,"unbind")),(n=function(){var n,r,i,o,a={prechat:["on_prechat_survey_submitted","Pre-chat survey"],postchat:["on_postchat_survey_submitted","Post-chat survey"],ticket:["on_ticket_created","Ticket form"],offline:["on_ticket_created","Ticket form"]}[t],u=a[0];return te(function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){if(0===e){var r=t.length;if(0===r)return n(0,(function(){})),void n(2);var i,o=0,a=function(e,t){i(e,t)};!function e(){o!==r?t[o](0,(function(t,r){0===t?(i=r,0===o?n(0,a):i(1)):2===t&&r?n(2,r):2===t?(o++,e()):n(t,r)})):n(2)}()}}}(ue(a[1]),ae),(n=te(wt(e,(function(e){return _t(e,"maximized")})),$(Boolean)),o=void 0===(i=(void 0===r?{}:r).size)?100:i,function(e){return function(t,r){var i=[];if(0===t){var a,u,c=!1;e(0,(function(e,t){if(0===e&&(a=t,n(0,(function(e,t){if(0===e)(u=t)(1);else if(1===e){c=!0,u(2);var n=i.slice();i.length=0,n.forEach((function(e){return r(1,e)}))}}))),1===e)return c?void r(1,t):(i.push(t),i.length>o&&i.shift(),void a(1));r(e,t)}))}}}),ve(ee(e,u)))},function(e){return function(t,r){if(0===t){var i,o=null,a=function(e,t){if(0!==e)return 1===e?(r(1,t),void o(1)):void(2===e&&(o=null));(o=t)(1)},u=function(e,t){2===e&&null!==o&&o(2,t),i(e,t)};e(0,(function(e,t){if(0===e)return i=t,void r(0,u);if(1!==e){if(2===e){if(r(2,t),null===o)return;o(2,t)}}else{if(null!==o)return;n(t)(0,a)}}))}}}),K((function(e){o(e)})))}))}},Kt=/\.(\w+)$/i,Zt=new Audio,Qt={mp3:"audio/mpeg",ogg:"audio/ogg"},en=function(e){var t,n=(t=e.match(Kt))?t[1].toLowerCase():"";return n in Qt&&""!==Zt.canPlayType(Qt[n])},tn=function(t){return new e((function(e,n){var r=new Audio(t);r.onloadeddata=function(){e(r)},r.onerror=n}))},nn=function(t){var n,r=t.play();return(n=r)&&"function"==typeof n.then?r:e.resolve()},rn=function(e){return"function"==typeof e.start&&"function"==typeof e.stop},on=function(e){rn(e)?e.start(0):e.noteOn(0)},an=function(){var t=new(window.AudioContext||window.webkitAudioContext),n=!0,r=[],i=function(n){return new e((function(e,r){t.decodeAudioData(n,e,r)}))},o=function(n){return{play:function(){var r=t.createBufferSource();return r.connect(t.destination),r.buffer=n,{playback:new e((function(e,n){if(r.onended=function(){return e()},on(r),"running"!==t.state){var i=Error("Playback failed, AudioContext is in incorrect state '"+t.state+"'");i.name="PlaybackError",n(i)}})),stop:function(){!function(e){rn(e)?e.stop(0):e.noteOff(0)}(r)}}}}};return{preload:function(t){return function(t){return new e((function(e,n){var r=new XMLHttpRequest;r.onload=function(){e(r.response)},r.onerror=n,r.open("GET",t),r.responseType="arraybuffer",r.send()}))}(t).then(i).then(o)},playSound:function(e){var t=e.play();return n&&r.push(t),t.playback},unlock:function(){return new e((function(e){document.addEventListener("click",(function i(){var o,a;document.removeEventListener("click",i,!0),n&&(r.forEach((function(e){e.stop()})),r=[],n=!1),t.resume(),o=t.createBuffer(1,1,22050),(a=t.createBufferSource()).buffer=o,a.connect(t.destination),on(a),e()}),!0)}))}}},un=function(){return"function"==typeof window.webkitAudioContext?(t=an(),{play:function(e){var r=n(e).then(t.playSound);return r.catch(I),r},preload:n=x((function(e){var n=t.preload(e);return n.catch(I),n})),unlock:function(){return t.unlock()}}):function(){var t=x(tn);return{play:function(e){return t(e).then(nn)},preload:t,unlock:function(){return e.resolve()}}}();var t,n},cn=function(e){return Object.keys(e).reduce((function(t,n){var r,i=d((function(e){return en(e)}),a(r=e[n])?r:[r]);return t[n]=i,t}),{})},sn="new_message",dn=function(){var e,t,n,r,i=((e={}).new_message=["https://cdn.livechatinc.com/widget/staging/static/media/new_message.34190d36.ogg","https://cdn.livechatinc.com/widget/staging/static/media/new_message.f3efb3d2.mp3"],t=e,n=un(),r=cn(t),{play:function(e){n.play(r[e]).then(I,I)},preload:function(e){n.preload(r[e]).then(I,I)},unlock:function(){return n.unlock()}});return i.unlock().then((function(){return e=2e3,t=function(e){i.play(e)},n=0,function(){var r=Date.now();e>r-n||(n=Date.now(),t.apply(void 0,arguments))};var e,t,n}))},ln=function(e,t){return void 0===t&&(t=!1),t&&e.__unsafeProperties.group.hasCustomMobileSettings},fn=function(e,t){var n=e.__unsafeProperties.group;return ln(e,t)?n.screenPositionOnMobile:n.screenPosition},pn=function(e,t){var n=e.__unsafeProperties.group;return ln(e,t)?{x:n.offsetXOnMobile,y:n.offsetYOnMobile}:{x:n.offsetX,y:n.offsetY}},hn=function(e){return!!e&&/native code/.test(e+"")},mn=function(){return g(navigator.platform,["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"])&&g("Version/15",navigator.userAgent)},vn=function(){return/mobile/gi.test(navigator.userAgent)&&!("MacIntel"===navigator.platform&&g("iPad",navigator.userAgent))},gn=function(){return/Firefox/.test(navigator.userAgent)},_n=function(e,t){var n=function(){t()||P(Ue,e)},r=function(){t()||P(Ye,e)};if("onbeforeprint"in window)window.addEventListener("beforeprint",n),window.addEventListener("afterprint",r);else if(hn(window.matchMedia)){var i=window.matchMedia("print");i&&i.addListener((function(e){e.matches?n():r()}))}},wn=function(e,n,r){var i=n.__unsafeProperties.group.eyeCatcher;if(i.enabled&&!function(e,t){var n=e.__unsafeProperties.group;return ln(e,t)?n.disabledMinimizedOnMobile:n.disabledMinimized}(n)){var o,a,u=function(e){var t=Pe(e);return t.eyeCatcher.hidden||"minimized"!==t.visibility.state||"online"!==t.availability||t.readyState===xt},c=function(){o&&(N(o),o=null),clearTimeout(a)},s=function(){var o,a=D("div",Je),s=fn(n);P(((o={bottom:i.y+"px"})[s]=i.x+"px",o),a);var d,l=D("div",$e);15>i.x&&"right"===s&&P(((d={})[s]=10-i.x+"px",d),l);l.innerHTML="&times;";var f=D("div",Ke),p=t({},Ze,{src:i.src,alt:r.embedded_chat_now});i.srcset&&(p.srcset=O(i.srcset).map((function(e){return e[1]+" "+e[0]})).join(", "));var h=D("img",p);return f.appendChild(h),h.addEventListener("load",(function(){P({width:h.width+"px",height:h.height+"px"},h)})),h.addEventListener("error",c),a.appendChild(l),a.appendChild(f),_n(a,(function(){return u(e.state)})),document.body.appendChild(a),hn(window.matchMedia)&&window.matchMedia("(hover: none)").matches?P({display:"block"},l):(a.addEventListener("mouseover",(function(){P({display:"block"},l)})),a.addEventListener("mouseout",(function(){P({display:"none"},l)}))),a.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),e.maximize()})),l.addEventListener("mouseover",(function(){P({color:"#444"},l)})),l.addEventListener("mouseout",(function(){P({color:"#000"},l)})),l.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.call("hideEyeCatcher")})),a};te(wt(e,u),pe({next:function(e){e?c():a=setTimeout((function(){o=s()}),430)},complete:c}))}},yn=function(e){e.innerHTML=""},bn=function(e,t){var n=document.querySelectorAll(".livechat_button"),r=g(t.groupId,t.onlineGroupIds);[].forEach.call(n,(function(n){var i=n.getAttribute("data-id"),o=d((function(e){return e.id===i}),t.buttons);if(o){var a=v("#","0.href",n);"image"===o.type?function(e,t){var n=e.text,r=e.url,i=e.src;yn(t);var o=D("a",{href:r}),a=D("img",{src:i,alt:n,title:n});o.appendChild(a),t.appendChild(o)}({url:a,text:n.textContent,src:r?o.onlineValue:o.offlineValue},n):function(e,t){var n=e.text,r=e.url;yn(t);var i=D("a",{href:r});i.appendChild(document.createTextNode(n)),t.appendChild(i)}({url:a,text:r?o.onlineValue:o.offlineValue},n),n.children[0].addEventListener("click",(function(t){t.preventDefault(),e.maximize()}))}}))},kn=function(e){return e.replace(/\?+$/,"")},Cn=function(){return{title:document.title,url:kn(document.location+""),referrer:document.referrer}},En=function(e){var t;te((t=2e3,function(e,n){if(0===e){var r=0,i=setInterval((function(){n(1,r++)}),t);n(0,(function(e){2===e&&clearInterval(i)}))}}),re(Cn),J((function(e,t){return e.url===t.url})),ve(ee(e,"unbind")),K((function(t){e.call("storeMethod",["setApplicationState",{page:t}])})))};!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Bt||(Bt={}));var xn=1,In=/[^a-z1-6-]/;function Ln(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).reduce((function(e,t){return e+(function(e){return"styleSheet"in e}(n=t)?Ln(n.styleSheet)||"":n.cssText);var n}),""):null}catch(e){return null}}var An=/url\((?:'([^']*)'|"([^"]*)"|([^)]*))\)/gm,Tn=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/).*/,On=/^(data:)([\w\/\+\-]+);(charset=[\w-]+|base64).*,(.*)/i;function Pn(e,t){return(e||"").replace(An,(function(e,n,r,i){var o,a=n||r||i;if(!a)return e;if(!Tn.test(a))return"url('"+a+"')";if(On.test(a))return"url("+a+")";if("/"===a[0])return"url('"+(((o=t).indexOf("//")>-1?o.split("/").slice(0,3).join("/"):o.split("/")[0]).split("?")[0]+a+"')");var u=t.split("/"),c=a.split("/");u.pop();for(var s=0,d=c;d.length>s;s++){var l=d[s];"."!==l&&(".."===l?u.pop():u.push(l))}return"url('"+u.join("/")+"')"}))}function Sn(e,t){if(!t||""===t.trim())return t;var n=e.createElement("a");return n.href=t,n.href}function zn(e,t,n){return"src"===t||"href"===t&&n?Sn(e,n):"srcset"===t&&n?function(e,t){return""===t.trim()?t:t.split(",").map((function(t){var n=t.trimLeft().trimRight().split(" ");return 2===n.length?Sn(e,n[0])+" "+n[1]:1===n.length?""+Sn(e,n[0]):""})).join(",")}(e,n):"style"===t&&n?Pn(n,location.href):n}function jn(e,t,n,r,i){switch(void 0===i&&(i={}),e.nodeType){case e.DOCUMENT_NODE:return{type:Bt.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Bt.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId};case e.ELEMENT_NODE:var o=!1;"string"==typeof n?o=e.classList.contains(n):e.classList.forEach((function(e){n.test(e)&&(o=!0)}));for(var a=function(e){var t=e.toLowerCase().trim();return In.test(t)?"div":t}(e.tagName),u={},c=0,s=Array.from(e.attributes);s.length>c;c++){var d=s[c],l=d.name;u[l]=zn(t,l,h=d.value)}if("link"===a&&r){var f,p=Array.from(t.styleSheets).find((function(t){return t.href===e.href}));(f=Ln(p))&&(delete u.rel,delete u.href,u._cssText=Pn(f,p.href))}if("style"===a&&e.sheet&&!(e.innerText||e.textContent||"").trim().length)(f=Ln(e.sheet))&&(u._cssText=Pn(f,location.href));if("input"===a||"textarea"===a||"select"===a){var h=e.value;"radio"!==u.type&&"checkbox"!==u.type&&"submit"!==u.type&&"button"!==u.type&&h?u.value=i[u.type]||i[a]?"*".repeat(h.length):h:e.checked&&(u.checked=e.checked)}if("option"===a)u.value===e.parentElement.value&&(u.selected=e.selected);if("canvas"===a&&(u.rr_dataURL=e.toDataURL()),"audio"!==a&&"video"!==a||(u.rr_mediaState=e.paused?"paused":"played"),o){var m=e.getBoundingClientRect(),v=m.height;u.rr_width=m.width+"px",u.rr_height=v+"px"}return{type:Bt.Element,tagName:a,attributes:u,childNodes:[],isSVG:(y=e,"svg"===y.tagName||y instanceof SVGElement||void 0),needBlock:o};case e.TEXT_NODE:var g=e.parentNode&&e.parentNode.tagName,_=e.textContent,w="STYLE"===g||void 0;return w&&_&&(_=Pn(_,location.href)),"SCRIPT"===g&&(_="SCRIPT_PLACEHOLDER"),{type:Bt.Text,textContent:_||"",isStyle:w};case e.CDATA_SECTION_NODE:return{type:Bt.CDATA,textContent:""};case e.COMMENT_NODE:return{type:Bt.Comment,textContent:e.textContent||""};default:return!1}var y}function Mn(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=!0);var u,c=jn(e,t,r,o,a);if(!c)return console.warn(e,"not serialized"),null;u="__sn"in e?e.__sn.id:xn++;var s=Object.assign(c,{id:u});e.__sn=s,n[u]=e;var d=!i;if(s.type===Bt.Element&&(d=d&&!s.needBlock,delete s.needBlock),(s.type===Bt.Document||s.type===Bt.Element)&&d)for(var l=0,f=Array.from(e.childNodes);f.length>l;l++){var p=Mn(f[l],t,n,r,i,o,a);p&&s.childNodes.push(p)}return s}var Nn=function(){var e=function(e,t,n,r){void 0===t&&(t="rr-block"),void 0===n&&(n=!0);var i={};return[Mn(e,e,i,t,!1,n,!0===r?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0}:!1===r?{}:r),i]}(window.document);return JSON.stringify(e[0])},Dn=window.Wix,qn=function(){return new e((function(e){Dn.getSiteInfo((function(t){var n=t.url,r=t.referrer||t.referer||"";t.baseUrl&&-1===n.indexOf(t.baseUrl)&&(n=t.baseUrl),e({title:t.pageTitle,referrer:r,url:n})}))}))},Hn=function(e){var t,n,r,i;te((t=function(){return!!document.hasFocus&&document.hasFocus()},n=function(e,n){if(0===e){var r=!1;n(0,(function(e){2===e&&(r=!0)})),n(1,t()),r||n(2)}},r=re((function(){return!0}))(Z(window,"focus")),i=re((function(){return!1}))(Z(window,"blur")),Q(n,r,i)),ve(ee(e,"unbind")),K((function(t){e.emit("focus",t)})))},Rn=null,Fn=!1;function Bn(){return e=/^Mac/,null!=window.navigator&&e.test(window.navigator.platform);var e}function Wn(e){Fn=!0,function(e){return!(e.metaKey||!Bn()&&e.altKey||e.ctrlKey)}(e)&&(Rn="keyboard")}function Vn(e){Rn="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(Fn=!0)}function Gn(e){(function(e){return!(0!==e.mozInputSource||!e.isTrusted)||0===e.detail&&!e.pointerType})(e)&&(Fn=!0,Rn="virtual")}function Un(e){e.target!==window&&e.target!==document&&(Fn||(Rn="keyboard"),Fn=!1)}function Yn(){Fn=!1}var Xn=(document.addEventListener("keydown",Wn,!0),document.addEventListener("keyup",Wn,!0),document.addEventListener("click",Gn,!0),window.addEventListener("focus",Un,!0),window.addEventListener("blur",Yn,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",Vn,!0),document.addEventListener("pointermove",Vn,!0),document.addEventListener("pointerup",Vn,!0)):(document.addEventListener("mousedown",Vn,!0),document.addEventListener("mousemove",Vn,!0),document.addEventListener("mouseup",Vn,!0)),function(){document.removeEventListener("keydown",Wn,!0),document.removeEventListener("keyup",Wn,!0),document.removeEventListener("click",Gn,!0),window.removeEventListener("focus",Un,!0),window.removeEventListener("blur",Yn,!1),"undefined"!=typeof PointerEvent?(document.removeEventListener("pointerdown",Vn,!0),document.removeEventListener("pointermove",Vn,!0),document.removeEventListener("pointerup",Vn,!0)):(document.removeEventListener("mousedown",Vn,!0),document.removeEventListener("mousemove",Vn,!0),document.removeEventListener("mouseup",Vn,!0))});function Jn(e){if("Google Inc."===navigator.vendor&&"Win32"===navigator.platform){var t,n,r,i=e.frame,o=(t=100,n=function(){P(j(["width"],i),i),requestAnimationFrame((function(){P({width:et.style.width},i)}))},function(){clearTimeout(r);for(var e=arguments.length,i=Array(e),o=0;e>o;o++)i[o]=arguments[o];r=setTimeout.apply(void 0,[n,t].concat(i))});document.addEventListener("scroll",o);e.on("unbind",(function t(){e.off("unbind",t),document.removeEventListener("scroll",o)}))}}var $n={position:mn()?"absolute":"fixed",height:mn()?"calc(100vh - env(safe-area-inset-bottom))":"100%",width:"100%",top:0,right:0,bottom:0,left:0,overflowY:"hidden"},Kn=function(e){var t=document.querySelector('meta[name="viewport"]')||function(){var e=D("meta",{name:"viewport"});return document.getElementsByTagName("head")[0].appendChild(e),e}(),n=null,r=function(){var e,r=t.content,i=(e=document.body,Object.keys($n).reduce((function(t,n){return t[n]=e.style[n],t}),{})),o=document.documentElement.scrollTop;return t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0",P($n,document.body),function(){n=null,P(i,document.body),t.content=r,document.documentElement.scrollTop=o}};_t(e.state,"maximized")&&(n=r()),te(wt(e,(function(e){return _t(e,"maximized")})),ce,pe({next:function(e){e[1]?n=r():n()},complete:function(){n&&n()}}))},Zn=vn(),Qn=function(e,t){if(e.iframeAddress)return e.iframeAddress;var n="https://secure-lc.livechatinc.com";return t.region&&(n=n.replace("secure","secure-"+t.region)),n+"/customer/action/open_chat"},er=function(e,t,n){var r=!!e.customContainer;return{page:t,license:e.licenseId,region:n.region,group:n.groupId,requestedGroup:e.requestedGroupId,customer:e.customer,hidden:!(e.actingAsDirectLink||r)&&function(e){var t=e.__unsafeProperties.group;return Zn&&t.hasCustomMobileSettings?t.initiallyHiddenOnMobile:t.initiallyHidden}(n),uniqueGroups:e.uniqueGroups,analytics:{googleAnalytics:{enabled:!!n.integrations.analytics,trackerName:Ut(e.gaParams)},kissmetrics:{enabled:!!n.integrations.kissmetrics},mixpanel:{enabled:!!n.integrations.mixpanel}},actingAsDirectLink:e.actingAsDirectLink,isInCustomContainer:r,clientLimitExceeded:n.clientLimitExceeded,integrationName:e.integrationName,iframeAddress:Qn(e,n)}},tr=function(){var e="lc_get_time_"+h();window.performance&&"function"==typeof window.performance.mark&&window.performance.mark(e);var t=performance.getEntriesByName(e)[0].startTime;return performance.clearMarks(e),t},nr=function(){if("undefined"==typeof PerformanceObserver)return null;var t=tr(),n=[],r=new PerformanceObserver((function(e){n.push.apply(n,e.getEntries())}));r.observe({entryTypes:["longtask"]});var i=function(){var e,r=b(n);return r?(e=r,tr()-e.startTime+e.duration):tr()-t};return{disconnect:function(){return r.disconnect()},getLongTasks:function(){return[].concat(n)},waitForIdle:function(t){return new e((function(e){!function o(){n.push.apply(n,r.takeRecords());var a=i();t>a?setTimeout(o,Math.ceil(t-a)):e()}()}))}}},rr=function(t){void 0===t&&(t="first-contentful-paint");var n,r=nr();return r?(n=t,new e((function(e){var t=performance.getEntriesByName(n);if(_(t))if("undefined"!=typeof PerformanceObserver){var r=setTimeout((function(){i.disconnect(),e(null)}),6e4),i=new PerformanceObserver((function(t){var o=d((function(e){return e.name===n}),t.getEntries());o&&(i.disconnect(),clearTimeout(r),e(o))}));i.observe({entryTypes:["paint"]})}else e(null);else e(t[0])}))).then((function(e){return e?r.waitForIdle(5e3).then((function(){return r.disconnect(),r.getLongTasks()})):null})):e.resolve(null)},ir=function(e){var t=performance.getEntriesByName(e);return 1!==t.length?null:t[0]},or=function(e,t){return e&&t?Math.abs(t.startTime-e.startTime):null},ar=function(e){if(!e)return null;var t=performance.getEntriesByType("navigation");return e.startTime-(_(t)?performance.timing.domContentLoadedEventStart-performance.timing.navigationStart:t[0].domContentLoadedEventStart)},ur=function(){if(!Math.floor(10*Math.random())&&!Math.floor(1e3*Math.random())){var e=rr().then((function(e){return e?T(e.filter((function(e){return g(".livechatinc.com",e.attribution[0].containerSrc)})).map((function(e){return e.duration}))):null}));return{getLogs:function(){return e.then((function(e){var t,n=1!==(t=performance.getEntriesByType("resource").filter((function(e){return/livechatinc\.com\/(.+\/)?tracking.js/.test(e.name)}))).length?null:t[0],r=ir("lc_bridge_init"),i=ir("lc_bridge_ready");return c((function(e){return e&&Number(e.toFixed(2))}),{timeFromTrackingStart:or(n,i),timeFromBridgeInit:or(r,i),timeFromDomContentLoaded:ar(i),totalBlockingTimeContributedToOurScript:e})}))}}}};function cr(t,n){return n=n||{},new e((function(r,i){var o=new XMLHttpRequest,a=[],u=[],c={},s=function t(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return e.resolve(o.responseText)},json:function(){return e.resolve(o.responseText).then(JSON.parse)},blob:function(){return e.resolve(new Blob([o.response]))},clone:t,headers:{keys:function(){return a},entries:function(){return u},get:function(e){return c[e.toLowerCase()]},has:function(e){return e.toLowerCase()in c}}}};for(var d in o.open(n.method||"get",t,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){a.push(t=t.toLowerCase()),u.push([t,n]),c[t]=c[t]?c[t]+","+n:n})),r(s())},o.onerror=i,o.withCredentials="include"==n.credentials,n.headers)o.setRequestHeader(d,n.headers[d]);o.send(n.body||null)}))}var sr={};function dr(n,r){var i=void 0===r?{}:r,o=i.query,a=void 0===o?{}:o,u=i.jsonpParam,c=void 0===u?"jsonp":u,s=i.callbackName;return new e((function(e,r){M().then((function(i){var o,u=document.createElement("script"),d=s||m(sr);sr[d]=!0;var l="__"+d;window[l]=function(t){delete sr[d],delete window[l],N(u),e(t)},u.src=n+"?"+q(t({},a,((o={})[c]=l,o))),u.addEventListener("error",(function(){setTimeout((function(){return r(Error("JSONP request failed."))}),100)})),i.appendChild(u)}))}))}var lr,fr="__test_storage_support__",pr="@@test",hr=function(e){void 0===e&&(e="local");try{var t="session"===e?window.sessionStorage:window.localStorage;return t.setItem(fr,pr),t.getItem(fr)!==pr?!1:(t.removeItem(fr),!0)}catch(e){return!1}},mr=function(){var e=Object.create(null);return{getItem:function(t){var n=e[t];return"string"==typeof n?n:null},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]},clear:function(){e=Object.create(null)}}}(),vr=(hr()&&window,Object.freeze({success:!0}),(lr={}).CONNECTION_LOST="Connection lost.",lr.MISDIRECTED_CONNECTION="Connected to wrong region.",function(e){return e.map((function(e){switch(e.type){case"group_chooser":return t({},e,{options:e.options.map((function(e){var n=e.group_id;return t({},Se(e,["group_id"]),{groupId:n})}))});case"rating":var n=e.comment_label;return t({},Se(e,["comment_label"]),{commentLabel:n});default:return e}}))}),gr=function(e){var n,r;return{id:e.id,fields:!("id"in e.fields[0])?(n=e.fields,r=n.map((function(e,n){return t({},e,{id:n+""})})),vr(r)):vr(e.fields)}},_r=function(e){var t=function(e){return e.replace(G,"")}(e);return"https://"+(!g("cdn.livechatinc.com/cloud/?uri",t)&&!g(".livechat-static.com/",t)?"cdn.livechatinc.com/cloud/?"+q({uri:"https://"+t}):t)},wr=/\.([a-z]{1,})$/i,yr=function(e){var t=e.__priv,n={enabled:!0,x:parseInt(t.group["embedded_chat.eye_grabber.x"])+15,y:parseInt(t.group["embedded_chat.eye_grabber.y"]),src:_r(t.group["embedded_chat.eye_grabber.path"])};if(-1!==n.src.indexOf("/default/eyeCatchers/")){var r=n.src.match(wr)[1];n.srcset={"1x":n.src,"2x":n.src.replace(RegExp("\\."+r,"i"),"-2x."+r)}}return n},br=function(e,t){return"https://api"+((n=t.region)?"-"+n:"")+".staging.livechatinc.com/v3.3/customer/action/"+e;var n},kr=function e(n){return dr(br("get_dynamic_configuration",n),{query:t({license_id:n.licenseId,url:n.url},"number"==typeof n.groupId&&{group_id:n.groupId},n.channelType&&{channel_type:n.channelType},n.skipCodeInstallationTracking&&{test:1})}).then((function(r){if(r.error)switch(r.error.type){case"misdirected_request":return e(t({},n,{region:r.error.data.region}));case"license_expired":if("direct_link"===n.channelType){var i=q({utm_source:"expired_chat_link",utm_medium:"referral",utm_campaign:"expired"});window.location.replace("https://www.livechat.com/powered-by-livechat/?"+i)}var o=Error(r.error.message);throw o.code=r.error.type.toUpperCase(),o;default:var a=Error(r.error.message);throw a.code=r.error.type.toUpperCase(),a}if(!r.domain_allowed){var u=Error("Current domain is not added to the allowlist.");throw u.code="DOMAIN_NOT_ALLOWED",u}return{groupId:r.group_id,clientLimitExceeded:r.client_limit_exceeded,configVersion:r.config_version,localizationVersion:r.localization_version,onlineGroupIds:r.online_group_ids||[],region:n.region||null}}))},Cr=function(e){var t,n,r,i=e.allowVideoConferencing,o=e.allowClipboardWrite,a=[];if(e.allowAutoplay&&!gn()&&a.push("autoplay;"),i){var u={"display-capture *;":!g("Chrome",navigator.userAgent)||(r=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),(r?parseInt(r[2],10):0)>=94),"picture-in-picture *;":"PictureInPictureEvent"in window,"fullscreen *;":"function"==typeof Element.prototype.requestFullscreen};a=[].concat(a,["microphone *;","camera *;"],Object.keys((t=Boolean,Object.keys(n=u).reduce((function(e,r){return t(n[r])&&(e[r]=n[r]),e}),{}))))}return o&&!gn()&&a.push("clipboard-write *;"),a.join(" ")},Er=vn(),xr=function(e){return/px$/.test(e)?Math.ceil(parseFloat(e))+"px":e},Ir=function(e){return Er?{width:"100%",height:"100%"}:"modern"===e.__unsafeProperties.group.theme.name?{width:"400px",height:"465px"}:{width:"352px",height:"652px"}},Lr=function(e,t){return Object.keys(e.properties.license).some((function(n){return e.properties.license[n][t]}))},Ar=function(e,t,n){var r,i,o,a=pn(t,Er);return!e&&n?((i={})[fn(t,Er)]="0",i.bottom=a.y+"px",i.maxHeight="100%",i):Er&&e?((o={})[fn(t,Er)]="0",o.bottom="0",o.maxHeight="100%",o):((r={})[fn(t,Er)]=a.x+"px",r.bottom=a.y+"px",r.maxHeight="calc(100% - "+a.y+"px)",r)},Tr=function(){}