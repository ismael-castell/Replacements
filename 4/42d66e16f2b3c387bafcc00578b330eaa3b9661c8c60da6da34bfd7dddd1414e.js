/*! For license information please see home.js.LICENSE.txt */
!function(){var t,e={71386:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkUserAgreements=void 0;var a=o(n(16316)),s=o(n(63160)),c=o(n(60593)),u=function(){function t(t){var e=this;void 0===t&&(t="quick-signUp-modal"),this.redirectAfterLogin=function(){setTimeout((function(){window.location.href="/account/clips",e.successSignup.classList.toggle("hidden")}),400)},this.checkUserAgreements=function(){var t,e=document.querySelector(".user-agreements"),n=null==e?void 0:e.querySelectorAll("input");null==n||n.forEach((function(t){e.querySelector("."+t.id).classList.add("hidden")}));var r=null===(t=Array.from(n))||void 0===t?void 0:t.filter((function(t){return!t.checked}));return!r.length||(r.forEach((function(t){null==e||e.querySelector("."+t.id).classList.remove("hidden")})),!1)},this.submit=function(){e.disableSubmitButton(),e.resetErrorsDiv(),e.removeErrorStyleToInputs();var t=e.userNameTextField.getValue(),n=e.passwordTextField.getValue(),o=null==document.getElementById("getUsersVideoClipID").value||null==document.getElementById("getUsersVideoClipID").value?e.form.querySelector('input[name="download_clip_id"]').value:document.getElementById("getUsersVideoClipID").value,s=e.form.querySelector('input[name="_token"]').value;fetch("/account/register/quick",{method:"POST",body:JSON.stringify({username:t,password:n,download_clip_id:o}),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":s}}).then((function(t){return r(e,void 0,void 0,(function(){var e,n,r,o=this;return i(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:if(!0===(e=i.sent()).status)a.default().then((function(t){!0!==t&&console.error("could not add items to wishlist")})).finally((function(){o.successSignup.classList.toggle("hidden"),o.redirectAfterLogin()}));else{if(e.hasOwnProperty("validation_errors"))for(n in e.validation_errors)this.errorsDiv?((r=document.createElement("P")).innerText=e.validation_errors[n],this.errorsDiv.appendChild(r)):this.showError(n,e.validation_errors[n]);else this.errorsDiv?((r=document.createElement("P")).innerText=e.hasOwnProperty("message")?e.message:"something went wrong",this.errorsDiv.appendChild(r)):this.snackBar.displayError(e.hasOwnProperty("message")?e.message:"something went wrong");this.errorsDiv&&(this.errorsDiv.style.display="block"),this.enabledSubmitButton(),console.error(e.message)}return[2]}}))}))}),(function(t){console.error(t.toString()),e.enabledSubmitButton()}))},this.formContainerSelector="."+t,this.form=document.querySelector(this.formContainerSelector+" .quick-signup-form")}return t.prototype.init=function(){this.errorsDiv=document.getElementById("quick-signup-errors"),this.snackBar=new s.default(this.formContainerSelector+" .registerButtonWrapper",5e3),void 0!==this.form&&null!==this.form&&(this.userNameTextField=new c.default(this.formContainerSelector+" .username-text-field",this.isUserNameValid),this.passwordTextField=new c.default(this.formContainerSelector+" .password-text-field",this.isPasswordValid),this.listeners()),this.successSignup=this.form.querySelector(".successSignup")},t.prototype.isUserNameValid=function(t){return t.length>=4&&t.length<=20},t.prototype.isPasswordValid=function(t){return new RegExp("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{8,})").test(t)},t.prototype.resetErrorsDiv=function(){if(this.errorsDiv){this.errorsDiv.style.display="none";for(var t=0,e=this.errorsDiv.querySelectorAll("p");t<e.length;t++){var n=e[t];this.errorsDiv.removeChild(n)}}s.default.removeAllSnackBars()},t.prototype.showError=function(t,e){switch(void 0===t&&(t=null),t){case"username":this.userNameTextField.setError(e);break;case"password":this.passwordTextField.setError(e);break;default:this.snackBar.displayError(e)}},t.prototype.removeErrorStyleToInputs=function(){this.userNameTextField.clearError(),this.passwordTextField.clearError()},t.prototype.canRunQuickSignUp=function(){var t;return!!(null===(t=this.form)||void 0===t?void 0:t.querySelector('input[name="download_clip_id"]'))},t.prototype.disableSubmitButton=function(){this.form.querySelector('button[type="submit"]').setAttribute("disabled","disabled")},t.prototype.enabledSubmitButton=function(){this.form.querySelector('button[type="submit"]').removeAttribute("disabled")},t.prototype.listeners=function(){var t=this;this.form.addEventListener("submit",(function(e){e.preventDefault(),t.checkUserAgreements()&&t.submit()}))},t}();e.default=u,e.checkUserAgreements=(new u).checkUserAgreements},32837:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=window.location.hostname.replace("www.",""),e=t.split(".");return e.length>2&&(t=e[e.length-2]+"."+e[e.length-1]),function(t){if(t.indexOf("localhost")||t.indexOf("127.0.0.1"))return t;return"."+t}(t)}},3481:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.cidAjax=void 0;var a=o(n(17636)),s=n(19255),c=604800,u=s.getCookieUrl();e.cidAjax=function(){return r(void 0,void 0,void 0,(function(){var t,e,n,r,o,s,h;return i(this,(function(i){switch(i.label){case 0:return t=window.location.hash.indexOf("#cid"),e=document.referrer,n=a.default.getItem("cid"),r=a.default.getItem("sitecid"),o=a.default.getItem("customcid"),t>=0?(s=window.location.hash.substr(t+4,26),[4,l(s)]):[3,2];case 1:return"internal"===(h=i.sent())?(r=s,a.default.setItem("sitecid",s,c,"/",u)):"discount"===h?(o=s,a.default.setItem("customcid",s,c,"/",u)):(n=s,a.default.setItem("cid",s,c,"/",u)),a.default.setItem("ref",e,c,"/",u),[3,3];case 2:n&&a.default.setItem("cid",n,c,"/",u),r&&a.default.setItem("sitecid",r,c,"/",u),(e=a.default.getItem("ref"))&&a.default.setItem("ref",e,c,"/",u),i.label=3;case 3:return d(),f(n,e),f(r,e),f(o,e),[2]}}))}))};var l=function(t){return new Promise((function(e){fetch("/clips/ajax/check/cid?cid="+t,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":s.getCSRFToken()}}).then((function(t){return r(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,t.json()];case 1:return!0===(n=r.sent()).status&&void 0!==n.type?e(n.type):(void 0!==n.error&&console.error(n.error),e("internal")),[2]}}))}))})).catch((function(){return e("internal")}))}))},d=function(){var t=a.default.getItem("tabs");t=void 0===t||isNaN(t)||null===t?0:parseInt(t),a.default.setItem("tabs",t+1,c,"/",u)},f=function(t,e){if(t){var n="cid="+t+"&checkout=false&url="+e;n=btoa(n),fetch("//affiliate.clips4sale.com/count?d="+n,{method:"GET"}).catch((function(){return console.log("affiliate not available")}))}}},64462:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.postCheckoutRedirect=void 0;var i=function(){function t(t,e,n){void 0===e&&(e={}),this.receiver={onSuccess:function(){},onError:function(){}},this.errorMessage="Go to checkout page failed, please contact customer support",this.receiver=n,this.payload=e,this.token=t}return t.prototype.execute=function(){var t=this;o(this.token,this.payload).then((function(e){return n(t,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,e.json()];case 1:return(t=n.sent()).success?(this.receiver.onSuccess(t),window.location.href=t.redirect_url):this.receiver.onError(this.errorMessage),[2]}}))}))})).catch((function(e){t.receiver.onError(e)}))},t}();function o(t,e){return void 0===e&&(e={}),fetch("/checkout/redirect-url",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":t},credentials:"same-origin"})}e.default=i,e.postCheckoutRedirect=o},72907:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.postLogin=void 0;var i=function(){function t(t,e){this.errorMessage="Username, email or password is incorrect.",this.loginForm=t,this.receiver=e}return t.prototype.execute=function(){var t=this;o({userEmail:this.loginForm.getEmail(),userPassword:this.loginForm.getPassword(),csrfToken:this.loginForm.getCsrfToken(),rememberMe:this.loginForm.getRememberMe()}).then((function(e){return n(t,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,e.json()];case 1:return!0===(t=n.sent()).status?this.receiver.onSuccess(t):this.receiver.onError(this.errorMessage),[2]}}))}))})).catch((function(){return t.receiver.onError(t.errorMessage)}))},t}();function o(t){return fetch("/account/login",{method:"POST",body:JSON.stringify({Email:t.userEmail,Password:t.userPassword,RememberMe:!!t.rememberMe&&t.rememberMe}),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":t.csrfToken},credentials:"same-origin"})}e.default=i,e.postLogin=o},83759:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(21027),i=function(){function t(){}return t.setCookie=function(t,e,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=t+"="+e+";"+o+";path=/; domain="+r.COOKIE_URL+";"},t.getCookie=function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""},t.cookieExist=function(e){return""!=t.getCookie(e)},t.eraseCookie=function(t){document.cookie=t+"=; Max-Age=-99999999;"},t}();e.default=i},41715:function(t,e,n){"use strict";var r=n(48764).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(83759)),c=a(n(80225)),u=a(n(76564)),l=function(){function t(){this.cookie_name="watch_history",this.items_limit=50,this.expiration=30,this.cart=new c.default,this.cartService=new u.default}return t.prototype.saveItem=function(t){return i(this,void 0,void 0,(function(){var e,n,r;return o(this,(function(i){switch(i.label){case 0:return e=isNaN(Number(t))?t?this.getClipIdFromClassName(t):document.querySelector("[data-clipid]").attributes["data-clipid"].value:t,e=Number(e),[4,this.inCart(e)];case 1:return n=i.sent(),[4,this.cart.isSavedForLater(e)];case 2:return i.sent()||n||(this.checkCookie()?((r=this.readCookie()).length===this.items_limit&&r.pop(),r.includes(e)||(r.push(e),this.writeCookie(r))):this.writeCookie([e])),[2]}}))}))},t.prototype.removeItem=function(t){if(t=Number(t),this.checkCookie()){var e=this.readCookie();e.includes(t)&&(e.splice(e.indexOf(t),1),this.writeCookie(e))}},t.prototype.checkItem=function(t){if((t=Number(t),this.checkCookie())&&this.readCookie().includes(t))return!0;return!1},t.prototype.getClipIdFromClassName=function(t){return null==t?null:t.replace(/[^0-9]/g,"")},t.prototype.checkCookie=function(){return s.default.cookieExist(this.cookie_name)},t.prototype.writeCookie=function(t){var e=JSON.stringify(t),n=r.from(e).toString("base64");s.default.setCookie(this.cookie_name,n,this.expiration)},t.prototype.readCookie=function(){var t,e=s.default.getCookie(this.cookie_name),n=r.from(e,"base64").toString("ascii");try{t=JSON.parse(n)}catch(e){t={}}return t},t.prototype.inCart=function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,this.cartService.getCartData().then((function(t){e=t.items.map((function(t){return t.cid}))}))];case 1:return n.sent(),[2,e.includes(t)]}}))}))},t}();e.default=l},67783:function(t,e){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,i){var o=this;this.isRight=!1,this.rightClass="isOnRightState",this.leftLabel=t,this.rightLabel=e,this.targetDom=n(document.querySelectorAll(i)),this.toggleTrigger=document.querySelector(r),this.toggleTrigger&&this.toggleTrigger.addEventListener("click",(function(){return o.toggle()}))}return t.prototype.toggle=function(){var t=this;this.isRight=!this.isRight,this.toggleTrigger.innerText=this.isRight?this.rightLabel:this.leftLabel,this.targetDom.forEach((function(e){t.isRight?e.classList.add(t.rightClass):e.classList.remove(t.rightClass)}))},t}();e.default=r},24651:function(t,e){"use strict";var n=function(t,e){var n=function(t){var e=Array.from(t.querySelectorAll(".progress-bar--saving__amount")),n=Array.from(t.querySelectorAll(".progress-bar--description__missing-amount")),r=Array.from(t.querySelectorAll(".progress-bar--description__percent")),i=Array.from(t.querySelectorAll(".progress-bar--part")),o=Array.from(t.querySelectorAll(".progress-bar--svg")),a=Array.from(t.querySelectorAll(".progress-bar--maximal__percent"));return{savingPercent:e,savingMissingAmount:n,nextSavingPercent:r,progressParts:i,progressBars:o,progressBarWrapper:t,maximalPercent:a}}(t);n.progressBarWrapper.classList.remove("progress--bar__finished");var c,u={};if(n.progressParts.forEach((function(t,n){var r=[t.getAttribute("data-max"),t.getAttribute("data-min"),t.getAttribute("data-percent")],i=r[0],o=r[1],a=r[2];u[n]={max:i,min:o,percent:a},+e>=+o&&+e<=+i&&(t,c=n)})),c||0===c){if(r(n,u[c].percent),u[c+1]){var l=Math.round(100*(+u[c+1].min-+e))/100;i(n,l),o(n,u[c+1].percent)}a(n,c)}else s(n)},r=function(t,e){window.discount_pct=e,t.savingPercent.forEach((function(t){return t.textContent=e}))},i=function(t,e){t.savingMissingAmount.forEach((function(t){return t.textContent=e}))},o=function(t,e){t.nextSavingPercent.forEach((function(t){return t.textContent=e+"%"}))},a=function(t,e){t.progressBars.forEach((function(t){return t.classList.remove("active-bar")}));for(var n=0;n<=e;n++)t.progressBars[n].classList.add("active-bar")},s=function(t){window.discount_pct="25",t.progressBarWrapper.classList.add("progress--bar__finished"),t.maximalPercent.forEach((function(e){return e.textContent=t.progressParts[t.progressParts.length-1].getAttribute("data-percent")+"%"})),t.progressBars.forEach((function(t){return t.classList.add("active-bar")}))};e.default=function(t){Array.from(document.querySelectorAll(".progress-bar--wrapper")).forEach((function(e){n(e,t)}))}},28247:function(t,e){"use strict";var n=function(t,e,n){t.classList.remove("active"),e.style.height="0px",n.classList.remove("active")};e.Z=function(){var t=document.querySelector(".category__dropdown_toggle_btn"),e=document.querySelector(".category__dropdown--mobile_dropdown--holder"),r=document.querySelector(".category__dropdown--mobile_dropdown"),i=document.querySelector(".category__dropdown--mobile_text--arrow__down");t.addEventListener("click",(function(){t.classList.contains("active")?n(t,e,i):(i.classList.add("active"),t.classList.add("active"),e.style.height=r.getBoundingClientRect().height+"px")})),document.addEventListener("click",(function(r){t.contains(r.target)||e.contains(r.target)||n(t,e,i)}))}},7998:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BestFetishDesktop=void 0;var r=n(68864);e.BestFetishDesktop=function(){new r.DesktopCarousel({listContainerSelector:".interactive-carousel-wrapper .jcarousel-listpage-list",viewWrapperSelector:".interactive-carousel-wrapper ",nextPageSelector:".interactive-carousel-wrapper .carousel__next",previousPageSelector:".interactive-carousel-wrapper .carousel__previous",itemSelector:".interactive-carousel-wrapper .jcarousel-listpage-item",currentPageSelector:".interactive-carousel-wrapper .carousel__current-page",totalPagesSelector:".interactive-carousel-wrapper .carousel__last-page"})}},68864:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DesktopCarousel=void 0;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resetTransition=null,e.firstRightRotation=!0,e.shuffleList=function(t,e,n){var r=document.createDocumentFragment();if("right"===e){for(var i=n-1;i>=0;i--)r.appendChild(t.children[i]);t.appendChild(r)}else{for(i=t.children.length-n;i<t.children.length;i++)r.appendChild(t.children[i]);t.insertBefore(r,t.children[0])}return t},e}return i(e,t),e.prototype.initPagination=function(){t.prototype.initPagination.call(this),this.itemsPerView=3,this.items&&this.items.length-this.itemsPerView<=this.numberOfVisibleElements&&(this.itemsPerView=1),this.pages=Math.floor(this.pages/this.itemsPerView)},e.prototype.goToNextPage=function(t){if(this.items.length-this.numberOfVisibleElements<1)return!1;this.currentPage++,this.resetTransition=null,this.currentPage>this.pages&&(this.currentPage=0),this.firstRightRotation?this.firstRightRotation=!1:this.shuffleList(this.listContainer,"right",this.itemsPerView),this.slideElementsOnSide("right"),this.updateCurrentPage(),t.preventDefault()},e.prototype.goToPreviousPage=function(t){if(this.items.length-this.numberOfVisibleElements<1)return!1;this.currentPage--,this.resetTransition=null,this.currentPage<0&&(this.currentPage=this.pages),this.shuffleList(this.listContainer,"left",this.itemsPerView),this.slideElementsOnSide("left"),this.updateCurrentPage(),t.preventDefault()},e.prototype.slideElementsOnSide=function(t){var e=this,n=null,r=null;switch(t){case"right":n="0",r="-"+this.itemsPerView*this.amountToScroll;break;case"left":n="-"+this.itemsPerView*this.amountToScroll,r="0"}window.requestAnimationFrame((function(){e.listContainer.style.transition="transform 0ms linear 0s",e.listContainer.style.transform="translateX("+n+"px)",window.requestAnimationFrame((function(){e.listContainer.style.transition="transform 300ms linear 0s",e.listContainer.style.transform="translateX("+r+"px)"}))}))},e}(o(n(71584)).default);e.DesktopCarousel=a},87292:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(5605)),o=r(n(17640)),a=function(){function t(t,e){document.querySelector(""+t)&&this.createSplide(t,e)}return t.prototype.createSplide=function(t,e){var n=new i.default(""+t,{type:"loop",preloadPages:1,start:1,perPage:4,autoWidth:!0,gap:"15px",breakpoints:{320:{perPage:1},767:{perPage:2},768:{perPage:3}}});n.mount(),n.on("move",(function(){o.default("Carousel","move",{location:e})}));var r=document.querySelector(""+t).getElementsByClassName("carousel__controls--previous"),a=document.querySelector(""+t).getElementsByClassName("carousel__controls--next"),s=[];s=Array.prototype.concat.apply(s,r),s=Array.prototype.concat.apply(s,a);for(var c=0;c<s.length;c++)s[c].addEventListener("click",(function(t){var n=t.target.getAttribute("class").split(" ")[0].split("--")[1];o.default("Carousel","arrow click",{direction:n,location:e})}))},t}();e.default=a},71584:function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(17640)),a=function(){function t(t){var e=this,n=t.title,i=t.listContainerSelector,a=t.viewWrapperSelector,s=t.nextPageSelector,c=t.previousPageSelector,u=t.itemSelector,l=t.currentPageSelector,d=t.totalPagesSelector;this.itemsPerView=3,this.title=n,this.nextPageElement=document.querySelector(s),this.previousPageElement=document.querySelector(c),this.listContainer=document.querySelector(i),this.viewWrapper=document.querySelector(a),this.displayCurrentPage=document.querySelector(l),this.displayTotalPages=document.querySelector(d),this.listContainer&&(this.items=r(this.listContainer.querySelectorAll(u))),this.initPagination(),this.previousPageElement&&this.previousPageElement.addEventListener("click",(function(t){e.goToPreviousPage(t),o.default("Carousel","arrow click",{title:e.title,direction:"previous"})}),!1),this.nextPageElement&&this.nextPageElement.addEventListener("click",(function(t){e.goToNextPage(t),o.default("Carousel","arrow click",{title:e.title,direction:"next"})}),!1),this.displayTotalPages&&(this.displayTotalPages.textContent=String(this.pages+1))}return t.prototype.initPagination=function(){this.items&&this.items.length&&(this.pages=this.calculatePages(),this.currentPage=0,0===this.pages?(this.disableButton(this.previousPageElement),this.disableButton(this.nextPageElement)):this.disableButton(this.previousPageElement),this.listContainer.style.transform="")},t.prototype.goToNextPage=function(t){this.currentPage<this.pages&&(this.currentPage++,this.slideElements(),this.currentPage===this.pages&&this.disableButton(this.nextPageElement),1===this.currentPage&&this.enableButton(this.previousPageElement),this.updateCurrentPage()),t.preventDefault()},t.prototype.goToPreviousPage=function(t){this.currentPage>0&&(this.currentPage--,this.slideElements(),0===this.currentPage&&this.disableButton(this.previousPageElement),this.currentPage===this.pages-1&&this.enableButton(this.nextPageElement),this.updateCurrentPage()),t.preventDefault()},t.prototype.slideElements=function(){this.listContainer.style.transform="translateX(-"+this.currentPage*this.amountToScroll+"px)"},t.prototype.updateCurrentPage=function(){this.displayCurrentPage&&(this.displayCurrentPage.textContent=String(this.currentPage+1))},t.prototype.disableButton=function(t){t&&(t.classList.remove("text-white","hover:text-gigas","hover:cursor-pointer","focus:text-gigas","focus:underline"),t.classList.add("text-clipsCountGrey","cursor-default"))},t.prototype.enableButton=function(t){t&&(t.classList.remove("text-clipsCountGrey","cursor-default"),t.classList.add("text-white","hover:text-gigas","hover:cursor-pointer","focus:text-gigas","focus:underline"))},t.prototype.calculatePages=function(){this.amountToScroll=this.calculateAmountToScroll();var t=this.viewWrapper.getBoundingClientRect().width;this.numberOfVisibleElements=Math.floor(t/this.amountToScroll),this.partiallyVisibleArea=t-this.numberOfVisibleElements*this.amountToScroll;var e=this.items.length-this.numberOfVisibleElements;return e<=0?0:e},t.prototype.calculateAmountToScroll=function(){return this.items[0].getBoundingClientRect().width},t}();e.default=a},76344:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(4979),u=s(n(71777)),l=s(n(17636)),d=s(n(17640)),f=n(64462),h=s(n(98496)),p=function(t){function e(n,r){var i=t.call(this,e)||this;return i.afterInitialAndMoreThenOneInCartCount=0,i.totalClipsAmount=0,i.loaded=!1,i.cart=new u.default,i.showCart=!1,i.renderCounts=0,i.emptyCartCounts=0,i.isUserInteractedWithCart=!1,i.dynamicSetMiniCartHeight=function(t){var e,n=Array.from(t.querySelectorAll(".cartItem")).slice(0,4).reduce((function(t,e){return t+e.clientHeight}),0);null===(e=t.querySelector(".scroll-on-mobile .cartItems"))||void 0===e||e.setAttribute("style","--target-height: "+n+"px")},i.listenerCartClipDelete=function(t){var e=t.currentTarget;e.setAttribute("data-has-event-listener","true");var n=document.querySelector(".miniCartDropdown"),r=e.getAttribute("data-cid"),o=e.getAttribute("data-type"),a=e.getAttribute("data-studio");"clip"===o?i.cartService.removeFromCart(a,r).then((function(){d.default("Remove from cart","click",{viewOption:"",page:"popup",clipId:r,studioId:a,clipModal:!1}),1===i.totalClipsAmount&&n.classList.add("hidden")})):"custom_tribute"===o?i.cartService.removeFromCart(a,r,o).then((function(){1===i.totalClipsAmount&&n.classList.add("hidden")})):i.cartService.removeTributeFromCart(a,Number(r.split("_").pop().slice(0,-2)),o).then((function(){1===i.totalClipsAmount&&n.classList.add("hidden")}));var s=i.elements[0].querySelector(".box"+r);s.parentElement.parentElement.removeChild(s.parentElement)},i.toggleCheckoutButton=function(t){i.preventDefaultHandler||(i.preventDefaultHandler=function(t){t.preventDefault()}),t?i.cartCheckoutButton.forEach((function(t){t.classList.add("disable"),t.addEventListener("click",i.preventDefaultHandler,!0),t.addEventListener("mousemove",i.hideShowMessageOnMouse,!1)})):(i.cartCheckoutButton.forEach((function(t){t.addEventListener("click",(function(t){var e;t.preventDefault(),!window.user_logged_in&&(null===(e=window.oneClickModal)||void 0===e?void 0:e.shouldRenderOneClick())?window.oneClickModal.showModal():(i.removeCheckoutRedirectErrorMessage(),i.processingCheckoutRedirect(),d.default("Checkout from mini cart","click",h.default()),i.getCheckoutRedirectUrl().then((function(t){window.location.href=t})).catch((function(){i.showRedirectErrorMessage()}))),d.default("Cart-Studio-Checkout","click")}))})),i.cartCheckoutButton.forEach((function(t){t.classList.remove("disable"),t.removeEventListener("click",i.preventDefaultHandler,!0),t.removeEventListener("mousemove",i.hideShowMessageOnMouse,!1)})))},i.processingCheckoutRedirect=function(){i.cartCheckoutButton.forEach((function(t){t.classList.add("pointer-events-none")}));var t=document.createElement("div");t.classList.add("checkout-loading-message","fixed","top-0","left-0","h-100vh","w-full"),t.style.zIndex="77777778",t.style.backgroundColor="rgba(29, 27, 31, 0.75)",t.innerHTML='<div class="text-white" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"><img src="/Assets/Static/img/loader.gif" alt="" style="width: 32px; height: 32px; border: 0; box-shadow: 0 0;"> one moment please...</div>',document.querySelector(".checkout-loading-message")||document.body.appendChild(t)},i.resetCheckoutBtn=function(){document.querySelectorAll(".cartButtons__checkout").forEach((function(t){t.classList.remove("pointer-events-none")}))},i.removeLoadingMessage=function(){var t=document.querySelector(".checkout-loading-message");null==t||t.remove()},i.removeCheckoutRedirectErrorMessage=function(){var t=document.querySelectorAll(".checkout-redirect-error");null==t||t.forEach((function(t){t.remove()}))},i.showRedirectErrorMessage=function(){i.removeLoadingMessage(),document.querySelectorAll(".cartButtons__checkout").forEach((function(t){var e=document.createElement("span");e.innerHTML="An error occurred when checkout, please contact customer support",e.classList.add("checkout-redirect-error","inline-block","p-4","text-persianRed","text-center"),t.parentNode.insertBefore(e,t.nextSibling),setTimeout((function(){i.removeCheckoutRedirectErrorMessage(),t.classList.remove("pointer-events-none")}),3500)}))},i.getCheckoutRedirectUrl=function(){var t="hosted"===new URLSearchParams(window.location.search).get("mode");return new Promise((function(e,n){var r=document.querySelector("meta[name='csrf-token']").getAttribute("content"),s={cid:l.default.getItem("cid"),is_hosted:t};f.postCheckoutRedirect(r,s).then((function(t){return o(i,void 0,void 0,(function(){var r;return a(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return(r=i.sent()).success?e(r.redirect_url):n(r.error),[2]}}))}))})).catch((function(t){n(t)}))}))},i.elements=document.querySelectorAll(n),i.processChange=i.render,i.cartService=r,i.cartCheckoutButton=document.querySelectorAll(".cartButtons__checkout"),i}return i(e,t),e.prototype.render=function(t){var e,n=this;if(!this.elements.length)return!1;(this.afterInitialAndMoreThenOneInCartCount++,t.total_count>0)?(this.totalClipsAmount?(this.renderCounts++,this.showCart=this.totalClipsAmount<t.clips.length,this.totalClipsAmount===t.clips.length&&(this.showCart=t.total_price!==this.totalPrice)):(this.showCart=0!==this.renderCounts,0===this.renderCounts&&(this.emptyCartCounts>1&&1===t.clips.length&&(this.showCart=!0),1===this.emptyCartCounts&&1===t.clips.length&&this.isUserInteractedWithCart&&(this.showCart=!0))),this.hideShowMessageOnMouse(!1),this.toggleCheckoutButton(!1),this.getClips(t.clips)):(document.querySelectorAll(".addToCart, .buynow-oneclick, .interactive-thumb__addToCart-button, .tribute_addtoCart").forEach((function(t){t.addEventListener("click",(function(t){n.isUserInteractedWithCart=!0}))})),null===(e=document.querySelector(".dropdown-toggle"))||void 0===e||e.addEventListener("sendCustomTip",(function(){return n.isUserInteractedWithCart=!0})),this.emptyCartCounts++,this.emptyCartCounts>1&&(this.totalClipsAmount=0),this.showCart=!1,this.toggleCheckoutButton(!0),this.showMessageOnMouseIfCartIsEmpty(),this.elements.forEach((function(t){t.innerHTML=""})));this.totalPrice=t.total_price,this.updateTotal()},e.prototype.getClips=function(t){var e=this;(t.forEach((function(t){t.thumb="https://imagecdn.clips4sale.com/accounts99/"+t.producer+"/clip_images/thumb_"+t.cid+".jpg"})),this.elements.forEach((function(t){t.innerHTML=""})),this.appendClipsToCartPopup(t.reverse()),this.listener(),this.updateTotal(),void 0!==window.openCartPopup&&(this.showCart=window.openCartPopup),this.showCart)&&document.querySelectorAll(".miniCartDropdown , .miniCartDropdown__mobile").forEach((function(t){t.classList.remove("hidden"),e.dynamicSetMiniCartHeight(t)}));this.totalClipsAmount=t.length},e.prototype.appendClipsToCartPopup=function(t){var e=this;t.forEach((function(t){var n=document.createElement("div");n.classList.add(t.producer+"clips","cartItem");var r=document.createElement("div");r.classList.add("cartItem__wrapper","box"+t.cid);var i=document.createElement("div");i.classList.add("cartItem__image-wrapper");var o=document.createElement("img"),a=document.createElement("a");if(a.classList.add("cartItem__image"),a.setAttribute("target","_self"),"clip"===t.type){var s=t.title.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");a.setAttribute("href","/studio/"+t.producer+"/"+t.cid+"/"+s)}else a.setAttribute("href","/studio/"+t.producer+"/"+t.cid);if("clip"===t.type)o.setAttribute("alt",t.title.split(" ")[0]),o.setAttribute("title",t.title),o.setAttribute("src",t.thumb),o.classList.add("cartImage__width"),a.appendChild(o),i.appendChild(a);else{var c=document.createElement("div");c.innerHTML='<svg width="112" height="62" viewBox="0 0 112 62" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <rect width="112" height="62" fill="#EDEAF1"/>\n        <path d="M63.9958 18.5853C63.086 17.563 61.8247 17 60.4445 17C58.9038 17 57.5683 17.7283 56.5823 19.1062C56.5084 19.2095 56.4392 19.3128 56.3744 19.415C56.3096 19.3127 56.2405 19.2095 56.1666 19.1062C55.1805 17.7283 53.845 17 52.3044 17C50.9241 17 49.6628 17.563 48.753 18.5853C47.8896 19.5554 47.4141 20.8524 47.4141 22.2372C47.4141 23.7421 47.9982 25.1308 49.2522 26.6076C50.3463 27.896 51.9158 29.2204 53.7331 30.7539C54.4047 31.3206 55.0991 31.9066 55.8371 32.546C55.9912 32.6796 56.1828 32.7464 56.3744 32.7464C56.5659 32.7464 56.7574 32.6796 56.9116 32.546C57.6495 31.9067 58.3438 31.3208 59.0154 30.7542C60.1825 29.7692 61.1904 28.9187 62.0651 28.0937C63.7634 26.4918 65.3348 24.6736 65.3348 22.2373C65.3348 20.8524 64.8593 19.5555 63.9958 18.5853ZM60.9393 26.9006C60.0977 27.6945 59.1057 28.5315 57.9572 29.5006C57.4463 29.9317 56.9222 30.3739 56.3744 30.8436C55.8265 30.374 55.3023 29.9317 54.7914 29.5005C51.214 26.4818 49.0547 24.6597 49.0547 22.2373C49.0546 20.1867 50.4516 18.6403 52.3043 18.6403C53.2941 18.6403 54.1359 19.1062 54.8062 20.0248C55.3564 20.7788 55.5823 21.5603 55.5838 21.5656C55.6822 21.9209 56.0056 22.1669 56.3744 22.1669C56.7431 22.1669 57.0665 21.9209 57.1649 21.5656C57.173 21.5363 58.0035 18.6403 60.4445 18.6403C62.2971 18.6403 63.6942 20.1867 63.6942 22.2373C63.6942 23.7231 62.9217 25.0305 60.9393 26.9006Z" fill="#747474"/>\n        <path d="M67.5391 33.518C66.8586 33.518 66.2021 33.8036 65.7381 34.3016L63.3271 36.8893C63.0155 35.8877 62.0797 35.1583 60.9766 35.1583H57.187C56.6565 35.1583 56.1449 34.9653 55.7466 34.6149C53.6044 32.7301 50.3844 32.7136 48.2219 34.5628C47.7759 33.9315 47.0411 33.5181 46.2109 33.5181H42.8203C42.3673 33.5181 42 33.8852 42 34.3382V44.1797C42 44.6326 42.3673 44.9998 42.8203 44.9998H46.2109C46.9476 44.9998 47.6093 44.6741 48.0607 44.1596L48.5465 44.2961C50.2081 44.763 51.9258 44.9998 53.6518 44.9998H60.9766C62.7743 44.9998 64.4916 44.1413 65.5703 42.7034L69.5086 37.4536C69.5087 37.4535 69.5087 37.4534 69.5088 37.4533C69.8302 37.0249 70 36.5149 70 35.9783C70 34.6217 68.896 33.518 67.5391 33.518ZM47.0313 42.5393C47.0313 42.9916 46.6633 43.3595 46.2109 43.3595H43.6406V35.1582H46.2109C46.6633 35.1582 47.0313 35.5261 47.0313 35.9784V42.5393ZM68.1962 36.4693C68.1962 36.4694 68.1962 36.4694 68.1961 36.4694L64.2578 41.7193C63.4873 42.7464 62.2607 43.3595 60.9766 43.3595H53.652C52.0761 43.3595 50.5077 43.1434 48.9906 42.717L48.6697 42.6268C48.6708 42.5978 48.672 42.5687 48.672 42.5394V36.3491L49.2437 35.8461C50.7884 34.4872 53.1181 34.4871 54.6629 35.8461C55.3609 36.4602 56.2573 36.7984 57.1871 36.7984H60.9767C61.429 36.7984 61.7971 37.1663 61.7971 37.6186C61.7971 38.0708 61.4291 38.4387 60.9767 38.4387H55.1466C54.6935 38.4387 54.3262 38.8059 54.3262 39.2588C54.3262 39.7118 54.6935 40.079 55.1466 40.079H61.5264C62.2069 40.079 62.8633 39.7935 63.3272 39.2956L66.9386 35.4196C67.0957 35.251 67.3089 35.1582 67.5391 35.1582C67.9914 35.1582 68.3594 35.5261 68.3594 35.9784C68.3594 36.1572 68.303 36.327 68.1962 36.4693Z" fill="#747474"/>\n        </svg>',a.appendChild(c),i.appendChild(c)}r.appendChild(i);var u=document.createElement("div");u.classList.add("clipText__wrapper"),i.appendChild(u);var l=document.createElement("a");if(l.classList.add("clipText__title","ellipsis-2","text-left"),l.setAttribute("target","_self"),"clip"===t.type){s=t.title.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");l.setAttribute("href","/studio/"+t.producer+"/"+t.cid+"/"+s),l.innerHTML=t.title}else l.setAttribute("href","/studio/"+t.producer+"/"+t.cid),l.innerHTML="Tribute: Youâ€™re sending a monetary gift";u.appendChild(l);var d=document.createElement("div");d.classList.add("underTitle__wrapper");var f=document.createElement("a");f.classList.add("cartItem__studio-text"),f.setAttribute("target","_self"),f.setAttribute("href","/studio/"+t.producer),f.innerHTML="Studio "+t.producer,d.appendChild(f);var h=document.createElement("span");h.classList.add("cartPrice","cartItem__price"),h.innerHTML="$"+t.price,d.appendChild(h),u.appendChild(d);var p=document.createElement("div");p.classList.add("deleteClipFromPopup"),p.setAttribute("data-producer",t.producer),p.setAttribute("data-cid",t.cid),p.setAttribute("data-studio",t.producer),"clip"===t.type?p.setAttribute("data-type","clip"):"custom_tribute"===t.type?p.setAttribute("data-type","custom_tribute"):p.setAttribute("data-type","tribute"),p.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.8015 1.15642C14.066 0.891872 14.066 0.462957 13.8015 0.19841C13.5369 -0.0661367 13.108 -0.0661367 12.8435 0.19841L6.99999 6.0419L1.15673 0.198642C0.892181 -0.0659049 0.463266 -0.0659049 0.198719 0.198642C-0.0658279 0.463189 -0.0658279 0.892104 0.198719 1.15665L6.04198 6.99991L0.19841 12.8435C-0.0661365 13.108 -0.0661368 13.5369 0.19841 13.8015C0.462957 14.066 0.891872 14.066 1.15642 13.8015L6.99999 7.95792L12.8438 13.8017C13.1083 14.0663 13.5373 14.0663 13.8018 13.8017C14.0663 13.5372 14.0663 13.1083 13.8018 12.8437L7.958 6.99991L13.8015 1.15642Z" fill="#747474"/></svg>',r.appendChild(p),n.appendChild(r);var v=n.cloneNode(!0);e.elements[0].appendChild(n),e.elements[1].appendChild(v)}))},e.prototype.listener=function(){var t=this;this.elements.forEach((function(e){e.querySelectorAll(".deleteClipFromPopup:not([data-has-event-listener])").forEach((function(e){e.removeEventListener("click",t.listenerCartClipDelete,!0),e.addEventListener("click",t.listenerCartClipDelete,!0)}))}))},e.prototype.updateTotal=function(){var t=this,e=document.querySelectorAll(".cartAmount"),n=document.querySelector(".cart__clips-search-badge");if(!n)return!1;this.totalPrice>0?(n.classList.add("flex"),e.forEach((function(e){e.innerHTML=t.totalPrice.toString()}))):(n.classList.remove("flex"),e.forEach((function(t){t.innerHTML="0"})))},e.prototype.showMessageOnMouseIfCartIsEmpty=function(){var t=this;if(!document.querySelector("#cartPopupCheckoutHover")){var e=0,n=0,r=document.createElement("div");r.id="cartPopupCheckoutHover",r.textContent="Please Add Items to Cart to Checkout.",r.style.display="none",document.body.appendChild(r),this.cartCheckoutButton[1].addEventListener("mousemove",(function(t){window.innerWidth<768&&(r.style.top="20px",r.style.left="20px"),e=t.pageY-60,n=t.screenY-163,r.style.top=e+"px",r.style.left=t.pageX-275+"px",r.style.right="unset"})),window.addEventListener("scroll",(function(){window.innerWidth<768?r.style.top=n+window.scrollY+"px":(r.style.top=n+window.scrollY+"px",r.style.right="unset")})),this.cartCheckoutButton[1].addEventListener("mouseout",(function(){r.style.display="none"})),this.cartCheckoutButton[0].addEventListener("mousemove",(function(t){window.innerWidth<768&&(n=t.pageY-60,r.style.top=n+"px",r.style.left="20px",r.style.right="20px"),r.style.display="flex"})),this.cartCheckoutButton[0].addEventListener("mouseout",(function(){r.style.display="none"})),document.addEventListener("touchstart",(function(e){t.cartCheckoutButton[0].contains(e.target)||(r.style.display="none")}))}},e.prototype.hideShowMessageOnMouse=function(t){var e=document.querySelector("#cartPopupCheckoutHover");e&&(e.style.display=t?"flex":"none")},e}(c.Observer);e.default=p},4751:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(85022)),s=o(n(63577)),c=o(n(94203)),u=n(19255),l=o(n(17640)),d=o(n(71777)),f=function(){function t(t,e){var n=this;this.cartButtonConfigs=null,this.baseEventHandler=function(t,e){n.cartService.containsClipId(+n.buttonElement.dataset.clipid)?n.buttonElement&&n.buttonElement.dataset.action!==t.removeAction&&(n.buttonElement.setAttribute("data-action",t.removeAction),n.buttonElement.setAttribute("data-tooltip-text",t.tooltipRemove),n.buttonElement.innerHTML=e(!0),n.setEventListeners()):n.buttonElement&&n.buttonElement.dataset.action!==t.addAction&&(n.buttonElement.setAttribute("data-action",t.addAction),n.buttonElement.setAttribute("data-tooltip-text",t.tooltipAdd),n.buttonElement.innerHTML=e(!1),n.setEventListeners())},this.cartChangedHandler=function(t){n.baseEventHandler(n.cartButtonConfigs,n.setCartIconFromState)},this.cartButtonEventHandler=function(t){var e=t.currentTarget;e.dataset.action===n.cartButtonConfigs.addAction?n.cartService.addToCart(e.dataset.producer,e.dataset.clipid).then((function(){var t={viewOption:"grid",page:window.location.href.includes(e.dataset.clipid)?"single clips page":"clips page",clipId:e.dataset.clipid,studioId:e.dataset.producer,clipModal:!1};l.default("Add to cart","click",t),n.animateMessage(e,{message:"Added to cart",tooltip:n.cartButtonConfigs.tooltipRemove}),n.setCartIconFromState(!0),n.userLogged||(n.savedForLaterCart.removeFromCart(e.dataset.producer,e.dataset.clipid),n.cartEventsWrapper.fireEvent("saved_cart_changed"))})):n.cartService.removeFromCart(e.dataset.producer,e.dataset.clipid).then((function(){var t={viewOption:"grid",page:window.location.href.includes(e.dataset.clipid)?"single clips page":"clips page",clipId:e.dataset.clipid,studioId:e.dataset.producer,clipModal:!1};l.default("Remove from cart","click",t),n.animateMessage(e,{message:"Removed for cart",tooltip:n.cartButtonConfigs.tooltipAdd})}))},this.animateMessage=function(t,e){return r(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return t.setAttribute("data-tooltip-text",e.message),t.classList.add(""+this.cartButtonConfigs.toolTipActiveClass),[4,u.delay(1e3)];case 1:return n.sent(),t.classList.add(""+this.cartButtonConfigs.toolTipClass),[4,u.delay(1500)];case 2:return n.sent(),t.classList.remove(""+this.cartButtonConfigs.toolTipActiveClass),t.setAttribute("data-tooltip-text",e.tooltip),[4,u.delay(1500)];case 3:return n.sent(),t.classList.remove(""+this.cartButtonConfigs.toolTipClass),[2]}}))}))},this.buttonElement=t,this.cartButtonConfigs=e}return t.prototype.init=function(){this.cartService=window.cartService,this.savedForLaterCart=new d.default("SavedClips"),this.userLogged=1==window.user_logged_in,this.cartEventsWrapper=new a.default,this.baseEventHandler(this.cartButtonConfigs,this.setCartIconFromState),this.setEventListeners(),this.cartEventsWrapper.addEventListener("cart_changed",this.cartChangedHandler)},t.prototype.setCartIconFromState=function(t){return t?c.default("text-white h-20px w-20px"):s.default("text-white h-20px w-20px")},t.prototype.setEventListeners=function(){this.buttonElement&&this.buttonElement.addEventListener("click",this.cartButtonEventHandler)},t}();e.default=f},97854:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(76629),i=function(){function t(t,e){var n=this;this.calculatePriceDiscount=function(t,e){return n.discount>0?(t=parseFloat(t))-(e=parseFloat(e))*(n.discount/100):t},this.discount=t,this.userAuth=e}return t.prototype.getThumb=function(t){return'<img alt="'+t.title+'" title="'+t.title+'" src="'+t.thumb+'" \n                    class=" [ w-auto h-auto md:w-140px   ] cartClipImg "  />'},t.prototype.getTitle=function(t){var e=t.title.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");return'<div class=" [ pr-2 ]  "> \n                '+('<div class=" [ text-1-5 md:text-base text-white font-medium ] cartClipTitle ">\n                    <a  href="/studio/'+t.producer+"/"+t.cid+"/"+e+'"\n                        class=" hover:text-gigas hover:underline ">\n                        '+t.title+'\n                    </a>\n                    <span class="bg-cartFormatBadge text-black leading-2 text-xss font-bold rounded border-0 text-center uppercase p-1 ml-1 ">'+t.format+"</span>\n                </div>")+"                \n            </div>"},t.prototype.getPrice=function(t){return'<div class=" [  leading-none text-1-5 md:text-base text-white font-medium ] cartClipPrice  ">\n                   '+this.getPriceLine(t)+"\n                </div>"},t.prototype.getPriceLine=function(t){if(this.discount>0&&"clip"==t.type){var e=this.calculatePriceDiscount(t.price,t.original_price).toFixed(2);return'<span class="line-through text-grainyCurrant">$ <span class="cartClipPriceRaw">'+t.price+'</span></span>\n                        <span class="ml-1">$ <span class=" cartClipPriceDiscounted">'+e+"</span></span>"}return'<span>\n                        $ <span class="cartClipPriceRaw " > '+t.price+" </span>\n                </span>"},t.prototype.getSaveForLaterButton=function(t){return this.userAuth?"<a href='javascript:void(0);' \n                                            data-producer='"+t.producer+"' \n                                            data-cid='"+t.cid+"'\n                                            class='addToWishlistCart btn btn-xs btn-simple "+("clip"!=t.type?"disabled":"")+" [ text-cartSecondary text-1-5 md:text-base inline-block  hover:text-DeepGold ]' >\n                                            <span class='saveForLaterText [  ]'>\n                                                <i class='fa fa-check-circle-o ' aria-hidden='true'></i>\n                                                    Move to Wish List\n                                            </span>\n                                        </a>":"<a href='javascript:void(0);' \n                    data-producer='"+t.producer+"' \n                    data-cid='"+t.cid+"'\n                    class='saveForLater btn btn-xs btn-simple "+("clip"!=t.type?"disabled":"")+" [ text-cartSecondary text-1-5 md:text-base inline-block  hover:text-DeepGold ]' >\n                        <span class='saveForLaterText [ sm:pl-0 pl-2 ]'>\n                            <i class='fa fa-check-circle-o ' aria-hidden='true'></i>\n                            Save for later\n                        </span>\n                    </a>"},t.prototype.render=function(t,e,n){return void 0===e&&(e=!0),'<div class="w-full" >\n                '+(e?' <div class="h-0 w-full border-0 border-b border-cartSecondary mb-4 block ">                \n                </div>':"")+'\n                <div class="  [ flex flex-row flex-wrap w-full  relative px-2 pb-5 md:px-1-5 md:pb-1-5 mb-1-5 text-1-4 text-biloba max-h-400 ] cartClipWrapper cartClip'+t.cid+'">\n                    <div class="pr-1-5 w-7/12 md:w-auto">\n                        '+this.getThumb(t)+'\n                    </div>\n                    <div class=" order-first w-full md:order-none md:w-7/12">\n                        <div class="flex items-center mb-2">\n                            '+this.getTitle(t)+'\n                        </div>\n                        <div class="[ absolute -bottom-1-0  left-0 md:static  ]">\n                            '+this.getSaveForLaterButton(t)+'\n                        </div>\n                        \n                    </div>\n                    <div class="flex flex-grow justify-end items-center ">\n                        '+this.getPrice(t)+'\n                        <div class=" [ px-2 ]  cartClipDelete " data-producer="'+t.producer+'" data-cid="'+t.cid+'">\n                            '+r.removeXSvg("text-cartSecondary cursor-pointer ")+"\n                        </div>\n                        \n                    </div>\n            </div>\n        </div>"},t}();e.default=i},32758:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.wrapper=document.querySelector(t),this.loadingElement=document.querySelector(e),this.emptyElement=n}return t.prototype.hide=function(){this.wrapper&&this.wrapper.classList.add("hidden"),this.loadingElement&&this.loadingElement.classList.remove("hidden")},t.prototype.show=function(){this.wrapper&&this.wrapper.classList.remove("hidden"),this.loadingElement&&this.loadingElement.classList.add("hidden"),this.emptyElement&&this.emptyElement.classList.add("hidden")},t}();e.default=n},19716:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CartStudioTitle=void 0,e.CartStudioTitle=function(t,e,n){void 0===n&&(n="");var r="";void 0!==t&&(r=t);var i=document.createElement("div");return i.innerHTML='<h5 class="'+n+'StudioTitle  pb-3" data-studio="'+e+'">\n            <a href="/studio/'+e+'" class="text-white text-base hover:text-gigas hover:underline">\n                '+e+" "+(r?"- "+r:"")+'\n            </a>\n            <hr class="mt-2 h-0 w-full border-0 border-b-1 border-white ">\n        </h5>\n        ',i.firstChild}},2266:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CartSummary=void 0;var n=function(){function t(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=""),void 0===r&&(r=!1),this.mobileOnlyClassName="hidden md:block",this.taxType=t,this.discount=e,this.discountTitle=n,this.hasLoginSignupBtns=r}return t.prototype.getTaxLine=function(){var t=this.getTaxText();return""!==t?'<div class="flex w-full ">\n                        <span class="text-cartNote text-xs">'+t+"</span>\n                    </div>":""},t.prototype.getTaxText=function(){return"tax"===this.taxType?"(Sale Tax may apply)":"vat"===this.taxType?"All prices include VAT":""},t.prototype.calculateDiscount=function(t,e){if(0!=this.discount&&!isNaN(this.discount)){var n=t*(this.discount/100);return{amountToDiscount:n,subtotal:e,total:e-n}}return null},t.prototype.getDiscountLine=function(t,e,n,r){var i=this.calculateDiscount(t,e);return i?'<div class="flex '+(r?"justify-center md:justify-start":"")+' w-full text-white text-base ">\n                        <span class="">Subtotal '+(r?this.getMobileOnlySubtotal(n):"")+'</span>\n                        <span class="'+(r?"md:ml-auto":"ml-auto")+'">$ '+e.toFixed(2)+'</span>\n                    </div>\n                    <div class="flex w-full text-white text-base md:items-center">\n                        <span class="flex flex-col md:flex-row">\n                            <span class="">Discount </span>\n                            <span class="md:ml-1 md:mt-1 text-cartNote text-xs">'+this.discountTitle+'</span>\n                        </span>    \n                        <span class="ml-auto whitespace-no-wrap">- $ '+i.amountToDiscount.toFixed(2)+'</span>\n                    </div>\n                    <div class="flex w-full text-white text-base">\n                        <span class="">Total </span>\n                        <span class="ml-auto whitespace-no-wrap">$ '+i.total.toFixed(2)+"</span>\n                    </div>":'<div class="flex w-full text-white text-base">\n                        <span class="">Total </span>\n                        <span class="ml-auto whitespace-no-wrap">$ '+e.toFixed(2)+"</span>\n                    </div>"},t.prototype.getUserAccountActions=function(t){return'<div class="w-full pb-2 '+(t?this.mobileOnlyClassName:"")+' ">\n                    <button  data-context="login"\n                            class="loginButton bg-transparent w-full  py-1  px-4 border border-white rounded-sm text-white text-base hover:shadow-dark hover:bg-purple-400 focus:outline-none float-left "  type="submit">\n                        Login\n                    </button> \n                </div>\n                <div class="w-full pb-2">\n                    <button data-context="sign-up"\n                            class="registerButton bg-transparent w-full py-1  px-4 border border-white rounded-sm text-white text-base hover:shadow-dark hover:bg-purple-400 focus:outline-none float-left "  type="submit">\n                        Sign Up\n                    </button> \n                </div>\n                \x3c!--<div class="text-center">\n                    <span class="text-cartNote text-xs">Sign Up & Save 10% on your first order.</span>\n                </div> --\x3e'},t.prototype.getMobileOnlySubtotal=function(t){return'<span class="inline-block md:hidden mx-1">('+t+" item"+(t>1?"s":"")+"):</span>"},t.prototype.render=function(t,e,n,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),e=parseFloat(e),n=parseFloat(n),!parseInt(t))return'<div class="cartTotals"></div>';var o=!!document.querySelector(".CartStudioTitle")&&document.querySelector(".CartStudioTitle").getAttribute("data-studio");return'<div class="cartTotals py-2 px-1 md:py-4 md:px-6 flex flex-col '+(i?"md:bg-DeepPurple":"bg-DeepPurple")+' ">\n                       \n            '+this.getDiscountLine(e,n,t,i)+"\n            "+this.getTaxLine()+'       \n           <div class="w-full pb-2 pt-4">\n                 <a href=\'/checkout/studio/'+o+"' class='btn btn-success cartCheckout [ w-full inline-block rounded-sm text-white text-center  bg-green-200 px-1-0 py-0-4 text-base hover:bg-green-400 hover:text-white ]'>\n                     Proceed to checkout\n                 </a>\n            </div>         \n            "+(!r&&this.hasLoginSignupBtns?this.getUserAccountActions(i):"")+"\n        </div>"},t}();e.CartSummary=n},53199:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(94991)),o=n(76629),a=function(){function t(t){this.discount=t}return t.prototype.getThumb=function(){return'<div class=" flex justify-center items-center w-auto h-auto lg:w-140px  text-center cartClipImg ">\n            '+o.tributeIcon("text-tributeGreen")+"             \n        </div>"},t.prototype.getTitle=function(t,e){return'<div class=" [ md:px-1-5  px-0  w-full ]  "> \n                '+('<div class=" [ text-1-5 md:text-base text-white font-medium ]  cartClipTitle">\n            <span href="/studio/'+t.producer+'">\n                Support '+e+"\n            </span>\n        </div>")+"                \n            </div>"},t.prototype.getPrice=function(t){return'<div class=" [ leading-none text-1-5 md:text-base text-white font-medium pr-5px ] cartClipPrice supportStudio ">\n                   '+this.getPriceLine(t)+"\n                </div>"},t.prototype.getPriceLine=function(t){return'<span>\n                    $<span class="cartClipPriceRaw">'+t.price+"</span>\n                </span>"},t.prototype.render=function(t,e,n,r){return void 0===e&&(e=!0),void 0===n&&(n=!1),'<div class=" [ bg-cartTributeLine flex flex-row mt-1 md:mt-6 py-2 sm:px-2 md:px-1-5 md:pb-1-5 mb-1-5 sm:text-9px text-1-4 text-biloba max-h-400 ] cartClipWrapper cartClip'+t.cid+'">\n            <div class="px-2 md:px-1-5  flex justify-center items-center w-auto h-18">\n                '+this.getThumb()+'\n            </div>\n            <div class=" w-full md:w-6/12 flex flex-wrap items-center">\n                 '+this.getTitle(t,r)+'     \n            </div>\n            <div class="flex flex-grow items-center md:justify-between lg:justify-end '+(n?"gift-to-studio":"")+'">\n                '+this.getPrice(t)+'\n                <div class="sm:px-1 md:px-2 md:mr-2 pr-1 ">\n                    '+i.default("","cart-checkbox-input",e,'data-producer="'+t.producer+'" data-cid="'+t.cid+'" data-type="'+t.type+'" ')+"\n                </div>\n            </div>\n        </div>"},t}();e.default=a},89994:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(63577)),o=n(76629),a=function(){function t(){}return t.prototype.getClipLink=function(t){var e=t.title.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");return"/studio/"+t.producer+"/"+t.cid+"/"+e},t.prototype.render=function(t){return'<div class="cartClipWrapper cartClip'+t.cid+' [ px-1 py-1 clip-thumbnail w-72 float-left flex-shrink-0 ] ">\n                    <figure data-producerId="'+t.producer+'" data-id="'+t.cid+'">\n                        <div class="block relative">\n                            <div class="text-white hover:underline">\n                                <img class="w-full" alt="'+t.title+'" title="'+t.title+'" src="'+t.thumb+'"> \n                            </div>\n                            <span class="resolution-type text-xs bg-black bg-opacity-75 text-white absolute">'+t.resolution+'</span>\n                            <span class="media-type text-xs bg-black bg-opacity-75 text-white absolute uppercase"> '+t.format+' </span>\n                            <span class="clip-price text-xs bg-black bg-opacity-75 text-white absolute"> $  '+t.price+' </span>\n                            <span class="clip-length text-xs bg-black bg-opacity-75 text-white absolute">  '+t.length+':00 </span>\n                        </div>\n                        <figcaption class="flex justify-between items-center flex-wrap">\n                            <div class="clip-thumbnail-title truncate pt-2">\n                                <p class="text-sm md:text-base">\n                                    <a class="text-sm md:text-base text-white  block hover:underline truncate" target="_blank"\n                                       href="'+this.getClipLink(t)+'"> '+t.title+' </a>\n                                    <span class="text-sm md:text-base text-DeepGold font-medium block truncate" >\n                                           '+t.category+'\n                                    </span>\n                                </p>\n                            </div>\n                \n                            <div class="flex-grow-0">\n                                <p class="flex items-center justify-items-end ">\n                                    <button data-producer="'+t.producer+'" data-cid="'+t.cid+'"\n                                            class=" addToCart  [ flex items-center justify-center border-2 rounded-md border-cartIcon  h-9 w-9 hover:shadow-blackFriday hover:bg-DeepPurple focus:outline-none ] ">\n                                        '+i.default("h-20px w-20px text-fern")+'\n                                    </button>\n                                    <div class="wishListDelete"  data-producer="'+t.producer+'" data-cid="'+t.cid+'" >\n                                        '+o.removeXSvg("text-cartSecondary cursor-pointer ")+"\n                                    </div>\n                                </p>\n                            </div>\n                        </figcaption>\n                    </figure>\n                </div>"},t}();e.default=a},94991:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(76629);e.default=function(t,e,n,i){return void 0===e&&(e=""),void 0===n&&(n=!1),void 0===i&&(i=""),"<div "+(t?'id="'+t+'"':"")+' class="cart-checkbox [ bg-transparent border rounded border-white w-6 h-6 flex flex-shrink-0 justify-center items-center focus-within:border-blue-500  ] ">\n                 <input '+(n?"checked":"")+" "+i+' type="checkbox" class=" '+e+' [ opacity-0 absolute cursor-pointer ]">\n                 '+r.checkmark("text-white hidden")+"\n            </div>"}},8465:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.removeClipInSaveForLater=e.CheckForSavedClips=e.saveForLaterButtonsLogic=void 0;var a=o(n(17636)),s=o(n(32837)),c=n(4979),u=o(n(82287)),l=o(n(17640)),d=n(21027),f=s.default(),h=604800,p='<span> <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.30526 0C3.90897 0 2.57204 0.407137 1.57677 1.3355C0.570481 2.27414 0 3.66501 0 5.44961C0 6.62078 0.46341 7.78328 1.10921 8.84633C1.75958 9.91692 2.63197 10.9472 3.53624 11.869C5.34511 13.7131 7.35479 15.1969 8.18917 15.786C8.68281 16.1346 9.32856 16.1281 9.8154 15.7733C10.6455 15.1683 12.6535 13.6434 14.4614 11.7857C15.3649 10.8572 16.2368 9.82701 16.887 8.77038C17.5309 7.72396 18 6.58325 18 5.44965C18 2.4489 15.6329 0 12.6943 0C11.2536 0 9.95222 0.592635 8.99983 1.54502C8.04753 0.592624 6.74624 0 5.30526 0ZM2.57028 2.43592C3.22942 1.8211 4.17783 1.49354 5.30526 1.49354C6.57504 1.49354 7.7017 2.13313 8.40338 3.12461C8.54077 3.31875 8.76226 3.43528 8.99977 3.43529C9.23728 3.4353 9.45878 3.31878 9.59618 3.12465C10.298 2.13313 11.4249 1.49354 12.6943 1.49354C14.8045 1.49354 16.5306 3.25661 16.5306 5.44965C16.5306 6.18146 16.2192 7.0392 15.6412 7.97835C15.0696 8.9073 14.2784 9.84987 13.4167 10.7353C11.7177 12.4812 9.81594 13.9333 8.99284 14.5349C8.16766 13.9504 6.27057 12.5412 4.57681 10.8145C3.71766 9.93863 2.92914 8.99938 2.35945 8.06161C1.7852 7.11632 1.46939 6.23161 1.46939 5.44961C1.46939 4.0011 1.92215 3.04048 2.57028 2.43592Z" fill="white"/></svg> </span>',v='<svg width="22" height="17" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.73856 15.5984C8.76315 16.5738 7.18046 16.5738 6.20553 15.5984L0.731557 10.1243C-0.243852 9.14936 -0.243852 7.56664 0.731557 6.59168C1.7065 5.61624 3.28918 5.61624 4.26459 6.59168L7.526 9.85268C7.77221 10.0984 8.17188 10.0984 8.41856 9.85268L17.2495 1.02155C18.2244 0.0461203 19.8071 0.0461203 20.7825 1.02155C21.2509 1.48997 21.5141 2.1255 21.5141 2.78787C21.5141 3.45024 21.2509 4.08578 20.7825 4.55419L9.73856 15.5984Z" fill="white"/></svg>',m=new u.default("Save For Later",d.MAX_CLIPS_IN_SAVE_FOR_LATER);e.saveForLaterButtonsLogic=function(t){document.querySelectorAll(".clip--save-for-later").forEach((function(e){var n=e.getAttribute("data-clipid"),r=e.getAttribute("data-producer"),i=e.querySelector(".clip--save-for-later-text");e.addEventListener("click",(function(o){e.classList.contains("clip--save-for-later-remove")?y(n).then((function(){e.classList.remove("clip--save-for-later-remove"),i.innerHTML=p+'<span class="button--save-for-later-text"> Save for Later</span>'})):g(r,n).then((function(o){o&&t.removeFromCart(r,n).then((function(){e.classList.add("clip--save-for-later-remove"),i.innerHTML=v+'<span class="button--save-for-later-text"> Saved for Later</span>'}))})),o.stopPropagation()}))}))};var g=function(t,e){var n=a.default.getItem("SavedClips"),r=void 0;l.default("Add To WishList on Studio's Modal Window","Save for later click",{clipID:e,producerID:t}),void 0!==n&&null!=n&&(r=n.split(";"));var i=[],o=[],s="";if(void 0!==r&&r.forEach((function(e){var n=e.split(":");void 0!==n[1]&&n[1].split(",").forEach((function(t){o.push(t)})),n[0]==t?i=n[1].split(","):e.length>1&&(s+=e+";")})),o.length>=d.MAX_CLIPS_IN_SAVE_FOR_LATER)return m.appendBoxToDocument(),new Promise((function(t){t(!1)}));-1==i.indexOf(e.toString())&&(i.push(e.toString()),o.push(parseInt(e)));var c=s+t+":"+i.toString()+";";return a.default.setItem("SavedClips",c,h,"/",f),new Promise((function(t){t(!0)}))},y=function(t){var e="SavedClips",n=a.default.getItem(e),r=document.querySelector(".saveForLater"+t),i=r.querySelector(".clip--save-for-later-text");r.classList.remove("clip--save-for-later-remove"),i.innerHTML=p+'<span class="button--save-for-later-text"> Save for Later</span>';var o=w(n,t),s=(o[0],o[1]);return a.default.setItem(e,s,h,"/",f),new Promise((function(t){t(!0)}))};e.removeClipInSaveForLater=y;var w=function(t,e){var n=[],r="",i=void 0;return void 0!==t&&null!=t&&(i=t.split(";")),void 0!==i&&i.forEach((function(t){var i=t.split(":");if(void 0!==i[1]){var o=[];i[1].split(",").forEach((function(t){isNaN(t)||(t=parseInt(t)),t!==parseInt(e)&&(n.push(t),o.push(t))})),o.toString().length>1&&(r+=i[0]+":"+o.toString()+";")}})),[n,r]},b=function(t){function e(){var e=t.call(this,"checkForSavedClips")||this;return e.clips=[],e.processChange=e.triggerChange,e}return i(e,t),e.prototype.triggerChange=function(t){document.querySelectorAll(".clip--save-for-later").forEach((function(t){var e=t.querySelector(".clip--save-for-later-text");t.classList.remove("clip--save-for-later-remove"),e.innerHTML=p+'<span class="button--save-for-later-text"> Save for Later</span>'})),t.clips.length&&t.clips.forEach((function(t){var e=document.querySelector(".saveForLater"+t);if(e){var n=e.querySelector(".clip--save-for-later-text");e.classList.add("clip--save-for-later-remove"),n.innerHTML=v+'<span class="button--save-for-later-text"> Saved for Later </span>'}}))},e}(c.Observer);e.CheckForSavedClips=b},95150:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopList=e.CollapsibleTopList=void 0,e.CollapsibleTopList=function(){var t=new n(document.querySelector(".top-studio-list-section"),document.getElementById("toggleTopStudiosList"),40),e=document.querySelector(".top-clips-list-section .slideshow-container"),r=e?e.getBoundingClientRect().height:0,i=new n(document.querySelector(".top-clips-list-section"),document.getElementById("toggleTopClipsList"),40+r);t.setHeightToMobile(),window.innerWidth>=640?(t.setHeightToDesktop(),i.expandClipsList()):(t.collapse(),i.collapseClipsList());var o,a,s,c;o=a=window.innerWidth,window.addEventListener("resize",(s=function(){o=a,(a=window.innerWidth)!==o&&(a>=640?(t.setHeightToDesktop(),t.expand(),i.expandClipsList()):(t.setHeightToMobile(),t.collapse(),i.collapseClipsList()))},function(){c&&clearTimeout(c),c=setTimeout(s,50)}))};var n=function(){function t(t,e,n){var r=this;void 0===n&&(n=0),this.list=t,this.collapseButton=e,this.listTopGap=n,this.seeMoreButtonValue='<span class="uppercase mr-3"> Show more </span> <span> <svg width="13" height="7" viewBox="0 0 13 7" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7966 0.205025C13.0678 0.478392 13.0678 0.921608 12.7966 1.19497L7.24105 6.79497C7.11081 6.92625 6.93418 7 6.75 7C6.56582 7 6.38919 6.92625 6.25895 6.79497L0.703399 1.19497C0.432201 0.921607 0.432201 0.478392 0.703399 0.205025C0.974596 -0.0683423 1.41429 -0.0683422 1.68549 0.205025L6.75 5.31005L11.8145 0.205025C12.0857 -0.0683418 12.5254 -0.0683418 12.7966 0.205025Z" fill="#A59EB0"/> </svg> </span>',this.seeLessButtonValue='<span class="uppercase mr-3"> Show less </span>  <span> <svg width="13" height="7" viewBox="0 0 13 7" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M0.203398 6.79497C-0.0677994 6.52161 -0.0677993 6.07839 0.203398 5.80503L5.75895 0.205025C5.88919 0.0737501 6.06582 7.23342e-08 6.25 7.45305e-08C6.43418 7.67268e-08 6.61081 0.0737501 6.74105 0.205025L12.2966 5.80503C12.5678 6.07839 12.5678 6.52161 12.2966 6.79497C12.0254 7.06834 11.5857 7.06834 11.3145 6.79497L6.25 1.68995L1.18549 6.79497C0.914293 7.06834 0.474596 7.06834 0.203398 6.79497Z" fill="#A59EB0"/> </svg> </span>',this.mobileMaxItems=5,this.desktopMaxItems=20,this.titleSelector=".title-reference",this.expandClipsList=function(){r.list.querySelectorAll(".top-list-component li").forEach((function(t,e){e>=r.mobileMaxItems&&t.classList.remove("hidden")})),r.collapseButton&&(r.collapseButton.dataset.istoggled="true",r.collapseButton.innerHTML=r.seeLessButtonValue)},this.collapseClipsList=function(){r.list.querySelectorAll(".top-list-component li").forEach((function(t,e){e>=r.mobileMaxItems&&t.classList.add("hidden")})),r.collapseButton&&(r.collapseButton.dataset.istoggled="false",r.collapseButton.innerHTML=r.seeMoreButtonValue)},this.setReferenceHeights(),this.setCollapseListener(),this.list&&(this.title=this.list.querySelector(this.titleSelector))}return t.prototype.setHeightToMobile=function(){this.listHeight=this.itemHeight*this.mobileMaxItems+this.listTopGap+this.listMargins},t.prototype.setHeightToDesktop=function(){this.listHeight=this.itemHeight*this.desktopMaxItems+this.listTopGap+this.listMargins},t.prototype.setReferenceHeights=function(){this.itemHeight=this.calcListItemHeight(),this.listMargins=this.calcListMargins()},t.prototype.calcListItemHeight=function(){if(!this.list)return 0;var t=this.list.querySelector("li");return t?t.getBoundingClientRect().height:0},t.prototype.calcListMargins=function(){if(!this.list)return 0;var t=this.list.querySelector(".top-list-component");if(!t)return 0;var e=window.getComputedStyle(t);return parseInt(e.marginTop)+parseInt(e.marginBottom)},t.prototype.expand=function(){this.list.style.maxHeight="100%",this.list.style.overflow="inherit",this.collapseButton&&(this.collapseButton.dataset.istoggled="true",this.collapseButton.innerHTML=this.seeLessButtonValue)},t.prototype.collapse=function(){this.list.style.maxHeight=this.listHeight+"px",this.list.style.overflow="hidden",this.collapseButton&&(this.collapseButton.dataset.istoggled="false",this.collapseButton.innerHTML=this.seeMoreButtonValue)},t.prototype.scrollToTitle=function(){this.title.scrollIntoView({behavior:"smooth"})},t.prototype.setCollapseListener=function(){var t=this;if(!this.collapseButton)return!1;this.collapseButton.addEventListener("click",(function(e){e.stopPropagation(),"false"==t.collapseButton.dataset.istoggled?"toggleTopClipsList"===t.collapseButton.id?t.expandClipsList():t.expand():("toggleTopClipsList"===t.collapseButton.id?t.collapseClipsList():t.collapse(),t.scrollToTitle())}),!1)},t}();e.TopList=n},80659:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){var e=this;void 0===t&&(t={startDate:null,endDate:null,element:"",DHMSFormat:!0,darkMode:!1,headings:!1}),this.config=t,this.date=(new Date).getTime()/1e3,this.runSchedule=function(t,n,r){t.forEach((function(t){var i=t[0],o=t[1],a=Date.parse(i),s=Date.parse(o),c=Date.parse(new Date);s>c&&c>=a&&e.initializeClock(n,r)}))},this.initializeClock=function(t,n){var r=document.querySelectorAll(t),i=function(){var t=e.getTimeRemaining(n),i="";r.forEach((function(n,r){1==e.DHMSFormat&&(i='<div class="flex flex-col">\n                    <span class="days count-down-heading text-xs '+e.showHeading+'"> Days </span>\n                    <div class="unit-text days">'+t.days+" : </div>\n                </div>"),n.innerHTML=' <div class="[ w-full flex justify-center items-center ] style-mode ">'+i+'<div class="flex flex-col">\n                                <span class="hours count-down-heading text-xs '+e.showHeading+'"> Hrs </span>\n                                <div class="unit-text hours">'+("0"+t.hours).slice(-2)+':</div>\n                            </div>                    \n                            <div class="flex flex-col">\n                                <span class="minutes count-down-heading text-xs '+e.showHeading+'"> Mins </span>\n                                <div class="unit-text minutes">'+("0"+t.minutes).slice(-2)+':</div>\n                            </div>                        \n                            <div class="flex flex-col">\n                                <span class="seconds count-down-heading text-xs '+e.showHeading+'"> Secs </span>\n                                <div class="unit-text seconds">'+("0"+t.seconds).slice(-2)+"</div>\n                            </div>                    \n                        </div>",t.total<=0&&clearInterval(o)}))};i();var o=setInterval(i,1e3)},this.getTimeRemaining=function(t){var n=Date.parse(t)-Date.parse(new Date),r=Math.floor(n/1e3%60),i=Math.floor(n/1e3/60%60),o=Math.floor(n/864e5),a=Math.floor(n/36e5%24);return{total:n,days:o,hours:e.DHMSFormat?a:a+24*o,minutes:i,seconds:r}},this.showHeading=t.headings?"block":"hidden",this.startDate=new Date(1e3*t.startDate),this.deadline=new Date(1e3*t.endDate),this.DHMSFormat=t.DHMSFormat,this.darkMode=t.darkMode;var n=[[this.startDate,this.deadline]];this.runSchedule(n,t.element,this.deadline)};e.default=n},63718:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FastSigUp=void 0;var i=r(n(54741)),o=r(n(81802));e.FastSigUp=function(){window.show_instant_modal&&(new i.default(null).init(),o.default({selector:".instant-login__modal",modalSelector:".instant-login__window"})[0]())}},7382:function(t,e){"use strict";var n=function(){function t(){var t=this;window.specialPromos&&window.specialPromos.time_left?this.timeToFinish=1e3*window.specialPromos.time_left:this.timeToFinish=1e3,this.setTime(!1);var e=setInterval((function(){t.timeToFinish-=1e3,t.timeToFinish<=0&&(clearInterval(e),t.timeToFinish=0),t.setTime(!0)}),1350)}return t.prototype.flipTo=function(t,e){var n=t.dataset.num;t.dataset.num=e,t.querySelector(".front").dataset.content=n,t.querySelector(".back, .under").dataset.content=e,t.querySelector(".flap").style.display="block",setTimeout((function(){t.querySelector(".base").textContent=e,t.querySelector(".flap").style.display="none"}),350)},t.prototype.jumpTo=function(t,e){t.dataset.num=e,t.querySelector(".base").textContent=e},t.prototype.updateGroup=function(t,e,n){var r=this,i=document.querySelectorAll("."+t);1==(e=String(e)).length&&(e="0"+e),i.forEach((function(t){t.dataset.num!=e&&(n?r.flipTo(t,e):r.jumpTo(t,e))}))},t.prototype.setTime=function(t){var e=this.timeToFinish,n=Math.floor(e/36e5);e%=36e5;var r=Math.floor(e/6e4);e%=6e4;var i=Math.floor(e/1e3);this.updateGroup("hour",n,t),this.updateGroup("min",r,t),this.updateGroup("sec",i,t)},t}();e.default=n},46013:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FollowStudios=void 0;var s=a(n(54741)),c=function(){function t(){var t=this;this.userLoggedIn=!1,this.fastLogin=null,this.followStudio=function(e,n,o){return void 0===o&&(o=null),new Promise((function(a,s){if(t.userLoggedIn){var c=JSON.stringify({studio_id:e,subscribe:n,origin:o});fetch("/account/follow",{method:"POST",body:c,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":t.token},credentials:"same-origin"}).then((function(n){return r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,n.json()];case 1:return t.sent().success?(this.addToFollowed(e),a(!0)):s(!1),[2]}}))}))})).catch((function(){return s(!1)}))}else t.fastLogin.toggleSignup(),t.fastLogin.openModal(),t.fastLogin.onSuccessLogin=t.fastLogin.quickSignup.redirectAfterLogin=function(){t.userLoggedIn=!0,t.followStudio(e,n,o).finally((function(){a(!0),setTimeout((function(){window.location.reload()}),1e3)}))}}))},this.unfollow=function(e){return new Promise((function(n,o){fetch("/account/unfollow/"+e,{method:"POST",body:"{}",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":t.token},credentials:"same-origin"}).then((function(a){return r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,a.json()];case 1:return t.sent().success?(n(!0),this.removeFromFollowed(e)):o(!1),[2]}}))}))})).catch((function(){return o(!1)}))}))},this.isFollowing=function(e){return new Promise((function(n,o){t.userLoggedIn||n(!1),t.followedStudios.filter((function(t){return t==e})).length?n(!0):fetch("/account/follows/"+e,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":t.token},credentials:"same-origin"}).then((function(o){return r(t,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,o.json()];case 1:return(t=r.sent()).success&&t.is_following?(n(!0),this.addToFollowed(e)):n(!1),[2]}}))}))})).catch((function(){return o(!1)}))}))},this.followedStudios=[],this.token=document.head.querySelector("[name~=csrf-token][content]").content,this.userLoggedIn=1==window.user_logged_in,this.fastLogin=new s.default(document.querySelectorAll(".toggle-signup-modal"),"quick-signUp-modal","Sign up or Login to Follow Studios"),this.fastLogin.init()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getNotificationBarContent=function(){var t=this;return new Promise((function(e,n){fetch("/account/barsuggestions",{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":t.token},credentials:"same-origin"}).then((function(n){return r(t,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,n.json()];case 1:return t=r.sent(),e(t),[2]}}))}))})).catch((function(){return n(!1)}))}))},t.prototype.addToFollowed=function(){}