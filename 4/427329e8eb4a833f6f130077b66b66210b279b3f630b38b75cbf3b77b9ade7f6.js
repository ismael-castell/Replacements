"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([["main"],{90898:(ne,b,t)=>{t.d(b,{q:()=>Z});var e=t(36362),i=t(54166),u=t(84128),c=t(43188),C=t(87317),_=t(11961),p=t(61534),E=t(81196),a=t(1130),l=t(95758),r=t(19975),o=t(16531),d=t(44770),n=t(43365),g=t(26131),f=t(82796),m=t(60833),v=t(74742),y=t(68390),S=t(91434),A=t(7216),x=t(6623),R=t(32528),s=t(67939),h=t(12379),H=t(19946),K=t(40089),P=t(21780),z=t(39910),ee=t(3184);let Z=(()=>{class G{}return G.\u0275fac=function(le){return new(le||G)},G.\u0275mod=ee.oAB({type:G}),G.\u0275inj=ee.cJS({providers:[{provide:a.rD,useClass:a.hu}],imports:[[e.ez,u.rt],c.Bb,C.ot,_.QW,E.Hi,p.p9,l.Is,r.t,d.lN,n.c,g.ie,f.Tx,m.Cv,v.Cq,y.Fk,S.LD,x.rP,A.SJ,R.ZX,h.Nh,s.p0,H.g0,K.AV,i.U8,o.To,P.U5,z.xu,u.rt]}),G})()},47749:(ne,b,t)=>{t.d(b,{C:()=>u});var e=t(97010),i=t(3184);let u=(()=>{class c{constructor(_){this.imageService=_}transform(_){return this.imageService.getOriginalPublicImageUrl(_)}}return c.\u0275fac=function(_){return new(_||c)(i.Y36(e.AJ,16))},c.\u0275pipe=i.Yjl({name:"imageAsset",type:c,pure:!0}),c})()},81326:(ne,b,t)=>{t.d(b,{i:()=>c});var e=t(92938),u=t(3184);let c=(()=>{class C{transform(p){return(0,e.isNumber)(p)?"undefined"!=typeof Intl&&Intl.NumberFormat?(new Intl.NumberFormat).format(p):(0,e.toString)(p):""}}return C.\u0275fac=function(p){return new(p||C)},C.\u0275pipe=u.Yjl({name:"localeNumber",type:C,pure:!0}),C})()},61756:(ne,b,t)=>{t.d(b,{t:()=>i});var e=t(3184);let i=(()=>{class u{constructor(C){this.appLocale=C}transform(C,_="conjunction",p){return"function"!=typeof Intl.ListFormat?this.fallback(C,"disjunction"!==_):new Intl.ListFormat(p||this.appLocale,{type:_}).format(C)}fallback(C,_=!0){const p=_?$localize`and`:$localize`or`;return C.length?1===C.length?C[0]:2===C.length?`${C[0]} ${p} ${C[1]}`:`${C.slice(0,-1).join($localize`:list separator|Separates items in a list:,`+" ")}${$localize`:list separator|Separates items in a list:,`} ${p} ${C[C.length-1]}`:""}}return u.\u0275fac=function(C){return new(C||u)(e.Y36(e.soG,16))},u.\u0275pipe=e.Yjl({name:"localizedList",type:u,pure:!0}),u})()},35503:(ne,b,t)=>{t.d(b,{Dt:()=>p,i7:()=>e.i});var e=t(81326),i=t(61756),u=t(3184);t(74929),t(47749),t(25436);let p=(()=>{class E{}return E.\u0275fac=function(l){return new(l||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({providers:[e.i,i.t]}),E})()},87028:(ne,b,t)=>{t.d(b,{v:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},25436:(ne,b,t)=>{t.d(b,{y:()=>c});var e=t(24744),i=t(3184),u=t(50318);let c=(()=>{class C{constructor(p){this.sanitizer=p}transform(p,E){switch(E){case"html":return this.sanitizer.bypassSecurityTrustHtml(p);case"style":return this.sanitizer.bypassSecurityTrustStyle(p);case"script":return this.sanitizer.bypassSecurityTrustScript(p);case"url":return this.sanitizer.bypassSecurityTrustUrl(p);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(p);default:throw new e.S(E)}}}return C.\u0275fac=function(p){return new(p||C)(i.Y36(u.H7,16))},C.\u0275pipe=i.Yjl({name:"safe",type:C,pure:!0}),C})()},76487:(ne,b,t)=>{t.d(b,{h:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},1076:(ne,b,t)=>{t.d(b,{r:()=>r});var e=t(94882),i=t(93443),u=t(25848),c=t(71263),C=t(23580);function p(o){const d=((new Date).getTime()-new Date(o).getTime())/2628e6;return d<=1?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.ONE_MONTH":d<=3?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.THREE_MONTHS":d<=6?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.SIX_MONTHS":void 0}function E(o){const d=null==o?void 0:o.value_usd;if(!(isNaN(d)||d<0))return d<1e6?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.BETWEEN_0_AND_1M":d<1e7?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.BETWEEN_1M_AND_10M":d<1e8?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.BETWEEN_10M_AND_100M":"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.MORE_THAN_100M"}var a=t(3184),l=i.P1.ReasonEnum;let r=(()=>{class o{constructor(n,g,f){this.labelService=n,this.formatterService=g,this.syntheticMetadataService=f,this.reasonToLabelInfo={[l.acquired]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.ACQUIRED"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.ACQUIRED"}},[l.acquisition]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.ACQUISITION"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.ACQUISITION"}},[l.category]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CATEGORY"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.CATEGORY"}},[l.funding_stage]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.FUNDING_STAGE",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.FUNDING_STAGE",dataKey:"last_funding_type"}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.FUNDING_STAGE"}},[l.last_funding_at]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.LAST_FUNDING_AT",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.LAST_FUNDING_AT",dataKey:"last_funding_at",getDataLabelKey:p}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.LAST_FUNDING_AT"}},[l.last_funding_total]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.LAST_FUNDING_TOTAL",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.LAST_FUNDING_TOTAL",dataKey:"last_funding_total",getDataLabelKey:E}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.LAST_FUNDING_TOTAL"}},[l.leadership_hire]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.LEADERSHIP_HIRE"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.LEADERSHIP_HIRE"}},[l.location_hq]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.LOCATION_HQ",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.LOCATION_HQ",dataKey:"location_identifiers"}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.LOCATION_HQ"}},[l.num_employees]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.NUM_EMPLOYEES",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.NUM_EMPLOYEES",dataKey:"num_employees_enum"}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.NUM_EMPLOYEES"}},[l.page_views]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.PAGE_VIEWS"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.PAGE_VIEWS"}},[l.revenue_range]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.REVENUE_RANGE",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.REVENUE_RANGE",dataKey:"revenue_range"}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.REVENUE_RANGE"}},[l.static_lists]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.STATIC_LISTS"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.STATIC_LISTS"}},[l.trending_companies]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.TRENDING_COMPANIES"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.TRENDING_COMPANIES"}},[l.went_public_on]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.WENT_PUBLIC_ON",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.WENT_PUBLIC_ON",dataKey:"went_public_on",getDataLabelKey:p}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.WENT_PUBLIC_ON"}},[l.recent_acquisition]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.RECENT_ACQUISITION"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.RECENT_ACQUISITION"}},[l.recent_funding_at]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.RECENT_FUNDING_AT"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.RECENT_FUNDING_AT"}},[l.recent_leadership_hire]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.RECENT_LEADERSHIP_HIRE"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.RECENT_LEADERSHIP_HIRE"}},[l.recent_went_public_on]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.RECENT_WENT_PUBLIC_ON"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.RECENT_WENT_PUBLIC_ON"}},[l.preference_contact]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.PREFERENCE_CONTACT"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.PREFERENCE_CONTACT"}},[l.preference_territory]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.PREFERENCE_TERRITORY"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.PREFERENCE_TERRITORY"}}},this.formatterCollectionID=this.syntheticMetadataService.getAccountRecommendations().companyData.searchCollectionId}transform(n,g="short",f){const m=this.reasonToLabelInfo[n][g];if(m.customized&&f&&(0,C.K)(f[m.customized.dataKey])){const v=m.customized.dataKey,y=this.formatData(v,f[v],m.customized.getDataLabelKey);if(void 0!==y)return this.labelService.getInterpolatedLabel(m.customized.labelKey,{reason_data:y})}return this.labelService.getLabel(m.labelKey)}formatData(n,g,f){let m;if(f){const v=f(g);v&&(m=this.labelService.getLabel(v),m=m!==v?m:void 0)}else m=this.formatterService.formatFieldByFieldId(this.formatterCollectionID,n,g,c.Qy.default),m=m!==n?m:void 0;return m}}return o.\u0275fac=function(n){return new(n||o)(a.Y36(e.Q,16),a.Y36(c.eM,16),a.Y36(u.Y,16))},o.\u0275pipe=a.Yjl({name:"translateReason",type:o,pure:!0}),o})()},74929:(ne,b,t)=>{t.d(b,{X:()=>u});var e=t(94882),i=t(3184);let u=(()=>{class c{constructor(_){this.labelService=_}transform(_,p){return p?this.labelService.getInterpolatedLabel(_,p):this.labelService.getLabel(_)}}return c.\u0275fac=function(_){return new(_||c)(i.Y36(e.Q,16))},c.\u0275pipe=i.Yjl({name:"translate",type:c,pure:!0}),c})()},16800:(ne,b,t)=>{t.d(b,{N:()=>oo,J:()=>zo});var e=t(36362),i=t(90587),u=t(45857),c=t(90898),C=t(35503),_=t(68881),p=t(51151),E=t(54596),a=t(79215),l=t(89248),r=t(89250),o=t(25975),d=t(32519),n=t(31156),g=t(40337),f=t(4079),m=t(51044),v=t(74463),y=t(48212),S=t(32313),A=t(33268),x=t(83e3),R=t(5076),s=t(40089),h=t(3184),H=t(92218),K=t(19193),P=t(88623),z=t(85921),ee=t(86942),Z=t(59151),G=t(80823),J=t(83910),le=t(70397),V=t(25670),j=t(14021),M=t(7323),ie=t(98789),te=t(68338),re=t(24744),q=t(43630),U=t(66426),k=t(6229),w=t(49837),Q=t(35585);let $=(()=>{class Y{constructor(B,Te,Ve){this.platformService=B,this.store=Te,this.sentry=Ve}trackUserInSentryScope(){let B=this.store.select(q.Kc).pipe((0,Z.h)(Te=>Te),(0,U.c)(this.store.select(q.dy)),(0,ee.U)(Te=>Te?{id:Te.id,email:Te.email}:null));this.platformService.isServer()&&(B=B.pipe((0,J.q)(1))),B.subscribe(Te=>{this.sentry.configureScope(Ve=>Ve.setUser(Te))})}}return Y.\u0275fac=function(B){return new(B||Y)(h.LFG(w.m),h.LFG(Q.yh),h.LFG(k.N))},Y.\u0275prov=h.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();var X=t(91127);let Ce=(()=>{class Y{constructor(B,Te,Ve,At,en,tn,ri,hi,wi){this.router=B,this.platformService=Te,this.billingService=Ve,this.sessionMonitorService=At,this.analyticsService=en,this.externalScriptService=tn,this.requestWarmer=ri,this.usageEventsService=hi,this.sentryUserInfoService=wi}initializeApp(){this.sentryUserInfoService.trackUserInSentryScope(),this.platformService.isServer()||this.initializeBrowserApp()}initializeBrowserApp(){this.requestWarmer.startWarming(),this.router.events.pipe((0,Z.h)((0,re.V)(u.jw)),(0,V.P)()).subscribe(B=>this.checkQueryParams(B.snapshot.queryParams)),this.router.events.pipe((0,Z.h)((0,re.V)(u.m2))).subscribe(B=>this.handleNavigationEvent(B))}checkQueryParams(B){this.billingService.storeCoupon(B.promo_code),this.sessionMonitorService.startMonitoring(),setTimeout(()=>{this.analyticsService.saveUTMParameters(B),this.externalScriptService.injectHeap().then(Te=>{var Ve;B.send_email&&B.send_email.indexOf("@")&&(null===(Ve=Te.identify)||void 0===Ve||Ve.call(Te,B.send_email))},()=>{})},0)}handleNavigationEvent(B){const{url:Te}=B,Ve=Te.toLowerCase().match(/^\/buy\/([a-z0-9-]+)\/?/);this.usageEventsService.logUsageEvent("navigation",{view_buy_products:null==Ve?void 0:Ve[1]})}}return Y.\u0275fac=function(B){return new(B||Y)(h.LFG(u.F0),h.LFG(w.m),h.LFG(j.jM),h.LFG(M.WO),h.LFG(ie.y),h.LFG(X.V),h.LFG(te.q),h.LFG(ie.N),h.LFG($))},Y.\u0275prov=h.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();var ye=t(17992),ue=t(843),Me=t(85853),me=t(17906),ve=t(92938),ze=t(64139),tt=t(47418),ht=t(59095),xe=t(88919),Ne=t(25722),be=t(93443),se=t(50767),Oe=t(46802),Re=t(94882),ot=t(13074),Ge=t(35560),pt=t(97010),We=t(25848),Ze=t(81942),De=t(6455),we=t(19639),Ue=t(9038),qe=t(23580),dt=(()=>{return(Y=dt||(dt={})).ok="ok",Y.loading="loading",Y.error="error",dt;var Y})(),st=(()=>{return(Y=st||(st={})).organizations="organizations",Y.people="people",Y.events="events",Y.hubs="hubs",Y.myLists="myLists",Y.featuredLists="featuredLists",Y.recents="recents",Y.myFollows="myFollows",Y.trending="trending",st;var Y})();const Tt={organizations:"icon_company",people:"icon_people_two",events:"icon_event",hubs:"icon_compass",myLists:"icon_list_borderless",featuredLists:"icon_star_outline",recents:"icon_clock",myFollows:"icon_add_circle",trending:"icon_trending_arrow"};let St=(()=>{class Y{constructor(B,Te,Ve,At,en,tn,ri,hi,wi,Go,Zo,Wo,$o){this.searchApi=B,this.listApi=Te,this.autocompleteService=Ve,this.userService=At,this.recentlyViewedService=en,this.labelService=tn,this.listService=ri,this.urlService=hi,this.homepageService=wi,this.imageService=Go,this.markupService=Zo,this.syntheticMdService=Wo,this.rxjsUtil=$o,this.searchInputs=new H.xQ,this.searchResults=new H.xQ,this.setupCachedRequests(),this.handleInputs()}query(B){return B?this.searchInputs.next(B):this.searchResults.next([]),this.searchResults.asObservable()}results(){return this.searchResults.asObservable()}findInRecents(B){return(0,ze.of)(this.recentlyViewedService.getRecents()).pipe((0,ee.U)(Te=>{let Ve=(Te||[]).filter(At=>At.type&&this.recentlyViewedService.isEntityType(At)).filter(At=>At.name&&At.name.toLowerCase().includes(B.toLowerCase())).map(At=>({value:At.name,imageSrc:this.getImageSrc(At.imageId),route:{path:At.routerLink},description:this.getRecentItemDescription(At)}));return{type:st.recents,iconKey:Tt[st.recents],status:dt.ok,data:Ve}}))}findInTrending(B){return this.cachedTrending.pipe((0,ee.U)(Te=>{let Ve=[];if(Te.trending){const At=Te.trending.map(en=>en.entity).filter(qe.K);Ve=this.matchEntities(B,At)}return{type:st.trending,iconKey:Tt[st.trending],status:dt.ok,data:Ve}}),(0,tt.K)(()=>(0,ze.of)({type:st.trending,iconKey:Tt[st.trending],status:dt.error})))}handleInputs(){this.searchInputs.pipe((0,G.b)(50),(0,ht.w)(B=>(0,K.aj)(this.querySources(B))),(0,G.b)(50)).subscribe(this.searchResults)}querySources(B){let Te=[{type:st.organizations,iconKey:Tt[st.organizations],obs:this.findInCollection(st.organizations,"organizations",B)},{type:st.people,iconKey:Tt[st.people],obs:this.findInCollection(st.people,"people",B)},{type:st.hubs,iconKey:Tt[st.hubs],obs:this.findInCollection(st.hubs,"hubs",B)},{type:st.events,iconKey:Tt[st.events],obs:this.findInCollection(st.events,"events",B)},{type:st.featuredLists,iconKey:Tt[st.featuredLists],obs:this.findInFeaturedLists(B)}];return this.userService.isLoggedIn()&&Te.push({type:st.myFollows,iconKey:Tt[st.myFollows],obs:this.findInMyFollows(B)},{type:st.myLists,iconKey:Tt[st.myLists],obs:this.findInMyLists(B)},{type:st.recents,iconKey:Tt[st.recents],obs:this.findInRecents(B)}),Te.map(Ve=>Ve.obs.pipe((0,xe.X)(2),(0,tt.K)(()=>(0,ze.of)({type:Ve.type,iconKey:Ve.iconKey,status:dt.error})),(0,Ne.O)({type:Ve.type,iconKey:Ve.iconKey,status:dt.loading})))}findInMyFollows(B){return this.cachedFollows.pipe((0,ee.U)(Te=>({type:st.myFollows,iconKey:Tt[st.myFollows],status:dt.ok,data:this.matchEntities(B,Te.entities)})))}findInMyLists(B){return this.cachedLists.pipe((0,ee.U)(Te=>({type:st.myLists,iconKey:Tt[st.myLists],status:dt.ok,data:this.matchLists(B,Te)})))}findInFeaturedLists(B){return this.cachedFeatured.pipe((0,ee.U)(Te=>({type:st.featuredLists,iconKey:Tt[st.featuredLists],status:dt.ok,data:this.matchLists(B,Te)})))}findInCollection(B,Te,Ve){return this.autocompleteService.query$({inputValue:Ve,collectionIds:[Te],limit:se.y.QUERY_LIMIT,source:"topSearch"}).pipe((0,ee.U)(At=>{let en=(At.entities||[]).map(tn=>({value:tn.identifier.value,imageSrc:this.getImageSrc(tn.identifier.image_id,tn.identifier.entity_def_id),route:this.urlService.getIdentifierRoute(tn.identifier),description:tn.short_description&&this.markupService.removeMarkdownLinks(tn.short_description)}));return{type:B,iconKey:Tt[B],status:dt.ok,data:en}}))}matchLists(B,Te){return(Te||[]).filter(Ve=>Ve.name.toLowerCase().includes(B.toLowerCase())).map(Ve=>({value:Ve.name,iconKey:Ve.list_type===be.BW.ListTypeEnum.smart?"icon_search":"icon_list_borderless",route:this.listService.getListRoute(Ve.name,Ve.id),description:this.getProfileCountLabel(this.listService.getListEntityCount(Ve))}))}matchEntities(B,Te){return(Te||[]).map(Ve=>Ve.properties).map(Ve=>Ve.identifier?{identifier:Ve.identifier,short_description:Ve.short_description}:void 0).filter(qe.K).filter(Ve=>(Ve.identifier.value+" "+Ve.short_description).toLowerCase().includes(B.toLowerCase())).map(Ve=>({value:Ve.identifier.value,imageSrc:this.getImageSrc(Ve.identifier.image_id,Ve.identifier.entity_def_id),route:this.urlService.getIdentifierRoute(Ve.identifier),description:Ve.short_description}))}setupCachedRequests(){this.cachedFollows=this.rxjsUtil.cacheRequest(()=>this.searchApi.dataListsCollectionIdListIdPost$({collectionId:"identifiers",listId:Ue.o,source:void 0,query:{field_ids:["identifier","short_description"],query:[],limit:1e3}}).toPromise(),Y.MULTI_SEARCH_CACHE_TIME),this.cachedLists=this.rxjsUtil.cacheRequest(()=>this.listApi.mdListsGet$().toPromise(),Y.MULTI_SEARCH_CACHE_TIME),this.cachedFeatured=this.rxjsUtil.cacheRequest(()=>this.listApi.mdListsFeaturedGet$().toPromise(),Y.MULTI_SEARCH_CACHE_TIME),this.cachedTrending=this.rxjsUtil.cacheRequest(()=>this.homepageService.getHomepage(),Y.MULTI_SEARCH_CACHE_TIME)}getRecentItemDescription(B){return B.description?this.markupService.removeMarkdownLinks(B.description):B.numEntries?this.getProfileCountLabel(B.numEntries):""}getProfileCountLabel(B){return 1===B?$localize`1 profile`:this.labelService.getInterpolatedLabel("CBL.MULTI_SEARCH.NUM_PROFILES",{count:B})}getImageSrc(B,Te){if(!B)return;let Ve={width:"25",height:"25",transparent:!1};return Te&&this.syntheticMdService.getHumanEntityDefIds().includes(Te)&&(Ve.crop="thumb",Ve.gravity="faces"),this.imageService.getPublicImageUrl(B,Ve)}}return Y.MULTI_SEARCH_CACHE_TIME=6e4,Y.\u0275fac=function(B){return new(B||Y)(h.LFG(be.Wq),h.LFG(be.VF),h.LFG(se.y),h.LFG(M.KD),h.LFG(Oe.m),h.LFG(Re.Q),h.LFG(Ge.XN),h.LFG(ot.iO),h.LFG(Ze.g),h.LFG(pt.AJ),h.LFG(we.l),h.LFG(We.Y),h.LFG(De.LC))},Y.\u0275prov=h.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();var bt=t(75215),kt=t(58798),Ut=t(19975),nn=t(39276),Ke=t(252),_t=t(74742),de=t(32478),Ae=t(11961),Ee=t(40361),ae=t(87317),Se=t(74929);function it(Y,Be){1&Y&&h._UZ(0,"mat-spinner",8)}function rt(Y,Be){if(1&Y&&h._UZ(0,"icon",9),2&Y){const B=h.oxw();h.Q6J("key",B.searchResults.iconKey)}}function Dt(Y,Be){1&Y&&h.GkF(0)}const Vt=function(Y,Be){return{link:Y,label:Be}};function on(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,Dt,1,0,"ng-container",10),h.ALo(2,"translate"),h.BQk()),2&Y){const B=h.oxw(),Te=h.MAs(11);h.xp6(1),h.Q6J("ngTemplateOutlet",Te)("ngTemplateOutletContext",h.WLB(4,Vt,B.headerLinks[B.searchResults.type],h.lcZ(2,2,"CBL.MULTI_SEARCH.SECTION_HEADERS."+B.searchResults.type.toUpperCase())))}}function Bn(Y,Be){if(1&Y&&(h.TgZ(0,"span")(1,"a",11),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"span"),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"a",12),h._uU(8),h.ALo(9,"translate"),h.qZA()()),2&Y){const B=h.oxw();h.xp6(1),h.Q6J("routerLink",B.mySearchesLink),h.xp6(1),h.Oqu(h.lcZ(3,5,"CBL.MULTI_SEARCH.SECTION_HEADERS.MYSEARCHES")),h.xp6(3),h.hij(" ",h.lcZ(6,7,"CBL.COMMON.AND")," "),h.xp6(2),h.Q6J("routerLink",B.headerLinks.myLists),h.xp6(1),h.Oqu(h.lcZ(9,9,"CBL.MULTI_SEARCH.SECTION_HEADERS.MYLISTS"))}}function yn(Y,Be){1&Y&&(h.TgZ(0,"span")(1,"span",13),h._uU(2,"\u2014"),h.qZA(),h._uU(3),h.ALo(4,"translate"),h.qZA()),2&Y&&(h.xp6(3),h.hij(" ",h.lcZ(4,1,"CBL.MULTI_SEARCH.SECTION_ERROR")," "))}function xn(Y,Be){1&Y&&(h.TgZ(0,"span")(1,"span",13),h._uU(2,"\u2014"),h.qZA(),h._uU(3),h.ALo(4,"translate"),h.qZA()),2&Y&&(h.xp6(3),h.hij(" ",h.lcZ(4,1,"CBL.MULTI_SEARCH.EMPTY_SECTION")," "))}function Pn(Y,Be){if(1&Y&&(h.TgZ(0,"a",12),h._uU(1),h.qZA()),2&Y){const B=h.oxw(),Ve=B.label;h.Q6J("routerLink",B.link),h.xp6(1),h.Oqu(Ve)}}function Sn(Y,Be){if(1&Y&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&Y){const B=h.oxw().label;h.xp6(1),h.Oqu(B)}}function Nn(Y,Be){if(1&Y&&(h.YNc(0,Pn,2,2,"a",14),h.YNc(1,Sn,2,1,"span",6)),2&Y){const B=Be.link;h.Q6J("ngIf",B),h.xp6(1),h.Q6J("ngIf",!B)}}function Fn(Y,Be){if(1&Y&&h._UZ(0,"div",24),2&Y){const B=h.oxw(2).$implicit;h.Q6J("useIdentifierImgStyle",!0)("imgSrc",B.imageSrc)}}function Qn(Y,Be){if(1&Y&&h._UZ(0,"icon",25),2&Y){const B=h.oxw(2).$implicit;h.Q6J("key",B.iconKey)}}function Pt(Y,Be){if(1&Y&&(h.TgZ(0,"span",26),h._uU(1),h.qZA()),2&Y){const B=h.oxw(2).$implicit;h.xp6(1),h.hij(" \u2014 ",B.description," ")}}function In(Y,Be){if(1&Y&&(h.TgZ(0,"a",18),h.YNc(1,Fn,1,2,"div",19),h.YNc(2,Qn,1,1,"icon",20),h.TgZ(3,"span",21)(4,"span",22),h._uU(5),h.qZA(),h.YNc(6,Pt,2,1,"span",23),h.qZA()()),2&Y){const B=h.oxw().$implicit;h.Q6J("routerLink",B.route.path),h.xp6(1),h.Q6J("ngIf",!B.iconKey),h.xp6(1),h.Q6J("ngIf",B.iconKey),h.xp6(3),h.Oqu(B.value),h.xp6(1),h.Q6J("ngIf",B.description)}}function qt(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,In,7,5,"a",17),h.BQk()),2&Y){const B=Be.index,Te=h.oxw(2);h.xp6(1),h.Q6J("ngIf",B<3||Te.showMore)}}function jn(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"div",27)(1,"button",28),h.NdJ("click",function(){return h.CHM(B),h.oxw(2).showMore=!0}),h.ALo(2,"translate"),h._uU(3),h.ALo(4,"translate"),h._UZ(5,"icon",29),h.qZA()()}2&Y&&(h.xp6(1),h.uIk("aria-label",h.lcZ(2,2,"CBL.MULTI_SEARCH.SHOW_MORE")),h.xp6(2),h.hij(" ",h.lcZ(4,4,"CBL.MULTI_SEARCH.SHOW_MORE")," "))}function sn(Y,Be){if(1&Y&&(h.TgZ(0,"mat-card"),h.YNc(1,qt,2,1,"ng-container",15),h.YNc(2,jn,6,6,"div",16),h.qZA()),2&Y){const B=h.oxw();h.xp6(1),h.Q6J("ngForOf",B.searchResults.data),h.xp6(1),h.Q6J("ngIf",!B.showMore&&B.searchResults.data.length>3)}}let Nt=(()=>{class Y{constructor(){this.showMore=!1,this.headerLinks={organizations:["search","organizations"],people:["search","people"],events:["search","events"],hubs:["search","hubs"],myLists:["lists"],featuredLists:["featured"],recents:["recently-viewed"],myFollows:void 0,trending:void 0},this.mySearchesLink=["searches"]}}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["search-results-section"]],inputs:{searchResults:"searchResults",showMore:"showMore"},decls:13,vars:7,consts:[[1,"header","layout-row","layout-align-start-start","cb-text-color-medium","cb-margin-medium-bottom","cb-margin-medium-left"],[1,"cb-margin-medium-right","cb-margin-xsmall-top","flex-none"],["diameter","16",4,"ngIf"],["size","large","color","inherit",3,"key",4,"ngIf"],[1,"flex","header-text"],[1,"cb-text-transform-upper","cb-font-weight-bold"],[4,"ngIf"],["linkOrSpan",""],["diameter","16"],["size","large","color","inherit",3,"key"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cb-text-color-medium",3,"routerLink"],[3,"routerLink"],[1,"cb-padding-medium-horizontal"],[3,"routerLink",4,"ngIf"],[4,"ngFor","ngForOf"],["class","flex layout-row layout-align-center-center cb-padding-small cb-border-top cb-border-color-divider",4,"ngIf"],["class","row-anchor cb-padding-medium-horizontal flex layout-row layout-align-start-center cb-text-color-medium",3,"routerLink",4,"ngIf"],[1,"row-anchor","cb-padding-medium-horizontal","flex","layout-row","layout-align-start-center","cb-text-color-medium",3,"routerLink"],["lazyLoadImage","","class","row-image flex-none",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],["class","cb-padding-small-left flex-none","size","large",3,"key",4,"ngIf"],[1,"flex","cb-overflow-ellipsis","cb-padding-medium-left"],[1,"row-name","link-primary"],["class","row-description cb-font-weight-default",4,"ngIf"],["lazyLoadImage","",1,"row-image","flex-none",3,"useIdentifierImgStyle","imgSrc"],["size","large",1,"cb-padding-small-left","flex-none",3,"key"],[1,"row-description","cb-font-weight-default"],[1,"flex","layout-row","layout-align-center-center","cb-padding-small","cb-border-top","cb-border-color-divider"],["mat-button","","color","primary",1,"cb-text-transform-upper","show-more",3,"click"],["key","icon_caret_down","color","inherit",1,"cb-margin-small-left","flex-none"]],template:function(B,Te){1&B&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,it,1,0,"mat-spinner",2),h.YNc(3,rt,1,1,"icon",3),h.qZA(),h.TgZ(4,"div",4)(5,"span",5),h.YNc(6,on,3,7,"ng-container",6),h.YNc(7,Bn,10,11,"span",6),h.qZA(),h.YNc(8,yn,5,3,"span",6),h.YNc(9,xn,5,3,"span",6),h.qZA()(),h.YNc(10,Nn,2,2,"ng-template",null,7,h.W1O),h.YNc(12,sn,3,2,"mat-card",6)),2&B&&(h.xp6(2),h.Q6J("ngIf","loading"===Te.searchResults.status),h.xp6(1),h.Q6J("ngIf","loading"!==Te.searchResults.status),h.xp6(3),h.Q6J("ngIf","myLists"!==Te.searchResults.type),h.xp6(1),h.Q6J("ngIf","myLists"===Te.searchResults.type),h.xp6(1),h.Q6J("ngIf","error"===Te.searchResults.status),h.xp6(1),h.Q6J("ngIf",!("ok"!==Te.searchResults.status||Te.searchResults.data&&Te.searchResults.data.length)),h.xp6(3),h.Q6J("ngIf","ok"===Te.searchResults.status&&Te.searchResults.data&&Te.searchResults.data.length))},directives:[e.O5,_t.Ou,de.o,e.tP,u.yS,Ae.a8,e.sg,Ee.z,ae.lW],pipes:[Se.X],styles:["search-results-section{display:block}search-results-section .mat-card{padding:0}search-results-section .header a{color:#183444;text-decoration:none;font-weight:500;cursor:pointer}search-results-section .header a:hover{text-decoration:underline}search-results-section .header-text{line-height:20px}search-results-section .row-image{height:25px;width:25px}search-results-section .row-anchor{text-decoration:none;height:40px}search-results-section .row-anchor:hover .row-name{text-decoration:underline}search-results-section .row-anchor:not(:last-of-type){border-bottom:1px solid rgba(0,0,0,.12)}search-results-section button.show-more{line-height:32px}search-results-section .result-item{width:20%}search-results-section .result-item a{text-decoration:none}\n"],encapsulation:2}),Y})();var kn=t(77500);function Jt(Y,Be){1&Y&&h._UZ(0,"multi-search-collection-search-link",11),2&Y&&h.Q6J("entityDef",Be.$implicit)}function Hn(Y,Be){1&Y&&h._UZ(0,"no-content",13),2&Y&&h.Q6J("showLoading",!0)}const zn=function(Y){return{"cb-padding-xlarge-top":Y}};function Gn(Y,Be){if(1&Y&&(h.ynx(0),h._UZ(1,"search-results-section",15),h.BQk()),2&Y){const B=h.oxw(3);h.xp6(1),h.Q6J("searchResults",B.recents)("showMore",!0)("ngClass",h.VKq(3,zn,B.trending))}}function $n(Y,Be){if(1&Y&&(h.ynx(0),h._UZ(1,"search-results-section",14),h.YNc(2,Gn,2,5,"ng-container",10),h.BQk()),2&Y){const B=h.oxw(2);h.xp6(1),h.Q6J("searchResults",B.trending)("showMore",!0),h.xp6(1),h.Q6J("ngIf",B.recents)}}function wn(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,Hn,1,1,"no-content",12),h.YNc(2,$n,3,3,"ng-container",10),h.BQk()),2&Y){const B=h.oxw();h.xp6(1),h.Q6J("ngIf",!B.trending),h.xp6(1),h.Q6J("ngIf",B.trending)}}function An(Y,Be){if(1&Y&&h._UZ(0,"search-results-section",18),2&Y){const Te=Be.first;h.Q6J("searchResults",Be.$implicit)("ngClass",h.VKq(2,zn,!Te))}}function On(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,An,1,4,"search-results-section",17),h.BQk()),2&Y){const B=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",B.multiSearchResults)}}function bn(Y,Be){if(1&Y&&(h.TgZ(0,"div",19)(1,"div",20),h.SDv(2,21),h.qZA(),h._UZ(3,"cb-image",22),h.TgZ(4,"div",23),h._uU(5),h.ALo(6,"translate"),h.TgZ(7,"a",24),h.ALo(8,"translate"),h._uU(9),h.ALo(10,"translate"),h.qZA(),h._uU(11,". "),h.qZA()()),2&Y){const B=h.oxw(2);h.xp6(3),h.Q6J("resource",B.noResultsImageSource),h.xp6(2),h.hij(" ",h.lcZ(6,4,"CBL.MULTI_SEARCH.NO_RESULTS.SUB_HEADER.PART_ONE")," "),h.xp6(2),h.MGl("href","mailto:",h.lcZ(8,6,"CBL.MULTI_SEARCH.NO_RESULTS.SUB_HEADER.SUPPORT_EMAIL"),"",h.LSH),h.xp6(2),h.hij(" ",h.lcZ(10,8,"CBL.MULTI_SEARCH.NO_RESULTS.SUB_HEADER.SUPPORT_EMAIL"),"")}}function vn(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,On,2,1,"ng-container",10),h.YNc(2,bn,12,10,"div",16),h.BQk()),2&Y){const B=h.oxw();h.xp6(1),h.Q6J("ngIf",!B.hasNoResults),h.xp6(1),h.Q6J("ngIf",B.hasNoResults)}}let an=(()=>{class Y{constructor(B,Te,Ve){this.userService=B,this.multiSearchService=Te,this.metadataService=Ve,this.entityDefs=[],this.isInitialState=!0,this.isLoggedIn=!1,this.noResultsImageSource=pt.Wh.jetpack_unicorn,this.onDestroy=new H.xQ}ngOnInit(){this.isLoggedIn=this.userService.isLoggedIn(),this.showInitialState(),this.startListening(),this.entityDefs=this.metadataService.getTopLevelEntityDefs()}ngOnDestroy(){this.onDestroy.next()}startListening(){this.multiSearchService.results().pipe((0,z.R)(this.onDestroy)).subscribe(B=>{(0,ve.isEmpty)(B)?this.showInitialState():(this.isInitialState=!1,this.setRecents(),B.sort((Te,Ve)=>{let At=this.isLoadingOrHasData(Te)?1:0;return(this.isLoadingOrHasData(Ve)?1:0)-At}),this.multiSearchResults=B,this.hasNoResults=this.getNoResults(B))})}showInitialState(){this.isInitialState=!0,this.isLoggedIn&&this.setRecents(),this.setTrending()}isLoadingOrHasData(B){var Te;let At=!!(null===(Te=B.data)||void 0===Te?void 0:Te.length);return B.status===dt.loading||At}setRecents(){this.multiSearchService.findInRecents("").subscribe(B=>{B.data=(B.data||[]).slice(0,10),B.data.length>=3&&(this.recents=B)})}setTrending(){this.trending=void 0,this.multiSearchService.findInTrending("").subscribe(B=>{this.trending=B})}getNoResults(B){let Te=!0;return B.forEach(Ve=>{Ve&&this.isLoadingOrHasData(Ve)&&(Te=!1)}),Te}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(M.KD),h.Y36(St),h.Y36(bt.Do))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["multi-search-results"]],decls:13,vars:3,consts:function(){let Be,B;return Be=$localize`:␟bff7aefeb6e7efe94a85a0962b1b19496aae4331␟8426251802719149730: Search for: `,B=$localize`:␟8a2d515ac520807172d31d76db5a2cf5d28b5849␟8281909101359532609: No results found `,[["page-layout-body",""],[1,"cb-padding-xlarge-top","cb-padding-xxxlarge-bottom"],[1,"results-wrapper","cb-padding-xlarge-horizontal"],[1,"layout-row","layout-align-space-between-center"],[1,"flex","cb-font-weight-bold","cb-font-size-large"],Be,[1,"cb-margin-medium-top","cb-margin-xlarge-bottom"],[1,"collection-searches"],[3,"entityDef",4,"ngFor","ngForOf"],[1,"cb-margin-xlarge-vertical"],[4,"ngIf"],[3,"entityDef"],[3,"showLoading",4,"ngIf"],[3,"showLoading"],[3,"searchResults","showMore"],[1,"cb-padding-xlarge-top",3,"searchResults","showMore","ngClass"],["class","no-results cb-text-align-center cb-text-color-medium cb-width-100",4,"ngIf"],[3,"searchResults","ngClass",4,"ngFor","ngForOf"],[3,"searchResults","ngClass"],[1,"no-results","cb-text-align-center","cb-text-color-medium","cb-width-100"],[1,"cb-padding-large-bottom","cb-font-size-large"],B,[1,"cb-display-inline-block",3,"resource"],[1,"cb-padding-large-top","cb-font-size-medium"],[1,"link-primary",3,"href"]]},template:function(B,Te){1&B&&(h.TgZ(0,"page-layout")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),h.SDv(6,5),h.qZA()(),h._UZ(7,"mat-divider",6),h.TgZ(8,"div",7),h.YNc(9,Jt,1,1,"multi-search-collection-search-link",8),h.qZA(),h._UZ(10,"mat-divider",9),h.YNc(11,wn,3,2,"ng-container",10),h.YNc(12,vn,3,2,"ng-container",10),h.qZA()()()()),2&B&&(h.xp6(9),h.Q6J("ngForOf",Te.entityDefs),h.xp6(2),h.Q6J("ngIf",Te.isInitialState),h.xp6(1),h.Q6J("ngIf",!Te.isInitialState))},directives:[kt.w,Ut.d,e.sg,nn.L,e.O5,Ke.z,Nt,e.mk,kn.q],pipes:[Se.X],styles:["multi-search-results .results-wrapper{margin:0 auto;width:100%;max-width:1100px;box-sizing:border-box}multi-search-results .initial-icon{vertical-align:bottom}multi-search-results .initial-image{max-width:150px}multi-search-results .sample-list{margin:16px 0 0 16px}multi-search-results .sample-list li{list-style:disc outside none}multi-search-results .no-results{padding-top:20px;padding-bottom:20px;max-width:780px;margin:0 auto}@media (min-width: 960px){multi-search-results .no-results{padding-top:48px}}multi-search-results .no-results cb-image{width:200px;height:200px}multi-search-results multi-search-collection-search-link{display:inline-block;margin-right:8px;margin-bottom:8px}multi-search-results .collection-searches{margin-bottom:-8px}\n"],encapsulation:2}),Y})();var jt=t(44770),Tn=t(43365);const Mt=["input"];let rn=(()=>{class Y{constructor(B,Te,Ve){this.labelService=B,this.multiSearchService=Te,this.router=Ve,this.isMultiSearchMode=new h.vpe,this.searchInput=new i.NI,this.onClear=new H.xQ}ngOnInit(){this.placeholder=this.labelService.getLabel("CBL.MULTI_SEARCH.PLACEHOLDER.UNFOCUSED")}launchMultiSearchMode(){this.isMultiSearchMode.emit(),this.input.nativeElement.focus(),this.placeholder=$localize`Find companies, people, investors`,this.searchInput.valueChanges.pipe((0,z.R)(this.onClear)).subscribe(B=>{this.multiSearchService.query(B)})}clearInput(){this.onClear.next(),this.searchInput.setValue(null,{emitEvent:!1})}unfocusInput(){this.input.nativeElement.blur(),this.placeholder=this.labelService.getLabel("CBL.MULTI_SEARCH.PLACEHOLDER.UNFOCUSED")}handleEnter(){let B=this.searchInput.value&&this.searchInput.value.trim();(null==B?void 0:B.length)&&this.router.navigate(["textsearch"],{queryParams:{q:this.searchInput.value}})}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Re.Q),h.Y36(St),h.Y36(u.F0))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["multi-search"]],viewQuery:function(B,Te){if(1&B&&h.Gf(Mt,7),2&B){let Ve;h.iGM(Ve=h.CRH())&&(Te.input=Ve.first)}},outputs:{isMultiSearchMode:"isMultiSearchMode"},decls:5,vars:2,consts:[["autocomplete","off",3,"click"],["floatLabel","never"],["matPrefix","","key","icon_search","size","large",1,"search"],["type","search","autocomplete","off","matInput","",1,"mat-primary","mat-hue-4",3,"formControl","placeholder","keydown.enter"],["input",""]],template:function(B,Te){1&B&&(h.TgZ(0,"form",0),h.NdJ("click",function(){return Te.launchMultiSearchMode()}),h.TgZ(1,"mat-form-field",1),h._UZ(2,"icon",2),h.TgZ(3,"input",3,4),h.NdJ("keydown.enter",function(){return Te.handleEnter()}),h.qZA()()()),2&B&&(h.xp6(3),h.Q6J("formControl",Te.searchInput)("placeholder",Te.placeholder))},directives:[i._Y,i.JL,i.F,jt.KE,de.o,jt.qo,Tn.Nt,i.Fj,i.JJ,i.oH],styles:["form[_ngcontent-%COMP%]{font-size:14px;padding-left:8px;padding-right:8px;border-radius:3px;color:#0000008a;background:#e9eff5;border:1px solid rgba(0,0,0,.12)}form[_ngcontent-%COMP%]  .mat-form-field-prefix{margin-right:8px}form[_ngcontent-%COMP%]  .mat-form-field-infix{border-top:0px;width:auto;min-width:100px}form[_ngcontent-%COMP%]  .mat-form-field-underline, form[_ngcontent-%COMP%]  .mat-form-field-subscript-wrapper{display:none}form[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}form[_ngcontent-%COMP%]  .mat-form-field-labelwrapper{color:#0b4365}.mat-form-field[_ngcontent-%COMP%]{width:100%;font-weight:500;color:#0000008a;line-height:24px}.mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px}.mat-form-field[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{vertical-align:middle}"]}),Y})();const un_ADVANCED_SEARCH={iconKey:"icon_search",labelKey:"CBL.GLOBAL_NAV.ADVANCED_SEARCH.HEADER"},un_ADVANCED_SEARCH_MOBILE={iconKey:"icon_search",labelKey:"CBL.GLOBAL_NAV.ADVANCED_SEARCH.HEADER_MOBILE"},un_SOLUTIONS={iconKey:"icon_pro_square",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.HEADER"},un_PRODUCTS={iconKey:"icon_pro_square",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.HEADER"},un_RESOURCES={iconKey:"icon_stacked_layers",labelKey:"CBL.GLOBAL_NAV.RESOURCES.HEADER"},un_LISTS={iconKey:"icon_list",labelKey:"CBL.GLOBAL_NAV.LISTS.HEADER"},un_ACCOUNT={iconKey:"icon_account_circle",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.HEADER"};var ke=(()=>{return(Y=ke||(ke={}))[Y.ABOUT=0]="ABOUT",Y[Y.SUPPORT=1]="SUPPORT",Y[Y.NEWS=2]="NEWS",Y[Y.MARKETPLACE=3]="MARKETPLACE",Y[Y.PRIVACY=4]="PRIVACY",Y[Y.CHROME_EXTENSION=5]="CHROME_EXTENSION",ke;var Y})(),Xe=(()=>{return(Y=Xe||(Xe={}))[Y.EXTERNAL_NAV=0]="EXTERNAL_NAV",Y[Y.INTERNAL_NAV=1]="INTERNAL_NAV",Y[Y.UPSELL=2]="UPSELL",Y[Y.MODAL=3]="MODAL",Y[Y.CLICK=4]="CLICK",Xe;var Y})(),$e=(()=>{return(Y=$e||($e={})).MENU="menu",Y.LIST="list",Y.HEADER="header",$e;var Y})(),at=t(20605),Et=t(2384),yt=t(73729),Bt=t(33145);function Yt(Y,Be){if(1&Y&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td",8),h._uU(4),h.qZA()()),2&Y){const B=Be.$implicit;h.xp6(2),h.hij(" ",B.name," "),h.xp6(2),h.hij(" ",B.value," ")}}const Rt={FIND_INVESTORS:{iconKey:"icon_investor",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.FIND_INVESTORS",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"entrepreneurs-raise-startup-capital"}},FIND_OPPORTUNITIES:{iconKey:"icon_currency_usd_enclosed",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.FIND_OPPORTUNITIES",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"find-next-investment"}},FIND_PROSPECTS:{iconKey:"icon_search_money",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.FIND_PROSPECTS",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"find-prospects"}},MARKET_RESEARCH:{iconKey:"icon_chart_line",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.MARKET_RESEARCH",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"market-research"}},BUILD_PRODUCT:{iconKey:"icon_product",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.BUILD_PRODUCT",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"build-your-product"}},PRO_PRODUCT:{iconKey:"icon_pro_lightning",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.PRO",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"products/crunchbase-pro"}},ENTERPRISE_PRODUCT:{iconKey:"icon_companies",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.ENTERPRISE",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"products/crunchbase-enterprise"}},DATA_LICENSING:{iconKey:"icon_bill",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.DATA_LICENSING",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"products/crunchbase-for-applications"}},DATA_PARTNERS:{iconKey:"icon_people_connection",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.DATA_PARTNERS",action:{type:Xe.EXTERNAL_NAV,urlType:ke.MARKETPLACE}},CAREERS:{iconKey:"icon_briefcase_outline",labelKey:"CBL.GLOBAL_NAV.RESOURCES.CAREERS",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"careers"}},CUSTOMER_STORIES:{iconKey:"icon_message_outline",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.CUSTOMER_STORIES",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"customers"}},CONTRIBUTE:{iconKey:"icon_add_circle",labelKey:"CBL.GLOBAL_NAV.RESOURCES.CONTRIBUTE",action:{type:Xe.INTERNAL_NAV,route:{path:["add-new"]}}},BLOG:{iconKey:"icon_write",labelKey:"CBL.GLOBAL_NAV.RESOURCES.BLOG",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"blog"}},NEWS:{iconKey:"icon_news",labelKey:"CBL.GLOBAL_NAV.RESOURCES.NEWS",action:{type:Xe.EXTERNAL_NAV,urlType:ke.NEWS}},ABOUT:{iconKey:"icon_info_outline",labelKey:"CBL.GLOBAL_NAV.RESOURCES.ABOUT",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"about-us"}},PARTNERS:{iconKey:"icon_data",labelKey:"CBL.GLOBAL_NAV.RESOURCES.PARTNERS",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"partners"}},CONTACT:{iconKey:"icon_email_outline",labelKey:"CBL.GLOBAL_NAV.RESOURCES.CONTACT",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"about-us/contact-us"}},HELP:{iconKey:"icon_help_outline",labelKey:"CBL.GLOBAL_NAV.RESOURCES.HELP",action:{type:Xe.EXTERNAL_NAV,urlType:ke.SUPPORT}},MARKET_RESEARCH_GUIDE:{iconKey:"icon_chart_line",labelKey:"CBL.GLOBAL_NAV.GUIDES.MARKET_RESEARCH",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"pro-for-market-research"}},ENTREPRENEUR_GUIDE:{iconKey:"icon_people_three",labelKey:"CBL.GLOBAL_NAV.GUIDES.ENTREPRENEURS",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"pro-for-entrepreneurs"}},INVESTOR_GUIDE:{iconKey:"icon_investor",labelKey:"CBL.GLOBAL_NAV.GUIDES.INVESTORS",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"pro-for-investors"}},SALES_GUIDE:{iconKey:"icon_currency_usd_large",labelKey:"CBL.GLOBAL_NAV.GUIDES.SALES",action:{type:Xe.EXTERNAL_NAV,urlType:ke.ABOUT,path:"pro-for-sales"}},UPSELL_LISTS_ALL:{iconKey:"icon_pro_lightning",iconColor:"pro-gold",labelKey:"CBL.GLOBAL_NAV.LISTS.ALL",action:{type:Xe.INTERNAL_NAV,route:{path:["lists"]}}},UPSELL_LISTS_IMPORT:{iconKey:"icon_pro_lightning",iconColor:"pro-gold",labelKey:"CBL.GLOBAL_NAV.LISTS.IMPORT",action:{type:Xe.INTERNAL_NAV,route:{path:["csv-import"]}}},UPSELL_LISTS_SEARCH:{iconKey:"icon_pro_lightning",iconColor:"pro-gold",labelKey:"CBL.GLOBAL_NAV.LISTS.SEARCH",action:{type:Xe.INTERNAL_NAV,route:{path:["searches"]}}},LISTS_ALL:{iconKey:"icon_lists",labelKey:"CBL.GLOBAL_NAV.LISTS.ALL",action:{type:Xe.INTERNAL_NAV,route:{path:["lists"]}}},LISTS_IMPORT:{iconKey:"icon_import_list",labelKey:"CBL.GLOBAL_NAV.LISTS.IMPORT",action:{type:Xe.INTERNAL_NAV,route:{path:["csv-import"]}}},LISTS_SEARCH:{iconKey:"icon_saved_search",labelKey:"CBL.GLOBAL_NAV.LISTS.SEARCH",action:{type:Xe.INTERNAL_NAV,route:{path:["searches"]}}},TAGS:{iconKey:"icon_tag",labelKey:"CBL.GLOBAL_NAV.LISTS.TAGS",action:{type:Xe.INTERNAL_NAV,route:{path:["account","team","tags"]}}},ACCOUNT_SETTINGS:{iconKey:"icon_personal_settings",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.SETTINGS",action:{type:Xe.INTERNAL_NAV,route:{path:["account"]}}},ADMIN_WORKFLOWS:{iconKey:"icon_personal_settings",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.ADMIN",action:{type:Xe.INTERNAL_NAV,route:{path:["internal"]}}},FEATURE_FLAGS:{iconKey:"icon_flag",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.FEATURE_FLAGS",action:{type:Xe.MODAL,component:(()=>{class Y extends Et.V{constructor(B,Te){super(),this.featureService=B,this.changeDetectorRef=Te,this.onDestroy=new H.xQ}ngOnInit(){this.setup()}ngOnDestroy(){this.onDestroy.next()}setup(){this.featureService.getAllFlagValues().pipe((0,z.R)(this.onDestroy)).subscribe(B=>{const Te=Object.keys(B);Te.sort(),this.featureFlags=Te.map(Ve=>{let At=B[Ve];return{flagId:Ve,name:(0,ve.startCase)(Ve),value:At}}),this.changeDetectorRef.markForCheck()})}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(at.Bz),h.Y36(h.sBO))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["feature-flags"]],features:[h.qOj],decls:18,vars:7,consts:function(){let Be,B;return Be=$localize`:␟a4bc171a63a585a5222e815e8785b77ce30f3da9␟7394649408594397312: Value `,B=$localize`:␟09a950bfd3fa75d8d0a9480201347e8253d9b0b9␟8579731433254831436: Override `,[[1,"component--feature-flags"],[3,"title"],["dialog-content","",1,"layout-column","cb-font-size-default"],[1,"card-grid","no-top-border","cb-margin-medium-bottom"],Be,[4,"ngFor","ngForOf"],["routerLink","/devtools/feature-flags",1,"cb-link"],B,[1,"cb-text-align-right"]]},template:function(B,Te){1&B&&(h.TgZ(0,"form",0)(1,"dialog-layout",1),h.ALo(2,"translate"),h.TgZ(3,"div",2)(4,"table",3)(5,"thead")(6,"tr")(7,"th")(8,"grid-column-header"),h._uU(9),h.ALo(10,"translate"),h.qZA()(),h.TgZ(11,"th")(12,"grid-column-header"),h.SDv(13,4),h.qZA()()()(),h.TgZ(14,"tbody"),h.YNc(15,Yt,5,2,"tr",5),h.qZA()(),h.TgZ(16,"a",6),h.SDv(17,7),h.qZA()()()()),2&B&&(h.xp6(1),h.Q6J("title",h.lcZ(2,3,"CBL.ACCOUNT.FEATURE_FLAGS.TITLE")),h.xp6(8),h.hij(" \u{1f6a9} ",h.lcZ(10,5,"CBL.ACCOUNT.FEATURE_FLAGS.FLAG_NAME")," "),h.xp6(6),h.Q6J("ngForOf",Te.featureFlags))},directives:[i._Y,i.JL,i.F,yt.I,Bt.f,e.sg,u.yS],pipes:[Se.X],styles:[".component--feature-flags mat-dialog-content>div{padding:0 0 20px}\n"],encapsulation:2,changeDetection:0}),Y})()}},PRIVACY:{iconKey:"icon_privacy_settings",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.PRIVACY",action:{type:Xe.EXTERNAL_NAV,urlType:ke.PRIVACY}},LOGIN:{iconKey:"icon_help_outline",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.LOGIN",action:{type:Xe.INTERNAL_NAV,route:{path:["login"]}}},ACCOUNT_RECOMMENDATIONS:{iconKey:"icon_check_highlight",labelKey:"CBL.GLOBAL_NAV.ACCOUNT_RECOMMENDATIONS",action:{type:Xe.INTERNAL_NAV,route:{path:["account-recommendations"]}}},PRICING:{iconKey:"icon_currency_usd_enclosed",labelKey:"CBL.GLOBAL_NAV.PRICING",action:{type:Xe.INTERNAL_NAV,route:{path:["buy/select-product"]}}},COMPANY_VERIFY:{iconKey:"icon_verify",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.VERIFY",action:{type:Xe.INTERNAL_NAV,route:{path:["verify"]}}},DEVTOOLS:{iconKey:"icon_devtools",labelKey:"CBL.GLOBAL_NAV.RESOURCES.DEVTOOLS",action:{type:Xe.INTERNAL_NAV,route:{path:["devtools"]}}},QUERY_BUILDER:{iconKey:"icon_query_builder",labelKey:"CBL.GLOBAL_NAV.ADVANCED_SEARCH.QUERY_BUILDER",action:{type:Xe.INTERNAL_NAV,route:{path:["search"]}}},CHROME_EXTENSION:{iconKey:"icon_chrome",labelKey:"CBL.GLOBAL_NAV.CHROME_EXTENSION",action:{type:Xe.EXTERNAL_NAV,urlType:ke.CHROME_EXTENSION}}};var gi=t(469),Ti=t(77312),Ci=t(79128),mo=t(80522),Gi=t(26144),Zi=t(26435),ho=t(42330),es=t(39448),ts=t(3509);let zt=(()=>{class Y{constructor(B,Te,Ve,At,en,tn,ri,hi,wi,Go,Zo,Wo,$o){this.listsService=B,this.themeService=Te,this.metadataService=Ve,this.permissionService=At,this.verifyService=en,this.urlService=tn,this.routingHelper=ri,this.userService=hi,this.teamPermissionService=wi,this.syntheticMetadataService=Go,this.chromeExtensionFtuxService=Zo,this.store=Wo,this.isBrowserCompatibleWithExtensionService=$o,this.showLoggedInChromeExtensionItem$=this.chromeExtensionFtuxService.hasFtux().pipe((0,Ci.d)({bufferSize:1,refCount:!0}))}getAccountRecommendationsItem(){return this.userService.getIsLoggedIn$().pipe((0,ee.U)(B=>B?Rt.ACCOUNT_RECOMMENDATIONS:void 0))}getLoginItem(){return this.routingHelper.getCurrentRedirectUrl$().pipe((0,Ne.O)(null),(0,ee.U)(B=>{const Te=(0,ve.cloneDeep)(Rt.LOGIN);return Te.action.route.queryParams={redirect_to:B},Te}))}getAccountMenuTrigger(){return this.userService.getSessionChangeObservable().pipe((0,ee.U)(B=>{if(!B)return;if(!B.user.image_id)return un_ACCOUNT;let Te=Object.assign({},un_ACCOUNT);return Te.imageId=B.user.image_id,Te}))}getAdvancedSearchItems(B){return this.metadataService.getMetadata().pipe((0,ee.U)(Te=>B?B.map(Ve=>Te.getEntityDef(Ve)).filter(qe.K):Te.getTopLevelEntityDefs()),(0,ee.U)(Te=>Te.map(Ve=>{var At,en;return{iconKey:this.themeService.getIcon(null===(At=Ve.display)||void 0===At?void 0:At.theme_id),label:null===(en=Ve.labels)||void 0===en?void 0:en.plural,action:this.getActionFromEntityDef(Ve.collection_id)}}).filter(Ve=>Ve.label)))}getLoggedInGlobalNavAdvancedSearchItems$(){const B=this.syntheticMetadataService.getGlobalNavAdvancedSearchLinks().collectionIds;return this.showLoggedInChromeExtensionItem$.pipe((0,ee.U)(Te=>Te?B.slice(1):B),(0,ht.w)(Te=>this.getAdvancedSearchItems(Te)))}getUserListsItems(){return this.userService.getIsLoggedIn$().pipe((0,ht.w)(Te=>(0,Ti.s)(()=>!Te,(0,ze.of)([]),this.listsService.getListsChangeSubjectObservable().pipe((0,Ne.O)(null),(0,ht.w)(Ve=>this.listsService.getLists$(be.BW.ListTypeEnum.static).pipe((0,tt.K)(At=>(0,ze.of)([])))),(0,tt.K)(Ve=>(0,ze.of)([])),(0,ee.U)(Ve=>Ve.sort((At,en)=>At.name.localeCompare(en.name))),(0,ee.U)(Ve=>Ve.slice(0,3)),(0,ee.U)(Ve=>Ve.map(At=>({label:At.name,action:this.getActionFromList(At)})))))),(0,Ci.d)(1))}getListActionsItems(){return this.userService.getIsLoggedIn$().pipe((0,ht.w)(B=>(0,Ti.s)(()=>!B,(0,ze.of)([]),(0,K.aj)([this.permissionService.getPermissions(),this.teamPermissionService.canViewTeamTags$()]).pipe((0,ee.U)(([Te,Ve])=>{const At=[Te.canCreateNewList()?Rt.LISTS_ALL:Rt.UPSELL_LISTS_ALL,Te.canImportCsvToList()?Rt.LISTS_IMPORT:Rt.UPSELL_LISTS_IMPORT,Te.canSaveSearch()?Rt.LISTS_SEARCH:Rt.UPSELL_LISTS_SEARCH];return Ve&&At.push(Rt.TAGS),At})))))}getUserCompaniesItems(){return this.userService.getIsLoggedIn$().pipe((0,ht.w)(B=>(0,Ti.s)(()=>!B,(0,ze.of)([]),this.verifyService.getVerifiedEntities().pipe((0,ee.U)(Te=>Te.map(Ve=>({identifier:Ve,label:Ve.value,action:this.getActionFromIdentifier(Ve)})).filter(Ve=>!!Ve).concat(Rt.COMPANY_VERIFY))))),(0,Ci.d)(1))}getAdminItems(){return this.permissionService.getPermissions().pipe((0,ee.U)(B=>{let Te=[];return B.canEnableFeatureFlags()&&Te.push(Rt.FEATURE_FLAGS),B.canUseInternalTools()&&Te.push(Rt.ADMIN_WORKFLOWS),Te}))}getAccountManagementItems(){return this.userService.getIsLoggedIn$().pipe((0,ee.U)(B=>B?[Rt.ACCOUNT_SETTINGS,Rt.PRIVACY,{iconKey:"icon_log_out",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.LOGOUT",action:{type:Xe.CLICK,onClick:()=>this.store.dispatch((0,q.kS)())}}]:[]))}getGuidesOrSolutionsLabelKey(){return this.permissionService.getPermissions().pipe((0,ee.U)(B=>B.showProMarketing()?"CBL.GLOBAL_NAV.SOLUTIONS.HEADER":"CBL.GLOBAL_NAV.GUIDES.HEADER"))}getGuidesOrSolutionsItems(){return this.permissionService.getPermissions().pipe((0,mo.VS)(B=>B.showProMarketing()?this.getSolutionsItems():this.getGuidesItems()))}getSolutionsItems(){return(0,ze.of)([Rt.FIND_INVESTORS,Rt.FIND_OPPORTUNITIES,Rt.FIND_PROSPECTS,Rt.MARKET_RESEARCH,Rt.BUILD_PRODUCT])}getGuidesItems(){return(0,ze.of)([Rt.ENTREPRENEUR_GUIDE,Rt.INVESTOR_GUIDE,Rt.MARKET_RESEARCH_GUIDE,Rt.SALES_GUIDE])}getProductsItems(){const B=[Rt.PRO_PRODUCT,Rt.ENTERPRISE_PRODUCT,Rt.DATA_LICENSING,Rt.DATA_PARTNERS];return this.userService.getIsLoggedIn$().pipe((0,ee.U)(Te=>B.slice(0,2).concat([Rt.CHROME_EXTENSION]).concat(B.slice(2)).concat(Te?[]:[Rt.CUSTOMER_STORIES])))}getResourcesItems(){return(0,ze.of)([Rt.CONTRIBUTE,Rt.BLOG,Rt.NEWS,Rt.ABOUT,Rt.CAREERS,Rt.PARTNERS,Rt.CONTACT,Rt.HELP])}getPricingLink(){return(0,ze.of)(Rt.PRICING)}getAnonChromeExtensionItem$(){return this.isBrowserCompatibleWithExtensionService.compatible$.pipe((0,ee.U)(B=>B?Rt.CHROME_EXTENSION:void 0))}getLoggedInChromeExtensionItem$(){return this.showLoggedInChromeExtensionItem$.pipe((0,ee.U)(B=>B&&Rt.CHROME_EXTENSION.action.type===Xe.EXTERNAL_NAV?Object.assign(Object.assign({},Rt.CHROME_EXTENSION),{action:Object.assign(Object.assign({},Rt.CHROME_EXTENSION.action),{onClick:()=>this.chromeExtensionFtuxService.dismiss()})}):void 0))}getActionFromList(B){return{type:Xe.INTERNAL_NAV,route:this.listsService.getListRouteFromList(B)}}getActionFromEntityDef(B){return{type:Xe.INTERNAL_NAV,route:{path:["discover",B]}}}getActionFromIdentifier(B){return{type:Xe.INTERNAL_NAV,route:this.urlService.getIdentifierRoute(B)}}}return Y.\u0275fac=function(B){return new(B||Y)(h.LFG(Ge.XN),h.LFG(gi.f),h.LFG(bt.Do),h.LFG(ue.$),h.LFG(Gi.B),h.LFG(ot.iO),h.LFG(Zi.VP),h.LFG(M.KD),h.LFG(ho.$),h.LFG(We.Y),h.LFG(es.X),h.LFG(Q.yh),h.LFG(ts.D))},Y.\u0275prov=h.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();var Eo=t(25458);let Ai=(()=>{class Y{constructor(B,Te){this.bootstrapService=B,this.globalNavItemService=Te}getUserMenus(){return[this.getListsMenu(),this.getFullResourcesMenu(),this.getAccountMenu()]}getAnonMenus(){return[this.getSolutionsMenu(),this.getProductsMenu(),this.getMinimalResourceMenu()]}getFullResourcesMenu(){let B=[];return this.bootstrapService.isProd()||B.push({items:(0,ze.of)([Rt.DEVTOOLS])}),B=[...B,{items:this.globalNavItemService.getPricingLink().pipe((0,ee.U)(Te=>[Te]))},{labelKey:this.globalNavItemService.getGuidesOrSolutionsLabelKey(),items:this.globalNavItemService.getGuidesOrSolutionsItems()},{labelKey:(0,ze.of)("CBL.GLOBAL_NAV.PRODUCTS.HEADER"),items:this.globalNavItemService.getProductsItems()},{labelKey:(0,ze.of)("CBL.GLOBAL_NAV.RESOURCES.HEADER"),items:this.globalNavItemService.getResourcesItems()}],{trigger:(0,ze.of)(un_RESOURCES),groups:B}}getAdvancedMenu(){return{trigger:(0,ze.of)(un_ADVANCED_SEARCH),groups:[{items:this.globalNavItemService.getAdvancedSearchItems()},{items:(0,ze.of)([Rt.QUERY_BUILDER])}]}}getMobileAdvancedMenu(){return{trigger:(0,ze.of)(un_ADVANCED_SEARCH_MOBILE),groups:[{items:this.globalNavItemService.getAdvancedSearchItems()}]}}getListsMenu(){return{trigger:(0,ze.of)(un_LISTS),groups:[{items:this.globalNavItemService.getListActionsItems()},{items:this.globalNavItemService.getUserListsItems()}]}}getAccountMenu(){return{trigger:this.globalNavItemService.getAccountMenuTrigger(),groups:[{items:this.globalNavItemService.getAdminItems()},{labelKey:(0,ze.of)("CBL.GLOBAL_NAV.ACCOUNT.MY_COMPANY"),items:this.globalNavItemService.getUserCompaniesItems()},{items:this.globalNavItemService.getAccountManagementItems()}]}}getSolutionsMenu(){return{trigger:(0,ze.of)(un_SOLUTIONS),groups:[{items:this.globalNavItemService.getSolutionsItems()}]}}getProductsMenu(){return{trigger:(0,ze.of)(un_PRODUCTS),groups:[{items:this.globalNavItemService.getProductsItems()}]}}getMinimalResourceMenu(){let B=[];return this.bootstrapService.isProd()||B.push({items:(0,ze.of)([Rt.DEVTOOLS])}),B=[...B,{items:this.globalNavItemService.getResourcesItems()}],{trigger:(0,ze.of)(un_RESOURCES),groups:B}}}return Y.\u0275fac=function(B){return new(B||Y)(h.LFG(Eo.Qn),h.LFG(zt))},Y.\u0275prov=h.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();var Oi=t(56589),Pi=t(81824),li=(()=>{return(Y=li||(li={}))[Y.trial=0]="trial",Y[Y.upgradeFromTrial=1]="upgradeFromTrial",Y[Y.contacts=2]="contacts",li;var Y})();let Wi=(()=>{class Y{constructor(B,Te,Ve,At,en){this.store=B,this.permissionService=Te,this.billingService=Ve,this.userService=At,this.labelService=en,this.hasProTheming$=this.permissionService.getPermissions().pipe((0,ee.U)(tn=>tn.hasProTheming())),this.canUseContactsAddon$=this.permissionService.getPermissions().pipe((0,ee.U)(tn=>tn.canUseContactsAddon())),this.showProMarketing$=this.permissionService.getPermissions().pipe((0,ee.U)(tn=>tn.showProMarketing())),this.isInProTrial$=this.userService.getSessionChangeObservable().pipe((0,ee.U)(()=>this.billingService.isInProTrial())),this.hasContactPackage$=this.store.select(Pi.n0)}showHeaderUpsell$(){return(0,K.aj)([this.isInProTrial$,this.canUseContactsAddon$,this.showProMarketing$,this.hasContactPackage$]).pipe((0,ee.U)(([B,Te,Ve,At])=>Te&&!At||B||Ve))}getUpsellButtonConfig$(){return(0,K.aj)([this.isInProTrial$,this.hasProTheming$]).pipe((0,ee.U)(([B,Te])=>B?{type:li.upgradeFromTrial,buttonText:this.labelService.getLabel("CBL.UPSELL.UPGRADE_NOW"),mobileBannerText:this.labelService.getLabel("CBL.GLOBAL_NAV.UPSELL_BANNER.GET_PRO")}:Te?{type:li.contacts,buttonText:this.labelService.getLabel("CBL.UPSELL.GET_CONTACTS"),mobileBannerText:this.labelService.getLabel("CBL.GLOBAL_NAV.UPSELL_BANNER.GET_CONTACTS")}:{type:li.trial,buttonText:$localize`Start Free Trial`,mobileBannerText:this.labelService.getLabel("CBL.GLOBAL_NAV.UPSELL_BANNER.GET_PRO")}))}}return Y.\u0275fac=function(B){return new(B||Y)(h.LFG(Q.yh),h.LFG(ue.$),h.LFG(j.jM),h.LFG(M.KD),h.LFG(Re.Q))},Y.\u0275prov=h.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();var mn=t(90164),$i=t(52974),bi=t(36312),Li=t(16276),ci=t(82796),Ki=t(34657),fo=t(20262);function ns(Y,Be){if(1&Y&&h._UZ(0,"identifier-image",3),2&Y){const B=h.oxw();h.Q6J("size",20)("identifier",B.identifier)}}function is(Y,Be){if(1&Y&&h._UZ(0,"cb-image",4),2&Y){const B=h.oxw();h.Q6J("publicId",B.imageId)("width",20)("height",20)}}function os(Y,Be){if(1&Y&&h._UZ(0,"icon",5),2&Y){const B=h.oxw();h.Q6J("size",B.iconSize?B.iconSize:"large")("key",B.iconKey)("color",B.iconColor||"inherit")}}let vo=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-action-item-image"]],inputs:{iconKey:"iconKey",iconColor:"iconColor",iconSize:"iconSize",identifier:"identifier",imageId:"imageId"},decls:3,vars:3,consts:[[3,"size","identifier",4,"ngIf"],["class","cb-line-height-none","crop","thumb","radius","max","format","png",3,"publicId","width","height",4,"ngIf"],[3,"size","key","color",4,"ngIf"],[3,"size","identifier"],["crop","thumb","radius","max","format","png",1,"cb-line-height-none",3,"publicId","width","height"],[3,"size","key","color"]],template:function(B,Te){1&B&&(h.YNc(0,ns,1,2,"identifier-image",0),h.YNc(1,is,1,3,"cb-image",1),h.YNc(2,os,1,3,"icon",2)),2&B&&(h.Q6J("ngIf",Te.identifier),h.xp6(1),h.Q6J("ngIf",!Te.identifier&&Te.imageId),h.xp6(1),h.Q6J("ngIf",!Te.identifier&&!Te.imageId&&Te.iconKey))},directives:[e.O5,fo.J,kn.q,de.o],styles:["[_nghost-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}icon[_ngcontent-%COMP%], identifier-image[_ngcontent-%COMP%], cb-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}cb-image[_ngcontent-%COMP%]{display:inline-block;height:20px;width:20px}"],changeDetection:0}),Y})();function ss(Y,Be){1&Y&&h._UZ(0,"icon",7)}function Co(Y,Be){1&Y&&h.GkF(0)}function as(Y,Be){if(1&Y&&(h.TgZ(0,"div",2)(1,"div",3),h._UZ(2,"nav-action-item-image",4),h.YNc(3,ss,1,0,"icon",5),h.qZA(),h.YNc(4,Co,1,0,"ng-container",6),h.qZA()),2&Y){const B=h.oxw(),Te=h.MAs(2);h.xp6(2),h.Q6J("iconKey",B.iconKey)("imageId",B.imageId),h.xp6(1),h.Q6J("ngIf",B.showChevron),h.xp6(1),h.Q6J("ngTemplateOutlet",Te)}}function rs(Y,Be){if(1&Y&&(h.TgZ(0,"span",11),h._uU(1),h.qZA()),2&Y){const B=h.oxw(2);h.xp6(1),h.Oqu(B.label)}}function ls(Y,Be){1&Y&&h._UZ(0,"icon",12)}const cs=function(Y){return{"hide show-gt-md":Y}};function ds(Y,Be){if(1&Y&&(h.TgZ(0,"div",8),h.YNc(1,rs,2,1,"span",9),h.YNc(2,ls,1,0,"icon",10),h.qZA()),2&Y){const B=h.oxw();h.Q6J("ngClass",h.VKq(3,cs,B.showImage)),h.xp6(1),h.Q6J("ngIf",!B.hideLabel),h.xp6(1),h.Q6J("ngIf",B.showChevron)}}let yo=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-action-item-header-layout"]],inputs:{iconKey:"iconKey",imageId:"imageId",showImage:"showImage",label:"label",showChevron:"showChevron",hideLabel:"hideLabel"},decls:3,vars:2,consts:[["class","layout-column layout-align-center-center cb-height-100 with-image",4,"ngIf","ngIfElse"],["labelAndChevron",""],[1,"layout-column","layout-align-center-center","cb-height-100","with-image"],[1,"centered-row"],["iconSize","xlarge","iconColor","inherit",3,"iconKey","imageId"],["class","hide-gt-md","key","icon_caret_down","color","inherit",4,"ngIf"],[4,"ngTemplateOutlet"],["key","icon_caret_down","color","inherit",1,"hide-gt-md"],[1,"centered-row","label-row",3,"ngClass"],["class","label",4,"ngIf"],["key","icon_caret_down","color","inherit",4,"ngIf"],[1,"label"],["key","icon_caret_down","color","inherit"]],template:function(B,Te){if(1&B&&(h.YNc(0,as,5,4,"div",0),h.YNc(1,ds,3,5,"ng-template",null,1,h.W1O)),2&B){const Ve=h.MAs(2);h.Q6J("ngIf",Te.showImage)("ngIfElse",Ve)}},directives:[e.O5,vo,de.o,e.tP,e.mk],styles:["[_nghost-%COMP%]{display:inline-block;min-width:40px;text-transform:initial;letter-spacing:initial}.label-row[_ngcontent-%COMP%]{height:100%}.with-image[_ngcontent-%COMP%]   .label-row[_ngcontent-%COMP%]{height:20px}.with-image[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{line-height:normal;font-size:12px}.centered-row[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.centered-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}@media (min-width: 1280px){[_nghost-%COMP%]{min-width:55px}}"],changeDetection:0}),Y})();var oi=t(26131),_s=t(85129);let si=(()=>{class Y{constructor(B,Te){this.dialogService=B,this.urlService=Te,this.showImage=!0,this.NavActionTypeEnum=Xe}handleModalAction(B){B.onClick&&B.onClick(),this.dialogService.showDialog(B.component)}handleUpsellAction(B){B.onClick&&B.onClick(),this.dialogService.showDialog(_s.j,{featureSet:B.featureSet})}getUrlFromExternalAction(B){const Te=B.action;switch(Te.urlType){case ke.ABOUT:return this.urlService.getAboutCrunchbaseUrl(Te.path);case ke.SUPPORT:return this.urlService.getKnowledgeUrl(Te.path);case ke.MARKETPLACE:return this.urlService.getMarketplaceUrl(Te.path);case ke.NEWS:return this.urlService.getNewsCrunchbaseUrl(Te.path);case ke.PRIVACY:return this.urlService.getPrivacyPolicyUrl();case ke.CHROME_EXTENSION:return this.urlService.getChromeExtensionUrl();default:throw new re.S(Te.urlType)}}getRouterLinkFromInternalAction(B){return B.action.route.path}getRouterParamsFromInternalAction(B){return B.action.route.queryParams}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Et.x),h.Y36(ot.iO))},Y.\u0275dir=h.lG2({type:Y,inputs:{item:"item",showImage:"showImage"}}),Y})();function mi(Y,Be){if(1&Y&&h._UZ(0,"nav-action-item-image",2),2&Y){const B=h.oxw();h.Q6J("iconKey",B.iconKey)("iconColor",B.iconColor)("identifier",B.identifier)("imageId",B.imageId)}}let Vi=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-action-item-layout"]],inputs:{iconKey:"iconKey",iconColor:"iconColor",identifier:"identifier",imageId:"imageId",showImage:"showImage",label:"label"},decls:3,vars:2,consts:[[3,"iconKey","iconColor","identifier","imageId",4,"ngIf"],[1,"label"],[3,"iconKey","iconColor","identifier","imageId"]],template:function(B,Te){1&B&&(h.YNc(0,mi,1,4,"nav-action-item-image",0),h.TgZ(1,"span",1),h._uU(2),h.qZA()),2&B&&(h.Q6J("ngIf",Te.showImage),h.xp6(2),h.hij(" ",Te.label,"\n"))},directives:[e.O5,vo],styles:["[_nghost-%COMP%]{display:flex;box-sizing:border-box;flex-direction:row;align-items:center;align-content:center;max-width:100%;width:100%;justify-content:flex-start}nav-action-item-image[_ngcontent-%COMP%]{margin-right:8px}.label[_ngcontent-%COMP%]{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1 1 auto;box-sizing:border-box;text-align:left}"],changeDetection:0}),Y})();function us(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"a",3),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.item.action.onClick&&Ve.item.action.onClick()}),h._UZ(1,"nav-action-item-layout",4),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.Q6J("href",B.getUrlFromExternalAction(B.item),h.LSH),h.xp6(1),h.Q6J("identifier",B.item.identifier)("iconKey",B.item.iconKey)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(2,6,B.item.labelKey))}}function ps(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"a",5),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.item.action.onClick&&Ve.item.action.onClick()}),h._UZ(1,"nav-action-item-layout",6),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.Q6J("routerLink",B.getRouterLinkFromInternalAction(B.item))("queryParams",B.getRouterParamsFromInternalAction(B.item)),h.xp6(1),h.Q6J("identifier",B.item.identifier)("iconKey",B.item.iconKey)("iconColor",B.item.iconColor)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(2,8,B.item.labelKey))}}function gs(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",7),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.handleModalAction(Ve.item.action)}),h._UZ(1,"nav-action-item-layout",4),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.xp6(1),h.Q6J("identifier",B.item.identifier)("iconKey",B.item.iconKey)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(2,5,B.item.labelKey))}}function ms(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",7),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.handleUpsellAction(Ve.item.action)}),h._UZ(1,"nav-action-item-layout",8),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.xp6(1),h.Q6J("showImage",B.showImage)("label",B.item.label||h.lcZ(2,2,B.item.labelKey))}}function Yi(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",7),h.NdJ("click",function(){return h.CHM(B),h.oxw().item.action.onClick()}),h._UZ(1,"nav-action-item-layout",4),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.xp6(1),h.Q6J("identifier",B.item.identifier)("iconKey",B.item.iconKey)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(2,5,B.item.labelKey))}}let Ji=(()=>{class Y extends si{constructor(B,Te){super(B,Te)}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Et.x),h.Y36(ot.iO))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-list-action-item"]],features:[h.qOj],decls:5,vars:5,consts:[["mat-list-item","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-list-item","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","","rel","noopener","target","_blank",3,"href","click"],[3,"identifier","iconKey","imageId","showImage","label"],["mat-list-item","",3,"routerLink","queryParams","click"],[3,"identifier","iconKey","iconColor","imageId","showImage","label"],["mat-list-item","",3,"click"],["iconKey","icon_pro_lightning","iconColor","pro-gold",3,"showImage","label"]],template:function(B,Te){1&B&&(h.YNc(0,us,3,8,"a",0),h.YNc(1,ps,3,10,"a",1),h.YNc(2,gs,3,7,"button",2),h.YNc(3,ms,3,4,"button",2),h.YNc(4,Yi,3,7,"button",2)),2&B&&(h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.EXTERNAL_NAV),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.INTERNAL_NAV),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.MODAL),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.UPSELL),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.CLICK))},directives:[e.O5,oi.Tg,Vi,u.yS],pipes:[Se.X],styles:["a[_ngcontent-%COMP%]{color:#282828;text-decoration:none}button[_ngcontent-%COMP%]{border:0;background:transparent}"],changeDetection:0}),Y})();function So(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"a",3),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.item.action.onClick&&Ve.item.action.onClick()}),h._UZ(1,"nav-action-item-layout",4),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.Q6J("href",B.getUrlFromExternalAction(B.item),h.LSH),h.xp6(1),h.Q6J("identifier",B.item.identifier)("iconKey",B.item.iconKey)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(2,6,B.item.labelKey))}}function hs(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"a",5),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.item.action.onClick&&Ve.item.action.onClick()}),h._UZ(1,"nav-action-item-layout",6),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.Q6J("routerLink",B.getRouterLinkFromInternalAction(B.item))("queryParams",B.getRouterParamsFromInternalAction(B.item)),h.xp6(1),h.Q6J("identifier",B.item.identifier)("iconKey",B.item.iconKey)("iconColor",B.item.iconColor)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(2,8,B.item.labelKey))}}function Es(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",7),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.handleModalAction(Ve.item.action)}),h._UZ(1,"nav-action-item-layout",4),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.xp6(1),h.Q6J("identifier",B.item.identifier)("iconKey",B.item.iconKey)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(2,5,B.item.labelKey))}}function fs(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",7),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.handleUpsellAction(Ve.item.action)}),h._UZ(1,"nav-action-item-layout",8),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.xp6(1),h.Q6J("showImage",B.showImage)("label",B.item.label||h.lcZ(2,2,B.item.labelKey))}}function vs(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",7),h.NdJ("click",function(){return h.CHM(B),h.oxw().item.action.onClick()}),h._UZ(1,"nav-action-item-layout",4),h.ALo(2,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.xp6(1),h.Q6J("identifier",B.item.identifier)("iconKey",B.item.iconKey)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(2,5,B.item.labelKey))}}let Cs=(()=>{class Y extends si{constructor(B,Te){super(B,Te)}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Et.x),h.Y36(ot.iO))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-menu-action-item"]],features:[h.qOj],decls:5,vars:5,consts:[["mat-menu-item","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-menu-item","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","rel","noopener","target","_blank",3,"href","click"],[3,"identifier","iconKey","imageId","showImage","label"],["mat-menu-item","",3,"routerLink","queryParams","click"],[3,"identifier","iconKey","iconColor","imageId","showImage","label"],["mat-menu-item","",3,"click"],["iconKey","icon_pro_lightning","iconColor","pro-gold",3,"showImage","label"]],template:function(B,Te){1&B&&(h.YNc(0,So,3,8,"a",0),h.YNc(1,hs,3,10,"a",1),h.YNc(2,Es,3,7,"button",2),h.YNc(3,fs,3,4,"button",2),h.YNc(4,vs,3,7,"button",2)),2&B&&(h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.EXTERNAL_NAV),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.INTERNAL_NAV),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.MODAL),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.UPSELL),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.CLICK))},directives:[e.O5,ci.OP,Vi,u.yS],pipes:[Se.X],styles:["a[_ngcontent-%COMP%]{color:#282828;text-decoration:none}button[_ngcontent-%COMP%]{border:0;background:transparent}"],changeDetection:0}),Y})();function ys(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"a",2),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.item.action.onClick&&Ve.item.action.onClick()}),h.ALo(1,"translate"),h.ALo(2,"translate"),h.ALo(3,"async"),h._UZ(4,"nav-action-item-header-layout",3),h.ALo(5,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.Q6J("matTooltip",B.item.label||h.lcZ(2,10,B.item.labelKey))("matTooltipDisabled",!B.showImage||h.lcZ(3,12,B.shouldHideTooltip$))("href",B.getUrlFromExternalAction(B.item),h.LSH),h.uIk("aria-label",B.item.label||h.lcZ(1,8,B.item.labelKey)),h.xp6(4),h.Q6J("iconKey",B.item.iconKey)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(5,14,B.item.labelKey))}}const Ss=function(){return{exact:!0}};function Io(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"a",4),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw();return Ve.item.action.onClick&&Ve.item.action.onClick()}),h.ALo(1,"translate"),h.ALo(2,"translate"),h.ALo(3,"async"),h._UZ(4,"nav-action-item-header-layout",3),h.ALo(5,"translate"),h.qZA()}if(2&Y){const B=h.oxw();h.Q6J("matTooltip",B.item.label||h.lcZ(2,12,B.item.labelKey))("matTooltipDisabled",!B.showImage||h.lcZ(3,14,B.shouldHideTooltip$))("routerLink",B.getRouterLinkFromInternalAction(B.item))("queryParams",B.getRouterParamsFromInternalAction(B.item))("routerLinkActiveOptions",h.DdM(18,Ss)),h.uIk("aria-label",B.item.label||h.lcZ(1,10,B.item.labelKey)),h.xp6(4),h.Q6J("iconKey",B.item.iconKey)("imageId",B.item.imageId)("showImage",B.showImage)("label",B.item.label||h.lcZ(5,16,B.item.labelKey))}}let To=(()=>{class Y extends si{constructor(B,Te,Ve){super(B,Te),this.breakpointService=Ve,this.shouldHideTooltip$=this.breakpointService.isSize$(["small","medium"]).pipe((0,ee.U)(At=>!At))}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Et.x),h.Y36(ot.iO),h.Y36(Oi.r))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-header-action-item"]],features:[h.qOj],decls:2,vars:2,consts:[["mat-button","","rel","noopener","target","_blank",3,"matTooltip","matTooltipDisabled","href","click",4,"ngIf"],["mat-button","","routerLinkActive","active",3,"matTooltip","matTooltipDisabled","routerLink","queryParams","routerLinkActiveOptions","click",4,"ngIf"],["mat-button","","rel","noopener","target","_blank",3,"matTooltip","matTooltipDisabled","href","click"],[3,"iconKey","imageId","showImage","label"],["mat-button","","routerLinkActive","active",3,"matTooltip","matTooltipDisabled","routerLink","queryParams","routerLinkActiveOptions","click"]],template:function(B,Te){1&B&&(h.YNc(0,ys,6,16,"a",0),h.YNc(1,Io,6,19,"a",1)),2&B&&(h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.EXTERNAL_NAV),h.xp6(1),h.Q6J("ngIf",Te.item.action.type===Te.NavActionTypeEnum.INTERNAL_NAV))},directives:[e.O5,ae.zs,s.gM,yo,u.yS,u.Od],pipes:[Se.X,e.Ov],styles:["a[_ngcontent-%COMP%]{height:100%;display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}a[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[mat-button][_ngcontent-%COMP%]{padding:0 8px;border-radius:0}@media (min-width: 1280px){[mat-button][_ngcontent-%COMP%]{padding:0 20px}}"],changeDetection:0}),Y})();function Qi(Y,Be){if(1&Y&&h._UZ(0,"nav-list-action-item",2),2&Y){const B=h.oxw();h.Q6J("item",B.item)("showImage",B.showImage)}}function Is(Y,Be){if(1&Y&&h._UZ(0,"nav-menu-action-item",2),2&Y){const B=h.oxw();h.Q6J("item",B.item)("showImage",B.showImage)}}function Ts(Y,Be){if(1&Y&&h._UZ(0,"nav-header-action-item",2),2&Y){const B=h.oxw();h.Q6J("item",B.item)("showImage",B.showImage)}}let Mi=(()=>{class Y{constructor(){this.showImage=!0,this.NavActionDisplayType=$e}}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-action-item"]],inputs:{displayType:"displayType",item:"item",showImage:"showImage"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"item","showImage",4,"ngSwitchCase"],[3,"item","showImage"]],template:function(B,Te){1&B&&(h.ynx(0,0),h.YNc(1,Qi,1,2,"nav-list-action-item",1),h.YNc(2,Is,1,2,"nav-menu-action-item",1),h.YNc(3,Ts,1,2,"nav-header-action-item",1),h.BQk()),2&B&&(h.Q6J("ngSwitch",Te.displayType),h.xp6(1),h.Q6J("ngSwitchCase",Te.NavActionDisplayType.LIST),h.xp6(1),h.Q6J("ngSwitchCase",Te.NavActionDisplayType.MENU),h.xp6(1),h.Q6J("ngSwitchCase",Te.NavActionDisplayType.HEADER))},directives:[e.RF,e.n9,Ji,Cs,To],encapsulation:2,changeDetection:0}),Y})();function As(Y,Be){if(1&Y&&(h.TgZ(0,"h3",4),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&Y){const B=Be.ngIf,Te=h.oxw(2);h.Q6J("ngClass",Te.displayType),h.xp6(1),h.hij(" ",h.lcZ(2,2,B)," ")}}function Os(Y,Be){if(1&Y&&h._UZ(0,"nav-action-item",7),2&Y){const B=Be.$implicit,Te=h.oxw(3);h.Q6J("item",B)("displayType",Te.displayType)}}function Jn(Y,Be){1&Y&&h._UZ(0,"mat-divider")}function Ao(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,Os,1,2,"nav-action-item",5),h.YNc(2,Jn,1,0,"mat-divider",6),h.BQk()),2&Y){const B=Be.ngIf,Te=h.oxw().last;h.xp6(1),h.Q6J("ngForOf",B),h.xp6(1),h.Q6J("ngIf",!Te&&B.length)}}function Ps(Y,Be){1&Y&&h._UZ(0,"mat-divider")}function ji(Y,Be){if(1&Y&&(h.TgZ(0,"div",8),h._UZ(1,"mat-spinner",9),h.qZA(),h.YNc(2,Ps,1,0,"mat-divider",6)),2&Y){const B=h.oxw().last;h.xp6(2),h.Q6J("ngIf",!B)}}function bs(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,As,3,4,"h3",1),h.ALo(2,"async"),h.YNc(3,Ao,3,2,"ng-container",2),h.ALo(4,"async"),h.YNc(5,ji,3,1,"ng-template",null,3,h.W1O),h.BQk()),2&Y){const B=Be.$implicit,Te=h.MAs(6);h.xp6(1),h.Q6J("ngIf",h.lcZ(2,3,B.labelKey)),h.xp6(2),h.Q6J("ngIf",h.lcZ(4,5,B.items))("ngIfElse",Te)}}let Oo=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-groups"]],inputs:{groups:"groups",displayType:"displayType"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["matSubheader","",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["groupLoading",""],["matSubheader","",3,"ngClass"],[3,"item","displayType",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"item","displayType"],[1,"cb-padding-large"],["diameter","24"]],template:function(B,Te){1&B&&h.YNc(0,bs,7,7,"ng-container",0),2&B&&h.Q6J("ngForOf",Te.groups)},directives:[e.sg,e.O5,oi.gs,e.mk,Mi,Ut.d,_t.Ou],pipes:[e.Ov,Se.X],styles:["h3[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500;color:#0000008a}h3.menu[_ngcontent-%COMP%]{padding-bottom:8px}"],changeDetection:0}),Y})();const Ls=function(Y){return{compact:Y}};function Ms(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",4),h.NdJ("menuClosed",function(){return h.CHM(B),h.oxw().onMenuClosed()}),h.ALo(1,"translate"),h.ALo(2,"translate"),h.ALo(3,"translate"),h.ALo(4,"async"),h._UZ(5,"nav-action-item-header-layout",5),h.ALo(6,"translate"),h.qZA()}if(2&Y){const B=Be.ngIf,Te=h.oxw(),Ve=h.MAs(3);h.Q6J("ngClass",h.VKq(22,Ls,Te.hideLabel))("matMenuTriggerFor",Ve)("matTooltip",h.lcZ(3,16,B.labelKey))("matTooltipDisabled",!Te.showImage&&!Te.hideLabel||h.lcZ(4,18,Te.shouldHideTooltip$)),h.uIk("data-heap-nav-trigger",h.lcZ(1,12,B.labelKey))("aria-label",h.lcZ(2,14,B.labelKey)),h.xp6(5),h.Q6J("imageId",B.imageId)("iconKey",B.iconKey)("showImage",Te.showImage)("showChevron",!0)("label",h.lcZ(6,20,B.labelKey))("hideLabel",Te.hideLabel)}}function Ds(Y,Be){if(1&Y&&(h.TgZ(0,"mat-nav-list",6),h._UZ(1,"nav-groups",7),h.qZA()),2&Y){const B=h.oxw();h.xp6(1),h.Q6J("groups",B.navMenu.groups)("displayType",B.displayType)}}let qi=(()=>{class Y{constructor(B,Te,Ve,At,en){this.viewportService=B,this.elementRef=Te,this.changeDetectorRef=Ve,this.document=At,this.breakpointService=en,this.showImage=!1,this.hideLabel=!1,this.displayType=$e.MENU,this.onDestroy$=new H.xQ,this.shouldHideTooltip$=this.breakpointService.isSize$(["small","medium"]).pipe((0,ee.U)(tn=>!tn))}ngOnInit(){this.closeMenuOnElementHide()}ngOnDestroy(){this.onDestroy$.next()}ngAfterViewInit(){this.listenForElementOpen()}onMenuClosed(){this.changeDetectorRef.markForCheck()}listenForElementOpen(){this.trigger.menuOpened.pipe((0,ht.w)(()=>(0,bi.R)(this.document.body,"click").pipe((0,Li.T)(1),(0,J.q)(1))),(0,z.R)(this.onDestroy$)).subscribe(()=>{this.trigger.closeMenu()})}closeMenuOnElementHide(){this.baseElementLeavesView$().subscribe(()=>{this.trigger&&this.trigger.closeMenu()})}baseElementLeavesView$(){return this.viewportService.isInViewport$(this.elementRef.nativeElement).pipe((0,z.R)(this.onDestroy$),(0,Z.h)(B=>!B))}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Ki.v),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(e.K0),h.Y36(Oi.r))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["nav-menu"]],viewQuery:function(B,Te){if(1&B&&h.Gf(ci.p6,5),2&B){let Ve;h.iGM(Ve=h.CRH())&&(Te.trigger=Ve.first)}},inputs:{navMenu:"navMenu",showImage:"showImage",hideLabel:"hideLabel"},decls:5,vars:3,consts:[["mat-button","",3,"ngClass","matMenuTriggerFor","matTooltip","matTooltipDisabled","menuClosed",4,"ngIf"],["hasBackdrop","false"],["menu","matMenu"],["matMenuContent",""],["mat-button","",3,"ngClass","matMenuTriggerFor","matTooltip","matTooltipDisabled","menuClosed"],[3,"imageId","iconKey","showImage","showChevron","label","hideLabel"],["role","presentation"],[3,"groups","displayType"]],template:function(B,Te){1&B&&(h.YNc(0,Ms,7,24,"button",0),h.ALo(1,"async"),h.TgZ(2,"mat-menu",1,2),h.YNc(4,Ds,2,2,"ng-template",3),h.qZA()),2&B&&h.Q6J("ngIf",h.lcZ(1,1,Te.navMenu.trigger))},directives:[e.O5,ae.lW,e.mk,ci.p6,s.gM,yo,ci.VK,ci.KA,oi.Hk,Oo],pipes:[Se.X,e.Ov],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}.mat-menu-trigger[_ngcontent-%COMP%]{border-radius:0}.mat-menu-trigger[aria-expanded=true][_ngcontent-%COMP%]{background:rgba(233,239,245,.1)}button[_ngcontent-%COMP%]{padding:0 16px}button[_ngcontent-%COMP%]   button.compact[_ngcontent-%COMP%]{padding:0}@media (min-width: 1280px){button[_ngcontent-%COMP%]{padding:0 20px}}"],changeDetection:0}),Y})();var Po=t(46195),bo=t(61531),Lo=t(82973),Di=t(53247),Xi=t(74160);function Rs(Y,Be){1&Y&&h.GkF(0)}function xs(Y,Be){if(1&Y&&(h.TgZ(0,"div",6)(1,"div"),h._uU(2),h.qZA(),h.YNc(3,Rs,1,0,"ng-container",7),h.qZA()),2&Y){const B=h.oxw(2).ngIf,Te=h.MAs(4);h.xp6(2),h.Oqu(B.mobileBannerText),h.xp6(1),h.Q6J("ngTemplateOutlet",Te)}}function Ns(Y,Be){1&Y&&h.GkF(0)}function Fs(Y,Be){if(1&Y&&(h.TgZ(0,"div"),h.YNc(1,Ns,1,0,"ng-container",7),h.qZA()),2&Y){h.oxw(2);const B=h.MAs(4);h.xp6(1),h.Q6J("ngTemplateOutlet",B)}}function ws(Y,Be){1&Y&&(h.ynx(0),h.YNc(1,xs,4,2,"div",5),h.YNc(2,Fs,2,1,"div",3),h.BQk()),2&Y&&(h.xp6(1),h.Q6J("ifBreakpoint","xsmall"),h.xp6(1),h.Q6J("ifBreakpoint","small"))}function Us(Y,Be){1&Y&&h.GkF(0)}function Bs(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,Us,1,0,"ng-container",7),h.BQk()),2&Y){h.oxw();const B=h.MAs(4);h.xp6(1),h.Q6J("ngTemplateOutlet",B)}}function ks(Y,Be){if(1&Y&&(h.TgZ(0,"upsell-link",11),h._uU(1),h.qZA()),2&Y){const B=h.oxw(2).ngIf,Te=h.oxw(2);h.Q6J("externalUrl",Te.tryProUrl),h.xp6(1),h.hij(" ",B.buttonText," ")}}const Hs=function(){return["/account/billing"]},zs=function(Y,Be){return{redirect_to:Y,upgrade_trial:Be}};function Gs(Y,Be){if(1&Y&&(h.TgZ(0,"upsell-link",12),h.ALo(1,"async"),h._uU(2),h.qZA()),2&Y){const B=h.oxw(2).ngIf,Te=h.oxw(2);h.Q6J("bypassProductSelectionFlow",!0)("internalRoutePath",h.DdM(6,Hs))("internalRouteParams",h.WLB(7,zs,h.lcZ(1,4,Te.currentUrl$),Te.allProProducts)),h.xp6(2),h.hij(" ",B.buttonText," ")}}function Zs(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",13),h.NdJ("click",function(){return h.CHM(B),h.oxw(4).showContactsUpsellDialog()}),h.TgZ(1,"label-with-icon",14),h._uU(2),h.qZA()()}if(2&Y){const B=h.oxw(2).ngIf;h.xp6(2),h.hij(" ",B.buttonText," ")}}function Ws(Y,Be){if(1&Y&&(h.YNc(0,ks,2,2,"upsell-link",8),h.YNc(1,Gs,3,10,"upsell-link",9),h.YNc(2,Zs,3,1,"button",10)),2&Y){const B=h.oxw().ngIf,Te=h.oxw(2);h.Q6J("ngIf",B.type===Te.UpsellType.trial),h.xp6(1),h.Q6J("ngIf",B.type===Te.UpsellType.upgradeFromTrial),h.xp6(1),h.Q6J("ngIf",B.type===Te.UpsellType.contacts)}}function $s(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,ws,3,2,"ng-container",2),h.YNc(2,Bs,2,1,"ng-container",3),h.YNc(3,Ws,3,3,"ng-template",null,4,h.W1O),h.BQk()),2&Y){const B=h.oxw(2);h.xp6(2),h.Q6J("ifBreakpoint",B.buttonBreakpoints)}}function Ks(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,$s,5,1,"ng-container",1),h.ALo(2,"async"),h.BQk()),2&Y){const B=h.oxw();h.xp6(1),h.Q6J("ngIf",h.lcZ(2,1,B.upsellButtonConfig$))}}let Mo=(()=>{class Y{constructor(B,Te,Ve,At){this.store=B,this.urlService=Te,this.routingHelper=Ve,this.headerUpsellService=At,this.UpsellType=li,this.maintenanceModeBillingFlag=at.TT.MAINTENANCE_MODE_BILLING,this.allProProducts=j.sJ,this.tryProUrl=this.urlService.getProUpsellABTestURL(),this.currentUrl$=this.routingHelper.getCurrentRedirectUrl$(),this.upsellButtonConfig$=this.headerUpsellService.getUpsellButtonConfig$(),this.buttonBreakpoints=["medium","desktop"]}showContactsUpsellDialog(){this.store.dispatch((0,Po.Pc)())}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Q.yh),h.Y36(ot.iO),h.Y36(Zi.VP),h.Y36(Wi))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["header-upsell"]],decls:1,vars:1,consts:[[4,"ifNotFeatureFlagBoolean"],[4,"ngIf"],[4,"ifPlatformBrowser"],[4,"ifBreakpoint"],["upsellButton",""],["class","mobile-upsell-banner",4,"ifBreakpoint"],[1,"mobile-upsell-banner"],[4,"ngTemplateOutlet"],["triggerLocation","header-upsell",3,"externalUrl",4,"ngIf"],["triggerLocation","header-upsell",3,"bypassProductSelectionFlow","internalRoutePath","internalRouteParams",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["triggerLocation","header-upsell",3,"externalUrl"],["triggerLocation","header-upsell",3,"bypassProductSelectionFlow","internalRoutePath","internalRouteParams"],["mat-raised-button","",3,"click"],["iconKey","icon_pro_lightning","iconColor","inherit"]],template:function(B,Te){1&B&&h.YNc(0,Ks,3,3,"ng-container",0),2&B&&h.Q6J("ifNotFeatureFlagBoolean",Te.maintenanceModeBillingFlag)},directives:[bo.l,e.O5,Lo.W,mn.G,e.tP,Di.I,ae.lW,Xi.d],pipes:[e.Ov],styles:["button.mat-raised-button[_ngcontent-%COMP%]{background-color:#f5a623}.mobile-upsell-banner[_ngcontent-%COMP%]{font-size:20px;font-weight:500;background-color:#146aff;color:#fff;padding:16px}.mobile-upsell-banner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),Y})();function Vs(Y,Be){if(1&Y&&h._UZ(0,"nav-action-item",4),2&Y){const B=h.oxw().ngIf,Te=h.oxw();h.Q6J("item",B)("showImage",!0)("displayType",Te.displayType)}}function Do(Y,Be){1&Y&&(h.ynx(0),h.YNc(1,Vs,1,3,"nav-action-item",3),h.BQk()),2&Y&&(h.xp6(1),h.Q6J("ifBreakpoint","desktop"))}function eo(Y,Be){if(1&Y&&h._UZ(0,"nav-action-item",4),2&Y){const B=Be.$implicit,Te=h.oxw();h.Q6J("item",B)("showImage",!0)("displayType",Te.displayType)}}function Ro(Y,Be){if(1&Y&&h._UZ(0,"nav-action-item",4),2&Y){const B=Be.ngIf,Te=h.oxw(2);h.Q6J("item",B)("showImage",!0)("displayType",Te.displayType)}}function xo(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,Ro,1,3,"nav-action-item",5),h.ALo(2,"async"),h.BQk()),2&Y){const B=h.oxw();h.xp6(1),h.Q6J("ngIf",h.lcZ(2,1,B.recommendationsItem$))}}let di=(()=>{class Y{constructor(B){this.globalNavItemService=B,this.recommendationsItem$=this.globalNavItemService.getAccountRecommendationsItem(),this.advancedSearchItems$=this.globalNavItemService.getLoggedInGlobalNavAdvancedSearchItems$(),this.chromeExtensionItem$=this.globalNavItemService.getLoggedInChromeExtensionItem$(),this.displayType=$e.HEADER}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(zt))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["logged-in-nav-action-items"]],decls:5,vars:7,consts:[[4,"ngIf"],[3,"item","showImage","displayType",4,"ngFor","ngForOf"],[4,"ifBreakpoint"],[3,"item","showImage","displayType",4,"ifBreakpoint"],[3,"item","showImage","displayType"],[3,"item","showImage","displayType",4,"ngIf"]],template:function(B,Te){1&B&&(h.YNc(0,Do,2,1,"ng-container",0),h.ALo(1,"async"),h.YNc(2,eo,1,3,"nav-action-item",1),h.ALo(3,"async"),h.YNc(4,xo,3,3,"ng-container",2)),2&B&&(h.Q6J("ngIf",h.lcZ(1,3,Te.chromeExtensionItem$)),h.xp6(2),h.Q6J("ngForOf",h.lcZ(3,5,Te.advancedSearchItems$)),h.xp6(2),h.Q6J("ifBreakpoint","desktop"))},directives:[e.O5,mn.G,Mi,e.sg],pipes:[e.Ov],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}"],changeDetection:0}),Y})();function No(Y,Be){1&Y&&h._UZ(0,"nav-menu",1),2&Y&&h.Q6J("navMenu",Be.$implicit)("showImage",!0)}let Un=(()=>{class Y{constructor(B){this.globalNavMenuService=B,this.navMenus=this.globalNavMenuService.getUserMenus()}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Ai))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["logged-in-nav-menus"]],decls:1,vars:1,consts:[[3,"navMenu","showImage",4,"ngFor","ngForOf"],[3,"navMenu","showImage"]],template:function(B,Te){1&B&&h.YNc(0,No,1,2,"nav-menu",0),2&B&&h.Q6J("ngForOf",Te.navMenus)},directives:[e.sg,qi],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}"],changeDetection:0}),Y})();function Zn(Y,Be){if(1&Y&&h._UZ(0,"nav-action-item",6),2&Y){const B=h.oxw().ngIf,Te=h.oxw();h.Q6J("item",B)("showImage",!1)("displayType",Te.displayType)}}const Ln=function(){return["medium","xlarge"]};function Fo(Y,Be){1&Y&&(h.ynx(0),h.YNc(1,Zn,1,3,"nav-action-item",5),h.BQk()),2&Y&&(h.xp6(1),h.Q6J("ifBreakpoint",h.DdM(1,Ln)))}function to(Y,Be){1&Y&&h._UZ(0,"nav-menu",7),2&Y&&h.Q6J("navMenu",Be.$implicit)("showImage",!1)}function Ri(Y,Be){if(1&Y&&h._UZ(0,"nav-action-item",8),2&Y){const B=Be.ngIf,Te=h.oxw();h.Q6J("item",B)("showImage",!1)("displayType",Te.displayType)}}function yi(Y,Be){if(1&Y&&h._UZ(0,"nav-action-item",6),2&Y){const B=Be.ngIf,Te=h.oxw();h.Q6J("item",B)("showImage",!1)("displayType",Te.displayType)}}let ai=(()=>{class Y{constructor(B,Te){this.globalNavMenuService=B,this.globalNavItemService=Te,this.loginItem$=this.globalNavItemService.getLoginItem(),this.pricingItem$=this.globalNavItemService.getPricingLink(),this.displayType=$e.HEADER,this.chromeExtensionItem$=this.globalNavItemService.getAnonChromeExtensionItem$()}ngOnInit(){this.largeScreenMenus=this.globalNavMenuService.getAnonMenus(),this.fullResourcesMenu=this.globalNavMenuService.getFullResourcesMenu()}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Ai),h.Y36(zt))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["anon-nav-row"]],decls:8,vars:12,consts:[[4,"ngIf"],["class","hide show-gt-md",3,"navMenu","showImage",4,"ngFor","ngForOf"],[1,"hide-gt-md",3,"navMenu","showImage"],["class","hide show-gt-md",3,"item","showImage","displayType",4,"ngIf"],[3,"item","showImage","displayType",4,"ngIf"],[3,"item","showImage","displayType",4,"ifBreakpoint"],[3,"item","showImage","displayType"],[1,"hide","show-gt-md",3,"navMenu","showImage"],[1,"hide","show-gt-md",3,"item","showImage","displayType"]],template:function(B,Te){1&B&&(h.YNc(0,Fo,2,2,"ng-container",0),h.ALo(1,"async"),h.YNc(2,to,1,2,"nav-menu",1),h._UZ(3,"nav-menu",2),h.YNc(4,Ri,1,3,"nav-action-item",3),h.ALo(5,"async"),h.YNc(6,yi,1,3,"nav-action-item",4),h.ALo(7,"async")),2&B&&(h.Q6J("ngIf",h.lcZ(1,6,Te.chromeExtensionItem$)),h.xp6(2),h.Q6J("ngForOf",Te.largeScreenMenus),h.xp6(1),h.Q6J("navMenu",Te.fullResourcesMenu)("showImage",!1),h.xp6(1),h.Q6J("ngIf",h.lcZ(5,8,Te.pricingItem$)),h.xp6(2),h.Q6J("ngIf",h.lcZ(7,10,Te.loginItem$)))},directives:[e.O5,mn.G,Mi,e.sg,qi],pipes:[e.Ov],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}"],changeDetection:0}),Y})();var no=t(60833);function io(Y,Be){if(1&Y&&h._UZ(0,"cb-logo",13),2&Y){const B=h.oxw(2);h.Q6J("key",B.STANDARD_LOGO_KEY)}}function wo(Y,Be){1&Y&&h._UZ(0,"icon",14)}function _i(Y,Be){if(1&Y&&(h.TgZ(0,"a",9),h.ALo(1,"translate"),h.YNc(2,io,1,1,"cb-logo",10),h.YNc(3,wo,1,0,"icon",11),h._UZ(4,"img",12),h.qZA()),2&Y){const B=h.oxw();h.uIk("aria-label",h.lcZ(1,4,"CBL.COMMON.CRUNCHBASE")),h.xp6(2),h.Q6J("ifBreakpoint",B.desktopBreakpoints),h.xp6(1),h.Q6J("ifBreakpoint",B.mobileBreakpoints),h.xp6(1),h.Q6J("src",B.crunchbasePrintLogoSrc,h.LSH)}}function Uo(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",17),h.NdJ("click",function(){return h.CHM(B),h.oxw(2).toggleMultiSearchMode(!1)}),h.TgZ(1,"span",18),h._UZ(2,"icon",19),h.TgZ(3,"span",20),h._uU(4),h.ALo(5,"translate"),h.qZA()()()}2&Y&&(h.xp6(4),h.hij(" ",h.lcZ(5,1,"CBL.COMMON.BACK")," "))}function oa(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",21),h.NdJ("click",function(){return h.CHM(B),h.oxw(2).toggleMultiSearchMode(!1)}),h._UZ(1,"icon",22),h.qZA()}}function sa(Y,Be){1&Y&&(h.ynx(0),h.YNc(1,Uo,6,3,"button",15),h.YNc(2,oa,2,0,"button",16),h.BQk()),2&Y&&(h.xp6(1),h.Q6J("ifBreakpoint","desktop"),h.xp6(1),h.Q6J("ifBreakpoint","mobile"))}function aa(Y,Be){1&Y&&h._UZ(0,"header-upsell",28)}function ra(Y,Be){1&Y&&(h.ynx(0),h._UZ(1,"logged-in-nav-action-items")(2,"logged-in-nav-menus"),h.BQk())}function la(Y,Be){1&Y&&h._UZ(0,"anon-nav-row")}function ca(Y,Be){if(1&Y&&(h.ynx(0),h._UZ(1,"nav-menu",23),h.ALo(2,"async"),h.TgZ(3,"div",24),h.YNc(4,aa,1,0,"header-upsell",25),h.ALo(5,"async"),h.YNc(6,ra,3,0,"ng-container",26),h.ALo(7,"async"),h.YNc(8,la,1,0,"ng-template",null,27,h.W1O),h.qZA(),h.BQk()),2&Y){const B=h.MAs(9),Te=h.oxw();h.xp6(1),h.Q6J("navMenu",Te.advancedMenu)("hideLabel",h.lcZ(2,5,Te.hideAdvancedLabel$)),h.xp6(3),h.Q6J("ngIf",h.lcZ(5,7,Te.showHeaderUpsell$)),h.xp6(2),h.Q6J("ngIf",h.lcZ(7,9,Te.isLoggedIn$))("ngIfElse",B)}}function Ys(Y,Be){1&Y&&h._UZ(0,"header-upsell",28)}function da(Y,Be){1&Y&&h._UZ(0,"logged-in-nav-action-items")}function Js(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,Ys,1,0,"header-upsell",25),h.ALo(2,"async"),h.YNc(3,da,1,0,"logged-in-nav-action-items",3),h.ALo(4,"async"),h.BQk()),2&Y){const B=h.oxw(2);h.xp6(1),h.Q6J("ngIf",h.lcZ(2,2,B.showHeaderUpsell$)),h.xp6(2),h.Q6J("ngIf",h.lcZ(4,4,B.isLoggedIn$))}}function _a(Y,Be){if(1&Y){const B=h.EpF();h.ynx(0),h.YNc(1,Js,5,6,"ng-container",6),h.TgZ(2,"button",29),h.NdJ("click",function(){return h.CHM(B),h.oxw().toggleNav()}),h.ALo(3,"translate"),h._UZ(4,"icon",30),h.qZA(),h.BQk()}2&Y&&(h.xp6(1),h.Q6J("ifBreakpoint","small"),h.xp6(1),h.uIk("aria-label",h.lcZ(3,2,"CBL.COMMON.TOGGLE_NAVIGATION")))}const xi=function(Y,Be){return{"multi-search":Y,"logged-in":Be}},ti=function(Y){return{show:Y}};let Qs=(()=>{class Y{constructor(B,Te,Ve,At,en,tn,ri){this.progressService=B,this.imageService=Te,this.changeDetectorRef=Ve,this.userService=At,this.headerUpsellService=en,this.globalNavMenuService=tn,this.breakpointService=ri,this.sidenavToggle=new h.vpe,this.multiSearchMode=new h.vpe,this.showHeaderUpsell$=this.headerUpsellService.showHeaderUpsell$(),this.advancedMenu=this.globalNavMenuService.getAdvancedMenu(),this.STANDARD_LOGO_KEY="crunchbase",this.isMultiSearchMode=!1,this.mobileBreakpoints=["xsmall","small"],this.desktopBreakpoints=["medium","desktop"],this.hideAdvancedLabel$=this.breakpointService.isSize$("medium"),this.onDestroy=new H.xQ}ngOnInit(){this.setImageSources(),this.inProgress$=this.progressService.getIsInProgress$(),this.isLoggedIn$=this.userService.getIsLoggedIn$()}ngOnDestroy(){this.onDestroy.next()}toggleNav(){this.sidenavToggle.emit()}toggleMultiSearchMode(B){B!==this.isMultiSearchMode&&(void 0===B&&(B=!this.isMultiSearchMode),this.isMultiSearchMode=B,this.changeDetectorRef.markForCheck(),this.multiSearchMode.emit(B),B||(this.multiSearchComponent.clearInput(),this.multiSearchComponent.unfocusInput()))}setImageSources(){this.crunchbasePrintLogoSrc=this.imageService.getOriginalPublicImageUrl(pt.Wh.logos.dark)}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(Me.N),h.Y36(pt.AJ),h.Y36(h.sBO),h.Y36(M.KD),h.Y36(Wi),h.Y36(Ai),h.Y36(Oi.r))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["app-header"]],viewQuery:function(B,Te){if(1&B&&h.Gf(rn,5),2&B){let Ve;h.iGM(Ve=h.CRH())&&(Te.multiSearchComponent=Ve.first)}},outputs:{sidenavToggle:"sidenavToggle",multiSearchMode:"multiSearchMode"},decls:12,vars:15,consts:[[1,"header-contents","mat-elevation-z3","layout-row","layout-align-space-between-center",3,"ngClass"],[1,"logo-or-back-button"],["routerLink","/","class","logo flex-none cb-margin-xlarge-right layout-row layout-align-start-center",4,"ngIf"],[4,"ngIf"],[1,"flex-grow","hide-print",3,"isMultiSearchMode"],[1,"hide-print","flex-noshrink","layout-row","layout-align-space-between-stretch","cb-height-100"],[4,"ifBreakpoint"],[1,"progress-container"],["color","primary","mode","indeterminate",1,"hide",3,"ngClass"],["routerLink","/",1,"logo","flex-none","cb-margin-xlarge-right","layout-row","layout-align-start-center"],["class","hide-print cb-font-size-large","color","inherit",3,"key",4,"ifBreakpoint"],["key","icon_cb_round","size","xxlarge","color","primary",4,"ifBreakpoint"],[1,"print-logo",3,"src"],["color","inherit",1,"hide-print","cb-font-size-large",3,"key"],["key","icon_cb_round","size","xxlarge","color","primary"],["class","flex-none cb-font-size-large cb-font-weight-default","mat-button","",3,"click",4,"ifBreakpoint"],["class","flex-none cb-margin-xlarge-right","mat-icon-button","",3,"click",4,"ifBreakpoint"],["mat-button","",1,"flex-none","cb-font-size-large","cb-font-weight-default",3,"click"],[1,"layout-row","layout-align-start-center"],["key","icon_arrow_left","color","inherit","size","xlarge",1,"cb-margin-medium-right","flex-none"],[1,"flex-noshrink"],["mat-icon-button","",1,"flex-none","cb-margin-xlarge-right",3,"click"],["key","icon_arrow_left","color","inherit","size","xlarge"],[1,"advanced-menu",3,"navMenu","hideLabel"],[1,"layout-row","layout-align-end-stretch"],["class","layout-row layout-align-center-center cb-margin-large-horizontal",4,"ngIf"],[4,"ngIf","ngIfElse"],["anonymousNav",""],[1,"layout-row","layout-align-center-center","cb-margin-large-horizontal"],["mat-icon-button","",1,"hide-print","hamburger-menu",3,"click"],["key","icon_menu","size","xxlarge","color","inherit"]],template:function(B,Te){1&B&&(h.TgZ(0,"div",0),h.ALo(1,"async"),h.TgZ(2,"div",1),h.YNc(3,_i,5,6,"a",2),h.YNc(4,sa,3,2,"ng-container",3),h.qZA(),h.TgZ(5,"multi-search",4),h.NdJ("isMultiSearchMode",function(){return Te.toggleMultiSearchMode(!0)}),h.qZA(),h.TgZ(6,"div",5),h.YNc(7,ca,10,11,"ng-container",6),h.YNc(8,_a,5,4,"ng-container",6),h.qZA()(),h.TgZ(9,"div",7),h._UZ(10,"mat-progress-bar",8),h.ALo(11,"async"),h.qZA()),2&B&&(h.Q6J("ngClass",h.WLB(10,xi,Te.isMultiSearchMode,h.lcZ(1,6,Te.isLoggedIn$))),h.xp6(3),h.Q6J("ngIf",!Te.isMultiSearchMode),h.xp6(1),h.Q6J("ngIf",Te.isMultiSearchMode),h.xp6(3),h.Q6J("ifBreakpoint",Te.desktopBreakpoints),h.xp6(1),h.Q6J("ifBreakpoint",Te.mobileBreakpoints),h.xp6(2),h.Q6J("ngClass",h.VKq(13,ti,h.lcZ(11,8,Te.inProgress$))))},directives:[e.mk,e.O5,u.yS,mn.G,$i.R,de.o,ae.lW,rn,qi,Mo,di,Un,ai,no.pW],pipes:[e.Ov,Se.X],styles:["[_nghost-%COMP%]{display:block;position:fixed;left:0;right:0;top:0;z-index:2}.header-contents[_ngcontent-%COMP%]{line-height:20px;padding:0 20px!important;transition:background .4s;background:#183444;color:#fff;height:60px}.header-contents.logged-in[_ngcontent-%COMP%]{background:#183444;color:#fff}.header-contents.logged-in[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:inherit}@media (min-width: 960px){.logo-or-back-button[_ngcontent-%COMP%]{min-width:161px}}.header-contents.multi-search[_ngcontent-%COMP%]{background:#146aff;color:#fff}.logo[_ngcontent-%COMP%]{line-height:normal;overflow:visible;color:inherit}a.logo[_ngcontent-%COMP%]   img.print-logo[_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{width:100%;position:absolute;z-index:79;bottom:0px}.hamburger-menu[_ngcontent-%COMP%]{margin-left:20px;align-self:center}@media print{[_nghost-%COMP%]{position:relative}.header-contents[_ngcontent-%COMP%]{background:white!important}.print-logo[_ngcontent-%COMP%]{display:block!important;height:auto;width:300px;fill:#183444}}@media (min-width: 960px){.logo[_ngcontent-%COMP%]{line-height:normal;border-radius:0;overflow:visible}multi-search[_ngcontent-%COMP%]{max-width:260px}}"],changeDetection:0}),Y})();var Ni=t(63555),Bo=t(7216),ko=t(46829),ua=t(71360);function pa(Y,Be){1&Y&&h._UZ(0,"header-upsell")}function ga(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,pa,1,0,"header-upsell",6),h.ALo(2,"async"),h.BQk()),2&Y){const B=h.oxw();h.xp6(1),h.Q6J("ngIf",h.lcZ(2,1,B.showHeaderUpsell$))}}function ma(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",9),h.NdJ("click",function(){h.CHM(B);const Ve=h.oxw().ngIf;return h.oxw(3).goToMenu(Ve)}),h.TgZ(1,"span",10),h._UZ(2,"nav-action-item-layout",11),h.ALo(3,"async"),h.ALo(4,"translate"),h._UZ(5,"icon",12),h.qZA()()}if(2&Y){const B=Be.ngIf,Te=h.oxw(4);h.xp6(2),h.Q6J("imageId",B.imageId)("iconKey",B.iconKey)("showImage",h.lcZ(3,4,Te.isLoggedIn$))("label",h.lcZ(4,6,B.labelKey))}}function ha(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,ma,6,8,"button",8),h.ALo(2,"async"),h.BQk()),2&Y){const B=Be.ngIf;h.xp6(1),h.Q6J("ngIf",h.lcZ(2,1,B.trigger))}}function Ea(Y,Be){if(1&Y&&(h._UZ(0,"nav-action-item",13),h.ALo(1,"async")),2&Y){const B=Be.ngIf,Te=h.oxw(3);h.Q6J("item",B)("showImage",h.lcZ(1,3,Te.isLoggedIn$))("displayType",Te.displayType)}}function fa(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,ha,3,3,"ng-container",6),h.YNc(2,Ea,2,5,"nav-action-item",7),h.BQk()),2&Y){const B=Be.ngIf,Te=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Te.tryAsMenu(B)),h.xp6(1),h.Q6J("ngIf",Te.tryAsActionItem(B))}}function va(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,fa,3,2,"ng-container",6),h.ALo(2,"async"),h.BQk()),2&Y){const B=Be.$implicit;h.xp6(1),h.Q6J("ngIf",h.lcZ(2,1,B))}}function Ca(Y,Be){if(1&Y&&(h.TgZ(0,"h3",16),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&Y){const B=h.oxw().ngIf;h.xp6(1),h.hij(" ",h.lcZ(2,1,B.labelKey)," ")}}function ya(Y,Be){if(1&Y&&(h.ynx(0),h.YNc(1,Ca,3,3,"h3",14),h._UZ(2,"nav-groups",15),h.BQk()),2&Y){const B=Be.ngIf,Te=h.oxw();h.xp6(1),h.Q6J("ngIf",B.labelKey),h.xp6(1),h.Q6J("groups",Te.selectedMenu.groups)("displayType",Te.displayType)}}let js=(()=>{class Y{constructor(B,Te,Ve,At,en,tn){this.changeDetectorRef=B,this.globalNavItemService=Te,this.globalNavMenuService=Ve,this.userService=At,this.headerUpsellService=en,this.matSideNav=tn,this.displayType=$e.LIST,this.showHeaderUpsell$=this.headerUpsellService.showHeaderUpsell$(),this.onDestroy$=new H.xQ}ngOnInit(){this.isLoggedIn$=this.userService.getIsLoggedIn$(),this.itemsAndMenus$=this.getItemsAndMenus$(),this.resetMenuOnSessionChange(),this.listenForMenuClose()}ngOnDestroy(){this.onDestroy$.next()}tryAsActionItem(B){return B.action?B:void 0}tryAsMenu(B){return this.tryAsActionItem(B)?void 0:B}getItemsAndMenus$(){return this.isLoggedIn$.pipe((0,ee.U)(B=>B?this.getUserItemsAndMenus():this.getAnonItemsAndMenus()))}goToMenu(B){this.selectedMenu=B,this.forward()}goToMainMenu(){this.back()}forward(){this.slides.next()}back(){this.slides.previous()}resetMenuOnSessionChange(){this.isLoggedIn$.pipe((0,z.R)(this.onDestroy$)).subscribe(B=>{this.selectedMenu&&(this.goToMainMenu(),this.selectedMenu=void 0,this.changeDetectorRef.markForCheck())})}getUserItemsAndMenus(){return[...this.wrapValuesInObservable([this.globalNavMenuService.getMobileAdvancedMenu()]),this.globalNavItemService.getAccountRecommendationsItem(),...this.wrapValuesInObservable(this.globalNavMenuService.getUserMenus())]}getAnonItemsAndMenus(){return this.wrapValuesInObservable([this.globalNavMenuService.getMobileAdvancedMenu(),...this.globalNavMenuService.getAnonMenus(),Rt.PRICING]).concat([this.globalNavItemService.getLoginItem()])}wrapValuesInObservable(B){return B.map(Te=>(0,ze.of)(Te))}listenForMenuClose(){this.matSideNav.openedChange.pipe((0,Z.h)(B=>!B)).subscribe(()=>{this.goToMainMenu()})}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(h.sBO),h.Y36(zt),h.Y36(Ai),h.Y36(M.KD),h.Y36(Wi),h.Y36(Bo.JX,1))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["mobile-nav"]],viewQuery:function(B,Te){if(1&B&&h.Gf(ko.o,5),2&B){let Ve;h.iGM(Ve=h.CRH())&&(Te.slides=Ve.first)}},decls:16,vars:10,consts:[[4,"ifBreakpoint"],[4,"ngFor","ngForOf"],["mat-list-item","",1,"back",3,"click"],[1,"back-contents","layout-row","layout-align-start-center"],["key","icon_caret_left","size","xlarge",1,"flex-none"],[1,"flex"],[4,"ngIf"],[3,"item","showImage","displayType",4,"ngIf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],[1,"layout-row","layout-align-start-center","cb-width-100","cb-font-weight-bold"],[3,"imageId","iconKey","showImage","label"],["key","icon_caret_right",1,"flex-none"],[3,"item","showImage","displayType"],["matSubheader","","class","menu-header",4,"ngIf"],[3,"groups","displayType"],["matSubheader","",1,"menu-header"]],template:function(B,Te){1&B&&(h.YNc(0,ga,3,3,"ng-container",0),h.TgZ(1,"slides")(2,"slide")(3,"mat-action-list"),h.YNc(4,va,3,3,"ng-container",1),h.ALo(5,"async"),h.qZA()(),h.TgZ(6,"slide")(7,"mat-nav-list")(8,"button",2),h.NdJ("click",function(){return Te.goToMainMenu()}),h.TgZ(9,"span",3),h._UZ(10,"icon",4),h.TgZ(11,"span",5),h._uU(12),h.ALo(13,"translate"),h.qZA()()(),h.YNc(14,ya,3,3,"ng-container",6),h.ALo(15,"async"),h.qZA()()()),2&B&&(h.Q6J("ifBreakpoint","xsmall"),h.xp6(4),h.Q6J("ngForOf",h.lcZ(5,4,Te.itemsAndMenus$)),h.xp6(8),h.hij(" ",h.lcZ(13,6,"CBL.GLOBAL_NAV.BACK_TO_MAIN_MENU")," "),h.xp6(2),h.Q6J("ngIf",Te.selectedMenu&&h.lcZ(15,8,Te.selectedMenu.trigger)))},directives:[mn.G,e.O5,Mo,ko.o,ua.o,oi.i$,e.sg,oi.Tg,Vi,de.o,Mi,oi.Hk,oi.gs,Oo],pipes:[e.Ov,Se.X],styles:[".mat-action-list[_ngcontent-%COMP%], .mat-nav-list[_ngcontent-%COMP%]{padding-top:0}.menu-header[_ngcontent-%COMP%]{font-size:20px;color:#282828}.back[_ngcontent-%COMP%]{font-weight:500;border:0 solid transparent;border-left:5px solid #146aff;border-bottom:1px solid rgba(0,0,0,.12);background-color:transparent}.back[_ngcontent-%COMP%]   .back-contents[_ngcontent-%COMP%]{margin-left:-8px}"],changeDetection:0}),Y})();var Sa=t(28373);let Ia=(()=>{class Y{constructor(B,Te,Ve){this.elementRef=B,this.renderer=Te,this.structuredDataService=Ve,this.onDestroy=new H.xQ}ngAfterViewInit(){this.structuredDataService.getDocuments$().pipe((0,z.R)(this.onDestroy)).subscribe(B=>{this.elementRef.nativeElement.innerHTML="",B.forEach(Te=>{let Ve=this.renderer.createElement("script");Ve.type="application/ld+json",Ve.text=JSON.stringify(Te),this.renderer.appendChild(this.elementRef.nativeElement,Ve)})})}ngOnDestroy(){this.onDestroy.next()}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Sa.O))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["structured-data"]],decls:0,vars:0,template:function(B,Te){},encapsulation:2,changeDetection:0}),Y})();var Ta=t(65763),Ho=t(29361),Fi=t(92780);function Aa(Y,Be){1&Y&&h._UZ(0,"icon",5)}function Oa(Y,Be){1&Y&&h._UZ(0,"mat-progress-spinner",6)}function Pa(Y,Be){if(1&Y){const B=h.EpF();h.TgZ(0,"button",2),h.NdJ("click",function(){return h.CHM(B),h.oxw().getHelp(!0)}),h.ALo(1,"translate"),h.YNc(2,Aa,1,0,"icon",3),h.YNc(3,Oa,1,0,"mat-progress-spinner",4),h.qZA()}if(2&Y){const B=h.oxw();h.uIk("aria-label",h.lcZ(1,3,"CBL.COMMON.HELP")),h.xp6(2),h.Q6J("ngIf",!B.loading),h.xp6(1),h.Q6J("ngIf",B.loading)}}function ba(Y,Be){1&Y&&(h.TgZ(0,"a",7),h.ALo(1,"translate"),h.ALo(2,"translate"),h._UZ(3,"icon",5),h.qZA()),2&Y&&(h.Q6J("matTooltip",h.lcZ(2,4,"CBL.COMMON.HELP_CHAT_ERROR")),h.uIk("aria-label",h.lcZ(1,2,"CBL.COMMON.HELP")))}let La=(()=>{class Y{constructor(B,Te,Ve,At){this.changeDetectorRef=B,this.router=Te,this.platformService=Ve,this.driftService=At,this.loading=!1,this.buttonState="visible",this.clickSubject=new H.xQ,this.destroy=new H.xQ}ngOnInit(){!this.platformService.isBrowser()||((0,Ta.S3)(this.router.events.pipe((0,Z.h)((0,re.V)(u.OD)),(0,Ho.h)(!1)),this.clickSubject.pipe((0,Ho.h)(!0))).pipe((0,J.q)(1),(0,z.R)(this.destroy)).subscribe(B=>{this.getHelp(B)}),this.driftService.getDriftStatus$().pipe((0,z.R)(this.destroy)).subscribe(B=>{"driftReady"===B?this.hide():this.helpChatError()}))}ngOnDestroy(){this.destroy.next()}handleClicks(){this.clickSubject.next()}getHelp(B){this.loading=!0,this.driftService.initializeDrift(B)}helpChatError(){this.buttonState="error",this.changeDetectorRef.markForCheck()}hide(){this.buttonState="hidden",this.changeDetectorRef.markForCheck()}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(h.sBO),h.Y36(u.F0),h.Y36(w.m),h.Y36(Fi.P))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["floating-help-button"]],decls:2,vars:2,consts:[["mat-fab","","color","primary",3,"click",4,"ngIf"],["mat-fab","","color","primary","href","mailto:support@crunchbase.com","target","_blank",3,"matTooltip",4,"ngIf"],["mat-fab","","color","primary",3,"click"],["size","xxlarge","color","inherit","key","icon_help_outline",4,"ngIf"],["diameter","32","strokeWidth","3","mode","indeterminate",4,"ngIf"],["size","xxlarge","color","inherit","key","icon_help_outline"],["diameter","32","strokeWidth","3","mode","indeterminate"],["mat-fab","","color","primary","href","mailto:support@crunchbase.com","target","_blank",3,"matTooltip"]],template:function(B,Te){1&B&&(h.YNc(0,Pa,4,5,"button",0),h.YNc(1,ba,4,6,"a",1)),2&B&&(h.Q6J("ngIf","visible"===Te.buttonState),h.xp6(1),h.Q6J("ngIf","error"===Te.buttonState))},directives:[e.O5,ae.lW,de.o,_t.Ou,ae.zs,s.gM],pipes:[Se.X],styles:["floating-help-button{position:fixed;bottom:26px;right:26px;z-index:1}floating-help-button icon{margin-top:-4px}floating-help-button mat-progress-spinner{margin-top:-4px;overflow:hidden}floating-help-button mat-progress-spinner circle{stroke:#fff!important}\n"],encapsulation:2,changeDetection:0}),Y})();const Ma=["mobileSidenav"];function Da(Y,Be){1&Y&&h._UZ(0,"mobile-nav")}function Ra(Y,Be){1&Y&&(h.ynx(0),h.YNc(1,Da,1,0,"mobile-nav",8),h.BQk()),2&Y&&(h.xp6(1),h.Q6J("ifBreakpoint","mobile"))}function xa(Y,Be){1&Y&&h._UZ(0,"multi-search-results")}function Na(Y,Be){1&Y&&h._UZ(0,"floating-help-button")}const Fa=function(Y){return{"hide-router-outlet":Y}};let oo=(()=>{class Y{constructor(B,Te,Ve,At,en,tn,ri,hi){this.router=B,this.chromeService=Te,this.mobileService=Ve,this.initService=At,this.platformService=en,this.progressService=tn,this.permissionService=ri,this.ngZone=hi,this.showMultiSearchMode=!1,this.onDestroy$=new H.xQ}ngOnInit(){this.initService.initializeApp(),this.chromeService.chromeConfigurationObservable().pipe((0,z.R)(this.onDestroy$)).subscribe(B=>this.updateChromeState(B)),this.hideSidenavAndSearchOnNavigate(),this.showHelpButton$=(0,K.aj)([this.chromeService.chromeConfigurationObservable(),this.permissionService.getPermissions()]).pipe((0,ee.U)(([B,Te])=>B.floatingHelpButton&&!Te.canUseInternalTools())),this.platformService.isBrowser()&&(this.toggleProgressOnConfigLoad(),this.fireAngularLoadedEvent())}ngOnDestroy(){this.onDestroy$.next()}resize(){this.mobileSidenav&&this.mobileSidenav.opened&&!this.mobileService.isMobile()&&this.sidenavClose()}updateChromeState(B){this.chromeHidden=!B.header}toggleMultiSearchMode(B){this.showMultiSearchMode=B,B&&this.mobileSidenav&&this.mobileSidenav.close()}sidenavClose(){this.mobileSidenav&&this.mobileSidenav.close()}sidenavToggle(){this.mobileSidenav&&(this.mobileSidenav.toggle(),this.mobileSidenav.opened&&this.showMultiSearchMode&&this.exitMultiSearchMode())}handleKeyboardEvent(B){B.keyCode===me.Z.ESCAPE&&this.exitMultiSearchMode()}exitMultiSearchMode(){this.headerComponent.toggleMultiSearchMode(!1)}hideSidenavAndSearchOnNavigate(){this.router.events.pipe((0,Z.h)((0,re.V)(u.OD)),(0,z.R)(this.onDestroy$)).subscribe(B=>{this.mobileSidenav&&this.mobileSidenav.opened&&this.sidenavClose(),this.showMultiSearchMode&&this.exitMultiSearchMode()})}toggleProgressOnConfigLoad(){this.router.events.pipe((0,z.R)(this.onDestroy$)).subscribe(B=>{B instanceof u.xV?this.progressService.startProgress(`route-load-${B.route.path}`):B instanceof u.GH&&this.progressService.stopProgress(`route-load-${B.route.path}`)})}fireAngularLoadedEvent(){const B=this.ngZone.onStable.pipe((0,ee.U)(()=>!0)),Te=this.ngZone.onUnstable.pipe((0,ee.U)(()=>!1));(0,P.T)(B,Te).pipe((0,G.b)(20),(0,Z.h)(Ve=>Ve),(0,J.q)(1)).subscribe(()=>{window.dispatchEvent(new Event("AngularLoaded",{bubbles:!0})),window.angularLoaded=!0})}}return Y.\u0275fac=function(B){return new(B||Y)(h.Y36(u.F0),h.Y36(le.P),h.Y36(ye.W),h.Y36(Ce),h.Y36(w.m),h.Y36(Me.N),h.Y36(ue.$),h.Y36(h.R0b))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["chrome"]],viewQuery:function(B,Te){if(1&B&&(h.Gf(Ma,7),h.Gf(an,5),h.Gf(Qs,5)),2&B){let Ve;h.iGM(Ve=h.CRH())&&(Te.mobileSidenav=Ve.first),h.iGM(Ve=h.CRH())&&(Te.multiSearchResultsComponent=Ve.first),h.iGM(Ve=h.CRH())&&(Te.headerComponent=Ve.first)}},hostVars:2,hostBindings:function(B,Te){1&B&&h.NdJ("keydown",function(At){return Te.handleKeyboardEvent(At)},!1,h.Jf7),2&B&&h.ekj("hide-chrome",Te.chromeHidden)},decls:12,vars:11,consts:[["windowResizeNotifier","","regulateExecutionBy","throttle",3,"wait","onResize"],[3,"sidenavToggle","multiSearchMode"],[3,"backdropClick"],["position","end","mode","over",3,"autoFocus","disableClose","fixedInViewport"],["mobileSidenav",""],[4,"ifPlatformBrowser"],[3,"ngClass"],[4,"ngIf"],[4,"ifBreakpoint"]],template:function(B,Te){1&B&&(h.TgZ(0,"div",0),h.NdJ("onResize",function(){return Te.resize()}),h.TgZ(1,"app-header",1),h.NdJ("sidenavToggle",function(){return Te.sidenavToggle()})("multiSearchMode",function(At){return Te.toggleMultiSearchMode(At)}),h.qZA(),h.TgZ(2,"mat-sidenav-container",2),h.NdJ("backdropClick",function(){return Te.sidenavClose()}),h.TgZ(3,"mat-sidenav",3,4),h.YNc(5,Ra,2,1,"ng-container",5),h.qZA(),h.TgZ(6,"div",6),h._UZ(7,"router-outlet"),h.YNc(8,xa,1,0,"multi-search-results",7),h._UZ(9,"structured-data"),h.YNc(10,Na,1,0,"floating-help-button",7),h.ALo(11,"async"),h.qZA()()()),2&B&&(h.Q6J("wait",200),h.xp6(3),h.Q6J("autoFocus",!1)("disableClose",!0)("fixedInViewport",!0),h.xp6(3),h.Q6J("ngClass",h.VKq(9,Fa,Te.showMultiSearchMode)),h.xp6(2),h.Q6J("ngIf",Te.showMultiSearchMode),h.xp6(2),h.Q6J("ngIf",h.lcZ(11,7,Te.showHelpButton$)))},directives:[Ni.c,Qs,Bo.TM,Bo.JX,Lo.W,mn.G,js,e.mk,u.lC,e.O5,an,Ia,La],pipes:[e.Ov],styles:["chrome{background:#e9eff5;display:block}chrome .mat-drawer-container,chrome .mat-drawer-content{overflow:unset!important}chrome.hide-chrome app-header{display:none}chrome mat-sidenav[style]{top:60px!important}chrome mat-sidenav{width:100%;max-width:600px}chrome .hide-router-outlet router-outlet+.ng-star-inserted{display:none!important}@media print{chrome{position:relative}chrome app-header{position:relative}}\n"],encapsulation:2}),Y})(),zo=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275mod=h.oAB({type:Y}),Y.\u0275inj=h.cJS({imports:[[e.ez,i.u5,i.UX,c.q,u.Bz,C.Dt,r.S,o.A,_.N,f.h,p.A,d.n,n.H,g.r,E.p,m.X,y.x,S.H,a.u,l.S,A.j,x.S,v.r,R.V,s.AV]]}),Y})()},14858:(ne,b,t)=>{t.d(b,{h:()=>c});var e=t(12871),i=t(3184),u=t(53328);let c=(()=>{class C{constructor(p,E){this.storageService=p,this.viewLimiterViewsStoreService=E,this.VIEW_LIMITER_DISABLED_STORAGE_KEY="view-limiter-disabled"}disableViewLimiter(p){p?this.storageService.setItem(this.VIEW_LIMITER_DISABLED_STORAGE_KEY,"1"):this.storageService.removeItem(this.VIEW_LIMITER_DISABLED_STORAGE_KEY)}isViewLimiterDisabled(){return!!this.storageService.getItem(this.VIEW_LIMITER_DISABLED_STORAGE_KEY)}setViewsCount(p){this.viewLimiterViewsStoreService.resetViews();for(let E=0;E<p;E++)this.viewLimiterViewsStoreService.addView(`fake-entity-id-${E}`)}}return C.\u0275fac=function(p){return new(p||C)(i.LFG(u.V),i.LFG(e.T))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},23268:(ne,b,t)=>{t.d(b,{eP:()=>H,KN:()=>K,mf:()=>P});var e=t(13074),i=t(97010),u=(()=>{return(z=u||(u={})).pay_soft10="paywall-soft-10",z.pay_soft20="paywall-soft-20",z.pay_soft30="paywall-soft-30",z.pay_soft40="paywall-soft-40",z.pay_soft50="paywall-soft-50",z.pay_soft60="paywall-soft-60",z.pay_soft70="paywall-soft-70",z.pay_soft80="paywall-soft-80",z.pay_soft90="paywall-soft-90",z.pay_soft100="paywall-soft-100",z.pay_hard="paywall-hard",u;var z})(),c=t(2384),C=t(98789),_=t(20605),p=t(3184),E=t(95758),a=t(17992),l=t(36362),r=t(87317),o=t(32478);function d(z,ee){if(1&z){const Z=p.EpF();p.TgZ(0,"button",2),p.NdJ("click",function(){return p.CHM(Z),p.oxw().close()}),p._UZ(1,"icon",3),p.qZA()}if(2&z){const Z=p.oxw();p.xp6(1),p.Q6J("color",Z.closeButtonColor)}}const n=["*"];let g=(()=>{class z{constructor(Z,G){this.imageService=Z,this.mobileService=G,this.disableClose=!1,this.onClose=new p.vpe}ngOnInit(){this.setImageUrls()}close(){this.onClose.emit()}setImageUrls(){this.backgroundImageStyle=this.mobileService.isMobile()?`url(${this.imageService.getOriginalPublicImageUrl(this.mobileBackground)})`:`url(${this.imageService.getOriginalPublicImageUrl(this.desktopBackgroundLeft)}), url(${this.imageService.getOriginalPublicImageUrl(this.desktopBackgroundRight)})`}}return z.\u0275fac=function(Z){return new(Z||z)(p.Y36(i.AJ),p.Y36(a.W))},z.\u0275cmp=p.Xpm({type:z,selectors:[["wall-dialog-layout"]],hostVars:2,hostBindings:function(Z,G){2&Z&&p.Udp("background-image",G.backgroundImageStyle)},inputs:{desktopBackgroundLeft:"desktopBackgroundLeft",desktopBackgroundRight:"desktopBackgroundRight",mobileBackground:"mobileBackground",closeButtonColor:"closeButtonColor",disableClose:"disableClose"},outputs:{onClose:"onClose"},ngContentSelectors:n,decls:3,vars:1,consts:[[1,"wall-dialog-container"],["mat-icon-button","","class","close-button",3,"click",4,"ngIf"],["mat-icon-button","",1,"close-button",3,"click"],["key","icon_close","size","xxlarge",3,"color"]],template:function(Z,G){1&Z&&(p.F$t(),p.TgZ(0,"div",0),p.YNc(1,d,2,1,"button",1),p.Hsn(2),p.qZA()),2&Z&&(p.xp6(1),p.Q6J("ngIf",!G.disableClose))},directives:[l.O5,r.lW,o.o],styles:["[_nghost-%COMP%]{display:block;max-height:100vh;overflow-y:auto;padding:20px;background-position-x:center;background-repeat:no-repeat;background-position-y:bottom;background-size:auto 120px}.wall-dialog-container[_ngcontent-%COMP%]{position:relative;text-align:center;padding:0 32px 130px}.wall-dialog-container[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}@media (min-width: 960px){[_nghost-%COMP%]{background-position-x:left,right;background-size:auto 200px}.wall-dialog-container[_ngcontent-%COMP%]{padding:16px}}@media (min-width: 960px) and (max-width: 1279px){.wall-dialog-container[_ngcontent-%COMP%]{padding:16px 0 48px}}"],changeDetection:0}),z})();var f=t(61531),m=t(53247);function v(z,ee){1&z&&(p.ynx(0),p.TgZ(1,"p"),p.tHW(2,9),p._UZ(3,"strong"),p.N_p(),p.qZA(),p.TgZ(4,"p"),p.tHW(5,10),p._UZ(6,"strong"),p.N_p(),p.qZA(),p.BQk())}function y(z,ee){1&z&&(p.TgZ(0,"p"),p.SDv(1,11),p.qZA())}function S(z,ee){1&z&&p.GkF(0)}function A(z,ee){if(1&z&&(p.ynx(0),p.TgZ(1,"h2"),p.SDv(2,5),p.qZA(),p.YNc(3,v,7,0,"ng-container",6),p.YNc(4,y,2,0,"p",7),p.YNc(5,S,1,0,"ng-container",8),p.BQk()),2&z){const Z=p.oxw(),G=p.MAs(5);p.xp6(3),p.Q6J("ifNotFeatureFlagBoolean",Z.paywallPromoFlag),p.xp6(1),p.Q6J("ifFeatureFlagBoolean",Z.paywallPromoFlag),p.xp6(1),p.Q6J("ngTemplateOutlet",G)}}function x(z,ee){if(1&z&&(p.TgZ(0,"upsell-link",12),p.SDv(1,13),p.qZA()),2&z){const Z=p.oxw();p.Q6J("internalRoutePath",Z.productSelectUrl)}}var R=(()=>{return(z=R||(R={}))[z.LIMIT=0]="LIMIT",R;var z})();const s=new Map([[u.pay_hard,R.LIMIT]]),H=30,K=1,P={walls:{hard:{count:11,type:u.pay_hard,component:(()=>{class z extends c.V{constructor(Z,G,J){super(),this.urlService=Z,this.dialogRef=G,this.usageEventsService=J,this.PaywallTemplate=R,this.desktopBackgroundLeft=i.Wh.paywall.binoculars,this.desktopBackgroundRight=i.Wh.paywall.person,this.mobileBackground=i.Wh.paywall.person,this.paywallPromoFlag=_.TT.PAYWALL_PROMO}ngOnInit(){this.productSelectUrl=this.urlService.getProductSelectUrl(),this.wallType=this.payload.type,this.paywallTemplate=s.get(this.wallType)||R.LIMIT,this.usageEventsService.logUsageEvent("paywall",{paywall_name:this.wallType,view_limit:this.payload.count,upsell_feature:"unlimited-profile-views",upsell_entitlement_id:"pro"})}close(){this.dialogRef.close()}}return z.\u0275fac=function(Z){return new(Z||z)(p.Y36(e.iO),p.Y36(E.so),p.Y36(C.N))},z.\u0275cmp=p.Xpm({type:z,selectors:[["paywall"]],hostVars:1,hostBindings:function(Z,G){2&Z&&p.uIk("data-heap-wall-type",G.wallType)},features:[p.qOj],decls:6,vars:6,consts:function(){let ee,Z,G,J,le;return ee=$localize`:␟cc0de189ecc7cde2d4a27349648f07b65b78bbc8␟3899174586494732323:You’ve reached your monthly limit`,Z=$localize`:␟2c39b453697affbd4d35d5b89181c3a260c7a91b␟3871728203237133939: You’ve reached your monthly limit of free Crunchbase profile views. Upgrade today to keep going - plus ${"\ufffd#3\ufffd"}:START_TAG_STRONG:get 20% off${"\ufffd/#3\ufffd"}:CLOSE_TAG_STRONG: Crunchbase Pro with our limited-time promo. Close the quarter strong with our all-in-one prospecting solution. `,G=$localize`:␟b0f1629b61d354183046ba0313833d273a9cade5␟1924045645552390603: Use code ${"\ufffd#6\ufffd"}:START_TAG_STRONG:CLOSEOUTQ2${"\ufffd/#6\ufffd"}:CLOSE_TAG_STRONG: to get 20% off Crunchbase Pro at checkout. `,J=$localize`:␟e4fcbdc90bd5029312928b00d82e9dc23acbbd92␟3486312124423055277: You’ve reached your monthly limit of free Crunchbase profile views. As a thanks for being a dedicated Crunchbase user, we’re offering 15% off your Starter or Pro subscription price with code SUPERUSER. Upgrade today to keep going - and close deals even faster with our all-in-one prospecting solution. `,le=$localize`:␟367f317e89667ee6146931790c88a4e2245b53b5␟8406946263838202506: REDEEM NOW `,[["closeButtonColor","light",3,"disableClose","desktopBackgroundLeft","desktopBackgroundRight","mobileBackground","onClose"],[1,"content-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"],["startTrialButton",""],ee,[4,"ifNotFeatureFlagBoolean"],[4,"ifFeatureFlagBoolean"],[4,"ngTemplateOutlet"],Z,G,J,["triggerLocation","paywall_hard",3,"internalRoutePath"],le]},template:function(Z,G){1&Z&&(p.TgZ(0,"wall-dialog-layout",0),p.NdJ("onClose",function(){return G.close()}),p.TgZ(1,"div",1),p.ynx(2,2),p.YNc(3,A,6,3,"ng-container",3),p.BQk(),p.qZA()(),p.YNc(4,x,2,1,"ng-template",null,4,p.W1O)),2&Z&&(p.Q6J("disableClose",G.payload.disableClose)("desktopBackgroundLeft",G.desktopBackgroundLeft)("desktopBackgroundRight",G.desktopBackgroundRight)("mobileBackground",G.mobileBackground),p.xp6(2),p.Q6J("ngSwitch",G.paywallTemplate),p.xp6(1),p.Q6J("ngSwitchCase",G.PaywallTemplate.LIMIT))},directives:[g,l.RF,l.n9,f.l,l.tP,m.I],styles:["[_nghost-%COMP%]{font-size:16px;display:block;color:#293943;line-height:1.3;background-color:#e3edff}.content-wrapper[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin-bottom:16px}.start-trial-button[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),z})(),disableClose:!0,ignoreSnoozing:!0}}}},12871:(ne,b,t)=>{t.d(b,{T:()=>C});var e=t(23268),i=t(46532),u=t(3184),c=t(53328);let C=(()=>{class _{constructor(E){this.storageService=E,this.STORAGE_KEY="entity-limiter-views",this.views=null}getViewsCount(){return this.getViewsWithinDateRange().length}getNextProfileViewAttrs(E){const a=this.isUniqueView(E);return{isUniqueView:a,viewsCount:this.getViewsCount()+(a?1:0)}}addView(E){const a=this.getViewsWithinDateRange(),l=a.findIndex(r=>r.id===E);-1!==l&&a.splice(l,1),a.push({id:E,timestamp:Date.now()}),this.views=a,this.save()}resetViews(){this.views=[],this.save()}getViewsWithinDateRange(){this.views||(this.views=this.load());const E=Date.now()-i.E.daysToMilliseconds(e.eP);return this.views.filter(a=>a.timestamp>=E)}isUniqueView(E){return!this.getViewsWithinDateRange().some(a=>a.id===E)}save(){this.storageService.setItem(this.STORAGE_KEY,JSON.stringify(this.views))}load(){try{return JSON.parse(this.storageService.getItem(this.STORAGE_KEY)||"")||[]}catch(E){return[]}}}return _.\u0275fac=function(E){return new(E||_)(u.LFG(c.V))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},2509:(ne,b,t)=>{t.d(b,{$:()=>_,m:()=>p});var e=t(26435),i=t(5149),u=t(3184),c=t(49837),C=t(35585);const _="openCrmPreConnectDialog";let p=(()=>{class E{constructor(l,r,o){this.platformService=l,this.routingHelper=r,this.store=o}handleOpenPreConnectDialog(){this.platformService.isBrowser()&&this.extractOpenPreConnectDialogParam()&&this.store.dispatch((0,i.uJ)({}))}extractOpenPreConnectDialogParam(){return!!this.routingHelper.extractAndDeleteQueryParam(_)}}return E.\u0275fac=function(l){return new(l||E)(u.LFG(c.m),u.LFG(e.VP),u.LFG(C.yh))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},98439:(ne,b,t)=>{t.d(b,{K:()=>a});var e=t(19193),i=t(86942),u=t(53298),c=t(93443),C=t(7323),_=t(75215),p=t(3184),E=c.NB.PermissionsEnum;let a=(()=>{class l{constructor(o,d){this.userService=o,this.metadataService=d,this.userWorkspacePermissions$=this.userService.getSessionChangeObservable().pipe((0,i.U)(n=>this.getPermissionsFromSession(n))),this.canManageCrmConnection$=(0,e.aj)([this.userWorkspacePermissions$.pipe((0,u.x)()),this.metadataService.getMetadata()]).pipe((0,i.U)(([n,g])=>n.includes(E.crm_team_admin)&&!!g.getExperiences().shared_crm_ux)),this.canManageSso$=(0,e.aj)([this.userWorkspacePermissions$.pipe((0,u.x)()),this.metadataService.getMetadata()]).pipe((0,i.U)(([n,g])=>n.includes(E.manage_sso)&&!!g.getExperiences().sso_ux)),this.isInWorkspace$=this.userService.getSessionChangeObservable().pipe((0,i.U)(n=>{var g;return!!(null===(g=null==n?void 0:n.workspace_memberships)||void 0===g?void 0:g.length)}))}getPermissionsFromSession(o){return((null==o?void 0:o.workspace_memberships)||[]).flatMap(d=>d.permissions)}}return l.\u0275fac=function(o){return new(o||l)(p.LFG(C.KD),p.LFG(_.Do))},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},87702:(ne,b,t)=>{t.d(b,{P:()=>a});var e=t(59151),i=t(88759),u=t(65112),c=t(64856),C=t(13584),_=t(93039),p=t(3184),E=t(84724);let a=(()=>{class l{constructor(o,d){this.broadcastService=o,this.action$=d,this.apiSuccess$=this.createBroadcastEffect(()=>this.action$.pipe((0,u.l4)(C.et,C.zM,c.n4,c.tZ,_.ar,_.he,_.ls,_.ar))),this.shouldPublish=!0}stopPublishing(){this.shouldPublish=!1}createBroadcastEffect(o){return(0,u.GW)(()=>o().pipe((0,e.h)(()=>this.shouldPublish),(0,i.b)(d=>this.broadcastService.postMessage(d))),{dispatch:!1})}}return l.\u0275fac=function(o){return new(o||l)(p.LFG(E.R),p.LFG(u.eX))},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},84724:(ne,b,t)=>{t.d(b,{R:()=>C});var e=t(92218),i=t(3184),u=t(49837);let C=(()=>{class _{constructor(E){this.platformService=E,this.messageSubject=new e.xQ,this.message$=this.messageSubject.asObservable(),this.platformService.isBrowser()&&"undefined"!=typeof BroadcastChannel&&(this.channel=new BroadcastChannel("CB_EXTENSION_BROADCAST_CHANNEL"),this.channel.onmessage=a=>{var l;"string"==typeof(null===(l=a.data)||void 0===l?void 0:l.type)&&this.messageSubject.next(a.data)})}postMessage(E){var a;null===(a=this.channel)||void 0===a||a.postMessage(E)}}return _.\u0275fac=function(E){return new(E||_)(i.LFG(u.m))},_.\u0275prov=i.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},13170:(ne,b,t)=>{t.d(b,{A:()=>e});const e="select-product"},47064:(ne,b,t)=>{t.d(b,{d:()=>r});var e=t(36362),i=t(45857),u=t(35503),c=t(90898),C=t(32519),_=t(31156),p=t(89250),E=t(83e3),a=t(97444),l=t(3184);let r=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[[e.ez,i.Bz,u.Dt,c.q,C.n,_.H,p.S,E.S,a.c]]}),o})()},66378:(ne,b,t)=>{t.d(b,{w:()=>l});var e=t(36362),i=t(4092),u=t(90898),c=t(35503),C=t(32519),_=t(48611),p=t(32313),E=t(83447),a=t(3184);let l=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[e.ez,u.q,c.Dt,C.n,_.y,i.kx,p.H,E.E]]}),r})()},65782:(ne,b,t)=>{t.d(b,{W:()=>nn});var e=t(3184),i=t(98119),u=t(93443),c=t(75215),C=t(45516),_=t(24018),p=t(36362),E=t(32478),a=t(40089),l=t(87317),r=t(44770),o=t(43365),d=t(92434),n=t(69489);const g=["textInput"];function f(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"chip",4),e.NdJ("remove",function(){const ae=e.CHM(de).index;return e.oxw().remove(ae)}),e._uU(1),e.qZA()}if(2&Ke){const de=_t.$implicit;e.Q6J("removable",!0),e.xp6(1),e.Oqu(de)}}let m=(()=>{class Ke{constructor(){this.valuesChange=new e.vpe}remove(de){if(!this.values)return;const Ae=[...this.values];Ae.splice(de,1),this.changeValues(Ae)}addFromInput(){if(!this.textInput)return;const de=(this.textInput.nativeElement.value||"").trim();!de||(this.textInput.nativeElement.value="",this.changeValues([...this.values||[],de]))}changeValues(de){de&&!de.length&&(de=void 0),this.valuesChange.emit(de)}}return Ke.\u0275fac=function(de){return new(de||Ke)},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-multi-text"]],viewQuery:function(de,Ae){if(1&de&&e.Gf(g,5),2&de){let Ee;e.iGM(Ee=e.CRH())&&(Ae.textInput=Ee.first)}},inputs:{values:"values",placeholder:"placeholder"},outputs:{valuesChange:"valuesChange"},decls:5,vars:2,consts:[["appearance","outline",1,"cb-form-field-outlined"],["matInput","","autocomplete","off",3,"placeholder","keydown.enter","change"],["textInput",""],[3,"removable","remove",4,"ngFor","ngForOf"],[3,"removable","remove"]],template:function(de,Ae){1&de&&(e.TgZ(0,"mat-form-field",0)(1,"input",1,2),e.NdJ("keydown.enter",function(){return Ae.addFromInput()})("change",function(){return Ae.addFromInput()}),e.qZA()(),e.TgZ(3,"chips-container"),e.YNc(4,f,2,2,"chip",3),e.qZA()),2&de&&(e.xp6(1),e.Q6J("placeholder",Ae.placeholder),e.xp6(3),e.Q6J("ngForOf",Ae.values))},directives:[r.KE,o.Nt,d.O,p.sg,n.Y],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),Ke})();var v=t(92218),y=t(38816),S=t(50767),A=t(3542),x=t(31970);function R(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"entity-input",3),e.NdJ("chosenEntity",function(Ee){return e.CHM(de),e.oxw().add(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("collectionIds",de.collectionIds)("placeholder",de.placeholder)("clearButton",!1)("excludedUuids",de.values)}}function s(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"entity-grouped-by-parent-input",4),e.NdJ("selectionChange",function(Ee){return e.CHM(de),e.oxw().onSelectionChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("parentFieldId",de.groupByParentData.fieldId)("collectionId",de.groupByParentData.collectionId)("selectedValues",de.values)("placeholder",de.placeholder)}}function h(Ke,_t){if(1&Ke){const de=e.EpF();e.ynx(0),e.TgZ(1,"chip",5),e.NdJ("remove",function(){const ae=e.CHM(de).index;return e.oxw().remove(ae)}),e._uU(2),e.qZA(),e.BQk()}if(2&Ke){const de=_t.$implicit;e.xp6(1),e.Q6J("removable",!0),e.xp6(1),e.Oqu(de.value)}}let H=(()=>{class Ke{constructor(de,Ae,Ee){this.changeDetectorRef=de,this.autocompleteService=Ae,this.entitiesGroupedByParentService=Ee,this.valuesChange=new e.vpe,this.identifiers=[],this.onDestroy=new v.xQ}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(de){var Ae;de.values&&this.autocompleteService.queryEntitiesByUuid(this.values||[],this.collectionIds||[]).then(Ee=>{this.identifiers=Ee.map(ae=>ae.identifier),this.changeDetectorRef.markForCheck()},Ee=>{}),de.collectionIds&&1===(null===(Ae=this.collectionIds)||void 0===Ae?void 0:Ae.length)&&(this.groupByParentData=this.entitiesGroupedByParentService.getGroupByParentData(this.collectionIds[0]))}remove(de){if(!this.values)return;const Ae=[...this.values];Ae.splice(de,1),this.changeValues(Ae)}add(de){this.identifiers.push(de.identifier),this.changeValues([...this.values||[],de.identifier.uuid])}onSelectionChange(de){this.autocompleteService.cacheIdentifiers(de),this.changeValues(de.map(Ae=>Ae.uuid))}changeValues(de){de&&!de.length&&(de=void 0),this.valuesChange.emit(de)}}return Ke.\u0275fac=function(de){return new(de||Ke)(e.Y36(e.sBO),e.Y36(S.y),e.Y36(y.Y))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-identifier-no-suggestions"]],inputs:{values:"values",placeholder:"placeholder",collectionIds:"collectionIds"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:4,vars:3,consts:[["appearance","outline",3,"collectionIds","placeholder","clearButton","excludedUuids","chosenEntity",4,"ngIf"],["appearance","outline",3,"parentFieldId","collectionId","selectedValues","placeholder","selectionChange",4,"ngIf"],[4,"ngFor","ngForOf"],["appearance","outline",3,"collectionIds","placeholder","clearButton","excludedUuids","chosenEntity"],["appearance","outline",3,"parentFieldId","collectionId","selectedValues","placeholder","selectionChange"],[3,"removable","remove"]],template:function(de,Ae){1&de&&(e.YNc(0,R,1,4,"entity-input",0),e.YNc(1,s,1,4,"entity-grouped-by-parent-input",1),e.TgZ(2,"chips-container"),e.YNc(3,h,3,2,"ng-container",2),e.qZA()),2&de&&(e.Q6J("ngIf",!Ae.groupByParentData),e.xp6(1),e.Q6J("ngIf",Ae.groupByParentData),e.xp6(2),e.Q6J("ngForOf",Ae.identifiers))},directives:[p.O5,A.j,x.C,d.O,p.sg,n.Y],styles:["entity-input[_ngcontent-%COMP%]{display:block}entity-grouped-by-parent-input[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),Ke})();var K=t(92938),P=t(68390),z=t(74929);const ee=["startDateInput"];function Z(Ke,_t){if(1&Ke&&(e.TgZ(0,"mat-radio-button",3),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&Ke){const de=_t.$implicit;e.Q6J("value",de),e.xp6(1),e.Oqu(e.lcZ(2,2,de.labelKey))}}function G(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"mat-form-field",6)(3,"input",7,8),e.NdJ("change",function(Ee){return e.CHM(de),e.oxw().setCustomInput(0,Ee.target.value)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",9),e._uU(7," \u2014 "),e.qZA(),e.TgZ(8,"mat-form-field",6)(9,"input",7),e.NdJ("change",function(Ee){return e.CHM(de),e.oxw().setCustomInput(1,Ee.target.value)}),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",10),e._uU(12),e.ALo(13,"translate"),e.qZA()()}if(2&Ke){const de=e.oxw();e.xp6(3),e.Q6J("name",de.name+"_min")("placeholder",e.lcZ(5,7,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.START_DATE"))("value",de.customValues[0]||""),e.xp6(6),e.Q6J("name",de.name+"_max")("placeholder",e.lcZ(10,9,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.END_DATE"))("value",de.customValues[1]||""),e.xp6(3),e.hij(" ",e.lcZ(13,11,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.FORMAT_EXPLANATION")," ")}}let J=(()=>{class Ke{constructor(){this.valuesChange=new e.vpe,this.customValues=[void 0,void 0],this.customRange={labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.CUSTOM_RANGE",values:this.customValues},this.dateRanges=[{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_30_DAYS",values:["30 days ago",void 0]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_60_DAYS",values:["60 days ago",void 0]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_90_DAYS",values:["90 days ago",void 0]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_YEAR",values:["a year ago",void 0]},this.customRange]}ngOnChanges(de){if(de.values){if((0,K.isEqual)(this.getCurrentValues(),this.values))return;if(!this.values)return this.selectedRange=void 0,this.customValues[0]=void 0,void(this.customValues[1]=void 0);const Ae=this.dateRanges.find(Ee=>(0,K.isEqual)(Ee.values,this.values));Ae?this.selectedRange=Ae:(this.selectedRange=this.customRange,this.customValues[0]=this.values&&this.values[0],this.customValues[1]=this.values&&this.values[1])}}onSelectedRangeChange(de){this.selectedRange=de,this.emitValues(),de===this.customRange&&setTimeout(()=>{this.startDateInputEl&&this.startDateInputEl.nativeElement.focus()},0)}setCustomInput(de,Ae){Ae=(Ae||"").trim(),this.customValues[de]=Ae,this.emitValues()}getCurrentValues(){const de=this.selectedRange&&this.selectedRange.values;if(!de||null!=de[0]||null!=de[1])return de&&[...de]}emitValues(){this.valuesChange.emit(this.getCurrentValues())}}return Ke.\u0275fac=function(de){return new(de||Ke)},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-date-range"]],viewQuery:function(de,Ae){if(1&de&&e.Gf(ee,5),2&de){let Ee;e.iGM(Ee=e.CRH())&&(Ae.startDateInputEl=Ee.first)}},inputs:{values:"values",name:"name"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:3,vars:3,consts:[[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],["class","custom-inputs",4,"ngIf"],[3,"value"],[1,"custom-inputs"],[1,"layout-row","layout-align-center-center"],["appearance","outline",1,"flex","cb-form-field-outlined"],["matInput","","type","text",3,"name","placeholder","value","change"],["startDateInput",""],[1,"cb-margin-small-horizontal"],[1,"format-explanation"]],template:function(de,Ae){1&de&&(e.TgZ(0,"mat-radio-group",0),e.NdJ("change",function(ae){return Ae.onSelectedRangeChange(ae.value)}),e.YNc(1,Z,3,4,"mat-radio-button",1),e.qZA(),e.YNc(2,G,14,13,"div",2)),2&de&&(e.Q6J("value",Ae.selectedRange),e.xp6(1),e.Q6J("ngForOf",Ae.dateRanges),e.xp6(1),e.Q6J("ngIf",Ae.selectedRange===Ae.customRange))},directives:[P.VQ,p.sg,P.U0,p.O5,r.KE,o.Nt],pipes:[z.X],styles:["mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-radio-button[_ngcontent-%COMP%]{margin:2px 0}.custom-inputs[_ngcontent-%COMP%]{margin-top:8px}.format-explanation[_ngcontent-%COMP%]{margin-top:4px;margin-left:2px;color:#0000008a}"],changeDetection:0}),Ke})();const le=["customDateInput"];function V(Ke,_t){if(1&Ke&&(e.TgZ(0,"mat-radio-button",3),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&Ke){const de=_t.$implicit;e.Q6J("value",de),e.xp6(1),e.Oqu(e.lcZ(2,2,de.labelKey))}}function j(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"mat-form-field",6)(3,"input",7,8),e.NdJ("change",function(Ee){return e.CHM(de),e.oxw().setCustomInput(Ee.target.value)}),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",9),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&Ke){const de=e.oxw();e.xp6(3),e.Q6J("name",de.name)("placeholder",e.lcZ(5,4,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.START_DATE"))("value",de.customValues[0]||""),e.xp6(4),e.hij(" ",e.lcZ(8,6,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.FORMAT_EXPLANATION")," ")}}let M=(()=>{class Ke{constructor(){this.valuesChange=new e.vpe,this.customValues=[void 0],this.customBoundary={labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.CUSTOM_DATE",values:this.customValues},this.dateBoundaries=[{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_30_DAYS",values:["30 days ago"]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_60_DAYS",values:["60 days ago"]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_90_DAYS",values:["90 days ago"]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_YEAR",values:["a year ago"]},this.customBoundary]}ngOnChanges(de){if(de.values){if((0,K.isEqual)(this.getCurrentValues(),this.values))return;if(!this.values)return this.selectedBoundary=void 0,void(this.customValues[0]=void 0);const Ae=this.dateBoundaries.find(Ee=>(0,K.isEqual)(Ee.values,this.values));Ae?this.selectedBoundary=Ae:(this.selectedBoundary=this.customBoundary,this.customValues[0]=this.values[0])}}onSelectedBoundaryChange(de){this.selectedBoundary=de,this.emitValues(),de===this.customBoundary&&setTimeout(()=>{this.customDateInputEl&&this.customDateInputEl.nativeElement.focus()},0)}setCustomInput(de){de=(de||"").trim(),this.customValues[0]=de||void 0,this.emitValues()}getCurrentValues(){const de=this.selectedBoundary&&this.selectedBoundary.values;if(de&&de[0])return de}emitValues(){this.valuesChange.emit(this.getCurrentValues())}}return Ke.\u0275fac=function(de){return new(de||Ke)},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-date-boundary"]],viewQuery:function(de,Ae){if(1&de&&e.Gf(le,5),2&de){let Ee;e.iGM(Ee=e.CRH())&&(Ae.customDateInputEl=Ee.first)}},inputs:{values:"values",name:"name"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:3,vars:3,consts:[[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],["class","custom-inputs",4,"ngIf"],[3,"value"],[1,"custom-inputs"],[1,"layout-row","layout-align-center-center"],["appearance","outline",1,"flex","cb-form-field-outlined"],["matInput","","type","text",3,"name","placeholder","value","change"],["customDateInput",""],[1,"format-explanation"]],template:function(de,Ae){1&de&&(e.TgZ(0,"mat-radio-group",0),e.NdJ("change",function(ae){return Ae.onSelectedBoundaryChange(ae.value)}),e.YNc(1,V,3,4,"mat-radio-button",1),e.qZA(),e.YNc(2,j,9,8,"div",2)),2&de&&(e.Q6J("value",Ae.selectedBoundary),e.xp6(1),e.Q6J("ngForOf",Ae.dateBoundaries),e.xp6(1),e.Q6J("ngIf",Ae.selectedBoundary===Ae.customBoundary))},directives:[P.VQ,p.sg,P.U0,p.O5,r.KE,o.Nt],pipes:[z.X],styles:["mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-radio-button[_ngcontent-%COMP%]{margin:2px 0}.custom-inputs[_ngcontent-%COMP%]{margin-top:8px}.format-explanation[_ngcontent-%COMP%]{margin-top:4px;margin-left:2px;color:#0000008a}"],changeDetection:0}),Ke})();var ie=t(98916);function te(Ke,_t){1&Ke&&e.GkF(0)}function re(Ke,_t){1&Ke&&e.GkF(0)}function q(Ke,_t){if(1&Ke&&e._UZ(0,"icon",7),2&Ke){const de=e.oxw(2);e.Q6J("key",de.prefixIconKey)}}const U=function(Ke){return{"with-prefix":Ke}};function k(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"mat-form-field",4),e.YNc(1,q,1,1,"icon",5),e.TgZ(2,"input",6),e.NdJ("change",function(Ee){const Se=e.CHM(de).index;return e.oxw().setInput(Se,Ee.target.value)}),e.qZA()()}if(2&Ke){const de=_t.name,Ae=_t.index,Ee=e.oxw();e.Q6J("ngClass",e.VKq(5,U,!!Ee.prefixIconKey)),e.xp6(1),e.Q6J("ngIf",Ee.prefixIconKey),e.xp6(1),e.Q6J("name",de)("placeholder",Ee.placeholder)("value",Ee.getValue(Ae))}}const w=function(Ke){return{index:0,name:Ke}},Q=function(Ke){return{index:1,name:Ke}};let $=(()=>{class Ke{constructor(){this.isPercentage=!1,this.precision=10,this.valuesChange=new e.vpe,this.converter=new ie.u}ngOnChanges(de){(de.precision||de.isPercentage)&&(this.converter=new ie.u({precision:this.precision,isPercentage:this.isPercentage}))}getValue(de){return this.converter.format(this.values&&this.values[de])}setInput(de,Ae){let Ee=this.values?[...this.values]:[void 0,void 0];Ee[de]=Ae;let ae=Ee.map(Se=>this.converter.parse(Se));null==ae[0]&&null==ae[1]&&(ae=void 0),this.valuesChange.emit(ae)}}return Ke.\u0275fac=function(de){return new(de||Ke)},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-num-range"]],inputs:{values:"values",name:"name",placeholder:"placeholder",isPercentage:"isPercentage",precision:"precision",prefixIconKey:"prefixIconKey"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:7,vars:8,consts:[[1,"layout-row","layout-align-center-center"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cb-margin-small-horizontal"],["field",""],["appearance","outline",1,"flex","cb-form-field-outlined",3,"ngClass"],["matPrefix","",3,"key",4,"ngIf"],["matInput","",3,"name","placeholder","value","change"],["matPrefix","",3,"key"]],template:function(de,Ae){if(1&de&&(e.TgZ(0,"div",0),e.YNc(1,te,1,0,"ng-container",1),e.TgZ(2,"span",2),e._uU(3," \u2014 "),e.qZA(),e.YNc(4,re,1,0,"ng-container",1),e.qZA(),e.YNc(5,k,3,7,"ng-template",null,3,e.W1O)),2&de){const Ee=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",Ee)("ngTemplateOutletContext",e.VKq(4,w,Ae.name+"_min")),e.xp6(3),e.Q6J("ngTemplateOutlet",Ee)("ngTemplateOutletContext",e.VKq(6,Q,Ae.name+"_max"))}},directives:[p.tP,r.KE,p.mk,p.O5,E.o,r.qo,o.Nt],styles:[".with-prefix[_ngcontent-%COMP%]     .mat-form-field-flex{padding-left:4px}"],changeDetection:0}),Ke})();var X=t(23580),Ce=t(61534);function ye(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"div")(1,"mat-checkbox",2),e.NdJ("change",function(Ee){const Se=e.CHM(de).index;return e.oxw().onCheckboxChange(Se,Ee.checked)}),e.TgZ(2,"span",3),e._uU(3),e.qZA()()()}if(2&Ke){const de=_t.$implicit;e.xp6(1),e.Q6J("value",de.value)("checked",de.checked),e.xp6(2),e.Oqu(de.label)}}function ue(Ke,_t){1&Ke&&(e.ynx(0),e._UZ(1,"icon",6),e._uU(2),e.ALo(3,"translate"),e.BQk()),2&Ke&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.ADVANCED_SEARCH.FILTER_ENUM_LIST.MORE")," "))}function Me(Ke,_t){1&Ke&&(e.ynx(0),e._UZ(1,"icon",7),e._uU(2),e.ALo(3,"translate"),e.BQk()),2&Ke&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.ADVANCED_SEARCH.FILTER_ENUM_LIST.LESS")," "))}function me(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(de),e.oxw().toggle()}),e.YNc(1,ue,4,3,"ng-container",5),e.YNc(2,Me,4,3,"ng-container",5),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("disabled",de.isToggleDisabled),e.xp6(1),e.Q6J("ngIf",!de.isExpanded),e.xp6(1),e.Q6J("ngIf",de.isExpanded)}}let ve=(()=>{class Ke{constructor(){this.valuesChange=new e.vpe,this.listToggled=new e.vpe,this.isExpanded=!1,this.isToggleDisabled=!1,this.shouldShowToggle=!1}ngOnChanges(){this.updateDerivedProperties()}onCheckboxChange(de,Ae){const Ee=Object.assign(Object.assign({},this.uiItems[de]),{checked:Ae}),ae=[...this.uiItems];ae.splice(de,1,Ee),this.uiItems=ae;let Se=ae.filter(({checked:it})=>it).map(({value:it})=>it);Se.length||(Se=void 0),this.valuesChange.emit(Se)}toggle(){this.isExpanded=!this.isExpanded,this.updateDerivedProperties(),this.listToggled.emit()}updateDerivedProperties(){const de=this.makeSet(this.values),Ae=this.makeSet(this.suggestedValues),Ee=new Map(this.items.map(rt=>[rt.value,rt])),ae=this.suggestedValues.map(rt=>Ee.get(rt)).filter(X.K),Se=this.items.filter(rt=>!Ae.has(rt.value)).filter(rt=>this.isExpanded||de.has(rt.value));this.uiItems=[...ae,...Se].map(rt=>Object.assign(Object.assign({},rt),{checked:de.has(rt.value)}));const it=this.uiItems.filter(({value:rt})=>Ae.has(rt)||de.has(rt));this.isToggleDisabled=it.length===this.items.length,this.shouldShowToggle=this.suggestedValues.length<this.items.length}makeSet(de){return new Set(Array.isArray(de)?de:[])}}return Ke.\u0275fac=function(de){return new(de||Ke)},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-enum-list"]],inputs:{values:"values",items:"items",suggestedValues:"suggestedValues"},outputs:{valuesChange:"valuesChange",listToggled:"listToggled"},features:[e.TTD],decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click",4,"ngIf"],[3,"value","checked","change"],[1,"checkbox-label"],["mat-button","",3,"disabled","click"],[4,"ngIf"],["key","icon_plus"],["key","icon_remove"]],template:function(de,Ae){1&de&&(e.YNc(0,ye,4,3,"div",0),e.YNc(1,me,3,3,"button",1)),2&de&&(e.Q6J("ngForOf",Ae.uiItems),e.xp6(1),e.Q6J("ngIf",Ae.shouldShowToggle))},directives:[p.sg,Ce.oG,p.O5,l.lW,E.o],pipes:[z.X],styles:["button[_ngcontent-%COMP%]{padding-left:4px}.checkbox-label[_ngcontent-%COMP%]{white-space:normal}"],changeDetection:0}),Ke})();var ze=t(49837),tt=t(4092);function ht(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"ngx-slider",4),e.NdJ("valueChange",function(Ee){return e.CHM(de),e.oxw().sliderMin=Ee})("highValueChange",function(Ee){return e.CHM(de),e.oxw().sliderMax=Ee})("userChangeEnd",function(Ee){return e.CHM(de),e.oxw().changeHandler(Ee)})("userChange",function(Ee){return e.CHM(de),e.oxw().slideHandler(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("value",de.sliderMin)("highValue",de.sliderMax)("options",de.sliderOptions)}}function xe(Ke,_t){1&Ke&&(e.TgZ(0,"div",5),e._UZ(1,"div",6),e.qZA())}let Ne=(()=>{class Ke{constructor(de){this.platformService=de,this.valuesBounds={},this.possibleValues=[],this.valuesChange=new e.vpe,this.isServer=!1,this.sliderMin=0,this.sliderOptions={floor:0,ceil:0,animate:!1,pushRange:!0,hideLimitLabels:!0,hidePointerLabels:!0,vertical:!1}}ngOnInit(){this.platformService.isServer()&&(this.isServer=!0)}ngOnChanges(de){this.valuesBounds=this.valuesBounds||{},this.valueArr=this.possibleValues.map(Ae=>{var Ee,ae;return{min:null===(Ee=this.valuesBounds[Ae])||void 0===Ee?void 0:Ee.min_label,max:null===(ae=this.valuesBounds[Ae])||void 0===ae?void 0:ae.max_label,value:Ae}}),de.filterName&&(this.sliderOptions=Object.assign(Object.assign({},this.sliderOptions),{ariaLabel:$localize`Minimum ${this.filterName}`,ariaLabelHigh:$localize`Maximum ${this.filterName}`})),this.initSliderState()}changeHandler(de){0===de.value&&de.highValue===this.possibleValues.length&&this.valuesChange.emit(void 0),(de.value!==this.currentSearchRange.min||de.highValue!==this.currentSearchRange.max)&&(this.currentSearchRange={min:de.value,max:de.highValue},this.valuesChange.emit(this.possibleValues.slice(de.value,de.highValue)))}slideHandler(de){this.setValueDisplay(de.value,de.highValue)}setValueDisplay(de,Ae){this.maxValue=this.valueArr[Ae-1].max,this.minValue=this.valueArr[de].min}initSliderState(){let de=0,Ae=this.possibleValues.length;if(this.sliderOptions.ceil=Ae,this.values){const ae=this.values[this.values.length-1];de=this.possibleValues.indexOf(this.values[0]),Ae=this.possibleValues.indexOf(ae)+1}this.currentSearchRange={min:de,max:Ae},this.setValueDisplay(de,Ae),this.sliderMin=de,this.sliderMax=Ae,this.inactive=de===this.sliderOptions.floor&&Ae===this.sliderOptions.ceil}}return Ke.\u0275fac=function(de){return new(de||Ke)(e.Y36(ze.m))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-enum-range"]],inputs:{valuesBounds:"valuesBounds",possibleValues:"possibleValues",values:"values",filterName:"filterName"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:8,vars:6,consts:[[1,"slider-container"],[1,"value-display"],[3,"value","highValue","options","valueChange","highValueChange","userChangeEnd","userChange",4,"ngIf"],["class","slider-mock",4,"ngIf"],[3,"value","highValue","options","valueChange","highValueChange","userChangeEnd","userChange"],[1,"slider-mock"],[1,"slider-mock-bar"]],template:function(de,Ae){1&de&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.YNc(6,ht,1,3,"ngx-slider",2),e.YNc(7,xe,2,0,"div",3),e.qZA()),2&de&&(e.ekj("inactive",Ae.inactive),e.xp6(3),e.Oqu(Ae.minValue),e.xp6(2),e.Oqu(Ae.maxValue),e.xp6(1),e.Q6J("ngIf",!Ae.isServer),e.xp6(1),e.Q6J("ngIf",Ae.isServer))},directives:[p.O5,tt.w5],styles:['ngx-slider[_ngcontent-%COMP%]{display:block;margin:8px 0 0;padding-bottom:8px}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-bar{height:3px;background-color:#0000001f}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-selection{background-color:#146aff}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-pointer{width:15px;height:15px;top:-8px;border-radius:50%;border:2px solid #146aff;background-color:#fff;outline:none}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-pointer:focus{background-color:#146aff}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-pointer:after{content:none}.slider-mock[_ngcontent-%COMP%]{display:block;position:relative;height:4px;width:100%;margin:8px 0 20px}.slider-mock[_ngcontent-%COMP%]   .slider-mock-bar[_ngcontent-%COMP%]{height:3px;width:100%;background-color:#146aff}.slider-mock[_ngcontent-%COMP%]:after, .slider-mock[_ngcontent-%COMP%]:before{content:"";position:absolute;width:15px;height:15px;top:-8px;border-radius:50%;border:2px solid #146aff;background-color:#fff;outline:none}.slider-mock[_ngcontent-%COMP%]:after{left:0}.slider-mock[_ngcontent-%COMP%]:before{right:0}.value-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.slider-container[_ngcontent-%COMP%]{margin-top:8px;position:relative;width:100%}.slider-container.inactive[_ngcontent-%COMP%]   ngx-slider[_ngcontent-%COMP%]  .ngx-slider-selection{background-color:#000}.slider-container.inactive[_ngcontent-%COMP%]   ngx-slider[_ngcontent-%COMP%]  .ngx-slider-pointer{border-color:#000}.slider-container.inactive[_ngcontent-%COMP%]   ngx-slider[_ngcontent-%COMP%]  .ngx-slider-pointer:focus{background-color:#666}'],changeDetection:0}),Ke})(),be=(()=>{class Ke{constructor(){this.valuesChange=new e.vpe}ngOnChanges(){this.checked=!!this.values}onCheckboxChange(de){this.valuesChange.emit(de?this.valuesIfChecked:void 0)}}return Ke.\u0275fac=function(de){return new(de||Ke)},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-boolean"]],inputs:{values:"values",valuesIfChecked:"valuesIfChecked"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:3,vars:4,consts:[[3,"checked","change"]],template:function(de,Ae){1&de&&(e.TgZ(0,"mat-checkbox",0),e.NdJ("change",function(ae){return Ae.onCheckboxChange(ae.checked)}),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&de&&(e.Q6J("checked",Ae.checked),e.xp6(1),e.hij(" ",e.lcZ(2,2,"CBL.ADVANCED_SEARCH.FILTER_BOOLEAN.CHECKBOX"),"\n"))},directives:[Ce.oG],pipes:[z.X],encapsulation:2,changeDetection:0}),Ke})();var se=t(94882),Oe=t(35560),Re=t(72994);function ot(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"chip",3),e.NdJ("remove",function(){e.CHM(de);const Ee=e.oxw().index;return e.oxw().remove(Ee)}),e._uU(1),e.qZA()}if(2&Ke){const de=_t.ngIf;e.Q6J("removable",!0),e.xp6(1),e.Oqu(de)}}function Ge(Ke,_t){if(1&Ke&&(e.ynx(0),e.YNc(1,ot,2,2,"chip",2),e.BQk()),2&Ke){const de=_t.$implicit,Ae=e.oxw();e.xp6(1),e.Q6J("ngIf",null==Ae.allLists[de]?null:Ae.allLists[de].name)}}let pt=(()=>{class Ke{constructor(de,Ae,Ee){this.labelService=de,this.listService=Ae,this.changeDetectorRef=Ee,this.valuesChange=new e.vpe,this.placeholder=this.labelService.getLabel("CBL.ADVANCED_SEARCH.FILTER_IN_LIST.PLACEHOLDER"),this.allLists={},this.onDestroy=new v.xQ,this.loadingLists=!1,this.getLists()}ngOnChanges(de){if(de.values)for(const Ae of this.values||[])if(!(Ae in this.allLists)){this.getLists();break}}ngOnDestroy(){this.onDestroy.next()}add(de){this.changeValues([...this.values||[],de.id])}remove(de){if(!this.values)return;const Ae=[...this.values];Ae.splice(de,1),this.changeValues(Ae)}getLists(){this.loadingLists||(this.loadingLists=!0,this.listService.getLists$(u.BW.ListTypeEnum.static).subscribe(de=>{for(const Ae of de)this.allLists[Ae.id]=Ae;this.loadingLists=!1,this.changeDetectorRef.markForCheck()}))}changeValues(de){de&&!de.length&&(de=void 0),this.valuesChange.emit(de)}}return Ke.\u0275fac=function(de){return new(de||Ke)(e.Y36(se.Q),e.Y36(Oe.XN),e.Y36(e.sBO))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["filter-in-list"]],inputs:{values:"values"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:3,vars:3,consts:[["appearance","outline",3,"placeholder","excludedUuids","chosenList"],[4,"ngFor","ngForOf"],[3,"removable","remove",4,"ngIf"],[3,"removable","remove"]],template:function(de,Ae){1&de&&(e.TgZ(0,"list-input",0),e.NdJ("chosenList",function(ae){return Ae.add(ae)}),e.qZA(),e.TgZ(1,"chips-container"),e.YNc(2,Ge,2,1,"ng-container",1),e.qZA()),2&de&&(e.Q6J("placeholder",Ae.placeholder)("excludedUuids",Ae.values),e.xp6(2),e.Q6J("ngForOf",Ae.values))},directives:[Re.H,d.O,p.sg,p.O5,n.Y],styles:["list-input[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),Ke})();function We(Ke,_t){1&Ke&&e._UZ(0,"icon",14)}function Ze(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(de),e.oxw().handleClearButton()}),e.ALo(1,"translate"),e._UZ(2,"icon",16),e.qZA()}2&Ke&&e.uIk("aria-label",e.lcZ(1,1,"CBL.COMMON.CLEAR"))}function De(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-multi-text",17),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("values",de.values)("placeholder",de.placeholder)}}function we(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-identifier-no-suggestions",18),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("collectionIds",null==de.field.values?null:de.field.values.collection_ids)("values",de.values)("placeholder",de.placeholder)}}function Ue(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-identifier-no-suggestions",18),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("collectionIds",null==de.field.values?null:de.field.values.collection_ids)("values",de.values)("placeholder",de.placeholder)}}function qe(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-date-range",19),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("name",de.field.id)("values",de.values)}}function dt(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-date-boundary",19),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("name",de.field.id)("values",de.values)}}function st(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-num-range",20),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("name",de.field.id)("values",de.values)("prefixIconKey",de.isMoneyField()?"icon_currency_usd":void 0)("placeholder",de.placeholder)}}function Tt(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-enum-list",21),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)})("listToggled",function(){return e.CHM(de),e.oxw().scrollIntoView()}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("items",de.enumItems)("suggestedValues",de.asEnumListModel(de.filterModel).suggested_values)("values",de.values)}}function St(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-enum-range",22),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("values",de.values)("possibleValues",de.possibleValues)("valuesBounds",de.valuesBounds)("filterName",de.filterModel.labels.name)}}function bt(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-boolean",23),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("values",de.values)("valuesIfChecked",de.booleanFilterValue)}}function kt(Ke,_t){if(1&Ke){const de=e.EpF();e.TgZ(0,"filter-in-list",24),e.NdJ("valuesChange",function(Ee){return e.CHM(de),e.oxw().handleValuesChange(Ee)}),e.qZA()}if(2&Ke){const de=e.oxw();e.Q6J("values",de.values)}}function Ut(Ke,_t){1&Ke&&e.GkF(0)}let nn=(()=>{class Ke{constructor(de,Ae){this.elementRef=de,this.scrollService=Ae,this.valuesChange=new e.vpe,this.clear=new e.vpe,this.scrollTopMargin=0,this.enumItems=[],this.FilterTypeEnum=u.Tq.FilterTypeEnum}ngOnChanges(de){var Ae,Ee;(de.field||de.filterModel)&&(this.placeholder=this.filterModel.labels.placeholder||(null===(Ee=null===(Ae=this.field)||void 0===Ae?void 0:Ae.labels)||void 0===Ee?void 0:Ee.placeholder)||"",this.updateEnumItems(),this.updateEnumRangeItems(),this.updateBooleanFilterValue())}handleValuesChange(de){this.valuesChange.emit(de)}handleClearButton(){this.clear.emit()}asEnumListModel(de){return de}isMoneyField(){return this.field.type_id===c.ul.FieldTypes.money||this.field.type_id===c.ul.FieldTypes.money_decimal}filterIsNew(de){return(0,i.k)(de)}scrollIntoView(){setTimeout(()=>{this.scrollService.scrollToElementInContainer(this.elementRef.nativeElement,{block:"start",topMargin:this.scrollTopMargin+10})})}updateEnumItems(){if(this.filterModel.filter_type!==u.Tq.FilterTypeEnum.enum_list)return void(this.enumItems=[]);const de=this.field.labels&&this.field.labels.values||{};this.enumItems=(this.field.values&&this.field.values.list||[]).map(Ee=>({value:Ee,label:de[Ee]||Ee}))}updateEnumRangeItems(){var de,Ae;if(this.filterModel.filter_type!==u.Tq.FilterTypeEnum.enum_range)return;const Ee=this.field;(null===(de=Ee.labels)||void 0===de?void 0:de.values_bounds)&&(this.valuesBounds=Ee.labels.values_bounds),(null===(Ae=Ee.values)||void 0===Ae?void 0:Ae.list)&&(this.possibleValues=Ee.values.list)}updateBooleanFilterValue(){if(this.filterModel.filter_type!==u.Tq.FilterTypeEnum.boolean)return;let de=this.filterModel.query_template;for(;(0,C.m)(de);)de=de.query[0];!(0,C.i)(de)||(this.booleanFilterValue=de.values)}}return Ke.\u0275fac=function(de){return new(de||Ke)(e.Y36(e.SBq),e.Y36(_.a))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["advanced-filter"]],inputs:{filterModel:"filterModel",field:"field",values:"values",advancedSearchFilter:"advancedSearchFilter",scrollTopMargin:"scrollTopMargin"},outputs:{valuesChange:"valuesChange",clear:"clear"},features:[e.TTD],decls:18,vars:15,consts:[[1,"filter-header"],["class","filter-new-icon","size","xxlarge","key","icon_new","color","primary",4,"ngIf"],["key","icon_info_outline","size","text","color","info","matTooltipShowDelay","500",1,"filter-description-icon",3,"matTooltip"],["mat-icon-button","","class","clear-filter-button",3,"click",4,"ngIf"],[3,"ngSwitch"],[3,"values","placeholder","valuesChange",4,"ngSwitchCase"],[3,"collectionIds","values","placeholder","valuesChange",4,"ngSwitchCase"],[3,"name","values","valuesChange",4,"ngSwitchCase"],[3,"name","values","prefixIconKey","placeholder","valuesChange",4,"ngSwitchCase"],[3,"items","suggestedValues","values","valuesChange","listToggled",4,"ngSwitchCase"],[3,"values","possibleValues","valuesBounds","filterName","valuesChange",4,"ngSwitchCase"],[3,"values","valuesIfChecked","valuesChange",4,"ngSwitchCase"],[3,"values","valuesChange",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["size","xxlarge","key","icon_new","color","primary",1,"filter-new-icon"],["mat-icon-button","",1,"clear-filter-button",3,"click"],["key","icon_close","size","large","color","primary"],[3,"values","placeholder","valuesChange"],[3,"collectionIds","values","placeholder","valuesChange"],[3,"name","values","valuesChange"],[3,"name","values","prefixIconKey","placeholder","valuesChange"],[3,"items","suggestedValues","values","valuesChange","listToggled"],[3,"values","possibleValues","valuesBounds","filterName","valuesChange"],[3,"values","valuesIfChecked","valuesChange"],[3,"values","valuesChange"]],template:function(de,Ae){1&de&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.qZA(),e.YNc(3,We,1,0,"icon",1),e._UZ(4,"icon",2),e.YNc(5,Ze,3,3,"button",3),e.qZA(),e.ynx(6,4),e.YNc(7,De,1,2,"filter-multi-text",5),e.YNc(8,we,1,3,"filter-identifier-no-suggestions",6),e.YNc(9,Ue,1,3,"filter-identifier-no-suggestions",6),e.YNc(10,qe,1,2,"filter-date-range",7),e.YNc(11,dt,1,2,"filter-date-boundary",7),e.YNc(12,st,1,4,"filter-num-range",8),e.YNc(13,Tt,1,3,"filter-enum-list",9),e.YNc(14,St,1,4,"filter-enum-range",10),e.YNc(15,bt,1,2,"filter-boolean",11),e.YNc(16,kt,1,1,"filter-in-list",12),e.YNc(17,Ut,1,0,"ng-container",13),e.BQk()),2&de&&(e.xp6(2),e.hij(" ",null==Ae.filterModel.labels?null:Ae.filterModel.labels.name," "),e.xp6(1),e.Q6J("ngIf",Ae.filterIsNew(Ae.filterModel)),e.xp6(1),e.Q6J("matTooltip",Ae.filterModel.labels.description||(null==Ae.field.labels?null:Ae.field.labels.description)||""),e.xp6(1),e.Q6J("ngIf",void 0!==Ae.values),e.xp6(1),e.Q6J("ngSwitch",Ae.filterModel.filter_type),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.multi_text_contains),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.identifier_no_suggestions),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.identifier_with_suggestions),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.date_between),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.date_boundary),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.number_between),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.enum_list),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.enum_range),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.boolean),e.xp6(1),e.Q6J("ngSwitchCase",Ae.FilterTypeEnum.in_list))},directives:[p.O5,E.o,a.gM,l.lW,p.RF,p.n9,m,H,J,M,$,ve,Ne,be,pt,p.ED],pipes:[z.X],styles:["@media (min-width: 960px){[_nghost-%COMP%]:not(:hover)   .filter-description-icon[_ngcontent-%COMP%]{visibility:hidden}}[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-radio-outer-circle, [_nghost-%COMP%]     .mat-checkbox-inner-container{background-color:#fff}.filter-header[_ngcontent-%COMP%]{display:flex;align-items:center}h4[_ngcontent-%COMP%]{font-weight:500}input[type=text][_ngcontent-%COMP%]{width:100%;font-size:16px;line-height:1.5em}.filter-new-icon[_ngcontent-%COMP%]{margin-left:4px;position:relative;top:-.4em}.filter-description-icon[_ngcontent-%COMP%]{margin-left:4px}.clear-filter-button[_ngcontent-%COMP%]{margin:-8px -8px -8px auto}"],changeDetection:0}),Ke})()},40831:(ne,b,t)=>{t.d(b,{Ib:()=>K,Dy:()=>H});var e=t(36362),i=t(90898),u=t(90587),c=t(45857),C=t(35503),_=t(65852),p=t(89250),E=t(32519),a=t(75012),l=t(33706),r=t(5076),o=t(31156),d=t(3184),n=t(72622),v=(t(57806),t(22662),t(3173),t(92218)),y=t(85921),S=t(16276),A=t(2384),x=t(7323),R=t(95758),s=t(73729),h=t(74929);let H=(()=>{class P extends A.V{constructor(ee,Z){super(),this.dialogRef=ee,this.userService=Z,this.onDestroy=new v.xQ}ngOnInit(){this.userService.getSessionChangeObservable().pipe((0,y.R)(this.onDestroy)).pipe((0,S.T)(1)).subscribe(ee=>ee&&this.dialogRef.close(ee))}ngOnDestroy(){this.onDestroy.next()}}return P.\u0275fac=function(ee){return new(ee||P)(d.Y36(R.so),d.Y36(x.KD))},P.\u0275cmp=d.Xpm({type:P,selectors:[["ng-component"]],features:[d.qOj],decls:4,vars:4,consts:[[3,"fullBleed","title"],["dialog-content",""]],template:function(ee,Z){1&ee&&(d.TgZ(0,"dialog-layout",0),d.ALo(1,"translate"),d.TgZ(2,"div",1),d._UZ(3,"login"),d.qZA()()),2&ee&&d.Q6J("fullBleed",!0)("title",d.lcZ(1,2,"CBL.LOGIN.LOGIN"))},directives:[s.I,n.G],pipes:[h.X],encapsulation:2}),P})(),K=(()=>{class P{}return P.\u0275fac=function(ee){return new(ee||P)},P.\u0275mod=d.oAB({type:P}),P.\u0275inj=d.cJS({imports:[[e.ez,i.q,u.u5,u.UX,a.M,c.Bz,C.Dt,_.C,p.S,E.n,l.T,r.V,o.H]]}),P})()},22662:(ne,b,t)=>{t.d(b,{s:()=>E});var e=t(3184),i=t(45857),u=t(11961),c=t(12379),C=t(72622),_=t(57806),p=t(74929);let E=(()=>{class a{constructor(r){this.router=r}ngOnInit(){this.tab=this.tab||0}handleSelectedIndexChange(r){let o;o=0===r?"login":"register",this.router.navigate([`/${o}`],{replaceUrl:!0})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(i.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["authentication"]],inputs:{tab:"tab",email:"email"},decls:8,vars:8,consts:[["dynamicHeight","",3,"selectedIndex","selectedIndexChange"],[3,"label"],[3,"email"]],template:function(r,o){1&r&&(e.TgZ(0,"mat-card")(1,"mat-tab-group",0),e.NdJ("selectedIndexChange",function(n){return o.handleSelectedIndexChange(n)}),e.TgZ(2,"mat-tab",1),e.ALo(3,"translate"),e._UZ(4,"login"),e.qZA(),e.TgZ(5,"mat-tab",1),e.ALo(6,"translate"),e._UZ(7,"register",2),e.qZA()()()),2&r&&(e.xp6(1),e.Q6J("selectedIndex",o.tab),e.xp6(1),e.Q6J("label",e.lcZ(3,4,"CBL.LOGIN.LOGIN")),e.xp6(3),e.Q6J("label",e.lcZ(6,6,"CBL.LOGIN.REGISTER")),e.xp6(2),e.Q6J("email",o.email))},directives:[u.a8,c.SP,c.uX,C.G,_.y],pipes:[p.X],styles:["[_nghost-%COMP%]{display:block}mat-card[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]  .mat-tab-label{text-transform:uppercase}"]}),a})()},72622:(ne,b,t)=>{t.d(b,{G:()=>y});var e=t(93443),i=t(94882),u=t(14296),c=t(7323),C=t(85853),_=t(2384),p=t(58288),E=t(3184),a=t(45857),l=t(90587),r=t(44770),o=t(43365),d=t(59543),n=t(29847),g=t(50450),f=t(87317),m=t(3173),v=t(74929);let y=(()=>{class S{constructor(x,R,s,h,H,K){this.userService=x,this.progressService=R,this.dialogService=s,this.errorService=h,this.labelService=H,this.router=K}login(){this.progressService.startProgress("login"),this.userService.login({email:this.email,password:this.password}).then(this.handleLoginSuccess.bind(this),this.handleLoginFailure.bind(this))}forgotPassword(x){this.dialogService.showDialog(p.oZ)}oauth(x){this.progressService.startProgress("oauth-login"),this.userService.initiateSocialAuthLogin(x,!1).then(null,R=>this.handleOAuthErrors(R,x)).then(()=>{this.progressService.stopProgress("oauth-login")})}handleOAuthErrors(x,R){var s,h,H,K;if((null===(h=null===(s=null==x?void 0:x.errors)||void 0===s?void 0:s[0])||void 0===h?void 0:h.code)===e.ch.CodeEnum.US803)return this.promptForRegistration(R);(null===(K=null===(H=null==x?void 0:x.errors)||void 0===H?void 0:H[0])||void 0===K?void 0:K.code)===e.ch.CodeEnum.US808&&this.dialogService.showDialog(p.ah),this.errorService.showToast(x,"CBL.COMMON.FAILURE")}handleLoginSuccess(x){this.progressService.stopProgress("login")}handleLoginFailure(x){this.progressService.stopProgress("login"),((null==x?void 0:x.errors)||[]).some(s=>s.code===e.ch.CodeEnum.US808)?this.dialogService.showConfirmation(this.labelService.getLabel("CBL.LOGIN.USE_SSO_DIALOG.TITLE"),$localize`Single sign-on is enabled for your account. You must log in with single sign-on.`,this.labelService.getLabel("CBL.LOGIN.USE_SSO_DIALOG.OK")).then(s=>{s&&this.router.navigate(["login","sso"],{state:{email:this.email},queryParamsHandling:"preserve"})}):this.loginError=x}promptForRegistration(x){this.dialogService.showConfirmation($localize`Log in error`,$localize`It looks like we don't have a Crunchbase account associated to the social network you're trying to log in with. Would you like to create one now?`,$localize`Create New Crunchbase Account`,$localize`Cancel`).then(R=>{R&&(this.progressService.startProgress("oauth-login"),this.userService.continueWithSocialAuthRegistration(x).then(()=>{this.progressService.stopProgress("oauth-login")}))},()=>{})}}return S.\u0275fac=function(x){return new(x||S)(E.Y36(c.KD),E.Y36(C.N),E.Y36(_.x),E.Y36(u.T),E.Y36(i.Q),E.Y36(a.F0))},S.\u0275cmp=E.Xpm({type:S,selectors:[["login"]],decls:35,vars:33,consts:[[3,"ngSubmit"],["loginForm","ngForm"],["matInput","","required","","autocomplete","email","type","email","name","email",3,"serverError","placeholder","ngModel","ngModelChange"],["loginEmailInput","ngModel"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.EMAIL_INVALID",3,"error"],["fieldName","email",3,"error"],["matInput","","required","","autocomplete","current-password","type","password","name","password",3,"serverError","placeholder","ngModel","ngModelChange"],["loginPasswordInput","ngModel"],["label","CBL.CHANGE_PASSWORD.INVALID",3,"error"],["fieldName","password",3,"error"],[1,"errors"],[3,"error"],["mat-raised-button","","color","primary","type","submit",1,"login",3,"disabled"],[1,"or"],[3,"isLogin","socialClick"],[1,"footer"],["type","button","mat-button","","routerLink","/login/sso","queryParamsHandling","preserve"],["type","button","mat-button","",3,"click"]],template:function(x,R){if(1&x&&(E.TgZ(0,"form",0,1),E.NdJ("ngSubmit",function(){return R.login()}),E.TgZ(2,"mat-form-field")(3,"input",2,3),E.NdJ("ngModelChange",function(h){return R.email=h}),E.ALo(5,"translate"),E.qZA(),E.TgZ(6,"mat-error"),E._UZ(7,"form-error",4)(8,"form-error",5)(9,"server-error",6),E.qZA()(),E.TgZ(10,"mat-form-field")(11,"input",7,8),E.NdJ("ngModelChange",function(h){return R.password=h}),E.ALo(13,"translate"),E.qZA(),E.TgZ(14,"mat-error"),E._UZ(15,"form-error",4)(16,"form-error",9)(17,"server-error",10),E.qZA()(),E.TgZ(18,"div",11),E._UZ(19,"server-error",12),E.qZA(),E.TgZ(20,"button",13),E._uU(21),E.ALo(22,"translate"),E.qZA()(),E.TgZ(23,"div",14)(24,"span"),E._uU(25),E.ALo(26,"translate"),E.qZA()(),E.TgZ(27,"social-buttons",15),E.NdJ("socialClick",function(h){return R.oauth(h)}),E.qZA(),E.TgZ(28,"div",16)(29,"a",17),E._uU(30),E.ALo(31,"translate"),E.qZA(),E.TgZ(32,"button",18),E.NdJ("click",function(h){return R.forgotPassword(h)}),E._uU(33),E.ALo(34,"translate"),E.qZA()()),2&x){const s=E.MAs(1),h=E.MAs(4),H=E.MAs(12);E.xp6(3),E.Q6J("serverError",R.loginError)("placeholder",E.lcZ(5,21,"CBL.COMMON.EMAIL"))("ngModel",R.email),E.xp6(4),E.Q6J("error",null==s.controls.email||null==s.controls.email.errors?null:s.controls.email.errors.required)("isTouched",h.touched),E.xp6(1),E.Q6J("error",null==s.controls.email||null==s.controls.email.errors?null:s.controls.email.errors.email),E.xp6(1),E.Q6J("error",R.loginError),E.xp6(2),E.Q6J("serverError",R.loginError)("placeholder",E.lcZ(13,23,"CBL.LOGIN.PASSWORD"))("ngModel",R.password),E.xp6(4),E.Q6J("error",null==s.controls.password||null==s.controls.password.errors?null:s.controls.password.errors.required)("isTouched",H.touched),E.xp6(1),E.Q6J("error",null==s.controls.password||null==s.controls.password.errors?null:s.controls.password.errors.password),E.xp6(1),E.Q6J("error",R.loginError),E.xp6(2),E.Q6J("error",R.loginError),E.xp6(1),E.Q6J("disabled",!s.form.valid),E.xp6(1),E.hij(" ",E.lcZ(22,25,"CBL.LOGIN.LOGIN")," "),E.xp6(4),E.Oqu(E.lcZ(26,27,"CBL.COMMON.OR")),E.xp6(2),E.Q6J("isLogin",!0),E.xp6(3),E.hij(" ",E.lcZ(31,29,"CBL.LOGIN.SSO_LOGIN")," "),E.xp6(3),E.hij(" ",E.lcZ(34,31,"CBL.LOGIN.FORGOT_PASSWORD")," ")}},directives:[l._Y,l.JL,l.F,r.KE,o.Nt,l.Fj,l.Q7,d._,l.JJ,l.On,r.TO,n.A,g.k,f.lW,m.c,f.zs,a.yS],pipes:[v.X],styles:['[_nghost-%COMP%]{display:block;text-align:center}form[_ngcontent-%COMP%]{margin:20px}.or[_ngcontent-%COMP%]{position:relative;margin:32px 16px 16px}.or[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;right:0;top:50%;border-top:1px solid rgba(0,0,0,.12)}.or[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;text-transform:uppercase;background-color:#fff;padding:0 20px;position:relative}mat-form-field[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;width:100%}.errors[_ngcontent-%COMP%]{margin:8px 0}.login[_ngcontent-%COMP%]{width:100%}.footer[_ngcontent-%COMP%]{margin-top:32px;padding:8px;border-top:1px solid rgba(0,0,0,.12)}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{letter-spacing:unset;text-transform:unset}']}),S})()},57806:(ne,b,t)=>{t.d(b,{y:()=>S});var e=t(13074),i=t(14296),u=t(7323),c=t(46179),C=t(85853),_=t(90587),p=t(3184),E=t(3173),a=t(44770),l=t(43365),r=t(59543),o=t(29847),d=t(50450),n=t(54749),g=t(7856),f=t(36362),m=t(87317),v=t(74929);function y(A,x){if(1&A&&p._UZ(0,"server-error",24),2&A){const R=p.oxw();p.Q6J("error",R.registerError)}}let S=(()=>{class A{constructor(R,s,h,H,K,P){this.userService=R,this.toastService=s,this.progressService=h,this.errorService=H,this.urlService=K,this.formBuilder=P,this.displayGenericError=!1}ngOnInit(){this.form=this.formBuilder.group({email:new _.NI(this.email,_.kI.required),first_name:new _.NI(void 0,_.kI.required),last_name:new _.NI(void 0,_.kI.required),password:new _.NI})}register(){this.progressService.startProgress("register");const{email:R,first_name:s,last_name:h,password:H}=this.form.value;this.userService.register({email:R,first_name:s,last_name:h,password:H.newPassword}).then(this.handleRegisterSuccess.bind(this),this.handleRegisterFailure.bind(this))}oauth(R){this.progressService.startProgress("oauth-login"),this.userService.initiateSocialAuthLogin(R,!0).then(null,s=>this.handleOAuthErrors(s,R)).then(()=>{this.progressService.stopProgress("oauth-login")})}getTermsOfServiceUrl(){return this.urlService.getTermsOfServiceUrl()}getPrivacyPolicyUrl(){return this.urlService.getPrivacyPolicyUrl()}handleOAuthErrors(R,s){this.errorService.showToast(R,"CBL.COMMON.FAILURE")}handleRegisterSuccess(R){this.progressService.stopProgress("register"),this.toastService.showSimpleToast("CBL.LOGIN.REGISTERED")}handleRegisterFailure(R){this.progressService.stopProgress("register"),this.registerError=R,this.displayGenericError=!(R.errors&&R.errors.find(s=>!!s.field))}}return A.\u0275fac=function(R){return new(R||A)(p.Y36(u.KD),p.Y36(c.k),p.Y36(C.N),p.Y36(i.T),p.Y36(e.iO),p.Y36(_.qu))},A.\u0275cmp=p.Xpm({type:A,selectors:[["register"]],inputs:{email:"email"},decls:55,vars:58,consts:[[1,"cb-text-align-center","cb-margin-large-bottom"],[1,"cb-font-weight-bold","cb-font-size-medium","cb-margin-medium-bottom"],[3,"isLogin","socialClick"],[1,"cb-margin-large-vertical","layout-row","layout-align-center-center"],[1,"flex-50","layout-row","layout-align-center-center"],[1,"cb-border-bottom","cb-border-color-divider","flex-grow"],[1,"cb-font-weight-bold","cb-text-color-medium","cb-text-transform-upper","cb-padding-large-horizontal","flex-none"],[1,"cb-font-weight-bold","cb-font-size-medium"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","email","required","","autocomplete","email","type","email","name","email",3,"serverError","placeholder"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.EMAIL_INVALID",3,"error"],["fieldName","email",3,"error"],["matInput","","required","","autocomplete","given-name","formControlName","first_name","validName","","type","text","name","first_name",3,"serverError","placeholder"],["label","CBL.USER_DETAILS.NAME_INVALID",3,"error"],["fieldName","first_name",3,"error"],["matInput","","autocomplete","family-name","formControlName","last_name","required","","validName","","type","text","name","last_name",3,"placeholder"],["fieldName","last_name",3,"error"],["formControlName","password",3,"apiError","disableConfirmation"],[3,"error",4,"ngIf"],[1,"cb-margin-xlarge-top","layout-column","layout-gt-sm-row","layout-align-gt-sm-start-center"],["mat-raised-button","","color","primary","type","submit","data-cy","register",1,"flex-none",3,"disabled"],[1,"cb-font-size-small","cb-text-color-medium","cb-margin-medium"],["target","_blank",1,"link-primary",3,"href"],[3,"error"]],template:function(R,s){1&R&&(p.TgZ(0,"div",0)(1,"h2",1),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"social-buttons",2),p.NdJ("socialClick",function(H){return s.oauth(H)}),p.qZA(),p.TgZ(5,"div",3)(6,"div",4),p._UZ(7,"div",5),p.TgZ(8,"span",6),p._uU(9),p.ALo(10,"translate"),p.qZA(),p._UZ(11,"div",5),p.qZA()(),p.TgZ(12,"h2",7),p._uU(13),p.ALo(14,"translate"),p.qZA()(),p.TgZ(15,"form",8),p.NdJ("ngSubmit",function(){return s.register()}),p.TgZ(16,"mat-form-field"),p._UZ(17,"input",9),p.ALo(18,"translate"),p.TgZ(19,"mat-error"),p._UZ(20,"form-error",10)(21,"form-error",11)(22,"server-error",12),p.qZA()(),p.TgZ(23,"mat-form-field"),p._UZ(24,"input",13),p.ALo(25,"translate"),p.TgZ(26,"mat-error"),p._UZ(27,"form-error",10)(28,"form-error",14)(29,"server-error",15),p.qZA()(),p.TgZ(30,"mat-form-field"),p._UZ(31,"input",16),p.ALo(32,"translate"),p.TgZ(33,"mat-error"),p._UZ(34,"form-error",10)(35,"form-error",14)(36,"server-error",17),p.qZA()(),p._UZ(37,"password-form",18),p.YNc(38,y,1,1,"server-error",19),p.TgZ(39,"div",20)(40,"button",21),p.ALo(41,"translate"),p._uU(42),p.ALo(43,"translate"),p.qZA(),p.TgZ(44,"span",22),p._uU(45),p.ALo(46,"translate"),p.TgZ(47,"a",23),p._uU(48),p.ALo(49,"translate"),p.qZA(),p._uU(50),p.ALo(51,"translate"),p.TgZ(52,"a",23),p._uU(53),p.ALo(54,"translate"),p.qZA()()()()),2&R&&(p.xp6(2),p.hij(" ",p.lcZ(3,34,"CBL.SOCIAL_AUTH.REGISTER_WITH_SOCIAL")," "),p.xp6(2),p.Q6J("isLogin",!1),p.xp6(5),p.hij(" ",p.lcZ(10,36,"CBL.COMMON.OR")," "),p.xp6(4),p.hij(" ",p.lcZ(14,38,"CBL.SOCIAL_AUTH.REGISTER_WITH_EMAIL")," "),p.xp6(2),p.Q6J("formGroup",s.form),p.xp6(2),p.Q6J("serverError",s.registerError)("placeholder",p.lcZ(18,40,"CBL.COMMON.EMAIL")),p.xp6(3),p.Q6J("error",null==s.form.controls.email||null==s.form.controls.email.errors?null:s.form.controls.email.errors.required)("isTouched",s.form.controls.email.touched),p.xp6(1),p.Q6J("error",null==s.form.controls.email||null==s.form.controls.email.errors?null:s.form.controls.email.errors.email),p.xp6(1),p.Q6J("error",s.registerError),p.xp6(2),p.Q6J("serverError",s.registerError)("placeholder",p.lcZ(25,42,"CBL.USER_DETAILS.FIRST_NAME")),p.xp6(3),p.Q6J("error",null==s.form.controls.first_name||null==s.form.controls.first_name.errors?null:s.form.controls.first_name.errors.required)("isTouched",s.form.controls.first_name.touched),p.xp6(1),p.Q6J("error",null==s.form.controls.first_name||null==s.form.controls.first_name.errors?null:s.form.controls.first_name.errors.validName),p.xp6(1),p.Q6J("error",s.registerError),p.xp6(2),p.Q6J("placeholder",p.lcZ(32,44,"CBL.USER_DETAILS.LAST_NAME")),p.xp6(3),p.Q6J("error",null==s.form.controls.last_name||null==s.form.controls.last_name.errors?null:s.form.controls.last_name.errors.required)("isTouched",s.form.controls.last_name.touched),p.xp6(1),p.Q6J("error",null==s.form.controls.last_name||null==s.form.controls.last_name.errors?null:s.form.controls.last_name.errors.validName),p.xp6(1),p.Q6J("error",s.registerError),p.xp6(1),p.Q6J("apiError",s.registerError)("disableConfirmation",!0),p.xp6(1),p.Q6J("ngIf",s.displayGenericError),p.xp6(2),p.Q6J("disabled",!s.form.valid),p.uIk("aria-label",p.lcZ(41,46,"CBL.LOGIN.REGISTER")),p.xp6(2),p.hij(" ",p.lcZ(43,48,"CBL.LOGIN.REGISTER")," "),p.xp6(3),p.hij(" ",p.lcZ(46,50,"CBL.LOGIN.BY_REGISTERING_YOU_AGREE")," "),p.xp6(2),p.Q6J("href",s.getTermsOfServiceUrl(),p.LSH),p.xp6(1),p.Oqu(p.lcZ(49,52,"CBL.BILLING.TERMS_AND_CONDITIONS")),p.xp6(2),p.hij(" ",p.lcZ(51,54,"CBL.BILLING.AND")," "),p.xp6(2),p.Q6J("href",s.getPrivacyPolicyUrl(),p.LSH),p.xp6(1),p.Oqu(p.lcZ(54,56,"CBL.BILLING.PRIVACY_POLICY")))},directives:[E.c,_._Y,_.JL,_.sg,a.KE,l.Nt,_.Fj,_.JJ,_.u,_.Q7,r._,a.TO,o.A,d.k,n.m,g.G,f.O5,m.lW],pipes:[v.X],styles:["[_nghost-%COMP%]{display:block;padding:20px}mat-form-field[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;width:100%}"]}),A})()},3173:(ne,b,t)=>{t.d(b,{c:()=>a});var e=t(3184),i=t(93443),u=t(97010),c=t(87317),C=t(77500),_=t(32478),p=t(74929),E=i.eW.ProviderEnum;let a=(()=>{class l{constructor(){this.socialClick=new e.vpe,this.ProviderEnum=E,this.googleIconImage=u.Wh.google}oauth(o){this.socialClick.emit(o)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["social-buttons"]],inputs:{isLogin:"isLogin"},outputs:{socialClick:"socialClick"},decls:28,vars:32,consts:[["mat-stroked-button","","color","accent",3,"click"],[1,"google"],[3,"resource","original","alt"],["mat-stroked-button","","color","accent",1,"facebook",3,"click"],[1,"button-label-wrapper"],[3,"key","size","color"],["mat-stroked-button","","color","accent",1,"linkedin",3,"click"],["mat-stroked-button","","color","accent",1,"twitter",3,"click"]],template:function(o,d){1&o&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return d.oauth(d.ProviderEnum.google)}),e.TgZ(1,"div",1),e._UZ(2,"cb-image",2),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"button",3),e.NdJ("click",function(){return d.oauth(d.ProviderEnum.facebook)}),e.TgZ(8,"div",4),e._UZ(9,"icon",5),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"translate"),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"button",6),e.NdJ("click",function(){return d.oauth(d.ProviderEnum.linkedin)}),e.TgZ(15,"div",4),e._UZ(16,"icon",5),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"button",7),e.NdJ("click",function(){return d.oauth(d.ProviderEnum.twitter)}),e.TgZ(22,"div",4),e._UZ(23,"icon",5),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"translate"),e.ALo(27,"translate"),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("resource",d.googleIconImage)("original",!0)("alt",""),e.xp6(2),e.Oqu(d.isLogin?e.lcZ(5,16,"CBL.SOCIAL_AUTH.LOGIN_GOOGLE"):e.lcZ(6,18,"CBL.SOCIAL_AUTH.REGISTER_GOOGLE")),e.xp6(5),e.Q6J("key","icon_facebook_logo")("size","xlarge")("color","inherit"),e.xp6(2),e.Oqu(d.isLogin?e.lcZ(12,20,"CBL.SOCIAL_AUTH.LOGIN_FACEBOOK"):e.lcZ(13,22,"CBL.SOCIAL_AUTH.REGISTER_FACEBOOK")),e.xp6(5),e.Q6J("key","icon_linkedin")("size","xlarge")("color","inherit"),e.xp6(2),e.Oqu(d.isLogin?e.lcZ(19,24,"CBL.SOCIAL_AUTH.LOGIN_LINKEDIN"):e.lcZ(20,26,"CBL.SOCIAL_AUTH.REGISTER_LINKEDIN")),e.xp6(5),e.Q6J("key","icon_twitter_square")("size","xlarge")("color","inherit"),e.xp6(2),e.Oqu(d.isLogin?e.lcZ(26,28,"CBL.SOCIAL_AUTH.LOGIN_TWITTER"):e.lcZ(27,30,"CBL.SOCIAL_AUTH.REGISTER_TWITTER")))},directives:[c.lW,C.q,_.o],pipes:[p.X],styles:["[_nghost-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:column;line-height:56px;padding:10px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:8px 10px;text-transform:none;height:48px}[_nghost-%COMP%]   .google[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .google[_ngcontent-%COMP%]   cb-image[_ngcontent-%COMP%]{line-height:0;margin:0 -13px}[_nghost-%COMP%]   .google[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0}.button-label-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.twitter[_ngcontent-%COMP%]   .button-label-wrapper[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{color:#55acee}.facebook[_ngcontent-%COMP%]   .button-label-wrapper[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{color:#3b5998}.linkedin[_ngcontent-%COMP%]   .button-label-wrapper[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{color:#0077b5}.button-label-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}"]}),l})()},71832:(ne,b,t)=>{t.d(b,{T:()=>_});var e=t(94736),i=t(3184);const u={mp4:"h264",ogv:"theora",webm:"vp8"};let c=(()=>{class p{constructor(a){this.stringUtil=a}getPosterImageUrl(a,l){return this.getPublicVideoUrl(a,{width:l,format:"jpg"})}getPublicVideoUrl(a,l){if(!a)return"";!(l=Object.assign({},{crop:"scale",format:"mp4"},l)).codec&&l.format&&(l.codec=u[l.format]);let o=this.getBaseUrl(a),d=[];return d.push(`c_${l.crop}`),l.width&&d.push(`w_${l.width}`),l.format&&d.push(`f_${l.format}`),l.codec&&d.push(`vc_${l.codec}`),[o,d.join(","),"/",a].join("")}getBaseUrl(a){return a.startsWith("http")?p.CLOUDINARY_FETCH_URL:this.getCloudinaryBaseUrl(a)}getCloudinaryBaseUrl(a){const l=this.stringUtil.hashCode(a);return`https://res-${Math.abs(l)%5+1}.cloudinary.com/crunchbase-production/video/upload/`}}return p.CLOUDINARY_FETCH_URL="https://crunchbase-production-res.cloudinary.com/video/fetch/s--wuEAmLGW--/",p.\u0275fac=function(a){return new(a||p)(i.LFG(e.m))},p.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const C=["videoEl"];let _=(()=>{class p{constructor(a){this.videoService=a}getVideoSource(a){return this.videoElement.nativeElement.load(),this.videoService.getPublicVideoUrl(this.resource,{width:this.width,format:a})}getPosterImage(){return this.videoElement.nativeElement.poster="",this.videoService.getPosterImageUrl(this.resource,this.width)}}return p.\u0275fac=function(a){return new(a||p)(i.Y36(c))},p.\u0275cmp=i.Xpm({type:p,selectors:[["autoplay-video"]],viewQuery:function(a,l){if(1&a&&i.Gf(C,7),2&a){let r;i.iGM(r=i.CRH())&&(l.videoElement=r.first)}},inputs:{resource:"resource",width:"width"},decls:5,vars:4,consts:[["autoplay","","muted","","playsinline","","loop","",3,"poster"],["videoEl",""],["type","video/webm",3,"src"],["type","video/ogg",3,"src"],["type","video/mp4",3,"src"]],template:function(a,l){1&a&&(i.TgZ(0,"video",0,1),i._UZ(2,"source",2)(3,"source",3)(4,"source",4),i.qZA()),2&a&&(i.Q6J("poster",l.getPosterImage(),i.LSH),i.xp6(2),i.Q6J("src",l.getVideoSource("webm"),i.LSH),i.xp6(1),i.Q6J("src",l.getVideoSource("ogv"),i.LSH),i.xp6(1),i.Q6J("src",l.getVideoSource("mp4"),i.LSH))},styles:["video[_ngcontent-%COMP%]{display:block;width:100%}"],changeDetection:0}),p})()},75337:(ne,b,t)=>{t.d(b,{G:()=>u});var e=t(36362),i=t(3184);let u=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[e.ez]]}),c})()},31258:(ne,b,t)=>{t.d(b,{A:()=>m});var e=t(14021),i=t(46179),u=t(2384),c=t(24956),C=t(92218),_=t(14296),p=t(3184),E=t(95758),a=t(90587),l=t(73729),r=t(23322),o=t(67278),d=t(36362),n=t(87317),g=t(74929);function f(v,y){if(1&v&&(p.TgZ(0,"div",11)(1,"div"),p._uU(2),p.ALo(3,"translate"),p.qZA()()),2&v){const S=y.$implicit;p.xp6(2),p.Oqu(p.lcZ(3,1,S))}}let m=(()=>{class v extends u.V{constructor(S,A,x,R,s,h){super(),this.billingService=S,this.toastService=A,this.errorService=x,this.dialogRef=R,this.logService=s,this.changeDetectorRef=h,this.processing=!1,this.isValidCreditCard=!1,this.onDestroy=new C.xQ}ngOnInit(){this.logger=this.logService.getLogger("AddPaymentSource"),this.existingPaymentSource=this.payload.existingPaymentSource,this.existingPaymentSource&&(this.existingCreditCard={expMonth:this.existingPaymentSource.expiration_month+"",expYear:this.existingPaymentSource.expiration_year+"",name:this.existingPaymentSource.cardholder_name})}ngOnDestroy(){this.onDestroy.next()}onCreditCardChange(S){this.possiblyValidCreditCard=S,this.isValidCreditCard=S.valid,this.errors=void 0,this.changeDetectorRef.markForCheck()}onBillingAddressChange(S){this.billingAddress=S,this.errors=void 0,this.changeDetectorRef.markForCheck()}setPaymentSource(){if(!this.possiblyValidCreditCard||!this.possiblyValidCreditCard.valid)return;const S=this.possiblyValidCreditCard.creditCard;S.address=this.billingAddress,this.processing=!0,this.changeDetectorRef.markForCheck(),this.billingService.replacePaymentSource(S,this.existingPaymentSource).then(()=>this.handlePaymentSource(),A=>this.handleError(A)).then(()=>{this.processing=!1,this.changeDetectorRef.markForCheck()})}handlePaymentSource(){this.toastService.showSimpleToast("CBL.BILLING.PAYMENT_SOURCE_ADDED"),this.billingService.emitChangedPayments(),this.dialogRef.close()}handleError(S){this.logger.error("Could not add payment",S),this.errors=this.errorService.getTopLevelErrorLabels(S)}}return v.\u0275fac=function(S){return new(S||v)(p.Y36(e.jM),p.Y36(i.k),p.Y36(_.T),p.Y36(E.so),p.Y36(c.$V),p.Y36(p.sBO))},v.\u0275cmp=p.Xpm({type:v,selectors:[["add-payment-source"]],features:[p.qOj],decls:20,vars:19,consts:[[1,"addPaymentForm"],["addPaymentForm","ngForm"],[3,"title","processing"],["dialog-content","",1,"component--add-payment-source"],[1,"purchase-steps"],[1,"step-title"],[3,"required","creditCard","onCardChange"],[3,"onBillingAddressChange"],["class","error-messages",4,"ngFor","ngForOf"],["dialog-actions","",1,"layout-row"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[1,"error-messages"]],template:function(S,A){1&S&&(p.TgZ(0,"form",0,1)(2,"dialog-layout",2),p.ALo(3,"translate"),p.TgZ(4,"div",3)(5,"ol",4)(6,"li")(7,"div",5),p._uU(8),p.ALo(9,"translate"),p.qZA(),p.TgZ(10,"credit-card",6),p.NdJ("onCardChange",function(R){return A.onCreditCardChange(R)}),p.qZA(),p.TgZ(11,"billing-address",7),p.NdJ("onBillingAddressChange",function(R){return A.onBillingAddressChange(R)}),p.qZA(),p.YNc(12,f,4,3,"div",8),p.qZA()()(),p.TgZ(13,"div",9)(14,"button",10),p.NdJ("click",function(){return A.setPaymentSource()}),p.ALo(15,"translate"),p.TgZ(16,"span"),p._uU(17),p.ALo(18,"uppercase"),p.ALo(19,"translate"),p.qZA()()()()()),2&S&&(p.xp6(2),p.Q6J("title",p.lcZ(3,9,"CBL.BILLING.UPDATE_METHOD"))("processing",A.processing),p.xp6(6),p.hij(" ",p.lcZ(9,11,"CBL.BILLING.PAYMENT_METHOD_SECTION_HEADER")," "),p.xp6(2),p.Q6J("required",!0)("creditCard",A.existingCreditCard),p.xp6(2),p.Q6J("ngForOf",A.errors),p.xp6(2),p.Q6J("disabled",!A.isValidCreditCard||!A.billingAddress),p.uIk("aria-label",p.lcZ(15,13,"CBL.BILLING.UPDATE_METHOD")),p.xp6(3),p.Oqu(p.lcZ(18,15,p.lcZ(19,17,"CBL.BILLING.UPDATE_METHOD"))))},directives:[a._Y,a.JL,a.F,l.I,r.G,o.D,d.sg,n.lW],pipes:[g.X,d.gd],styles:['.component--add-payment-source .addPaymentForm{padding:8px}.component--add-payment-source .error-messages{max-width:550px}.component--add-payment-source ol.purchase-steps{margin:0;list-style:none;list-style-position:outside;counter-reset:item}.component--add-payment-source ol.purchase-steps .step-title{font-weight:500;font-size:16px;margin-bottom:4px;line-height:1.75em}.component--add-payment-source ol.purchase-steps li:not(:only-child){counter-increment:item;padding-left:calc(1.75em + 16px);position:relative}.component--add-payment-source ol.purchase-steps li:not(:only-child):before{font-weight:500;line-height:1.75em;content:counter(item);background:#146aff;border-radius:100%;color:#fff;width:1.75em;height:1.75em;text-align:center;position:absolute;display:block;left:0}.component--add-payment-source ol.purchase-steps li:not(:only-child):not(:last-child){margin-bottom:16px}.component--add-payment-source ol.purchase-steps li:not(:only-child):not(:last-child):after{content:"";position:absolute;display:block;width:1px;background:rgba(0,0,0,.12);top:calc(1.75em + 16px);left:.875em;bottom:0}\n'],encapsulation:2,changeDetection:0}),v})()},67278:(ne,b,t)=>{t.d(b,{D:()=>o});var e=t(3184),i=t(90587);const u={name:$localize`United States`,code:"US",hasPostalCode:!0,states:[{name:$localize`Alabama`,code:"AL"},{name:$localize`Alaska`,code:"AK"},{name:$localize`Arizona`,code:"AZ"},{name:$localize`Arkansas`,code:"AR"},{name:$localize`California`,code:"CA"},{name:$localize`Colorado`,code:"CO"},{name:$localize`Connecticut`,code:"CT"},{name:$localize`Delaware`,code:"DE"},{name:$localize`Washington DC`,code:"DC"},{name:$localize`Florida`,code:"FL"},{name:$localize`Georgia`,code:"GA"},{name:$localize`Guam`,code:"GU"},{name:$localize`Hawaii`,code:"HI"},{name:$localize`Idaho`,code:"ID"},{name:$localize`Illinois`,code:"IL"},{name:$localize`Indiana`,code:"IN"},{name:$localize`Iowa`,code:"IA"},{name:$localize`Kansas`,code:"KS"},{name:$localize`Kentucky`,code:"KY"},{name:$localize`Louisiana`,code:"LA"},{name:$localize`Maine`,code:"ME"},{name:$localize`Maryland`,code:"MD"},{name:$localize`Massachusetts`,code:"MA"},{name:$localize`Michigan`,code:"MI"},{name:$localize`Minnesota`,code:"MN"},{name:$localize`Mississippi`,code:"MS"},{name:$localize`Missouri`,code:"MO"},{name:$localize`Montana`,code:"MT"},{name:$localize`Nebraska`,code:"NE"},{name:$localize`Nevada`,code:"NV"},{name:$localize`New Hampshire`,code:"NH"},{name:$localize`New Jersey`,code:"NJ"},{name:$localize`New Mexico`,code:"NM"},{name:$localize`New York`,code:"NY"},{name:$localize`North Carolina`,code:"NC"},{name:$localize`North Dakota`,code:"ND"},{name:$localize`Ohio`,code:"OH"},{name:$localize`Oklahoma`,code:"OK"},{name:$localize`Oregon`,code:"OR"},{name:$localize`Pennsylvania`,code:"PA"},{name:$localize`Puerto Rico`,code:"PR"},{name:$localize`Rhode Island`,code:"RI"},{name:$localize`South Carolina`,code:"SC"},{name:$localize`South Dakota`,code:"SD"},{name:$localize`Tennessee`,code:"TN"},{name:$localize`Texas`,code:"TX"},{name:$localize`Utah`,code:"UT"},{name:$localize`Vermont`,code:"VT"},{name:$localize`Virgin Islands`,code:"VI"},{name:$localize`Virginia`,code:"VA"},{name:$localize`Washington`,code:"WA"},{name:$localize`West Virginia`,code:"WV"},{name:$localize`Wisconsin`,code:"WI"},{name:$localize`Wyoming`,code:"WY"}]},c=u,C=[u,{name:$localize`Afghanistan`,code:"AF",hasPostalCode:!0},{name:$localize`Aland Islands`,code:"AX",hasPostalCode:!0},{name:$localize`Albania`,code:"AL",hasPostalCode:!0},{name:$localize`Algeria`,code:"DZ",hasPostalCode:!0},{name:$localize`American Samoa`,code:"AS",hasPostalCode:!0},{name:$localize`Andorra`,code:"AD",hasPostalCode:!0},{name:$localize`Angola`,code:"AO",hasPostalCode:!1},{name:$localize`Anguilla`,code:"AI",hasPostalCode:!0},{name:$localize`Antarctica`,code:"AQ",hasPostalCode:!0},{name:$localize`Antigua and Barbuda`,code:"AG",hasPostalCode:!1},{name:$localize`Argentina`,code:"AR",hasPostalCode:!0},{name:$localize`Armenia`,code:"AM",hasPostalCode:!0},{name:$localize`Aruba`,code:"AW",hasPostalCode:!1},{name:$localize`Australia`,code:"AU",hasPostalCode:!0},{name:$localize`Austria`,code:"AT",hasPostalCode:!0},{name:$localize`Azerbaijan`,code:"AZ",hasPostalCode:!0},{name:$localize`Bahamas`,code:"BS",hasPostalCode:!1},{name:$localize`Bahrain`,code:"BH",hasPostalCode:!0},{name:$localize`Bangladesh`,code:"BD",hasPostalCode:!0},{name:$localize`Barbados`,code:"BB",hasPostalCode:!0},{name:$localize`Belarus`,code:"BY",hasPostalCode:!0},{name:$localize`Belgium`,code:"BE",hasPostalCode:!0},{name:$localize`Belize`,code:"BZ",hasPostalCode:!1},{name:$localize`Benin`,code:"BJ",hasPostalCode:!1},{name:$localize`Bermuda`,code:"BM",hasPostalCode:!0},{name:$localize`Bhutan`,code:"BT",hasPostalCode:!0},{name:$localize`Bolivia, Plurinational Station of`,code:"BO",hasPostalCode:!0},{name:$localize`Bonaire, Saint Eustatius and Saba`,code:"BQ",hasPostalCode:!0},{name:$localize`Bosnia and Herzegovina`,code:"BA",hasPostalCode:!0},{name:$localize`Botswana`,code:"BW",hasPostalCode:!1},{name:$localize`Bouvet Island`,code:"BV",hasPostalCode:!0},{name:$localize`Brazil`,code:"BR",hasPostalCode:!0},{name:$localize`British Indian Ocean Territory`,code:"IO",hasPostalCode:!0},{name:$localize`Brunei Darussalam`,code:"BN",hasPostalCode:!0},{name:$localize`Bulgaria`,code:"BG",hasPostalCode:!0},{name:$localize`Burkina Faso`,code:"BF",hasPostalCode:!1},{name:$localize`Burundi`,code:"BI",hasPostalCode:!1},{name:$localize`Cambodia`,code:"KH",hasPostalCode:!0},{name:$localize`Cameroon`,code:"CM",hasPostalCode:!1},{name:$localize`Canada`,code:"CA",hasPostalCode:!0,states:[{name:$localize`Alberta`,code:"AB"},{name:$localize`British Columbia`,code:"BC"},{name:$localize`Manitoba`,code:"MB"},{name:$localize`New Brunswick`,code:"NB"},{name:$localize`Newfoundland and Labrador`,code:"NL"},{name:$localize`Nova Scotia`,code:"NS"},{name:$localize`Northwest Territories`,code:"NT"},{name:$localize`Nunavut`,code:"NU"},{name:$localize`Ontario`,code:"ON"},{name:$localize`Prince Edward Island`,code:"PE"},{name:$localize`Quebec`,code:"QC"},{name:$localize`Saskatchewan`,code:"SK"},{name:$localize`Yukon`,code:"YT"}]},{name:$localize`Cape Verde`,code:"CV",hasPostalCode:!0},{name:$localize`Cayman Islands`,code:"KY",hasPostalCode:!0},{name:$localize`Central African Republic`,code:"CF",hasPostalCode:!1},{name:$localize`Chad`,code:"TD",hasPostalCode:!0},{name:$localize`Chile`,code:"CL",hasPostalCode:!0},{name:$localize`China`,code:"CN",hasPostalCode:!0},{name:$localize`Christmas Island`,code:"CX",hasPostalCode:!0},{name:$localize`Cocos (Keeling) Islands`,code:"CC",hasPostalCode:!0},{name:$localize`Colombia`,code:"CO",hasPostalCode:!0},{name:$localize`Comoros`,code:"KM",hasPostalCode:!1},{name:$localize`Congo`,code:"CG",hasPostalCode:!1},{name:$localize`Congo, the Democratic Republic of the`,code:"CD",hasPostalCode:!1},{name:$localize`Cook Islands`,code:"CK",hasPostalCode:!1},{name:$localize`Costa Rica`,code:"CR",hasPostalCode:!0},{name:$localize`Cote d'Ivoire`,code:"CI",hasPostalCode:!0},{name:$localize`Croatia`,code:"HR",hasPostalCode:!0},{name:$localize`Cuba`,code:"CU",hasPostalCode:!0},{name:$localize`Curacao`,code:"CW",hasPostalCode:!0},{name:$localize`Cyprus`,code:"CY",hasPostalCode:!0},{name:$localize`Czech Republic`,code:"CZ",hasPostalCode:!0},{name:$localize`Denmark`,code:"DK",hasPostalCode:!0},{name:$localize`Djibouti`,code:"DJ",hasPostalCode:!1},{name:$localize`Dominica`,code:"DM",hasPostalCode:!1},{name:$localize`Dominican Republic`,code:"DO",hasPostalCode:!0},{name:$localize`Ecuador`,code:"EC",hasPostalCode:!0},{name:$localize`Egypt`,code:"EG",hasPostalCode:!0},{name:$localize`El Salvador`,code:"SV",hasPostalCode:!0},{name:$localize`Equatorial Guinea`,code:"GQ",hasPostalCode:!1},{name:$localize`Eritrea`,code:"ER",hasPostalCode:!1},{name:$localize`Estonia`,code:"EE",hasPostalCode:!0},{name:$localize`Ethiopia`,code:"ET",hasPostalCode:!0},{name:$localize`Falkland Islands (Malvinas)`,code:"FK",hasPostalCode:!0},{name:$localize`Faroe Islands`,code:"FO",hasPostalCode:!0},{name:$localize`Fiji`,code:"FJ",hasPostalCode:!1},{name:$localize`Finland`,code:"FI",hasPostalCode:!0},{name:$localize`France`,code:"FR",hasPostalCode:!0},{name:$localize`French Guiana`,code:"GF",hasPostalCode:!0},{name:$localize`French Polynesia`,code:"PF",hasPostalCode:!0},{name:$localize`French Southern Territories`,code:"TF",hasPostalCode:!1},{name:$localize`Gabon`,code:"GA",hasPostalCode:!0},{name:$localize`Gambia`,code:"GM",hasPostalCode:!1},{name:$localize`Georgia`,code:"GE",hasPostalCode:!0},{name:$localize`Germany`,code:"DE",hasPostalCode:!0},{name:$localize`Ghana`,code:"GH",hasPostalCode:!1},{name:$localize`Gibraltar`,code:"GI",hasPostalCode:!0},{name:$localize`Greece`,code:"GR",hasPostalCode:!0},{name:$localize`Greenland`,code:"GL",hasPostalCode:!0},{name:$localize`Grenada`,code:"GD",hasPostalCode:!1},{name:$localize`Guadeloupe`,code:"GP",hasPostalCode:!0},{name:$localize`Guam`,code:"GU",hasPostalCode:!0},{name:$localize`Guatemala`,code:"GT",hasPostalCode:!0},{name:$localize`Guernsey`,code:"GG",hasPostalCode:!0},{name:$localize`Guinea`,code:"GN",hasPostalCode:!1},{name:$localize`Guinea-Bissau`,code:"GW",hasPostalCode:!0},{name:$localize`Guyana`,code:"GY",hasPostalCode:!1},{name:$localize`Haiti`,code:"HT",hasPostalCode:!0},{name:$localize`Heard Island and McDonald Islands`,code:"HM",hasPostalCode:!0},{name:$localize`Holy See (Vatican City State)`,code:"VA",hasPostalCode:!0},{name:$localize`Honduras`,code:"HN",hasPostalCode:!0},{name:$localize`Hong Kong`,code:"HK",hasPostalCode:!1},{name:$localize`Hungary`,code:"HU",hasPostalCode:!0},{name:$localize`Iceland`,code:"IS",hasPostalCode:!0},{name:$localize`India`,code:"IN",hasPostalCode:!0},{name:$localize`Indonesia`,code:"ID",hasPostalCode:!0},{name:$localize`Iran, Islamic Republic of`,code:"IR",hasPostalCode:!0},{name:$localize`Iraq`,code:"IQ",hasPostalCode:!0},{name:$localize`Ireland`,code:"IE",hasPostalCode:!1},{name:$localize`Isle of Man`,code:"IM",hasPostalCode:!0},{name:$localize`Israel`,code:"IL",hasPostalCode:!0},{name:$localize`Italy`,code:"IT",hasPostalCode:!0},{name:$localize`Jamaica`,code:"JM",hasPostalCode:!1},{name:$localize`Japan`,code:"JP",hasPostalCode:!0},{name:$localize`Jersey`,code:"JE",hasPostalCode:!0},{name:$localize`Jordan`,code:"JO",hasPostalCode:!0},{name:$localize`Kazakhstan`,code:"KZ",hasPostalCode:!0},{name:$localize`Kenya`,code:"KE",hasPostalCode:!1},{name:$localize`Kiribati`,code:"KI",hasPostalCode:!1},{name:$localize`Korea, Democratic People's Republic of`,code:"KP",hasPostalCode:!1},{name:$localize`Korea, Republic of`,code:"KR",hasPostalCode:!0},{name:$localize`Kosovo`,code:"XK",hasPostalCode:!1},{name:$localize`Kuwait`,code:"KW",hasPostalCode:!0},{name:$localize`Kyrgyzstan`,code:"KG",hasPostalCode:!0},{name:$localize`Lao People's Democratic Republic`,code:"LA",hasPostalCode:!0},{name:$localize`Latvia`,code:"LV",hasPostalCode:!0},{name:$localize`Lebanon`,code:"LB",hasPostalCode:!0},{name:$localize`Lesotho`,code:"LS",hasPostalCode:!0},{name:$localize`Liberia`,code:"LR",hasPostalCode:!0},{name:$localize`Libyan Arab Jamahiriya`,code:"LY",hasPostalCode:!0},{name:$localize`Liechtenstein`,code:"LI",hasPostalCode:!0},{name:$localize`Lithuania`,code:"LT",hasPostalCode:!0},{name:$localize`Luxembourg`,code:"LU",hasPostalCode:!0},{name:$localize`Macao`,code:"MO",hasPostalCode:!1},{name:$localize`Macedonia, the former Yugoslav Republic of`,code:"MK",hasPostalCode:!0},{name:$localize`Madagascar`,code:"MG",hasPostalCode:!0},{name:$localize`Malawi`,code:"MW",hasPostalCode:!1},{name:$localize`Malaysia`,code:"MY",hasPostalCode:!0},{name:$localize`Maldives`,code:"MV",hasPostalCode:!0},{name:$localize`Mali`,code:"ML",hasPostalCode:!1},{name:$localize`Malta`,code:"MT",hasPostalCode:!0},{name:$localize`Marshall Islands`,code:"MH",hasPostalCode:!0},{name:$localize`Martinique`,code:"MQ",hasPostalCode:!0},{name:$localize`Mauritania`,code:"MR",hasPostalCode:!1},{name:$localize`Mauritius`,code:"MU",hasPostalCode:!1},{name:$localize`Mayotte`,code:"YT",hasPostalCode:!0},{name:$localize`Mexico`,code:"MX",hasPostalCode:!0},{name:$localize`Micronesia, Federated States of`,code:"FM",hasPostalCode:!0},{name:$localize`Moldova, Republic of`,code:"MD",hasPostalCode:!0},{name:$localize`Monaco`,code:"MC",hasPostalCode:!0},{name:$localize`Mongolia`,code:"MN",hasPostalCode:!0},{name:$localize`Montenegro`,code:"ME",hasPostalCode:!0},{name:$localize`Montserrat`,code:"MS",hasPostalCode:!1},{name:$localize`Morocco`,code:"MA",hasPostalCode:!0},{name:$localize`Mozambique`,code:"MZ",hasPostalCode:!0},{name:$localize`Myanmar`,code:"MM",hasPostalCode:!0},{name:$localize`Namibia`,code:"NA",hasPostalCode:!0},{name:$localize`Nauru`,code:"NR",hasPostalCode:!1},{name:$localize`Nepal`,code:"NP",hasPostalCode:!0},{name:$localize`Netherlands`,code:"NL",hasPostalCode:!0},{name:$localize`New Caledonia`,code:"NC",hasPostalCode:!0},{name:$localize`New Zealand`,code:"NZ",hasPostalCode:!0},{name:$localize`Nicaragua`,code:"NI",hasPostalCode:!0},{name:$localize`Niger`,code:"NE",hasPostalCode:!0},{name:$localize`Nigeria`,code:"NG",hasPostalCode:!0},{name:$localize`Niue`,code:"NU",hasPostalCode:!1},{name:$localize`Norfolk Island`,code:"NF",hasPostalCode:!0},{name:$localize`Northern Mariana Islands`,code:"MP",hasPostalCode:!0},{name:$localize`Norway`,code:"NO",hasPostalCode:!0},{name:$localize`Oman`,code:"OM",hasPostalCode:!0},{name:$localize`Pakistan`,code:"PK",hasPostalCode:!0},{name:$localize`Palau`,code:"PW",hasPostalCode:!0},{name:$localize`Palestine, State of`,code:"PS",hasPostalCode:!0},{name:$localize`Panama`,code:"PA",hasPostalCode:!1},{name:$localize`Papua New Guinea`,code:"PG",hasPostalCode:!0},{name:$localize`Paraguay`,code:"PY",hasPostalCode:!0},{name:$localize`Peru`,code:"PE",hasPostalCode:!0},{name:$localize`Philippines`,code:"PH",hasPostalCode:!0},{name:$localize`Pitcairn`,code:"PN",hasPostalCode:!0},{name:$localize`Poland`,code:"PL",hasPostalCode:!0},{name:$localize`Portugal`,code:"PT",hasPostalCode:!0},{name:$localize`Puerto Rico`,code:"PR",hasPostalCode:!0},{name:$localize`Qatar`,code:"QA",hasPostalCode:!1},{name:$localize`Reunion`,code:"RE",hasPostalCode:!0},{name:$localize`Romania`,code:"RO",hasPostalCode:!0},{name:$localize`Russian Federation`,code:"RU",hasPostalCode:!0},{name:$localize`Rwanda`,code:"RW",hasPostalCode:!1},{name:$localize`Saint Barthelemy`,code:"BL",hasPostalCode:!0},{name:$localize`Saint Helena, Ascension and Tristan da Cunha`,code:"SH",hasPostalCode:!0},{name:$localize`Saint Kitts and Nevis`,code:"KN",hasPostalCode:!1},{name:$localize`Saint Lucia`,code:"LC",hasPostalCode:!1},{name:$localize`Saint Martin (French part)`,code:"MF",hasPostalCode:!0},{name:$localize`Saint Pierre and Miquelon`,code:"PM",hasPostalCode:!0},{name:$localize`Saint Vincent and the Grenadines`,code:"VC",hasPostalCode:!0},{name:$localize`Samoa`,code:"WS",hasPostalCode:!0},{name:$localize`San Marino`,code:"SM",hasPostalCode:!0},{name:$localize`Sao Tome and Principe`,code:"ST",hasPostalCode:!1},{name:$localize`Saudi Arabia`,code:"SA",hasPostalCode:!0},{name:$localize`Senegal`,code:"SN",hasPostalCode:!0},{name:$localize`Serbia`,code:"RS",hasPostalCode:!0},{name:$localize`Seychelles`,code:"SC",hasPostalCode:!1},{name:$localize`Sierra Leone`,code:"SL",hasPostalCode:!1},{name:$localize`Singapore`,code:"SG",hasPostalCode:!0},{name:$localize`Sint Maarten (Dutch part)`,code:"SX",hasPostalCode:!0},{name:$localize`Slovakia`,code:"SK",hasPostalCode:!0},{name:$localize`Slovenia`,code:"SI",hasPostalCode:!0},{name:$localize`Solomon Islands`,code:"SB",hasPostalCode:!1},{name:$localize`Somalia`,code:"SO",hasPostalCode:!1},{name:$localize`South Africa`,code:"ZA",hasPostalCode:!1},{name:$localize`South Georgia and the South Sandwich Islands`,code:"GS",hasPostalCode:!0},{name:$localize`South Sudan`,code:"SS",hasPostalCode:!0},{name:$localize`Spain`,code:"ES",hasPostalCode:!0},{name:$localize`Sri Lanka`,code:"LK",hasPostalCode:!0},{name:$localize`Sudan`,code:"SD",hasPostalCode:!0},{name:$localize`Suriname`,code:"SR",hasPostalCode:!1},{name:$localize`Svalbard and Jan Mayen`,code:"SJ",hasPostalCode:!0},{name:$localize`Swaziland`,code:"SZ",hasPostalCode:!0},{name:$localize`Sweden`,code:"SE",hasPostalCode:!0},{name:$localize`Switzerland`,code:"CH",hasPostalCode:!0},{name:$localize`Syrian Arab Republic`,code:"SY",hasPostalCode:!1},{name:$localize`Taiwan, Province of China`,code:"TW",hasPostalCode:!0},{name:$localize`Tajikistan`,code:"TJ",hasPostalCode:!0},{name:$localize`Tanzania, United Republic of`,code:"TZ",hasPostalCode:!1},{name:$localize`Thailand`,code:"TH",hasPostalCode:!0},{name:$localize`Timor-Leste`,code:"TL",hasPostalCode:!1},{name:$localize`Togo`,code:"TG",hasPostalCode:!0},{name:$localize`Tokelau`,code:"TK",hasPostalCode:!1},{name:$localize`Tonga`,code:"TO",hasPostalCode:!1},{name:$localize`Trinidad and Tobago`,code:"TT",hasPostalCode:!1},{name:$localize`Tunisia`,code:"TN",hasPostalCode:!0},{name:$localize`Turkey`,code:"TR",hasPostalCode:!0},{name:$localize`Turkmenistan`,code:"TM",hasPostalCode:!0},{name:$localize`Turks and Caicos Islands`,code:"TC",hasPostalCode:!0},{name:$localize`Tuvalu`,code:"TV",hasPostalCode:!1},{name:$localize`Uganda`,code:"UG",hasPostalCode:!1},{name:$localize`Ukraine`,code:"UA",hasPostalCode:!0},{name:$localize`United Arab Emirates`,code:"AE",hasPostalCode:!1},{name:$localize`United Kingdom`,code:"GB",hasPostalCode:!0},{name:$localize`Uruguay`,code:"UY",hasPostalCode:!0},{name:$localize`Uzbekistan`,code:"UZ",hasPostalCode:!0},{name:$localize`Vanuatu`,code:"VU",hasPostalCode:!1},{name:$localize`Venezuela, Bolivarian Republic of`,code:"VE",hasPostalCode:!0},{name:$localize`Viet Nam`,code:"VN",hasPostalCode:!0},{name:$localize`Virgin Islands, British`,code:"VG",hasPostalCode:!0},{name:$localize`Virgin Islands, U.S.`,code:"VI",hasPostalCode:!0},{name:$localize`Wallis and Futuna`,code:"WF",hasPostalCode:!0},{name:$localize`Western Sahara`,code:"EH",hasPostalCode:!0},{name:$localize`Yemen`,code:"YE",hasPostalCode:!1},{name:$localize`Zambia`,code:"ZM",hasPostalCode:!0},{name:$localize`Zimbabwe`,code:"ZW",hasPostalCode:!1}];var _=t(44770),p=t(43365),E=t(36362),a=t(74929);function l(d,n){if(1&d&&(e.TgZ(0,"option",7),e._uU(1),e.qZA()),2&d){const g=n.$implicit;e.Q6J("value",g.code),e.xp6(1),e.hij(" ",g.name," ")}}function r(d,n){if(1&d&&(e.TgZ(0,"option",7),e._uU(1),e.qZA()),2&d){const g=n.$implicit;e.Q6J("value",g.code),e.xp6(1),e.hij(" ",g.name," ")}}class o{constructor(){this.onBillingAddressChange=new e.vpe,this.billingCountries=C,this.states=[]}ngOnInit(){this.setupFormForDefaultCountry()}onCountryChange(n){this.handleCountryChange(n)}setupFormForDefaultCountry(){const g=c.states,f=c.hasPostalCode;this.billingAddressForm=new i.cw({country:new i.NI(c.code,i.kI.required),state:new i.NI(void 0,g?o.STATE_VALIDATORS:void 0),postalCode:new i.NI(void 0,f?o.POSTAL_CODE_VALIDATORS:void 0)}),this.states=null!=g?g:[],this.billingAddressForm.valueChanges.subscribe(m=>this.handleValueChange(m))}handleValueChange(n){if(!this.billingAddressForm.valid)return void this.onBillingAddressChange.emit(void 0);const f={country:n.country};n.state&&(f.state=n.state),n.postalCode&&(f.postalCode=n.postalCode),this.onBillingAddressChange.emit(f)}handleCountryChange(n){var g;const f=this.findCountryByCode(n);if(!f)return this.states=[],this.setFormControlValueValidator("state",!1),void this.setFormControlValueValidator("postalCode",!1);this.states=null!==(g=f.states)&&void 0!==g?g:[],this.setFormControlValueValidator("state",!!f.states),this.setFormControlValueValidator("postalCode",f.hasPostalCode)}findCountryByCode(n){return this.billingCountries.find(g=>g.code===n)}setFormControlValueValidator(n,g){const f=this.billingAddressForm.controls[n];if(g&&f.disabled)switch(f.enable(),n){case"state":f.setValidators(o.STATE_VALIDATORS);break;case"postalCode":f.setValidators(o.POSTAL_CODE_VALIDATORS)}else!g&&!f.disabled&&(f.disable(),f.setValue(void 0),f.setValidators(null))}}o.POSTAL_CODE_MAX_LENGTH=20,o.STATE_VALIDATORS=[i.kI.required],o.POSTAL_CODE_VALIDATORS=[i.kI.required,i.kI.maxLength(o.POSTAL_CODE_MAX_LENGTH)],o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["billing-address"]],outputs:{onBillingAddressChange:"onBillingAddressChange"},decls:17,vars:12,consts:[[1,"layout-row","three-column",3,"formGroup"],["floatLabel","always"],["matNativeControl","","name","country","autocomplete","country-name","required","","formControlName","country",3,"ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","required","","name","state","formControlName","state","autocomplete","address-level1"],["value",""],["matInput","","required","","autocomplete","postal-code","type","text","formControlName","postalCode",3,"placeholder"],[3,"value"]],template:function(n,g){1&n&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",2),e.NdJ("ngModelChange",function(m){return g.onCountryChange(m)}),e.YNc(6,l,2,2,"option",3),e.qZA()(),e.TgZ(7,"mat-form-field",1)(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"select",4),e._UZ(12,"option",5),e.YNc(13,r,2,2,"option",3),e.qZA()(),e.TgZ(14,"mat-form-field",1),e._UZ(15,"input",6),e.ALo(16,"translate"),e.qZA()()),2&n&&(e.Q6J("formGroup",g.billingAddressForm),e.xp6(3),e.Oqu(e.lcZ(4,6,"CBL.BILLING_ADDRESS.COUNTRY")),e.xp6(3),e.Q6J("ngForOf",g.billingCountries),e.xp6(3),e.Oqu(e.lcZ(10,8,"CBL.BILLING_ADDRESS.STATE")),e.xp6(4),e.Q6J("ngForOf",g.states),e.xp6(2),e.Q6J("placeholder",e.lcZ(16,10,"CBL.BILLING_ADDRESS.POSTAL_CODE")))},directives:[i.JL,i.sg,_.KE,_.hX,p.Nt,i.EJ,i.Q7,i.JJ,i.u,E.sg,i.YN,i.Kr,i.Fj],pipes:[a.X],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.three-column[_ngcontent-%COMP%]{flex-wrap:wrap}@media (min-width: 960px){.three-column[_ngcontent-%COMP%]{flex-wrap:nowrap}.three-column[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:33.33%}.three-column[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:not(:last-child){padding-right:8px}.three-column[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:not(:first-child){padding-left:8px}}.mat-form-field-disabled[_ngcontent-%COMP%]{display:none}"],changeDetection:0})},58288:(ne,b,t)=>{t.d(b,{Xj:()=>ue,Ql:()=>X,oZ:()=>M,__:()=>ye._,ah:()=>h});var e=t(36362),i=t(90898),u=t(90587),c=t(45857),C=t(35503),_=t(65852),p=t(89250),E=t(32519),a=t(40337),l=t(33706),r=t(81450),o=t(3184),f=(t(31258),t(23322),t(53095),t(2384)),m=t(93443),v=t(7323),y=t(85921),S=t(92218),A=t(95758),x=t(73729),R=t(87317),s=t(74929);let h=(()=>{class Me extends f.V{constructor(ve){super(),this.dialogRef=ve}}return Me.\u0275fac=function(ve){return new(ve||Me)(o.Y36(A.so))},Me.\u0275cmp=o.Xpm({type:Me,selectors:[["ng-component"]],features:[o.qOj],decls:12,vars:11,consts:function(){let me;return me=$localize`:␟9404467972b03c10c9db0d593570d2628d13dcad␟773816357932368576:You have single sign-on enabled for your account. Please contact your team admin to reset your password. `,[[3,"title"],["dialog-content","",1,"body"],me,["dialog-actions","",1,"close-button"],["mat-button","","type","button",1,"mat-raised","mat-primary",3,"click"]]},template:function(ve,ze){1&ve&&(o.TgZ(0,"dialog-layout",0),o.ALo(1,"translate"),o.TgZ(2,"div",1)(3,"span"),o.SDv(4,2),o.qZA()(),o.TgZ(5,"div",3)(6,"button",4),o.NdJ("click",function(){return ze.dialogRef.close()}),o.ALo(7,"translate"),o.TgZ(8,"span"),o._uU(9),o.ALo(10,"uppercase"),o.ALo(11,"translate"),o.qZA()()()()),2&ve&&(o.Q6J("title",o.lcZ(1,3,"CBL.LOGIN.RESET_SSO_ENABLED.TITLE")),o.xp6(6),o.uIk("aria-label",o.lcZ(7,5,"CBL.COMMON.CLOSE")),o.xp6(3),o.Oqu(o.lcZ(10,7,o.lcZ(11,9,"CBL.COMMON.CLOSE"))))},directives:[x.I,R.lW],pipes:[s.X,e.gd],styles:[".body[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column}.close-button[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}"],changeDetection:0}),Me})();var H=t(44770),K=t(43365),P=t(59543),z=t(29847),ee=t(50450),Z=t(29641);function G(Me,me){if(1&Me){const ve=o.EpF();o.ynx(0),o.TgZ(1,"div",9),o.SDv(2,10),o.qZA(),o.TgZ(3,"mat-form-field")(4,"input",11,12),o.NdJ("ngModelChange",function(tt){return o.CHM(ve),o.oxw(2).forgotEmail=tt}),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"mat-error"),o._UZ(8,"form-error",13)(9,"form-error",14),o.qZA()(),o._UZ(10,"server-error",15),o.BQk()}if(2&Me){const ve=o.MAs(5),ze=o.oxw(2),tt=o.MAs(1);o.xp6(4),o.Q6J("serverError",ze.error)("ngModel",ze.forgotEmail)("placeholder",o.lcZ(6,7,"CBL.COMMON.EMAIL")),o.xp6(4),o.Q6J("error",null==tt.controls.forgotEmail||null==tt.controls.forgotEmail.errors?null:tt.controls.forgotEmail.errors.required)("isTouched",ve.touched),o.xp6(1),o.Q6J("error",null==tt.controls.forgotEmail||null==tt.controls.forgotEmail.errors?null:tt.controls.forgotEmail.errors.email),o.xp6(1),o.Q6J("error",ze.error)}}function J(Me,me){1&Me&&(o.TgZ(0,"div")(1,"span"),o.SDv(2,16),o.qZA(),o.TgZ(3,"p"),o.SDv(4,17),o.qZA(),o.TgZ(5,"span"),o.SDv(6,18),o.qZA(),o.TgZ(7,"ul")(8,"li"),o.SDv(9,19),o.qZA(),o.TgZ(10,"li"),o.SDv(11,20),o.qZA()(),o._UZ(12,"markup-label",21),o.qZA())}function le(Me,me){if(1&Me&&(o.TgZ(0,"button",22),o.ALo(1,"translate"),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"uppercase"),o.ALo(5,"translate"),o.qZA()()),2&Me){const ve=o.oxw(2),ze=o.MAs(1);o.Q6J("disabled",!ze.form.valid||ve.processing),o.uIk("aria-label",o.lcZ(1,3,"CBL.LOGIN.RESET_PASSWORD")),o.xp6(3),o.Oqu(o.lcZ(4,5,o.lcZ(5,7,"CBL.LOGIN.RESET_PASSWORD")))}}function V(Me,me){if(1&Me){const ve=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(ve),o.oxw(2).dialogRef.close()}),o.ALo(1,"translate"),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"uppercase"),o.ALo(5,"translate"),o.qZA()()}2&Me&&(o.uIk("aria-label",o.lcZ(1,2,"CBL.COMMON.CLOSE")),o.xp6(3),o.Oqu(o.lcZ(4,4,o.lcZ(5,6,"CBL.COMMON.CLOSE"))))}function j(Me,me){if(1&Me&&(o.TgZ(0,"dialog-layout",3),o.ALo(1,"translate"),o.TgZ(2,"div",4),o.YNc(3,G,11,9,"ng-container",5),o.YNc(4,J,13,0,"div",5),o.qZA(),o.TgZ(5,"div",6),o.YNc(6,le,6,9,"button",7),o.YNc(7,V,6,8,"button",8),o.qZA()()),2&Me){const ve=o.oxw();o.Q6J("processing",ve.processing)("title",o.lcZ(1,6,"CBL.LOGIN.RESET_PASSWORD")),o.xp6(3),o.Q6J("ngIf",!ve.sent),o.xp6(1),o.Q6J("ngIf",ve.sent),o.xp6(2),o.Q6J("ngIf",!ve.sent),o.xp6(1),o.Q6J("ngIf",ve.sent)}}let M=(()=>{class Me extends f.V{constructor(ve,ze,tt,ht){super(),this.dialogRef=ve,this.userService=ze,this.userApi=tt,this.dialogService=ht,this.ssoEnabled=!1,this.onDestroy$=new S.xQ}ngOnDestroy(){this.onDestroy$.next()}reset(){this.processing=!0,this.userApi.cbUsersSearchSsoPost$({query:{email:this.forgotEmail}}).pipe((0,y.R)(this.onDestroy$)).subscribe({next:()=>{this.sent=!1,this.processing=!1,this.dialogRef.close(),this.dialogService.showDialog(h)},error:()=>this.handleSsoError()})}handleSsoError(){this.userService.resetPassword(this.forgotEmail).then(()=>this.sent=!0,ve=>{422===ve.statusCode?this.sent=!0:(this.error=ve,this.sent=!1)}).then(()=>this.processing=!1)}}return Me.\u0275fac=function(ve){return new(ve||Me)(o.Y36(A.so),o.Y36(v.KD),o.Y36(m.Wj),o.Y36(f.x))},Me.\u0275cmp=o.Xpm({type:Me,selectors:[["ng-component"]],features:[o.qOj],decls:3,vars:1,consts:function(){let me,ve,ze,tt,ht,xe;return me=$localize`:␟d7c133a03107c40545da67fd0004a653e77dbae8␟3271872115888824891: Enter your e-mail address below and we will send you a link to reset your password. `,ve=$localize`:␟3379612f051e5129e90bdab201434983e74edfc9␟3418622301037836557:Email sent!`,ze=$localize`:␟274fd04f55ce2c3f8f8adcdb52dd6daa959d4351␟8582281374153375307: If a user account is associated with this email address, you will receive a reset link. `,tt=$localize`:␟b33aedf655bb89519a89372fa869bf4e61f110f9␟3784500262257480028:Don’t see an email after 30mins?`,ht=$localize`:␟82c6976f737c9154e343a6f01993834c6580602e␟469481419799108610: Check your spam folder for an email from support@crunchbase.com `,xe=$localize`:␟4b92e458768bb024e6215e0b90b0c9cb026eca1b␟6649695981199671097:Try a different login email`,[[1,"component--forgot-password",3,"ngSubmit"],["forgotForm","ngForm"],[3,"processing","title",4,"ngIf"],[3,"processing","title"],["dialog-content","",1,"layout-column","layout-align-start-stretch"],[4,"ngIf"],["dialog-actions","",1,"layout-row"],["mat-button","","type","submit","class","mat-raised mat-primary",3,"disabled",4,"ngIf"],["mat-button","","type","button","class","mat-raised mat-primary",3,"click",4,"ngIf"],[1,"cb-margin-large-bottom"],me,["matInput","","required","","type","email","name","forgotEmail","autocomplete","email",3,"serverError","ngModel","placeholder","ngModelChange"],["emailInput","ngModel"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.EMAIL_INVALID",3,"error"],[3,"error"],ve,ze,tt,ht,xe,["key","CBL.LOGIN.RESET_CONFIRMATION.SIXTH_LINE"],["mat-button","","type","submit",1,"mat-raised","mat-primary",3,"disabled"],["mat-button","","type","button",1,"mat-raised","mat-primary",3,"click"]]},template:function(ve,ze){1&ve&&(o.TgZ(0,"form",0,1),o.NdJ("ngSubmit",function(){return ze.reset()}),o.YNc(2,j,8,8,"dialog-layout",2),o.qZA()),2&ve&&(o.xp6(2),o.Q6J("ngIf",!ze.ssoEnabled))},directives:[u._Y,u.JL,u.F,e.O5,x.I,H.KE,K.Nt,u.Fj,u.Q7,P._,u.JJ,u.On,H.TO,z.A,ee.k,Z.x,R.lW],pipes:[s.X,e.gd],styles:[".component--forgot-password ul{margin-left:20px}.component--forgot-password ul li{list-style-type:disc}\n"],encapsulation:2}),Me})();var ie=t(14021),te=t(24956),re=t(46179);const q=function(Me){return{productName:Me}};function U(Me,me){if(1&Me&&(o.TgZ(0,"div")(1,"div",5),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",5),o._uU(5),o.ALo(6,"translate"),o.qZA()()),2&Me){const ve=o.oxw();o.xp6(2),o.hij(" ",o.xi3(3,2,"CBL.BILLING.CANCEL_IMMEDIATELY",o.VKq(7,q,ve.displayName))," "),o.xp6(3),o.hij(" ",o.lcZ(6,5,"CBL.BILLING.RESTART_LICENSES")," ")}}function k(Me,me){if(1&Me&&(o.TgZ(0,"div")(1,"div",5),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",6),o._uU(5),o.ALo(6,"date"),o.qZA()()),2&Me){const ve=o.oxw();o.xp6(2),o.hij(" ",o.xi3(3,2,"CBL.BILLING.CANCEL_TRIAL",o.VKq(8,q,ve.displayName))," "),o.xp6(3),o.hij(" ",o.xi3(6,5,ve.subscription.term_end,"fullDate")," ")}}function w(Me,me){if(1&Me&&(o.ynx(0),o.TgZ(1,"div",5),o.SDv(2,7),o.qZA(),o.TgZ(3,"div",6),o._uU(4),o.ALo(5,"date"),o.qZA(),o.TgZ(6,"div",5),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"div",5),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.BQk()),2&Me){const ve=o.oxw();o.xp6(4),o.hij(" ",o.xi3(5,3,ve.subscription.term_end,"fullDate")," "),o.xp6(3),o.hij(" ",o.xi3(8,6,"CBL.BILLING.CANCEL_PRODUCT_REMAIN_ACTIVE",o.VKq(11,q,ve.displayName))," "),o.xp6(3),o.hij(" ",o.lcZ(11,9,"CBL.BILLING.RESTART_LICENSES")," ")}}function Q(Me,me){1&Me&&(o.TgZ(0,"span"),o.SDv(1,8),o.qZA())}function $(Me,me){1&Me&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&Me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"CBL.BILLING.CANCEL_ALL_LICENSES")))}let X=(()=>{class Me extends f.V{constructor(ve,ze,tt,ht,xe,Ne,be){super(),this.billingService=ve,this.userService=ze,this.toastService=tt,this.dialogRef=ht,this.logService=xe,this.changeDetectorRef=Ne,this.productService=be,this.processing=!1}ngOnInit(){if(this.logger=this.logService.getLogger("CancelComponent"),this.subscription=this.payload.subscription,this.product=this.payload.product,!this.subscription||!this.product)return this.logger.error("No subscription or product provided"),void this.toastService.showSimpleToast("CBL.COMMON.FAILURE");this.displayName=this.productService.getDisplayName(this.payload.product,this.subscription.plan_id),this.productIsFree=this.product.product_class===m.lL.ProductClassEnum.free,this.productIsTrial=this.subscription.term_type===m.ND.TermTypeEnum.trial,this.dialogHeader=this.productIsTrial?"CBL.BILLING.CANCEL_TRIAL_DIALOG_HEADER":"CBL.BILLING.CANCEL_DIALOG_HEADER"}cancel(){return this.processing=!0,this.billingService.cancel$(this.subscription.id).toPromise().then(()=>this.userService.refreshSession$().toPromise()).then(()=>this.handleCancelled()).catch(()=>this.handleCancelFailure()).then(()=>{this.processing=!1,this.changeDetectorRef.markForCheck()})}handleCancelled(){this.toastService.showSimpleToast("CBL.BILLING.SUBSCRIPTION_CANCELLED"),this.dialogRef.close(!0)}handleCancelFailure(){this.toastService.showSimpleToast("CBL.BILLING.CANCEL_LICENSES_ERROR")}}return Me.\u0275fac=function(ve){return new(ve||Me)(o.Y36(ie.jM),o.Y36(v.KD),o.Y36(re.k),o.Y36(A.so),o.Y36(te.$V),o.Y36(o.sBO),o.Y36(ie.M5))},Me.\u0275cmp=o.Xpm({type:Me,selectors:[["cancel"]],features:[o.qOj],decls:11,vars:15,consts:function(){let me,ve;return me=$localize`:␟b33bd5319533210b8660c1168a4e12cb52aa1d35␟8976459686431139487: Cancellation will be effective at the end of your current billing period on: `,ve=$localize`:␟862c767161dc7eb97b9077df3744b963c23646ee␟2943128289189623216:Confirm Cancellation`,[[3,"title","processing"],["dialog-content",""],[4,"ngIf"],["dialog-actions","",1,"layout-row"],["mat-button","",1,"mat-raised","mat-warn","mat-raised-button",3,"click"],[1,"cancel-text"],[1,"cancel-text","cancel-date"],me,ve]},template:function(ve,ze){1&ve&&(o.TgZ(0,"dialog-layout",0),o.ALo(1,"translate"),o.TgZ(2,"div",1),o.YNc(3,U,7,9,"div",2),o.YNc(4,k,7,10,"div",2),o.YNc(5,w,12,13,"ng-container",2),o.qZA(),o.TgZ(6,"div",3)(7,"button",4),o.NdJ("click",function(){return ze.cancel()}),o.ALo(8,"translate"),o.YNc(9,Q,2,0,"span",2),o.YNc(10,$,3,3,"span",2),o.qZA()()()),2&ve&&(o.Q6J("title",o.xi3(1,8,ze.dialogHeader,o.VKq(13,q,ze.displayName)))("processing",ze.processing),o.xp6(3),o.Q6J("ngIf",ze.productIsFree),o.xp6(1),o.Q6J("ngIf",ze.productIsTrial),o.xp6(1),o.Q6J("ngIf",!ze.productIsFree&&!ze.productIsTrial),o.xp6(2),o.uIk("aria-label",o.lcZ(8,11,"CBL.BILLING.CANCEL_ALL_LICENSES")),o.xp6(2),o.Q6J("ngIf",ze.productIsTrial),o.xp6(1),o.Q6J("ngIf",!ze.productIsTrial))},directives:[x.I,e.O5,R.lW],pipes:[s.X,e.uU],styles:["cancel dialog-layout{display:block;max-width:600px}cancel .cancel-text{padding:8px 0}cancel .cancel-date{font-weight:500}\n"],encapsulation:2,changeDetection:0}),Me})();t(67278);var ye=t(10523);let ue=(()=>{class Me{}return Me.\u0275fac=function(ve){return new(ve||Me)},Me.\u0275mod=o.oAB({type:Me}),Me.\u0275inj=o.cJS({imports:[[e.ez,i.q,u.u5,u.UX,c.Bz,C.Dt,_.C,p.S,E.n,a.r,l.T,r.U]]}),Me})()},23322:(ne,b,t)=>{t.d(b,{G:()=>S});var e=t(92938),i=t(3184),u=t(14021),c=t(7323),C=t(90587),_=t(44770),p=t(43365),E=t(54749),a=t(29847),l=t(36362);let r=(()=>{class A{constructor(R){this.billingService=R}validate(R){const s=R.value;let h=null;return s&&!this.billingService.validateCardNumber(s)&&(h={creditCard:!0}),h}}return A.\u0275fac=function(R){return new(R||A)(i.Y36(u.jM))},A.\u0275dir=i.lG2({type:A,selectors:[["","creditCard","","formControlName",""],["","creditCard","","formControl",""],["","creditCard","","ngModel",""]],features:[i._Bn([{provide:C.Cf,useExisting:(0,i.Gpc)(()=>A),multi:!0}])]}),A})();var o=t(74929);function d(A,x){1&A&&i._UZ(0,"div",23)}function n(A,x){1&A&&i.GkF(0)}function g(A,x){if(1&A&&(i.TgZ(0,"option",24),i._uU(1),i.qZA()),2&A){const R=x.$implicit;i.Q6J("value",R),i.xp6(1),i.hij(" ",R," ")}}function f(A,x){1&A&&i.GkF(0)}function m(A,x){if(1&A&&(i.TgZ(0,"option",24),i._uU(1),i.qZA()),2&A){const R=x.$implicit;i.Q6J("value",R),i.xp6(1),i.hij(" ",R," ")}}function v(A,x){1&A&&i.GkF(0)}const y=function(A){return{codeType:A}};let S=(()=>{class A{constructor(R,s){this.billingService=R,this.userService=s,this.onCardChange=new i.vpe,this.codeType="CVC",this.inputModelOptions={updateOn:"blur"}}ngOnInit(){this.initFields(this.creditCard)}onFieldChange(){let R={cardNumber:this.creditCardNum,expMonth:this.expMonth,expYear:this.expYear,cvc:this.cvc,name:this.fullName};this.codeType=this.billingService.getCardCodeType(this.creditCardNum)||"CVC",this.codeSize=this.billingService.getCardCodeSize(this.creditCardNum),this.isValidCreditCard(R)?this.onCardChange.emit({creditCard:R,valid:!0}):this.onCardChange.emit({creditCard:R,valid:!1})}getExpirationMonths(){return(0,e.fill)(new Array(12),0).map((R,s)=>(s+1).toString())}getExpirationYears(){return(0,e.fill)(new Array(15),(new Date).getFullYear()).map((R,s)=>(R+s).toString())}initFields(R){!R||(this.creditCardNum=R.cardNumber,this.fullName=R.name,this.expMonth=R.expMonth,this.expYear=R.expYear,this.cvc=R.cvc)}isValidCreditCard(R){if(!(R&&R.cardNumber&&R.cvc&&R.expMonth&&R.expYear&&R.name))return!1;const s=!!R.name&&this.userService.isValidName(R.name),h=this.billingService.validateCardNumber(R.cardNumber),H=this.billingService.validateCVC(R),K=this.billingService.validateExpiry(R.expMonth,R.expYear);return s&&h&&H&&K}}return A.\u0275fac=function(R){return new(R||A)(i.Y36(u.jM),i.Y36(c.KD))},A.\u0275cmp=i.Xpm({type:A,selectors:[["credit-card"]],inputs:{required:"required",creditCard:"creditCard"},outputs:{onCardChange:"onCardChange"},decls:42,vars:39,consts:function(){let x,R;return x=$localize`:␟59f7964f7f53754663fcd2bd0d25a8724e2bfa2e␟350120335269180528:Exp. Month`,R=$localize`:␟c074ca4b1eaf320c1e3f09dc36a17de270f20d58␟4743251757237535927:Exp. Year`,[["spacer",""],["creditCardForm","ngForm"],[1,"layout-row","two-column"],["floatLabel","always",1,"flex-100","flex-gt-sm"],["matInput","","validName","","type","text","name","fullName","autocomplete","cc-name",3,"required","ngModel","placeholder","ngModelChange"],["fullNameInput","ngModel"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.NAME_INVALID",3,"error"],[4,"ngTemplateOutlet"],["matInput","","creditCard","","type","text","name","creditCardNum","autocomplete","cc-number",3,"ngModelOptions","required","ngModel","placeholder","ngModelChange"],["creditCardNumInput","ngModel"],["label","CBL.ERRORS.INVALID_CARD_NUMBER",3,"error"],[1,"layout-row","three-column"],["floatLabel","always"],x,["matNativeControl","","name","expMonth","autocomplete","cc-exp-month",3,"required","ngModel","ngModelChange"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],R,["matNativeControl","","name","expYear","autocomplete","cc-exp-year",3,"required","ngModel","ngModelChange"],["matInput","","pattern","^[0-9]+$","type","text","name","cvc","autocomplete","cc-csc",3,"minlength","maxlength","required","ngModel","placeholder","ngModelChange"],["cvcInput","ngModel"],["label","CBL.ERRORS.INVALID_CVC_CODE",3,"error"],[1,"spacer","flex-none","hide","show-gt-sm"],[3,"value"]]},template:function(R,s){if(1&R&&(i.YNc(0,d,1,0,"ng-template",null,0,i.W1O),i.TgZ(2,"form",null,1)(4,"div",2)(5,"mat-form-field",3)(6,"input",4,5),i.NdJ("ngModelChange",function(H){return s.fullName=H})("ngModelChange",function(){return s.onFieldChange()}),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"mat-error"),i._UZ(10,"form-error",6)(11,"form-error",7),i.qZA()(),i.YNc(12,n,1,0,"ng-container",8),i.TgZ(13,"mat-form-field",3)(14,"input",9,10),i.NdJ("ngModelChange",function(H){return s.creditCardNum=H})("ngModelChange",function(){return s.onFieldChange()}),i.ALo(16,"translate"),i.qZA(),i.TgZ(17,"mat-error"),i._UZ(18,"form-error",6)(19,"form-error",11),i.qZA()()(),i.TgZ(20,"div",12)(21,"mat-form-field",13)(22,"mat-label"),i.SDv(23,14),i.qZA(),i.TgZ(24,"select",15),i.NdJ("ngModelChange",function(H){return s.expMonth=H})("ngModelChange",function(){return s.onFieldChange()}),i._UZ(25,"option",16),i.YNc(26,g,2,2,"option",17),i.qZA()(),i.YNc(27,f,1,0,"ng-container",8),i.TgZ(28,"mat-form-field",13)(29,"mat-label"),i.SDv(30,18),i.qZA(),i.TgZ(31,"select",19),i.NdJ("ngModelChange",function(H){return s.expYear=H})("ngModelChange",function(){return s.onFieldChange()}),i._UZ(32,"option",16),i.YNc(33,m,2,2,"option",17),i.qZA()(),i.YNc(34,v,1,0,"ng-container",8),i.TgZ(35,"mat-form-field",13)(36,"input",20,21),i.NdJ("ngModelChange",function(H){return s.cvc=H})("ngModelChange",function(){return s.onFieldChange()}),i.ALo(38,"translate"),i.qZA(),i.TgZ(39,"mat-error"),i._UZ(40,"form-error",6)(41,"form-error",22),i.qZA()()()()),2&R){const h=i.MAs(1),H=i.MAs(3),K=i.MAs(7),P=i.MAs(15),z=i.MAs(37);i.xp6(6),i.Q6J("required",s.required)("ngModel",s.fullName)("placeholder",i.lcZ(8,30,"CBL.USER_DETAILS.FULL_NAME")),i.xp6(4),i.Q6J("error",null==H.controls.fullName||null==H.controls.fullName.errors?null:H.controls.fullName.errors.required)("isTouched",K.touched),i.xp6(1),i.Q6J("error",null==H.controls.fullName||null==H.controls.fullName.errors?null:H.controls.fullName.errors.validName),i.xp6(1),i.Q6J("ngTemplateOutlet",h),i.xp6(2),i.Q6J("ngModelOptions",s.inputModelOptions)("required",s.required)("ngModel",s.creditCardNum)("placeholder",i.lcZ(16,32,"CBL.BILLING.CREDIT_CARD_NUM")),i.xp6(4),i.Q6J("error",null==H.controls.creditCardNum||null==H.controls.creditCardNum.errors?null:H.controls.creditCardNum.errors.required)("isTouched",P.touched),i.xp6(1),i.Q6J("error",null==H.controls.creditCardNum||null==H.controls.creditCardNum.errors?null:H.controls.creditCardNum.errors.creditCard),i.xp6(5),i.Q6J("required",s.required)("ngModel",s.expMonth),i.xp6(2),i.Q6J("ngForOf",s.getExpirationMonths()),i.xp6(1),i.Q6J("ngTemplateOutlet",h),i.xp6(4),i.Q6J("required",s.required)("ngModel",s.expYear),i.xp6(2),i.Q6J("ngForOf",s.getExpirationYears()),i.xp6(1),i.Q6J("ngTemplateOutlet",h),i.xp6(2),i.Q6J("minlength",s.codeSize)("maxlength",s.codeSize)("required",s.required)("ngModel",s.cvc)("placeholder",i.xi3(38,34,"CBL.BILLING.CVC_CODE",i.VKq(37,y,s.codeType))),i.xp6(4),i.Q6J("error",null==H.controls.cvc||null==H.controls.cvc.errors?null:H.controls.cvc.errors.required)("isTouched",z.touched),i.xp6(1),i.Q6J("error",(null==H.controls.cvc||null==H.controls.cvc.errors?null:H.controls.cvc.errors.pattern)||(null==H.controls.cvc||null==H.controls.cvc.errors?null:H.controls.cvc.errors.minlength)||(null==H.controls.cvc||null==H.controls.cvc.errors?null:H.controls.cvc.errors.maxlength))}},directives:[C._Y,C.JL,C.F,_.KE,p.Nt,C.Fj,E.m,C.Q7,C.JJ,C.On,_.TO,a.A,l.tP,r,_.hX,C.EJ,C.YN,C.Kr,l.sg,C.c5,C.wO,C.nD],pipes:[o.X],styles:["credit-card{display:block}credit-card mat-select{width:100%}credit-card .mat-select .mat-select-underline{bottom:4px}credit-card mat-form-field{flex:1 1 100%;max-width:100%;box-sizing:border-box}credit-card .two-column,credit-card .three-column{flex-wrap:wrap}@media (min-width: 960px){credit-card .spacer{width:16px}credit-card mat-form-field{flex:1 1 100%;box-sizing:border-box}credit-card .two-column,credit-card .three-column{flex-wrap:nowrap}}\n"],encapsulation:2,changeDetection:0}),A})()},53095:(ne,b,t)=>{t.d(b,{J:()=>x});var e=t(92218),i=t(85921),u=t(3184),c=t(14021),C=t(2384),_=t(31258),p=t(14296),E=t(7323),a=t(36362),l=t(32478),r=t(50450),o=t(85903),d=t(87317),n=t(74742),g=t(74929);function f(R,s){if(1&R&&u._UZ(0,"server-error",6),2&R){const h=u.oxw(2);u.Q6J("error",h.apiError)}}function m(R,s){if(1&R){const h=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(K){return u.CHM(h),u.oxw(3).removeCard(K)}),u._uU(1),u.ALo(2,"uppercase"),u.ALo(3,"translate"),u.qZA()}2&R&&(u.xp6(1),u.hij(" ",u.lcZ(2,1,u.lcZ(3,3,"CBL.BILLING.REMOVE_CARD"))," "))}function v(R,s){if(1&R&&(u.ynx(0),u._UZ(1,"payment-method-text",7)(2,"span",8),u.YNc(3,m,4,5,"button",9),u.TgZ(4,"button",10),u._uU(5),u.ALo(6,"uppercase"),u.ALo(7,"translate"),u.qZA(),u.BQk()),2&R){const h=u.oxw(2);u.xp6(1),u.Q6J("paymentSource",h.defaultPaymentSource),u.xp6(2),u.Q6J("ngIf",h.allowRemove),u.xp6(2),u.hij(" ",u.lcZ(6,3,u.lcZ(7,5,"CBL.BILLING.UPDATE_CARD"))," ")}}function y(R,s){if(1&R&&(u.ynx(0),u._UZ(1,"icon",4),u.YNc(2,f,1,1,"server-error",5),u.YNc(3,v,8,7,"ng-container",1),u.BQk()),2&R){const h=u.oxw(),H=u.MAs(4);u.xp6(2),u.Q6J("ngIf",h.apiError),u.xp6(1),u.Q6J("ngIf",h.defaultPaymentSource)("ngIfElse",H)}}function S(R,s){1&R&&(u.TgZ(0,"span",12),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&R&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"CBL.BILLING.ADD_METHOD")))}function A(R,s){1&R&&u._UZ(0,"mat-spinner",13)}let x=(()=>{class R{constructor(h,H,K,P,z){this.billingService=h,this.dialogService=H,this.errorService=K,this.userService=P,this.changeDetectorRef=z,this.allowRemove=!1,this.onPaymentSource=new u.vpe,this.loaded=!1,this.onDestroy=new e.xQ}ngOnInit(){this.billingService.getChangePaymentObservable().pipe((0,i.R)(this.onDestroy)).subscribe(this.getPaymentSources.bind(this))}ngOnDestroy(){this.onDestroy.next()}showAddPaymentDialog(){this.dialogService.showDialog(_.A,{existingPaymentSource:this.defaultPaymentSource})}removeCard(h){h.stopPropagation(),this.defaultPaymentSource&&(this.loaded=!1,this.billingService.removePaymentSource(this.defaultPaymentSource.id).then(H=>this.defaultPaymentSource=void 0,H=>this.errorService.showToast(H)).then(()=>{this.loaded=!0,this.changeDetectorRef.markForCheck()}))}getPaymentSources(){this.loaded=!1,this.changeDetectorRef.markForCheck(),this.userService.isLoggedIn()?this.billingService.getPaymentSources("me").then(h=>this.handlePaymentSources(h),h=>this.handleErrors(h)).then(()=>{this.loaded=!0,this.changeDetectorRef.markForCheck()}):setTimeout(()=>{this.onPaymentSource.emit(void 0),this.loaded=!0,this.changeDetectorRef.markForCheck()})}handlePaymentSources(h){this.apiError=void 0,this.setDefaultPaymentSource(h)}setDefaultPaymentSource(h){this.defaultPaymentSource=void 0,(null==h?void 0:h.length)&&(this.defaultPaymentSource=h.find(H=>H.is_default),this.defaultPaymentSource||(this.defaultPaymentSource=h[0])),this.onPaymentSource.emit(this.defaultPaymentSource)}handleErrors(h){this.apiError=h,this.onPaymentSource.emit(void 0)}}return R.\u0275fac=function(h){return new(h||R)(u.Y36(c.jM),u.Y36(C.x),u.Y36(p.T),u.Y36(E.KD),u.Y36(u.sBO))},R.\u0275cmp=u.Xpm({type:R,selectors:[["default-payment"]],inputs:{allowRemove:"allowRemove"},outputs:{onPaymentSource:"onPaymentSource"},decls:7,vars:5,consts:[[3,"click"],[4,"ngIf","ngIfElse"],["addPaymentSource",""],["loading",""],["key","icon_credit_card","size","xxxlarge",1,"credit-card-icon"],[3,"error",4,"ngIf"],[3,"error"],[3,"paymentSource"],[1,"spacer"],["mat-button","","class","mat-warn",3,"click",4,"ngIf"],["mat-button","",1,"mat-primary"],["mat-button","",1,"mat-warn",3,"click"],[1,"add-payment"],["diameter","36"]],template:function(h,H){if(1&h&&(u.TgZ(0,"div",0),u.NdJ("click",function(){return H.showAddPaymentDialog()}),u.ALo(1,"translate"),u.YNc(2,y,4,3,"ng-container",1),u.YNc(3,S,3,3,"ng-template",null,2,u.W1O),u.YNc(5,A,1,0,"ng-template",null,3,u.W1O),u.qZA()),2&h){const K=u.MAs(6);u.uIk("aria-label",u.lcZ(1,3,"CBL.BILLING.PAYMENT_INFO")),u.xp6(2),u.Q6J("ngIf",H.loaded)("ngIfElse",K)}},directives:[a.O5,l.o,r.k,o.M,d.lW,n.Ou],pipes:[g.X,a.gd],styles:["default-payment{display:block;cursor:pointer}default-payment>div{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%;min-height:48px}default-payment>div>*{max-width:100%;box-sizing:border-box}default-payment .credit-card-icon{margin-right:16px}default-payment .spacer{flex:1;box-sizing:border-box}default-payment .add-payment{font-weight:500}\n"],encapsulation:2,changeDetection:0}),R})()},10523:(ne,b,t)=>{t.d(b,{_:()=>le});var e=t(92938),u=t(93443),c=t(14021),C=t(46179),_=t(2384),p=t(94882),E=t(98789),a=t(42330),l=t(19193),r=t(83910),o=t(3184),d=t(95758),n=t(90587),g=t(73729),f=t(36362),m=t(44770),v=t(91434),y=t(1130),S=t(53095),A=t(50450),x=t(87317),R=t(74929);const s=function(V){return{productName:V}};function h(V,j){if(1&V&&(o.TgZ(0,"section",9)(1,"p"),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&V){const M=o.oxw();o.xp6(2),o.hij(" ",o.xi3(3,1,"CBL.BILLING.CONVERT_TO_SUBSCRIPTION_TEXT",o.VKq(4,s,M.displayName))," ")}}function H(V,j){if(1&V&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&V){const M=j.$implicit;o.Q6J("value",M),o.xp6(1),o.hij("",M," ")}}function K(V,j){if(1&V&&(o.TgZ(0,"mat-option",31)(1,"span"),o._uU(2),o.qZA()()),2&V){const M=j.$implicit;o.Q6J("value",M.id),o.xp6(2),o.hij(" ",M.label," ")}}const P=function(V){return{cost:V}};function z(V,j){if(1&V&&(o.TgZ(0,"div",32),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"uppercase"),o.qZA()),2&V){const M=o.oxw(3);o.xp6(1),o.hij(" ",o.xi3(2,1,"CBL.BILLING.TOTAL_COST."+o.lcZ(3,4,M.selectedPlan.frequency),o.VKq(6,P,M.totalCost))," ")}}function ee(V,j){if(1&V){const M=o.EpF();o.TgZ(0,"div",19)(1,"div",20)(2,"mat-form-field")(3,"mat-select",21),o.NdJ("ngModelChange",function(te){return o.CHM(M),o.oxw(2).numLicenses=te})("ngModelChange",function(){o.CHM(M);const te=o.oxw(2);return te.recalculatePrice(te.selectedPlan,te.numLicenses)}),o.ALo(4,"translate"),o.YNc(5,H,2,2,"mat-option",22),o.qZA()()(),o.TgZ(6,"div",23),o._UZ(7,"span",20),o.TgZ(8,"span",24),o._uU(9,"\xd7"),o.qZA(),o._UZ(10,"span",20),o.qZA(),o.TgZ(11,"div",20)(12,"mat-form-field")(13,"mat-select",25),o.NdJ("selectionChange",function(){o.CHM(M);const te=o.oxw(2);return te.recalculatePrice(te.selectedPlan,te.numLicenses)})("ngModelChange",function(te){return o.CHM(M),o.oxw(2).selectedPlan.id=te}),o.ALo(14,"translate"),o.YNc(15,K,3,2,"mat-option",22),o.qZA()()(),o.TgZ(16,"div",23),o._UZ(17,"span",20),o.TgZ(18,"span",26),o._uU(19,"="),o.qZA(),o._UZ(20,"span",20),o.qZA(),o.TgZ(21,"div",27)(22,"div",28),o.SDv(23,29),o.qZA(),o.YNc(24,z,4,8,"div",30),o.qZA()()}if(2&V){const M=o.oxw(2);o.xp6(3),o.Q6J("ngModel",M.numLicenses)("placeholder",o.lcZ(4,7,"CBL.BILLING.NUM_SEATS")),o.xp6(2),o.Q6J("ngForOf",M.getLicenseCountOptions()),o.xp6(8),o.Q6J("ngModel",M.selectedPlan.id)("placeholder",o.lcZ(14,9,"CBL.BILLING.SUBSCRIPTION_TYPE")),o.xp6(2),o.Q6J("ngForOf",M.plans),o.xp6(9),o.Q6J("ngIf",M.selectedPlan&&M.selectedPlan.frequency)}}function Z(V,j){if(1&V&&(o.TgZ(0,"section",10)(1,"div",11)(2,"span",12),o.SDv(3,13),o.qZA(),o.TgZ(4,"span",14),o.SDv(5,15),o.qZA()(),o.YNc(6,ee,25,11,"div",16),o.TgZ(7,"span",17),o._uU(8),o.ALo(9,"translate"),o.TgZ(10,"a",18),o.ALo(11,"translate"),o._uU(12),o.ALo(13,"translate"),o.qZA(),o._uU(14,". "),o.qZA()()),2&V){const M=o.oxw();o.xp6(6),o.Q6J("ngIf",M.selectedPlan),o.xp6(2),o.hij(" ",o.lcZ(9,4,"CBL.BILLING.MORE_THAN_20_SEATS"),"\xa0 "),o.xp6(2),o.MGl("href","mailto:",o.lcZ(11,6,"CBL.BILLING.SALES_EMAIL_ADDRESS"),"",o.LSH),o.xp6(2),o.hij(" ",o.lcZ(13,8,"CBL.BILLING.SALES_EMAIL_ADDRESS")," ")}}function G(V,j){1&V&&(o.TgZ(0,"section",33),o._UZ(1,"default-payment",34),o.qZA())}function J(V,j){if(1&V){const M=o.EpF();o.TgZ(0,"button",35),o.NdJ("click",function(){o.CHM(M);const te=o.oxw();return te.isTrial?te.buyLicenses():te.addLicensesToSubscription()}),o.ALo(1,"translate"),o.TgZ(2,"span",36),o._uU(3),o.ALo(4,"uppercase"),o.ALo(5,"translate"),o.qZA()()}if(2&V){const M=o.oxw();o.Q6J("disabled",!M.isTrial&&M.numLicenses==M.subscription.total_license_count||M.processing),o.uIk("aria-label",o.lcZ(1,3,"CBL.COMMON.CONFIRM")),o.xp6(3),o.Oqu(o.lcZ(4,5,o.lcZ(5,7,"CBL.COMMON.CONFIRM")))}}let le=(()=>{class V extends _.V{constructor(M,ie,te,re,q,U,k){super(),this.analyticsService=M,this.billingService=ie,this.toastService=te,this.labelService=re,this.dialogRef=q,this.teamPermissionService=U,this.productService=k,this.numLicenses=1,this.isFree=!1,this.isTrial=!1,this.totalCost="",this.processing=!1}ngOnInit(){this.subscription=this.payload.subscription,this.product=this.payload.product,this.planId=this.payload.planId,this.numLicenses=this.subscription.total_license_count||1,this.isTrial=this.subscription.term_type===u.ND.TermTypeEnum.trial,this.displayName=this.productService.getDisplayName(this.product,this.subscription.plan_id),this.dialogTitle=this.getDialogTitle(this.displayName,this.isTrial),this.handleProduct(this.product)}getLicenseCountOptions(){let M=1;return this.subscription&&(M=this.subscription.total_license_count),this.productService.getSelfServeLicenseRange(M)}recalculatePrice(M,ie){let re=ie*(M?M.price:0);this.isFree=0===re,this.totalCost=this.billingService.formatAsPrice(re,2),this.plans=this.attachPlanLabels(this.plans)}getPlanLabel(M){return M?this.labelService.getInterpolatedLabel(M.frequency===u.mz.FrequencyEnum.monthly?"CBL.BILLING.TOTAL_COST.PER_MONTH":"CBL.BILLING.TOTAL_COST.PER_YEAR",{cost:this.billingService.formatAsPrice(M.price,2)}):""}addLicensesToSubscription(){this.subscription.total_license_count!==this.numLicenses&&(this.processing=!0,this.billingService.modifySubscription(this.subscription.id,{license_count:this.numLicenses}).then(M=>this.handleSuccess(M),M=>this.handleErrors(M)))}buyLicenses(){if(!this.selectedPlan)return;const M={quantity:this.numLicenses,planId:this.selectedPlan.id,coupon:this.subscription.coupon,metadata:this.analyticsService.getUTMParameters()};this.processing=!0,(0,l.aj)([this.teamPermissionService.getUserTeam$(),this.teamPermissionService.isUserTeamOwner$()]).pipe((0,r.q)(1)).subscribe(([ie,te])=>{ie&&te&&(M.teamId=ie.team_id),this.billingService.subscribe(M).then(re=>this.handleSuccess(re),re=>this.handleErrors(re))})}attachPlanLabels(M){const ie=(0,e.map)(M,te=>Object.assign({},te,{label:this.getPlanLabel(te)}));return this.processing=!1,ie}handleProduct(M){this.plans=this.attachPlanLabels(M.productPlans);let ie=this.subscription.plan_id;const te=this.plans.find(re=>re.id===ie);this.selectedPlan=(null==te?void 0:te.frequency)===u.mz.FrequencyEnum.trial?this.plans.find(re=>re.id===te.trialRenewalPlanId):te,this.recalculatePrice(this.selectedPlan,this.numLicenses),this.planId&&(this.plans=this.plans.filter(re=>re.id===this.subscription.plan_id)),this.plans=this.plans.filter(re=>re.frequency!==u.mz.FrequencyEnum.trial)}handleSuccess(M){this.toastService.showSimpleToast(this.isTrial?"CBL.BILLING.SUBSCRIBED_WELCOME":"CBL.BILLING.SUBSCRIPTION_UPDATED"),this.processing=!1,this.dialogRef.close(this.numLicenses)}handleErrors(M){this.error=M,this.processing=!1}getDialogTitle(M,ie){return ie?this.labelService.getLabel("CBL.BILLING.CONVERT_TO_SUBSCRIPTION_TITLE"):this.labelService.getInterpolatedLabel("CBL.BILLING.ADD_PRODUCT_SEATS",{productName:M})}}return V.\u0275fac=function(M){return new(M||V)(o.Y36(E.y),o.Y36(c.jM),o.Y36(C.k),o.Y36(p.Q),o.Y36(d.so),o.Y36(a.$),o.Y36(c.M5))},V.\u0275cmp=o.Xpm({type:V,selectors:[["modify-subscription"]],features:[o.qOj],decls:9,vars:8,consts:function(){let j,M,ie;return j=$localize`:␟f4b265fb281e0d5ab74cee74db6a86a2fcef0e4f␟5702180179630151135: Select the total number of seats you would like to have. `,M=$localize`:␟14b0e5f7d841667f91085ea43d9f5d3f6c1a84cd␟3227654573620588960: Your change will take effect immediately and your credit card will be charged the prorated difference. `,ie=$localize`:␟3f04d6ea57ad8678ae86fd1f217124f94e0ba3da␟7474263415295938230: Total / Billing Cycle `,[["name","modifySubscriptionForm",1,"component--modify-subscription"],[3,"title","fullBleed","processing"],["dialog-content",""],["class","trial-upgrade-explainer",4,"ngIf"],["class","add-seats-step",4,"ngIf"],["class","payment-step",4,"ngIf"],[3,"error"],["dialog-actions","",1,"layout-row","cb-padding-medium"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click",4,"ngIf"],[1,"trial-upgrade-explainer"],[1,"add-seats-step"],[1,"layout-row","layout-wrap","layout-align-start-center"],[1,"flex-100","cb-font-size-default","cb-font-weight-bold","cb-margin-small-bottom"],j,[1,"flex-100","cb-font-size-small","cb-margin-medium-bottom"],M,["class","flex layout-column layout-gt-sm-row layout-align-start-stretch layout-align-gt-sm-start-center cb-margin-gt-sm-none-top cb-margin-xlarge-top",4,"ngIf"],[1,"layout-row","cb-font-size-small","cb-margin-medium-bottom"],[1,"link-primary",3,"href"],[1,"flex","layout-column","layout-gt-sm-row","layout-align-start-stretch","layout-align-gt-sm-start-center","cb-margin-gt-sm-none-top","cb-margin-xlarge-top"],[1,"flex"],["name","numLicenses",3,"ngModel","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"layout-row","flex-none"],[1,"times"],["name","selectedPlan","disabled","",1,"plan-select",3,"ngModel","placeholder","selectionChange","ngModelChange"],[1,"equals"],[1,"total","cb-border","layout-column","flex-none","cb-margin-large-bottom","cb-padding-large"],[1,"cb-margin-small-bottom","cb-font-size-small","cb-text-color-medium"],ie,["class","total-cost cb-font-weight-bold cb-font-size-large",4,"ngIf"],[3,"value"],[1,"total-cost","cb-font-weight-bold","cb-font-size-large"],[1,"payment-step"],[1,"cb-width-100"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[1,"cb-padding-large-horizontal"]]},template:function(M,ie){1&M&&(o.TgZ(0,"form",0)(1,"dialog-layout",1)(2,"div",2),o.YNc(3,h,4,6,"section",3),o.YNc(4,Z,15,10,"section",4),o.YNc(5,G,2,0,"section",5),o._UZ(6,"server-error",6),o.qZA(),o.TgZ(7,"div",7),o.YNc(8,J,6,9,"button",8),o.qZA()()()),2&M&&(o.xp6(1),o.Q6J("title",ie.dialogTitle)("fullBleed",!0)("processing",ie.processing),o.xp6(2),o.Q6J("ngIf",ie.isTrial),o.xp6(1),o.Q6J("ngIf",!ie.isTrial),o.xp6(1),o.Q6J("ngIf",!ie.isFree),o.xp6(1),o.Q6J("error",ie.error),o.xp6(2),o.Q6J("ngIf",ie.subscription))},directives:[n._Y,n.JL,n.F,g.I,f.O5,m.KE,v.gD,n.JJ,n.On,f.sg,y.ey,S.J,A.k,x.lW],pipes:[R.X,f.gd],styles:[".component--modify-subscription[_ngcontent-%COMP%]{max-width:700px}.component--modify-subscription[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:16px}.component--modify-subscription[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{min-width:100px;font-weight:500}.component--modify-subscription[_ngcontent-%COMP%]   .trial-upgrade-explainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.component--modify-subscription[_ngcontent-%COMP%]   .add-seats-step[_ngcontent-%COMP%]{background-color:#fafafa;border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f}.component--modify-subscription[_ngcontent-%COMP%]   .payment-step[_ngcontent-%COMP%]{padding:8px 16px;flex:1;box-sizing:border-box;display:flex!important;flex-direction:column}.component--modify-subscription[_ngcontent-%COMP%]   .times[_ngcontent-%COMP%], .component--modify-subscription[_ngcontent-%COMP%]   .equals[_ngcontent-%COMP%]{margin:0 16px;font-size:36px;line-height:36px;color:#0000008a}.component--modify-subscription[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{border-color:#4caf50;min-width:40px;text-align:center}.component--modify-subscription[_ngcontent-%COMP%]  server-error>div{padding-left:20px;padding-right:20px;padding-bottom:8px}"]}),V})()},76980:(ne,b,t)=>{t.d(b,{b:()=>p});var e=t(36362),i=t(35503),u=t(90898),c=t(32519),C=t(51151),_=t(3184);let p=(()=>{class E{}return E.\u0275fac=function(l){return new(l||E)},E.\u0275mod=_.oAB({type:E}),E.\u0275inj=_.cJS({imports:[[e.ez,i.Dt,u.q,c.n,C.A]]}),E})()},20902:(ne,b,t)=>{t.d(b,{n:()=>_});var e=t(36362),i=t(32313),u=t(90587),c=t(90898),C=t(3184);let _=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[[e.ez,i.H,u.u5,c.q]]}),p})()},92434:(ne,b,t)=>{t.d(b,{O:()=>u});var e=t(3184);const i=["*"];let u=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["chips-container"]],ngContentSelectors:i,decls:1,vars:0,template:function(_,p){1&_&&(e.F$t(),e.Hsn(0))},styles:["[_nghost-%COMP%]{margin:0 -8px;display:block}[_nghost-%COMP%]  chip{margin:8px;max-width:calc(100% - 16px);box-sizing:border-box}"]}),c})()},83447:(ne,b,t)=>{t.d(b,{E:()=>C});var e=t(36362),i=t(35503),u=t(90898),c=t(3184);let C=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({imports:[[e.ez,i.Dt,u.q]]}),_})()},2631:(ne,b,t)=>{t.d(b,{E:()=>p});var e=t(32313),i=t(35503),u=t(40089),c=t(36362),C=t(5076),_=t(3184);let p=(()=>{class E{}return E.\u0275fac=function(l){return new(l||E)},E.\u0275mod=_.oAB({type:E}),E.\u0275inj=_.cJS({imports:[[c.ez,e.H,i.Dt,u.AV,C.V]]}),E})()},19250:(ne,b,t)=>{t.d(b,{c:()=>s});var e=t(81824),i=t(20605),u=t(3184),c=t(35585),C=t(61531),_=t(36362),p=t(74160),E=t(40089),a=t(74929);function l(h,H){1&h&&u.GkF(0)}const r=function(h){return{contactsCredits:h}};function o(h,H){if(1&h&&(u.TgZ(0,"span"),u.YNc(1,l,1,0,"ng-container",4),u.qZA()),2&h){const K=u.oxw().ngIf;u.oxw(2);const P=u.MAs(2);u.xp6(1),u.Q6J("ngTemplateOutlet",P)("ngTemplateOutletContext",u.VKq(2,r,K))}}function d(h,H){1&h&&u.GkF(0)}function n(h,H){if(1&h&&(u.TgZ(0,"label-with-icon",5),u.ALo(1,"translate"),u.YNc(2,d,1,0,"ng-container",4),u.qZA()),2&h){const K=u.oxw().ngIf;u.oxw(2);const P=u.MAs(2);u.Q6J("matTooltip",u.lcZ(1,3,"CBL.ENTITY.CONTACTS_CARD.CONTACTS_CREDITS.REFRESH")),u.xp6(2),u.Q6J("ngTemplateOutlet",P)("ngTemplateOutletContext",u.VKq(5,r,K))}}function g(h,H){if(1&h&&(u.ynx(0),u.YNc(1,o,2,4,"span",2),u.YNc(2,n,3,7,"label-with-icon",3),u.BQk()),2&h){const K=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!K.showIcon),u.xp6(1),u.Q6J("ngIf",K.showIcon)}}const f=function(h){return{value:h}};function m(h,H){if(1&h&&(u.ynx(0),u.YNc(1,g,3,2,"ng-container",2),u.ALo(2,"async"),u.BQk()),2&h){const K=u.oxw();u.xp6(1),u.Q6J("ngIf",u.VKq(3,f,u.lcZ(2,1,K.contactsCredits$)))}}const v=function(){return{credits:0}};function y(h,H){1&h&&(u.ynx(0),u._uU(1),u.ALo(2,"translate"),u.BQk()),2&h&&(u.xp6(1),u.hij(" ",u.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.CONTACTS_CREDITS.MULTIPLE_VIEWS_REMAINING",u.DdM(4,v))," "))}function S(h,H){1&h&&(u.ynx(0),u.SDv(1,6),u.BQk())}const A=function(h){return{credits:h}};function x(h,H){if(1&h&&(u.ynx(0),u._uU(1),u.ALo(2,"translate"),u.BQk()),2&h){const K=u.oxw().contactsCredits;u.xp6(1),u.hij(" ",u.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.CONTACTS_CREDITS.MULTIPLE_VIEWS_REMAINING",u.VKq(4,A,K.value))," ")}}function R(h,H){if(1&h&&(u.YNc(0,y,3,5,"ng-container",2),u.YNc(1,S,2,0,"ng-container",2),u.YNc(2,x,3,6,"ng-container",2)),2&h){const K=H.contactsCredits;u.Q6J("ngIf",!K.value),u.xp6(1),u.Q6J("ngIf",1===K.value),u.xp6(1),u.Q6J("ngIf",K.value&&K.value>1)}}let s=(()=>{class h{constructor(K){this.store=K,this.showIcon=!0,this.maintenanceModeBillingFlag=i.TT.MAINTENANCE_MODE_BILLING,this.contactsCredits$=this.store.select(e.we)}}return h.\u0275fac=function(K){return new(K||h)(u.Y36(c.yh))},h.\u0275cmp=u.Xpm({type:h,selectors:[["contacts-credits"]],inputs:{showIcon:"showIcon"},decls:3,vars:1,consts:function(){let H;return H=$localize`:␟c33661921e63750b2eda805868d5360f67255a8e␟1413246140025385052: 1 Contact View Remaining `,[[4,"ifNotFeatureFlagBoolean"],["text",""],[4,"ngIf"],["iconKey","icon_eye_open","iconSize","large",3,"matTooltip",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["iconKey","icon_eye_open","iconSize","large",3,"matTooltip"],H]},template:function(K,P){1&K&&(u.YNc(0,m,3,5,"ng-container",0),u.YNc(1,R,3,3,"ng-template",null,1,u.W1O)),2&K&&u.Q6J("ifNotFeatureFlagBoolean",P.maintenanceModeBillingFlag)},directives:[C.l,_.O5,_.tP,p.d,E.gM],pipes:[_.Ov,a.X],styles:["label-with-icon[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),h})()},96657:(ne,b,t)=>{t.d(b,{F:()=>E});var e=t(94882),i=t(46179),u=t(3184),c=t(87317),C=t(40089),_=t(91604),p=t(32478);let E=(()=>{class a{constructor(r,o){this.labelService=r,this.toastService=o,this.tooltip=$localize`Copy`}showToast(){this.toastService.showSimpleToast("CBL.COMMON.COPIED")}}return a.\u0275fac=function(r){return new(r||a)(u.Y36(e.Q),u.Y36(i.k))},a.\u0275cmp=u.Xpm({type:a,selectors:[["copy-to-clipboard"]],inputs:{clipboard:"clipboard",tooltip:"tooltip"},decls:2,vars:3,consts:[["mat-icon-button","",3,"matTooltip","cdkCopyToClipboard","cdkCopyToClipboardCopied"],["key","icon_copy","size","text"]],template:function(r,o){1&r&&(u.TgZ(0,"button",0),u.NdJ("cdkCopyToClipboardCopied",function(){return o.showToast()}),u._UZ(1,"icon",1),u.qZA()),2&r&&(u.Q6J("matTooltip",o.tooltip)("cdkCopyToClipboard",o.clipboard),u.uIk("aria-label",o.tooltip))},directives:[c.lW,C.gM,_.i3,p.o],styles:["[mat-icon-button][_ngcontent-%COMP%]{line-height:unset;border-radius:2px;height:18px!important;width:18px!important;padding:0 2px}"],changeDetection:0}),a})()},69287:(ne,b,t)=>{t.d(b,{Q:()=>E});var e=t(36362),i=t(91604),u=t(87317),c=t(32519),C=t(40089),_=t(35503),p=t(3184);let E=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=p.oAB({type:a}),a.\u0275inj=p.cJS({imports:[[i.Iq,e.ez,c.n,u.ot,C.AV,_.Dt]]}),a})()},60469:(ne,b,t)=>{t.d(b,{O:()=>_});var e=t(36362),i=t(32519),u=t(32313),c=t(35503),C=t(3184);let _=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[[e.ez,i.n,u.H,c.Dt]]}),p})()},31935:(ne,b,t)=>{t.d(b,{n:()=>P});var e=t(92218),i=t(5149),u=t(86942),c=t(85921),C=t(59151),_=t(843),p=t(2509),E=t(98789),a=t(3184),l=t(35585),r=t(36362),o=t(46036),d=t(87317),n=t(45857),g=t(74160),f=t(20757),m=t(74929);function v(z,ee){1&z&&a._UZ(0,"theme-icon",2)}let y=(()=>{class z{}return z.\u0275fac=function(Z){return new(Z||z)},z.\u0275cmp=a.Xpm({type:z,selectors:[["crm-connect-to-salesforce-label"]],decls:5,vars:4,consts:[[3,"iconTemplate"],["salesforceIcon",""],["themeId","salesforce","color","theme"]],template:function(Z,G){if(1&Z&&(a.TgZ(0,"label-with-icon",0),a._uU(1),a.ALo(2,"translate"),a.qZA(),a.YNc(3,v,1,0,"ng-template",null,1,a.W1O)),2&Z){const J=a.MAs(4);a.Q6J("iconTemplate",J),a.xp6(1),a.hij(" ",a.lcZ(2,2,"CBL.CRM.CONNECT_TO_CRM"),"\n")}},directives:[g.d,f.p],pipes:[m.X],encapsulation:2,changeDetection:0}),z})();var S=t(43652);function A(z,ee){if(1&z){const Z=a.EpF();a.TgZ(0,"a",5),a.NdJ("click",function(){return a.CHM(Z),a.oxw(3).logUsageEvent()}),a._UZ(1,"crm-connect-to-salesforce-label"),a.qZA()}if(2&z){const Z=a.oxw(3);a.Q6J("color",Z.color)("queryParams",Z.integrationsLinkParams)}}function x(z,ee){if(1&z){const Z=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){a.CHM(Z);const J=a.oxw(3);return J.showPreConnectDialog(),J.logUsageEvent()}),a._UZ(1,"crm-connect-to-salesforce-label"),a.qZA()}if(2&z){const Z=a.oxw(3);a.Q6J("color",Z.color)}}function R(z,ee){if(1&z&&(a.ynx(0),a.YNc(1,A,2,2,"a",3),a.YNc(2,x,2,1,"button",4),a.BQk()),2&z){const Z=a.oxw(2);a.xp6(1),a.Q6J("ngIf",Z.showLinkToIntegrationsPage),a.xp6(1),a.Q6J("ngIf",!Z.showLinkToIntegrationsPage)}}function s(z,ee){if(1&z&&(a.TgZ(0,"upsell-modal-button",7),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&z){const Z=a.oxw(2);a.Q6J("triggerLocation",Z.triggerLocation)("showDetails",!0),a.xp6(1),a.hij(" ",a.lcZ(2,3,"CBL.CRM.CONNECT_TO_CRM")," ")}}function h(z,ee){if(1&z&&(a.ynx(0),a.YNc(1,R,3,2,"ng-container",0),a.ALo(2,"async"),a.YNc(3,s,3,5,"upsell-modal-button",2),a.ALo(4,"async"),a.BQk()),2&z){const Z=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,Z.canConnectCrm$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(4,4,Z.canConnectCrm$))}}function H(z,ee){1&z&&(a.TgZ(0,"div",11),a.SDv(1,12),a.qZA())}function K(z,ee){if(1&z&&(a.TgZ(0,"div",8)(1,"label-with-icon",9),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.YNc(4,H,2,0,"div",10),a.ALo(5,"async"),a.qZA()),2&z){const Z=a.oxw();a.xp6(2),a.hij(" ",a.lcZ(3,2,"CBL.SEARCH.CRM.CRM_CONNECTED")," "),a.xp6(2),a.Q6J("ngIf",a.lcZ(5,4,Z.syncInProgress$))}}let P=(()=>{class z{constructor(Z,G,J){this.store=Z,this.permissionService=G,this.usageEventsService=J,this.color="accent",this.showConnected=!1,this.showLinkToIntegrationsPage=!1,this.canConnectCrm$=this.permissionService.getPermissions().pipe((0,u.U)(le=>le.canConnectCrm())),this.isCrmConnected$=this.store.select(i.k2),this.syncInProgress$=this.store.select(i.V2),this.integrationsLinkParams={[p.$]:!0},this.onDestroy$=new e.xQ}ngOnInit(){this.isCrmConnected$.pipe((0,c.R)(this.onDestroy$),(0,C.h)(Z=>Z)).subscribe(Z=>{this.store.dispatch((0,i.BA)())})}ngOnDestroy(){this.onDestroy$.next()}showPreConnectDialog(){this.store.dispatch((0,i.uJ)({}))}logUsageEvent(){this.usageEventsService.logUsageEvent("connect_crm",{})}}return z.\u0275fac=function(Z){return new(Z||z)(a.Y36(l.yh),a.Y36(_.$),a.Y36(E.N))},z.\u0275cmp=a.Xpm({type:z,selectors:[["crm-connection"]],inputs:{color:"color",showConnected:"showConnected",triggerLocation:"triggerLocation",showLinkToIntegrationsPage:"showLinkToIntegrationsPage"},decls:4,vars:6,consts:function(){let ee;return ee=$localize`:␟33d47cab947092fb21670b6aed4d55731086803a␟1399864898704317355: Sync in progress... `,[[4,"ngIf"],["class","connected",4,"ngIf"],["buttonType","stroked","featureSet","connect_crm",3,"triggerLocation","showDetails",4,"ngIf"],["mat-stroked-button","","routerLink","/account/integrations",3,"color","queryParams","click",4,"ngIf"],["mat-stroked-button","","data-heap-show-crm-connect-modal","",3,"color","click",4,"ngIf"],["mat-stroked-button","","routerLink","/account/integrations",3,"color","queryParams","click"],["mat-stroked-button","","data-heap-show-crm-connect-modal","",3,"color","click"],["buttonType","stroked","featureSet","connect_crm",3,"triggerLocation","showDetails"],[1,"connected"],["iconKey","icon_check_knockout_round","iconColor","success"],["class","sync-in-progress",4,"ngIf"],[1,"sync-in-progress"],ee]},template:function(Z,G){1&Z&&(a.YNc(0,h,5,6,"ng-container",0),a.ALo(1,"async"),a.YNc(2,K,6,6,"div",1),a.ALo(3,"async")),2&Z&&(a.Q6J("ngIf",!a.lcZ(1,2,G.isCrmConnected$)),a.xp6(2),a.Q6J("ngIf",G.showConnected&&a.lcZ(3,4,G.isCrmConnected$)))},directives:[r.O5,o.n,d.zs,n.yS,y,d.lW,S.J,g.d],pipes:[r.Ov,m.X],styles:[".connected[_ngcontent-%COMP%]{padding-left:10px}.connected[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{display:flex}.sync-in-progress[_ngcontent-%COMP%]{font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}"],changeDetection:0}),z})()},81509:(ne,b,t)=>{t.d(b,{X:()=>o});var e=t(36362),i=t(45857),u=t(89250),c=t(90898),C=t(35503),_=t(32519),p=t(32313),E=t(60469),a=t(83e3),l=t(19366),r=t(3184);let o=(()=>{class d{}return d.\u0275fac=function(g){return new(g||d)},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({imports:[[e.ez,u.S,c.q,C.Dt,_.n,p.H,i.Bz,E.O,a.S,l.L]]}),d})()},35595:(ne,b,t)=>{t.d(b,{e:()=>ht});var e=t(3184),i=t(92218),u=t(19193),c=t(5149),C=t(85921),_=t(59151),p=t(86942),E=t(7323),a=t(4151),l=t(18052),r=t(35585),o=t(84128),d=t(36362),n=t(74160),g=t(20757),f=t(80670),m=t(90164),v=t(87317),y=t(32478),S=t(74929),A=t(94882),x=t(46532);let s=(()=>{class xe{constructor(be,se){this.dateUtil=be,this.labelService=se}transform(be,se){"object"!=typeof be&&(be=new Date(be));const Oe=this.dateUtil.daysSinceTimestamp(be);return this.getRelativeDateString(Oe,null==se?void 0:se.monthThreshold,null==se?void 0:se.yearThreshold)}getRelativeDateString(be,se=180,Oe=730){if(0===be)return $localize`Today`;if(1===be)return this.labelService.getLabel("CBL.COMMON.RELATIVE_DATE.DAY");if(be<=se)return this.labelService.getInterpolatedLabel("CBL.COMMON.RELATIVE_DATE.DAYS",{days:be});if(be<=Oe){const ot=Math.round(be/30.417);return 1===ot?this.labelService.getLabel("CBL.COMMON.RELATIVE_DATE.MONTH"):this.labelService.getInterpolatedLabel("CBL.COMMON.RELATIVE_DATE.MONTHS",{months:ot})}const Re=Math.round(be/365);return 1===Re?this.labelService.getLabel("CBL.COMMON.RELATIVE_DATE.YEAR"):this.labelService.getInterpolatedLabel("CBL.COMMON.RELATIVE_DATE.YEARS",{years:Re})}}return xe.\u0275fac=function(be){return new(be||xe)(e.Y36(x.E,16),e.Y36(A.Q,16))},xe.\u0275pipe=e.Yjl({name:"relativeDate",type:xe,pure:!1}),xe})();function h(xe,Ne){1&xe&&(e.TgZ(0,"label-with-icon",6),e.SDv(1,7),e.qZA()),2&xe&&e.Q6J("iconAfter",!0)}function H(xe,Ne){if(1&xe&&(e._UZ(0,"external-link",14),e.ALo(1,"translate")),2&xe){const be=e.oxw().$implicit;e.Q6J("url",be.crm_link)("label",e.lcZ(1,3,"CBL.CRM.ACCOUNT_OVERLAY.LINK"))("color","accent")}}function K(xe,Ne){if(1&xe&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.ALo(3,"relativeDate"),e.qZA()),2&xe){const be=e.oxw().$implicit;e.xp6(1),e.AsE("",e.xi3(2,2,be.last_activity_date,"mediumDate")," (",e.lcZ(3,5,be.last_activity_date),")")}}function P(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(be),e.oxw(4).close()}),e.ALo(1,"translate"),e._UZ(2,"icon",17),e.qZA()}2&xe&&e.uIk("aria-label",e.lcZ(1,1,"CBL.CRM.ACCOUNT_OVERLAY.CLOSE"))}function z(xe,Ne){1&xe&&(e.ynx(0),e.YNc(1,P,3,3,"button",15),e.BQk()),2&xe&&(e.xp6(1),e.Q6J("ifBreakpoint","desktop"))}function ee(xe,Ne){if(1&xe&&(e.TgZ(0,"div",9)(1,"div",10),e._UZ(2,"theme-icon",11),e.YNc(3,H,2,5,"external-link",12),e.qZA(),e.TgZ(4,"div",13)(5,"h3"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div")(12,"h3"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,K,4,7,"span",3),e.qZA(),e.YNc(16,z,2,1,"ng-container",2),e.ALo(17,"async"),e.qZA()),2&xe){const be=Ne.$implicit,se=e.oxw(2),Oe=e.MAs(10);e.xp6(3),e.Q6J("ngIf",be.crm_link),e.xp6(3),e.hij("",e.lcZ(7,7,"CBL.CRM.ACCOUNT_OVERLAY.OWNER"),":"),e.xp6(3),e.Oqu(be.owner_name||e.lcZ(10,9,"CBL.CRM.ACCOUNT_OVERLAY.UNAVAILABLE")),e.xp6(4),e.hij("",e.lcZ(14,11,"CBL.CRM.ACCOUNT_OVERLAY.LAST_ACTIVITY"),":"),e.xp6(2),e.Q6J("ngIf",be.last_activity_date)("ngIfElse",Oe),e.xp6(1),e.Q6J("ngIf",!e.lcZ(17,13,se.showMultipleAccounts$))}}function Z(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,ee,18,15,"div",8),e.BQk()),2&xe){const be=Ne.ngIf;e.xp6(1),e.Q6J("ngForOf",be)}}function G(xe,Ne){if(1&xe){const be=e.EpF();e.ynx(0),e.TgZ(1,"button",18),e.NdJ("click",function(){return e.CHM(be),e.oxw().close()}),e.ALo(2,"translate"),e._UZ(3,"icon",17),e.qZA(),e.BQk()}2&xe&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,1,"CBL.CRM.ACCOUNT_OVERLAY.CLOSE")))}function J(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(be),e.oxw(2).close()}),e.ALo(1,"translate"),e._UZ(2,"icon",17),e.qZA()}2&xe&&e.uIk("aria-label",e.lcZ(1,1,"CBL.CRM.ACCOUNT_OVERLAY.CLOSE"))}function le(xe,Ne){1&xe&&e.YNc(0,J,3,3,"button",19),2&xe&&e.Q6J("ifBreakpoint","mobile")}function V(xe,Ne){1&xe&&(e.TgZ(0,"span"),e.SDv(1,21),e.qZA())}let j=(()=>{class xe{constructor(be,se,Oe,Re){this.store=be,this.elementRef=se,this.close=Oe,this.payload=Re}ngOnInit(){this.accounts$=this.store.select((0,c.fe)(this.payload.crmAccountModelId)),this.showMultipleAccounts$=this.accounts$.pipe((0,p.U)(be=>!!((null==be?void 0:be.length)&&(null==be?void 0:be.length)>1)))}}return xe.\u0275fac=function(be){return new(be||xe)(e.Y36(r.yh),e.Y36(e.SBq),e.Y36(l.U_),e.Y36(l.Z))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["crm-account-info-overlay"]],decls:11,vars:12,consts:function(){let Ne,be;return Ne=$localize`:␟6a4884977fd0f2783d6d585219fba3a1f849cd15␟8534296284205807387: Multiple CRM Matches `,be=$localize`:␟c76441abf5c2a11f169bc0dd7c220c279b23dceb␟1351148798562311625:No activity history`,[["role","dialog",1,"overlay-container",3,"cdkTrapFocus","cdkTrapFocusAutoCapture"],["class","multiple-accounts-title","iconKey","icon_multiaccount","iconSize","text","iconColor","inherit",3,"iconAfter",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["singleAccount",""],["unavailable",""],["iconKey","icon_multiaccount","iconSize","text","iconColor","inherit",1,"multiple-accounts-title",3,"iconAfter"],Ne,["class","account-info",4,"ngFor","ngForOf"],[1,"account-info"],["cdkFocusInitial","",1,"crm-link"],["themeId","salesforce","color","theme"],["data-heap-view-in-crm","",3,"url","label","color",4,"ngIf"],[1,"account-owner"],["data-heap-view-in-crm","",3,"url","label","color"],["mat-icon-button","",3,"click",4,"ifBreakpoint"],["mat-icon-button","",3,"click"],["key","icon_close"],["mat-icon-button","",1,"corner-close-button","multiple-accounts-close",3,"click"],["mat-icon-button","","class","corner-close-button",3,"click",4,"ifBreakpoint"],["mat-icon-button","",1,"corner-close-button",3,"click"],be]},template:function(be,se){if(1&be&&(e.TgZ(0,"div",0),e.YNc(1,h,2,1,"label-with-icon",1),e.ALo(2,"async"),e.YNc(3,Z,2,1,"ng-container",2),e.ALo(4,"async"),e.YNc(5,G,4,3,"ng-container",3),e.ALo(6,"async"),e.YNc(7,le,1,1,"ng-template",null,4,e.W1O),e.qZA(),e.YNc(9,V,2,0,"ng-template",null,5,e.W1O)),2&be){const Oe=e.MAs(8);e.Q6J("cdkTrapFocus",!0)("cdkTrapFocusAutoCapture",!0),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,6,se.showMultipleAccounts$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,8,se.accounts$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,10,se.showMultipleAccounts$))("ngIfElse",Oe)}},directives:[o.mK,d.O5,n.d,d.sg,g.p,f.A,m.G,v.lW,y.o],pipes:[d.Ov,S.X,d.uU,s],styles:[".overlay-container[_ngcontent-%COMP%]{position:relative;padding:24px 16px 16px;background-color:#fff;max-height:250px;overflow:scroll}.multiple-accounts-title[_ngcontent-%COMP%]{margin-bottom:16px;margin-top:16px}.account-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;margin-bottom:16px}.account-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-top:8px}.account-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.crm-link[_ngcontent-%COMP%]{display:flex;align-items:center}.account-owner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:block;margin-right:4px}.corner-close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px}.corner-close-button.multiple-accounts-close[_ngcontent-%COMP%]{top:8px;right:8px}theme-icon[_ngcontent-%COMP%]{margin-right:8px}@media (min-width: 960px){.overlay-container[_ngcontent-%COMP%]{padding-top:16px;max-height:inherit;overflow:inherit}.multiple-accounts-title[_ngcontent-%COMP%]{margin-top:inherit}.account-info[_ngcontent-%COMP%]{flex-direction:row;align-items:center;height:34px;margin-bottom:inherit}.account-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}.account-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-top:0}h3[_ngcontent-%COMP%]{display:inline}}"],changeDetection:0}),xe})();var M=t(82262),ie=t(74742),te=t(40089);function re(xe,Ne){if(1&xe&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&xe){const be=e.oxw().ngIf;e.xp6(1),e.hij(" ",be.owner_alias," ")}}function q(xe,Ne){1&xe&&(e._uU(0),e.ALo(1,"translate")),2&xe&&e.hij(" ",e.lcZ(1,1,"CBL.CRM.IN_CRM")," ")}function U(xe,Ne){1&xe&&e._UZ(0,"icon",10)}function k(xe,Ne){if(1&xe&&(e.TgZ(0,"div",11)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&xe){const be=Ne.ngIf;e.xp6(2),e.hij(" ",e.xi3(3,1,be.date,"mediumDate")," ")}}function w(xe,Ne){if(1&xe&&(e.ynx(0),e.TgZ(1,"button",3)(2,"div",4)(3,"div",5)(4,"label-with-icon",6),e.ALo(5,"async"),e.YNc(6,re,2,1,"span",0),e.YNc(7,q,2,3,"ng-template",null,7,e.W1O),e.qZA(),e.YNc(9,U,1,0,"icon",8),e.ALo(10,"async"),e.qZA(),e.YNc(11,k,4,4,"div",9),e.ALo(12,"async"),e.qZA()(),e.BQk()),2&xe){const be=Ne.ngIf,se=e.MAs(8),Oe=e.oxw(2);e.xp6(1),e.Q6J("overlayWithArrow",Oe.crmOverlayComponent)("overlayPayload",Oe.getCrmOverlayPayload()),e.xp6(3),e.ekj("multi-account-title",e.lcZ(5,8,Oe.showMultipleAccounts$)),e.xp6(2),e.Q6J("ngIf",be.owner_alias)("ngIfElse",se),e.xp6(3),e.Q6J("ngIf",e.lcZ(10,10,Oe.showMultipleAccounts$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(12,12,Oe.lastActivity$))}}function Q(xe,Ne){1&xe&&(e._uU(0),e.ALo(1,"translate")),2&xe&&e.hij(" ",e.lcZ(1,1,"CBL.CRM.IN_CRM")," ")}function $(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,w,13,14,"ng-container",0),e.ALo(2,"async"),e.YNc(3,Q,2,3,"ng-template",null,2,e.W1O),e.BQk()),2&xe){const be=e.MAs(4),se=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,se.account$))("ngIfElse",be)}}function X(xe,Ne){1&xe&&e._UZ(0,"theme-icon",19)}function Ce(xe,Ne){1&xe&&e._UZ(0,"mat-spinner",20)}function ye(xe,Ne){if(1&xe&&(e.YNc(0,X,1,0,"theme-icon",17),e.ALo(1,"async"),e.YNc(2,Ce,1,0,"ng-template",null,18,e.W1O)),2&xe){const be=e.MAs(3),se=e.oxw(4);e.Q6J("ngIf",!e.lcZ(1,2,se.entityIsSaving$))("ngIfElse",be)}}function ue(xe,Ne){if(1&xe){const be=e.EpF();e.ynx(0),e.TgZ(1,"button",14),e.NdJ("click",function(){return e.CHM(be),e.oxw(3).saveToCrm()}),e.ALo(2,"async"),e.ALo(3,"translate"),e.TgZ(4,"label-with-icon",15),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.YNc(7,ye,4,4,"ng-template",null,16,e.W1O),e.BQk()}if(2&xe){const be=e.MAs(8),se=e.oxw(3);e.xp6(1),e.Q6J("disabled",e.lcZ(2,4,se.entityIsSaving$)),e.uIk("aria-label",e.lcZ(3,6,"CBL.CRM.PUSH_TO_CRM")),e.xp6(3),e.Q6J("iconTemplate",be),e.xp6(1),e.hij(" ",e.lcZ(6,8,"CBL.CRM.PUSH")," ")}}function Me(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,ue,9,10,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&xe){e.oxw();const be=e.MAs(2),se=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,se.isSynced$))("ngIfElse",be)}}function me(xe,Ne){1&xe&&(e.ynx(0),e.TgZ(1,"label-with-icon",23),e.SDv(2,24),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&xe&&(e.xp6(1),e.Q6J("matTooltip",e.lcZ(3,1,"CBL.CRM.SYNC_TOOLTIP")))}function ve(xe,Ne){1&xe&&(e._UZ(0,"icon",25),e.ALo(1,"translate")),2&xe&&e.Q6J("matTooltip",e.lcZ(1,1,"CBL.CRM.SYNC_TABLE_TOOLTIP"))}function ze(xe,Ne){if(1&xe&&(e.TgZ(0,"button",21),e.YNc(1,me,4,3,"ng-container",0),e.YNc(2,ve,2,3,"ng-template",null,22,e.W1O),e.qZA()),2&xe){const be=e.MAs(3),se=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!se.hideSyncText)("ngIfElse",be)}}function tt(xe,Ne){if(1&xe&&(e.YNc(0,Me,3,4,"ng-container",12),e.YNc(1,ze,4,2,"ng-template",null,13,e.W1O)),2&xe){const be=e.oxw();e.Q6J("ngIf",!be.onlyShowPushed)}}let ht=(()=>{class xe{constructor(be,se,Oe,Re,ot){this.store=be,this.userService=se,this.overlayService=Oe,this.elementRef=Re,this.dateUtil=ot,this.hideSyncText=!1,this.inContactsOrg=!1,this.onlyShowPushed=!1,this.clickPushToCrm=new e.vpe,this.isCrmConnected$=this.store.select(c.k2),this.isSynced$=this.store.select(c.Hd),this.overlayOpen=!1,this.crmOverlayComponent=j,this.onDestroy$=new i.xQ}ngOnInit(){this.isSynced$.pipe((0,C.R)(this.onDestroy$),(0,_.h)(be=>!be)).subscribe(be=>{this.store.dispatch((0,c.BA)())})}ngOnChanges(){this.account$=this.store.select((0,c.xs)(this.entityId)),this.showMultipleAccounts$=this.store.select((0,c.fe)(this.entityId)).pipe((0,p.U)(be=>!!((null==be?void 0:be.length)&&(null==be?void 0:be.length)>1))),this.crmLink$=this.account$.pipe((0,p.U)(be=>null==be?void 0:be.crm_link)),this.lastActivity$=this.account$.pipe((0,p.U)(be=>{if(null==be?void 0:be.last_activity_date)return{date:new Date(be.last_activity_date),days:this.dateUtil.daysSinceTimestamp(be.last_activity_date)}})),this.entityIsLoading$=this.store.select((0,c.kA)(this.entityId)),this.entityIsSaving$=this.store.select((0,c.BZ)(this.entityId)),this.entityIsSaved$=this.store.select((0,c.wM)(this.entityId)),this.isOwnedByYou$=(0,u.aj)([this.account$,this.userService.getUserId$()]).pipe((0,p.U)(([be,se])=>!!(null==be?void 0:be.owner_id)&&be.owner_id===se))}ngOnDestroy(){this.onDestroy$.next()}saveToCrm(){this.clickPushToCrm.emit(),this.store.dispatch((0,c.FU)({entityId:this.entityId}))}getCrmOverlayPayload(){return{crmAccountModelId:this.entityId}}}return xe.\u0275fac=function(be){return new(be||xe)(e.Y36(r.yh),e.Y36(E.KD),e.Y36(a.F0),e.Y36(e.SBq),e.Y36(x.E))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["crm-push-button"]],hostVars:4,hostBindings:function(be,se){2&be&&e.ekj("in-table",se.hideSyncText)("in-contacts-org",se.inContactsOrg)},inputs:{entityId:"entityId",hideSyncText:"hideSyncText",inContactsOrg:"inContactsOrg",onlyShowPushed:"onlyShowPushed"},outputs:{clickPushToCrm:"clickPushToCrm"},features:[e.TTD],decls:4,vars:4,consts:function(){let Ne;return Ne=$localize`:␟31e35e2a70dc2d4ebce5a363db50b0e6c078050b␟6085044814227797956: CRM Syncing `,[[4,"ngIf","ngIfElse"],["isNotSaved",""],["noLink",""],["mat-stroked-button","","data-heap-in-crm-button-popup","","color","accent",1,"sync-detail-button",3,"overlayWithArrow","overlayPayload"],[1,"sync-detail-container"],[1,"sync-detial-title-container"],["iconKey","icon_check_knockout_round","iconSize","text","iconColor","success",1,"sync-name"],["noName",""],["class","multiple-accounts","key","icon_multiaccount","size","text",4,"ngIf"],["class","sync-date",4,"ngIf"],["key","icon_multiaccount","size","text",1,"multiple-accounts"],[1,"sync-date"],[4,"ngIf"],["isNotSynced",""],["mat-stroked-button","","color","accent",3,"disabled","click"],[3,"iconTemplate"],["progressOrSalesforceIcon",""],["themeId","salesforce","color","theme",4,"ngIf","ngIfElse"],["saving",""],["themeId","salesforce","color","theme"],["diameter","20"],["mat-stroked-button","","disabled",""],["syncingIcon",""],["iconKey","icon_sync",3,"matTooltip"],Ne,["key","icon_sync","color","info",3,"matTooltip"]]},template:function(be,se){if(1&be&&(e.YNc(0,$,5,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,tt,3,1,"ng-template",null,1,e.W1O)),2&be){const Oe=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,se.entityIsSaved$))("ngIfElse",Oe)}},directives:[d.O5,v.lW,M.a,n.d,y.o,g.p,ie.Ou,te.gM],pipes:[d.Ov,S.X,d.uU],styles:["[_nghost-%COMP%]{display:block;flex:none;text-align:right}.in-contacts-org[_nghost-%COMP%]{text-align:left}.owned[_ngcontent-%COMP%]{font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}theme-icon[_ngcontent-%COMP%], mat-spinner[_ngcontent-%COMP%]{display:inline-flex}[mat-stroked-button][_ngcontent-%COMP%]{min-width:90px}.sync-detail-button[_ngcontent-%COMP%]{padding:initial}.sync-detail-container[_ngcontent-%COMP%]{font-size:12px;font-weight:400;display:flex;flex-direction:column;justify-content:center;text-transform:initial;letter-spacing:initial;line-height:initial;height:36px;padding:0 8px;position:relative}.sync-detial-title-container[_ngcontent-%COMP%]{display:flex}.sync-name[_ngcontent-%COMP%]{min-height:0px;margin:0}.sync-name[_ngcontent-%COMP%]     span{margin-left:2px;width:58px;overflow:hidden;text-overflow:ellipsis;text-align:left}.sync-name.multi-account-title[_ngcontent-%COMP%]     span{width:50px}.sync-date[_ngcontent-%COMP%]{color:#666;text-align:left;margin-top:2px;font-size:9px}.multiple-accounts[_ngcontent-%COMP%]{position:absolute;right:4px}"],changeDetection:0}),xe})()},97186:(ne,b,t)=>{t.d(b,{L:()=>s});var e=t(36362),i=t(41773),u=t(32313),c=t(32519),C=t(74742),_=t(35503),p=t(87317),E=t(40089),a=t(89248),l=t(84128),r=t(87028),o=t(40114),d=t(24476),n=t(92218),g=t(85921),f=t(3184),m=t(99151);const v={start:"top",length:"height"},y={start:"left",length:"width"};let S=(()=>{class h{constructor(K,P){this.elementRef=K,this.scrollDispatcher=P,this.onDestroy$=new n.xQ,this.arrowOffset=0,this.arrowSize=20,this.resizeObserver="undefined"!=typeof ResizeObserver?new ResizeObserver(()=>{this.alignArrow()}):{observe:()=>{},disconnect:()=>{}}}ngOnInit(){this.arrowlength=Math.SQRT2*this.arrowSize,this.overlayEl=this.overlayElement.nativeElement,this.originEl=this.originElement.nativeElement,this.arrowEl=this.elementRef.nativeElement,this.resizeObserver.observe(this.overlayEl),this.scrollDispatcher.ancestorScrolled(this.originEl,50).pipe((0,g.R)(this.onDestroy$)).subscribe(K=>{if(K){const P=K.measureScrollOffset("top"),z=K.measureScrollOffset("left");(P!==this.previousScrollTop&&!this.arrowIsVertical()||z!==this.previousScrollLeft&&this.arrowIsVertical())&&this.alignArrow(),this.previousScrollTop=P,this.previousScrollLeft=z}else this.alignArrow()})}ngAfterViewChecked(){this.arrowDirection!==this.prevDirection&&(this.prevDirection=this.arrowDirection,this.alignArrow())}ngOnDestroy(){this.onDestroy$.next(),this.resizeObserver.disconnect()}alignArrow(){let K=y,P=v;!this.arrowIsVertical()&&(K=v,P=y);const ee=this.originEl.getBoundingClientRect(),Z=this.overlayEl.getBoundingClientRect(),V=this.arrowlength/2+2;let j=ee[K.start]+ee[K.length]/2-Z[K.start]+this.arrowOffset;j=this.clamp(j,V,Z[K.length]-V),this.arrowEl.style[K.start]=j+"px",this.arrowEl.style.removeProperty(P.start)}clamp(K,P,z){return K<P?P:K>z?z:K}arrowIsVertical(){return"up"===this.arrowDirection||"down"===this.arrowDirection}}return h.\u0275fac=function(K){return new(K||h)(f.Y36(f.SBq),f.Y36(m.mF))},h.\u0275cmp=f.Xpm({type:h,selectors:[["overlay-arrow"]],hostVars:2,hostBindings:function(K,P){2&K&&f.Tol(P.arrowDirection)},inputs:{arrowDirection:"arrowDirection",originElement:"originElement",overlayElement:"overlayElement",arrowOffset:"arrowOffset"},decls:1,vars:0,template:function(K,P){1&K&&f._UZ(0,"div")},styles:["[_nghost-%COMP%]{position:absolute;width:20px;height:20px;box-sizing:border-box;transform-origin:unset;overflow:hidden;display:none;border:1px solid transparent;border-color:#cbcbcb transparent transparent #cbcbcb;box-shadow:-3px -3px 3px #00000024}.up[_nghost-%COMP%]{top:-9px;transform:translate(-10px) rotate(45deg);display:block}.down[_nghost-%COMP%]{bottom:-9px;transform:translate(-10px) rotate(225deg);display:block}.left[_nghost-%COMP%]{left:-9px;transform:translateY(-10px) rotate(-45deg);display:block}.right[_nghost-%COMP%]{right:-9px;transform:translateY(-10px) rotate(135deg);display:block}div[_ngcontent-%COMP%]{position:absolute;width:200%;height:200%;bottom:50%;left:-50%;background-color:#fff;transform-origin:center bottom;transform:rotate(-45deg)}"],changeDetection:0}),h})(),A=(()=>{class h{}return h.\u0275fac=function(K){return new(K||h)},h.\u0275mod=f.oAB({type:h}),h.\u0275inj=f.cJS({imports:[[e.ez,l.rt,d.eL]]}),h})();f.B6R(o.B,[d.Pl,e.O5,S],[]);let x=(()=>{class h{}return h.\u0275fac=function(K){return new(K||h)},h.\u0275mod=f.oAB({type:h}),h.\u0275inj=f.cJS({imports:[[e.ez,i.A,c.n,_.Dt,a.S,p.ot,l.rt,r.v,A,u.H]]}),h})();var R=t(35852);let s=(()=>{class h{}return h.\u0275fac=function(K){return new(K||h)},h.\u0275mod=f.oAB({type:h}),h.\u0275inj=f.cJS({imports:[[e.ez,i.A,u.H,c.n,C.Cq,_.Dt,p.ot,E.AV,x,r.v,R.a]]}),h})()},73729:(ne,b,t)=>{t.d(b,{I:()=>f});var e=t(3184),i=t(95758),u=t(36362),c=t(19946),C=t(87317),_=t(60833),p=t(19975),E=t(74929);function a(m,v){if(1&m&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&m){const y=e.oxw(2);e.xp6(1),e.hij(" ",y.title," ")}}function l(m,v){if(1&m){const y=e.EpF();e.ynx(0),e.TgZ(1,"button",8),e.NdJ("click",function(){return e.CHM(y),e.oxw(2).cancel()}),e.ALo(2,"translate"),e.O4$(),e.TgZ(3,"svg",9),e._UZ(4,"path",10)(5,"path",11),e.qZA()(),e.BQk()}2&m&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,1,"CBL.COMMON.CLOSE")))}function r(m,v){if(1&m&&(e.TgZ(0,"mat-toolbar",4)(1,"div"),e.YNc(2,a,2,1,"span",5),e.TgZ(3,"div",6),e.Hsn(4,2),e.qZA(),e.YNc(5,l,6,3,"ng-container",2),e.qZA()()),2&m){const y=e.oxw();e.xp6(2),e.Q6J("ngIf",y.title),e.xp6(3),e.Q6J("ngIf",!y.dialogRef.disableClose)}}function o(m,v){1&m&&(e.ynx(0),e._UZ(1,"mat-progress-bar",12),e.BQk())}const d=[[["","dialog-content",""]],[["","dialog-actions",""]],[["","header-content",""]]],n=function(m){return{contract:m}},g=["[dialog-content]","[dialog-actions]","[header-content]"];let f=(()=>{class m{constructor(y){this.dialogRef=y,this.processing=!1,this.fullBleed=!1,this.disableClose=!1,this.showHeader=!0,this.initialDisableClose=this.dialogRef.disableClose,this.setDisableClose(this.disableClose)}ngOnChanges(y){y.disableClose&&this.setDisableClose(y.disableClose.currentValue)}cancel(){this.dialogRef.close(!1)}setDisableClose(y){this.dialogRef.disableClose=y||this.initialDisableClose}}return m.\u0275fac=function(y){return new(y||m)(e.Y36(i.so))},m.\u0275cmp=e.Xpm({type:m,selectors:[["dialog-layout"]],inputs:{processing:"processing",title:"title",fullBleed:"fullBleed",disableClose:"disableClose",showHeader:"showHeader"},features:[e.TTD],ngContentSelectors:g,decls:9,vars:5,consts:[[1,"component--dialog-layout"],["color","primary",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],["color","primary"],["mat-dialog-title","",4,"ngIf"],[1,"header-content"],["mat-dialog-title",""],["mat-icon-button","","type","button",3,"click"],["viewBox","0 0 24 24",1,"close-icon"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],["d","M0 0h24v24H0z","fill","none"],["mode","indeterminate"]],template:function(y,S){1&y&&(e.F$t(d),e.TgZ(0,"div",0),e.YNc(1,r,6,2,"mat-toolbar",1),e.YNc(2,o,2,0,"ng-container",2),e.TgZ(3,"mat-dialog-content")(4,"div",3),e.Hsn(5),e.qZA()(),e._UZ(6,"mat-divider"),e.TgZ(7,"mat-dialog-actions"),e.Hsn(8,1),e.qZA()()),2&y&&(e.xp6(1),e.Q6J("ngIf",S.showHeader),e.xp6(1),e.Q6J("ngIf",S.processing),e.xp6(2),e.Q6J("ngClass",e.VKq(3,n,!S.fullBleed)))},directives:[u.O5,c.Ye,i.uh,C.lW,_.pW,i.xY,u.mk,p.d,i.H8],pipes:[E.X],styles:[".component--dialog-layout{box-sizing:border-box;display:flex!important;flex-direction:column;overflow:hidden;white-space:pre-line}.component--dialog-layout .mat-toolbar{flex:0 0 auto;box-sizing:border-box}.component--dialog-layout .mat-toolbar>div{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:space-between;align-items:center;align-content:center;max-width:100%}.component--dialog-layout .mat-toolbar>div>*{max-width:100%;box-sizing:border-box}.component--dialog-layout .mat-dialog-title{overflow:hidden;margin:0;flex-shrink:0}.component--dialog-layout .header-content{width:100%;padding:0 8px}.component--dialog-layout mat-dialog-content{flex:1 0 auto;box-sizing:border-box;display:flex!important;flex-direction:column}.component--dialog-layout mat-dialog-actions{display:flex!important;flex-direction:row;justify-content:flex-end;align-items:center;align-content:center;max-width:100%;flex:0 0 auto;box-sizing:border-box;margin:0!important;padding:0!important}.component--dialog-layout mat-dialog-actions>*{max-width:100%;box-sizing:border-box}.component--dialog-layout mat-dialog-actions:empty{display:none!important}.component--dialog-layout mat-dialog-actions button,.component--dialog-layout mat-dialog-actions a{margin:8px}.component--dialog-layout .close-icon{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px;fill:#fff}.component--dialog-layout .contract{padding:32px}\n"],encapsulation:2}),m})()},89250:(ne,b,t)=>{t.d(b,{S:()=>p});var e=t(36362),i=t(90898),u=t(35503),c=t(32519),C=t(24476),_=t(3184);let p=(()=>{class E{}return E.\u0275fac=function(l){return new(l||E)},E.\u0275mod=_.oAB({type:E}),E.\u0275inj=_.cJS({imports:[[e.ez,u.Dt,i.q,c.n,C.eL]]}),E})()},97444:(ne,b,t)=>{t.d(b,{c:()=>r});var e=t(36362),i=t(90587),u=t(35503),c=t(90898),C=t(89250),_=t(33706),p=t(32519),E=t(32313),a=t(20902),l=t(3184);let r=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[[e.ez,i.u5,u.Dt,c.q,C.S,_.T,p.n,E.H,a.n]]}),o})()},88686:(ne,b,t)=>{t.d(b,{H:()=>Zr});var e=t(36362),i=t(45857),u=t(90898),c=t(35503),C=t(93293),_=t(32519),p=t(31156),E=t(68881),a=t(40577),l=t(25975),r=t(40337),o=t(57556),d=t(18827),n=t(74465),g=t(76980),f=t(67858),m=t(4151),v=t(24634),y=t(75215),S=t(18052),A=t(86942),x=t(54350),R=t(23580),s=t(3184);function h(D,Ie){if(1&D&&(s.ynx(0),s._UZ(1,"profile-section",7),s.BQk()),2&D){const I=Ie.$implicit,N=s.oxw(2);s.xp6(1),s.Q6J("entity",N.entity)("entityDef",N.entityDef)("section",I)("showHeader",!1)("compactMode",!0)}}function H(D,Ie){if(1&D&&(s.ynx(0),s._UZ(1,"mat-divider",8),s.TgZ(2,"div",9),s._UZ(3,"save-to-list-button",10),s.qZA(),s.BQk()),2&D){const I=s.oxw(2);s.xp6(3),s.Q6J("entityId",I.entityId)("entityDefId",I.entityDefId)}}function K(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"div"),s.YNc(1,h,2,5,"ng-container",4),s.YNc(2,H,4,2,"ng-container",2),s.TgZ(3,"button",5),s.NdJ("click",function(){return s.CHM(I),s.oxw().close()}),s.ALo(4,"translate"),s._UZ(5,"icon",6),s.qZA()()}if(2&D){const I=s.oxw();s.xp6(1),s.Q6J("ngForOf",I.sectionUiDatas),s.xp6(1),s.Q6J("ngIf",I.showFollowButton),s.xp6(1),s.uIk("aria-label",s.lcZ(4,3,"CBL.COMMON.CLOSE"))}}function P(D,Ie){1&D&&(s.TgZ(0,"div",11),s.SDv(1,12),s.qZA())}const z=function(D){return{loading:D}};let ee=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe,gt,vt,It){this.close=I,this.cardUtil=N,this.entityCardService=ge,this.entityService=Pe,this.metadataService=Ye,this.elementRef=Qe,this.changeDetectorRef=gt,this.payload=vt,this.updatePosition=It,this.errored=!1,this.loading=!0,this.showFollowButton=!0}ngOnInit(){this.setDataFromPayload(this.payload),this.entityDef=this.metadataService.getEntityDef(this.entityDefId),this.loadEntity(this.entityDefId,this.entityId)}setDataFromPayload(I){const N=I.identifier;N&&(this.entityId=N.uuid,this.entityDefId=N.entity_def_id),I.hideFollowButton&&(this.showFollowButton=!1)}loadEntity(I,N){if(!this.entityDef||!N)return this.errored=!0,void(this.loading=!1);this.loading=!0,this.entityService.getPreviewEntity(this.entityDef.collection_id,N).then(this.handleEntityResult.bind(this,this.entityDef),this.handleEntityError.bind(this)).then(()=>{this.loading=!1,setTimeout(()=>this.updatePosition())})}handleEntityResult(I,N){this.entity=N,this.layoutId=this.entity.properties.layout_id,this.facetIds=this.entity.properties.facet_ids;const ge=this.entityService.getSections(I.id,this.layoutId,this.facetIds,"preview");if(!ge||!ge.length)return void(this.sectionUiDatas=[]);const Pe=ge.map(Ye=>this.entityCardService.getSectionViewCards$(this.entity,I,Ye).pipe((0,A.U)(Qe=>this.cardUtil.getSectionUiData(Ye,Qe))));Pe.length?(0,x.D)(Pe).subscribe(Ye=>{this.sectionUiDatas=Ye.filter(R.K).filter(({cardUiDatas:Qe})=>null==Qe?void 0:Qe.length),this.changeDetectorRef.markForCheck()}):this.sectionUiDatas=[]}handleEntityError(){this.errored=!0}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(S.U_),s.Y36(v.c6),s.Y36(v.AH),s.Y36(v.c4),s.Y36(y.Do),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(m.Z),s.Y36(m.$l))},D.\u0275cmp=s.Xpm({type:D,selectors:[["entity-overlay"]],decls:4,vars:6,consts:function(){let Ie;return Ie=$localize`:␟59e497f15c2ec230c1812293b86bd25417bf7617␟4013512400402633113: There was an error loading the entity. Please try again later. `,[[3,"ngClass"],[3,"showLoading"],[4,"ngIf"],["class","overlay-state-message",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-icon-button","",1,"close-button",3,"click"],["key","icon_close"],[3,"entity","entityDef","section","showHeader","compactMode"],[1,"cb-width-100"],[1,"cb-padding-medium"],[3,"entityId","entityDefId"],[1,"overlay-state-message"],Ie]},template:function(I,N){1&I&&(s.TgZ(0,"div",0),s._UZ(1,"no-content",1),s.YNc(2,K,6,5,"div",2),s.YNc(3,P,2,0,"div",3),s.qZA()),2&I&&(s.Q6J("ngClass",s.VKq(4,z,N.loading)),s.xp6(1),s.Q6J("showLoading",N.loading),s.xp6(1),s.Q6J("ngIf",!N.loading&&N.sectionUiDatas),s.xp6(1),s.Q6J("ngIf",N.errored))},styles:["[_nghost-%COMP%]{display:block;width:450px;background:white}.loading[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]     section-layout .mat-card{box-shadow:none}mat-divider[_ngcontent-%COMP%]{width:100%}.overlay-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55px;height:55px}.overlay-identifier-header[_ngcontent-%COMP%]{font-size:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:16px 8px}.follow-container[_ngcontent-%COMP%]{padding:8px}.overlay-state-message[_ngcontent-%COMP%]{flex:1;display:flex!important;flex-direction:row;justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start;overflow:auto;padding:20px}.close-button[_ngcontent-%COMP%]{position:absolute;right:4px;top:4px}"]}),D})();var Z=t(90164),G=t(47367),J=t(74929);function le(D,Ie){if(1&D&&(s.TgZ(0,"div",5),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.AsE(" ",s.lcZ(2,2,"CBL.ENTITY.ATTRIBUTION.LAST_UPDATED")," ",I.lastUpdated,"\n")}}function V(D,Ie){1&D&&s._UZ(0,"div",6)}function j(D,Ie){if(1&D&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&D){const I=s.oxw(2);s.xp6(1),s.hij(" ",I.label," ")}}function M(D,Ie){if(1&D&&(s.TgZ(0,"a",7),s.YNc(1,j,2,1,"span",8),s.qZA()),2&D){const I=s.oxw();s.Q6J("href",I.url,s.LSH),s.xp6(1),s.Q6J("ngIf",!!I.label)}}function ie(D,Ie){if(1&D&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&D){const I=s.oxw(2);s.xp6(1),s.hij(" ",I.label," ")}}function te(D,Ie){if(1&D&&(s.TgZ(0,"a",9),s.YNc(1,ie,2,1,"span",8),s._UZ(2,"img",10),s.qZA()),2&D){const I=s.oxw();s.Q6J("href",I.url,s.LSH),s.xp6(1),s.Q6J("ngIf",!!I.label),s.xp6(1),s.Q6J("src",I.imageSrc,s.LSH)}}function re(D,Ie){if(1&D&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&D){const I=s.oxw(2);s.xp6(1),s.hij(" ",I.label," ")}}function q(D,Ie){if(1&D&&s._UZ(0,"img",10),2&D){const I=s.oxw(2);s.Q6J("src",I.imageSrc,s.LSH)}}function U(D,Ie){if(1&D&&(s.TgZ(0,"span",11),s.YNc(1,re,2,1,"span",8),s.YNc(2,q,1,1,"img",12),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.Q6J("ngIf",!!I.label),s.xp6(1),s.Q6J("ngIf",I.imageSrc)}}let k=(()=>{class D{constructor(){this.breakpoints=["small","desktop"]}ngOnChanges(){const{imageSrc:I,url:N,lastUpdated:ge,labels:Pe}=this.attributionCardUiData;this.imageSrc=I,this.url=N,this.label=null==Pe?void 0:Pe.name,this.lastUpdated=ge}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=s.Xpm({type:D,selectors:[["attribution-card"]],inputs:{attributionCardUiData:"attributionCardUiData"},features:[s.TTD],decls:5,vars:5,consts:[["class","last-updated",4,"ngIf"],["class","attribution-space",4,"ifBreakpoint"],["class","attribution-label-no-image","cb-link","primary","target","_blank",3,"href",4,"ngIf"],["class","attribution-label-image","target","_blank",3,"href",4,"ngIf"],["class","attribution-no-url",4,"ngIf"],[1,"last-updated"],[1,"attribution-space"],["cb-link","primary","target","_blank",1,"attribution-label-no-image",3,"href"],[4,"ngIf"],["target","_blank",1,"attribution-label-image",3,"href"],[1,"attribution-logo",3,"src"],[1,"attribution-no-url"],["class","attribution-logo",3,"src",4,"ngIf"]],template:function(I,N){1&I&&(s.YNc(0,le,3,4,"div",0),s.YNc(1,V,1,0,"div",1),s.YNc(2,M,2,2,"a",2),s.YNc(3,te,3,3,"a",3),s.YNc(4,U,3,2,"span",4)),2&I&&(s.Q6J("ngIf",N.lastUpdated),s.xp6(1),s.Q6J("ifBreakpoint",N.breakpoints),s.xp6(1),s.Q6J("ngIf",N.url&&!N.imageSrc),s.xp6(1),s.Q6J("ngIf",N.url&&N.imageSrc),s.xp6(1),s.Q6J("ngIf",!N.url))},directives:[e.O5,Z.G,G.I],pipes:[J.X],styles:["[_nghost-%COMP%]{font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;display:flex;flex-direction:row;flex-wrap:wrap;border-top:1px solid rgba(0,0,0,.12);padding:20px}list-card + [_nghost-%COMP%]{border-top-color:transparent;margin-top:-20px}.attribution-space[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}.attribution-label-image[_ngcontent-%COMP%], .attribution-label-no-image[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;text-decoration:none}.attribution-label-image[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .attribution-label-no-image[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.attribution-label-image[_ngcontent-%COMP%]{color:#282828}.attribution-no-url[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.attribution-no-url[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.attribution-logo[_ngcontent-%COMP%]{padding-left:8px;height:17px}.last-updated[_ngcontent-%COMP%]{color:#0000008a}@media (max-width: 599px){.last-updated[_ngcontent-%COMP%]{text-align:center;min-height:20px;flex:1 1 100%}}@media (max-width: 599px){.attribution-label-image[_ngcontent-%COMP%], .attribution-label-no-image[_ngcontent-%COMP%], .attribution-no-url[_ngcontent-%COMP%]{flex:1 1 100%}}.entity-loading[_nghost-%COMP%]   .last-updated[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .last-updated[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .attribution-label[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .attribution-label[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .attribution-logo[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .attribution-logo[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),D})();var w=t(71263),Q=t(990),$=t(57984);function X(D,Ie){if(1&D&&(s.TgZ(0,"div"),s._UZ(1,"label-with-info",1)(2,"field-formatter",2),s.qZA()),2&D){const I=Ie.$implicit,N=s.oxw();s.xp6(1),s.Q6J("label",I.label)("description",I.description),s.xp6(1),s.Q6J("field",I.field)("fieldData",I.data)("collectionId",I.collectionId)("queryData",I.fieldQueryData)("contextType",N.contextType)}}let Ce=(()=>{class D{constructor(){this.contextType=w.Qy.profile}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=s.Xpm({type:D,selectors:[["big-values-card"]],inputs:{bigValuesCardUiData:"bigValuesCardUiData"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"label","description"],[3,"field","fieldData","collectionId","queryData","contextType"]],template:function(I,N){1&I&&s.YNc(0,X,3,7,"div",0),2&I&&s.Q6J("ngForOf",N.bigValuesCardUiData.items)},directives:[e.sg,Q.R,$.N],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 50%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-child(odd){padding-right:10px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-child(even){padding-left:10px}label-with-info[_ngcontent-%COMP%], field-formatter[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:flex-start;align-content:flex-start;overflow-wrap:break-word;max-width:100%}label-with-info[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;padding-bottom:4px}field-formatter[_ngcontent-%COMP%]{font-size:20px}.profile-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.profile-loading[_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%]{visibility:hidden}.profile-loading[_nghost-%COMP%]     .component--field-formatter, .profile-loading   [_nghost-%COMP%]     .component--field-formatter, .entity-loading[_nghost-%COMP%]     .component--field-formatter, .entity-loading   [_nghost-%COMP%]     .component--field-formatter{background-color:#e9e9e9!important;color:transparent!important}.profile-loading[_nghost-%COMP%]     identifier-image, .profile-loading   [_nghost-%COMP%]     identifier-image, .entity-loading[_nghost-%COMP%]     identifier-image, .entity-loading   [_nghost-%COMP%]     identifier-image{visibility:hidden}"],changeDetection:0}),D})();var ye=t(92218),ue=t(88623),Me=t(64139),me=t(83910),ve=t(85921),ze=t(47418),tt=t(843),ht=t(23708),xe=t(92938),Ne=t(93443),be=Ne._7.ModeEnum,se=(()=>{return(D=se||(se={})).TITLE_TEXT="#131313",D.AXIS_TEXT="#333",D.TICKS_TEXT="#757575",D.TOOLTIP_TEXT="#131313",D.TOOLTIP_BORDER="#146BFF",D.TOOLTIP_BACKGROUND="#FFFFFF",se;var D})();const Oe=["#B7D1E0","#b71c1c","#4A148C","#1A237E","#006064","#1B5E20","#827717","#FF6F00","#BF360C"],ot=[be.line,be.area,be.bar,be.stacked_bar,be.pie];var Ge=t(94882),pt=t(48819),We=t(47109);let Ze=(()=>{class D{constructor(I,N,ge,Pe){this.colorUtil=I,this.formatterUtil=N,this.labelService=ge,this.util=Pe}isMoneyField(I){return"money"===(null==I?void 0:I.type_id)}isFieldMoneySum(I,N){return"sum"===I&&this.isMoneyField(N)}getAxisTitleForField(I,N){var ge,Pe,Ye,Qe,gt;return I&&this.isMoneyField(I)?(null===(Pe=null===(ge=N.values)||void 0===ge?void 0:ge[0])||void 0===Pe?void 0:Pe.currency)?this.labelService.getInterpolatedLabel("CBL.ENTITY.CHART_CARD.AXIS_MONEY_TITLE",{fieldTitle:(0,xe.startCase)(null===(Ye=I.labels)||void 0===Ye?void 0:Ye.name),currency:N.values[0].currency.toUpperCase()||"USD"}):null===(Qe=I.labels)||void 0===Qe?void 0:Qe.name:(null===(gt=null==I?void 0:I.labels)||void 0===gt?void 0:gt.name)?I.labels.name:this.labelService.getInterpolatedLabel("CBL.ENTITY.CHART_CARD.AXIS_AGGREGATOR_TITLE",{aggregatorId:(0,xe.startCase)(N.aggregator_id)})}contractNumber(I){return this.util.isNumeric(I)?this.formatterUtil.scaleNumber(I):I}updateCanvasHeight(I,N){(null==I?void 0:I.parentElement)&&(I.parentElement.style.height=this.calculateChartHeightForWidth(I.parentElement.clientWidth,N))}buildChartTitle(I){return{display:!0,fontColor:se.TITLE_TEXT,fontStyle:"normal",fontSize:16,text:I,padding:20}}getAggregatorLabelForSeries(I){return"percentiles"===I.aggregator_id&&50===I.percentile?this.labelService.getLabel("CBL.SEARCH.STATISTICS.PERCENTILES.50"):this.labelService.getInterpolatedLabel("CBL.ENTITY.CHART_CARD.AXIS_AGGREGATOR_TITLE",{aggregatorId:(0,xe.startCase)(I.aggregator_id)})}generateColors(I){const N=Oe.map(this.colorUtil.convertHexToRGB);if(1===I)return[N[0]];N.shift();const ge=[];for(let Pe=0;Pe<I;Pe++){let Ye=N[Pe%N.length];Pe>=N.length&&(Ye=this.colorUtil.createLighterShade(ge[ge.length-N.length])),ge.push(Ye)}return ge}generateLegendLabels(I){const N=I.data.datasets;if(!Array.isArray(N))return[];const ge=Pe=>Pe.length>7?Pe.slice(0,20)+"...":Pe;return N.map((Pe,Ye)=>{const Qe=!I.isDatasetVisible(Ye),gt=Array.isArray(Pe.backgroundColor)?Pe.backgroundColor[0]:Pe.backgroundColor;return{text:ge(Pe.label||""),fillStyle:gt,hidden:Qe,lineCap:Pe.borderCapStyle,lineDash:Pe.borderDash,lineDashOffset:Pe.borderDashOffset,lineJoin:Pe.borderJoinStyle,lineWidth:Pe.borderWidth,strokeStyle:Pe.borderColor,pointStyle:Pe.pointStyle,datasetIndex:Ye}})}getBaseChartConfiguration(){return{data:{labels:[],datasets:[]},plugins:[],options:{hover:{mode:"x"},layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1,labels:{}},responsive:!0,responsiveAnimationDuration:300,maintainAspectRatio:!1,onResize:(I,N)=>{this.updateCanvasHeight(I.canvas,I.config)},scales:{xAxes:[{gridLines:{display:!1},maxBarThickness:120,ticks:{callback:I=>I.length>18?I.slice(0,16)+"...":I}}]},tooltips:{position:"average",mode:"index",intersect:!1,xPadding:8,yPadding:8,backgroundColor:se.TOOLTIP_BACKGROUND,titleFontColor:se.TOOLTIP_TEXT,bodyFontColor:se.TOOLTIP_TEXT,borderWidth:1,borderColor:se.TOOLTIP_BORDER,callbacks:{title:(I,N)=>{var ge,Pe;const Ye=null===(ge=I[0])||void 0===ge?void 0:ge.index;return null!=Ye&&(null===(Pe=N.labels)||void 0===Pe?void 0:Pe[Ye])||""}}}}}}calculateChartHeightForWidth(I,N){var ge,Pe,Ye,Qe;let gt;gt=I<475?250:I>560?300:2/7*I+800/7;const vt=null===(Pe=null===(ge=N.options)||void 0===ge?void 0:ge.legend)||void 0===Pe?void 0:Pe.display,It=null===(Qe=null===(Ye=N.data)||void 0===Ye?void 0:Ye.datasets)||void 0===Qe?void 0:Qe.length;return vt&&(gt+=30*Math.round(It/2)),`${gt}px`}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(We.u),s.LFG(w.hI),s.LFG(Ge.Q),s.LFG(pt.Z))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class De{}var we=t(27386);const{line:Ue,area:qe,bar:dt,stacked_bar:st}=ht._7.ModeEnum;let Tt=(()=>{class D extends De{constructor(I,N){super(),this.chartFieldNumberParserService=I,this.metadataService=N}reduce(I,N,ge){switch(N.chartType){case Ue:return this.reduceForTypeLine(I);case qe:return this.reduceForTypeArea(I);case dt:case st:return this.reduceForTypeBar(I,N,ge)}return I}reduceForTypeLine(I){return I.fill=!1,I}reduceForTypeArea(I){return I.fill="start",I}reduceForTypeBar(I,N,ge){let{extraBuckets:Pe}=N.meta;const Ye=!!ge.field_id&&this.metadataService.getField(N.collectionId,ge.field_id);if(Pe.other){let Qe=0;ge.other_value&&(Qe=Ye?this.chartFieldNumberParserService.parseNumber(Ye,ge.other_value):ge.other_value),I.data.push(Qe)}if(Pe.null){let Qe=0;ge.null_value&&(Qe=Ye?this.chartFieldNumberParserService.parseNumber(Ye,ge.null_value):ge.null_value),I.data.push(Qe)}return I}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(we.$),s.LFG(y.Do))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),St=(()=>{class D extends De{constructor(I,N,ge,Pe){super(),this.chartDatasetsChartTypesReducer=I,this.chartUtil=N,this.chartFieldNumberParserService=ge,this.metadataService=Pe}reduce(I,N,ge){return ge.map(Pe=>{let Ye=this.buildDataset(N,Pe);return this.chartDatasetsChartTypesReducer.reduce(Ye,N,Pe)})}buildDataset(I,N){const ge=this.metadataService.getField(I.collectionId,N.field_id||"");let Pe;return Pe=ge?N.values.map(Ye=>this.chartFieldNumberParserService.parseNumber(ge,Ye)):N.values,{label:this.chartUtil.getAxisTitleForField(ge,N),data:Pe,series:N}}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Tt),s.LFG(Ze),s.LFG(we.$),s.LFG(y.Do))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),bt=(()=>{class D extends De{reduce(I,N){var ge,Pe,Ye;let Qe=null!==(Pe=null===(ge=N.bucket.values)||void 0===ge?void 0:ge.length)&&void 0!==Pe?Pe:0;return N.meta.extraBuckets.null&&Qe++,N.meta.extraBuckets.other&&Qe++,(null===(Ye=null==I?void 0:I[0])||void 0===Ye?void 0:Ye.ticks)&&(I[0].ticks.autoSkip=Qe>15),I}}return D.\u0275fac=function(){let Ie;return function(N){return(Ie||(Ie=s.n5z(D)))(N||D)}}(),D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var kt=t(24956);const{left:Ut,right:nn}=ht.tO.AxisEnum;let Ke=(()=>{class D extends De{constructor(I,N,ge,Pe){super(),this.chartUtil=I,this.metadataService=N,this.logService=ge,this.util=Pe,this.logger=this.logService.getLogger("ChartAxesYReducer")}reduce(I,N,ge){let Pe=[];I.options.scales.yAxes=[];const Ye=this.mapDatasetsToAxes(I.data.datasets,N.collectionId,ge),Qe=this.buildAxesLabels(Ye);if(Qe.left){const gt=this.buildScale(Ut,Qe.left,this.getMaxValueForPairs(Ye.left));I.options.scales.yAxes.push(gt),Ye.left.forEach(vt=>{vt.dataset.yAxisID=gt.id,Pe.push(vt.dataset)})}if(Qe.right){const gt=this.buildScale(nn,Qe.right,this.getMaxValueForPairs(Ye.right));I.options.scales.yAxes.push(gt),Ye.right.forEach(vt=>{vt.dataset.yAxisID=gt.id,Pe.push(vt.dataset)})}return I.data.datasets=Pe,I}mapDatasetsToAxes(I,N,ge){let Pe,Ye;return I.reduce((Qe,gt,vt)=>{const It=ge[vt],Ht=!!It.field_id&&this.metadataService.getField(N,It.field_id);let $t=!1,Kt=It.aggregator_id;return Ht&&this.chartUtil.isFieldMoneySum(It.aggregator_id,Ht)?Kt+="-money-sum":Kt+="-int",It.axis?It.axis!==Ut||Pe&&Pe!==Kt?It.axis!==nn||Ye&&Ye!==Kt?$t=!0:(Ye=Kt,Qe.right.push({dataset:gt,series:It})):(Pe=Kt,Qe.left.push({dataset:gt,series:It})):It.axis||(Pe&&Pe!==Kt?Ye&&Ye!==Kt?$t=!0:(Ye=Kt,Qe.right.push({dataset:gt,series:It})):(Pe=Kt,Qe.left.push({dataset:gt,series:It}))),$t&&this.logger.debug(`Discarded dataset. fieldId: ${It.field_id}. aggregatorId: ${It.aggregator_id}`),Qe},{left:[],right:[]})}buildAxesLabels(I){let N=this.getOptimalLabelForPairs(I.left),ge=this.getOptimalLabelForPairs(I.right);if(ge&&N===ge){let Pe=this.chartUtil.getAggregatorLabelForSeries(I.left[0].series);N!==Pe&&(N=`${N} (${Pe})`);let Ye=this.chartUtil.getAggregatorLabelForSeries(I.right[0].series);ge!==Ye&&(ge=`${ge} (${Ye})`)}return{left:N,right:ge}}getOptimalLabelForPairs(I){let N=!1;return I.reduce((ge,Pe)=>N?ge:ge?(ge!==Pe.dataset.label&&(N=!0,ge=this.chartUtil.getAggregatorLabelForSeries(Pe.series)),ge):ge=Pe.dataset.label,void 0)}buildScale(I,N,ge){return{id:`${I}-y-axis`,type:"linear",position:I,gridLines:{display:I===Ut},scaleLabel:{display:!0,fontColor:se.AXIS_TEXT,labelString:N},ticks:{fontColor:se.TICKS_TEXT,beginAtZero:!0,suggestedMax:ge+1,callback:Pe=>this.util.isNumeric(Pe)?(Pe=parseFloat(Pe),Math.floor(Pe)===Pe?this.chartUtil.contractNumber(Pe):void 0):Pe}}}getMaxValueForPairs(I){return I.reduce((N,ge)=>{const Pe=Math.max(...ge.dataset.data);return Math.max(Pe,N)},0)}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Ze),s.LFG(y.Do),s.LFG(kt.$V),s.LFG(pt.Z))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const{stacked_bar:_t,pie:de}=ht._7.ModeEnum;let Ae=(()=>{class D extends De{reduce(I,N){return N.chartType===_t&&(I.xAxes[0].stacked=!0,I.yAxes[0].stacked=!0),N.chartType===de?{}:I}}return D.\u0275fac=function(){let Ie;return function(N){return(Ie||(Ie=s.n5z(D)))(N||D)}}(),D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ee=(()=>{class D extends De{constructor(I,N,ge){super(),this.chartAxesChartTypesReducer=I,this.chartAxesXReducer=N,this.chartAxesYReducer=ge}reduce(I,N,ge){let{options:Pe}=I;return Pe.scales.xAxes=this.chartAxesXReducer.reduce(Pe.scales.xAxes,N),(I=this.chartAxesYReducer.reduce(I,N,ge)).options.scales=this.chartAxesChartTypesReducer.reduce(Pe.scales,N),I}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Ae),s.LFG(bt),s.LFG(Ke))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const{year:ae,quarter:Se,month:it,week:rt,day:Dt}=ht.Xj.DateIntervalEnum;let Vt=(()=>{class D extends De{constructor(I,N){super(),this.fieldFormatterService=I,this.metadataService=N}reduce(I,N){const ge=!!N.bucket.fieldId&&this.metadataService.getField(N.collectionId,N.bucket.fieldId);let Pe;if(N.bucket.typeId===ht.NJ.TypeIdEnum.timeseries){const Ye="en-us",Qe={Q1:$localize`Q1`,Q2:$localize`Q2`,Q3:$localize`Q3`,Q4:$localize`Q4`};Pe=N.bucket.values.map(gt=>{let vt=new Date(gt),It=vt.getUTCFullYear();switch(N.bucket.interval){case ae:return It;case Se:switch(vt.getUTCMonth()+1){case 1:return`${Qe.Q1} ${It}`;case 4:return`${Qe.Q2} ${It}`;case 7:return`${Qe.Q3} ${It}`;case 10:return`${Qe.Q4} ${It}`}break;case it:return vt.toLocaleString(Ye,{timeZone:"UTC",year:"numeric",month:"short"});case rt:case Dt:return vt.toLocaleString(Ye,{timeZone:"UTC",year:"numeric",month:"short",day:"numeric"});default:return gt}})}else Pe=N.bucket.values.map(ge?Ye=>this.fieldFormatterService.formatField(ge,Ye,w.Qy.chart):Ye=>String(Ye).toString());return N.meta.extraBuckets.other&&Pe.push($localize`Other`),N.meta.extraBuckets.null&&Pe.push($localize`Unknown`),Pe}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(w.eM),s.LFG(y.Do))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),on=(()=>{class D extends De{constructor(I,N,ge){super(),this.chartDatasetsReducer=I,this.chartDataLabelsReducer=N,this.chartAxesReducer=ge}reduce(I,N){let ge=N.series.slice(0);return ge.sort(Pe=>Pe.axis?-1:1),I.data.datasets=this.chartDatasetsReducer.reduce(I.data.datasets,N,ge),I.data.labels=this.chartDataLabelsReducer.reduce(I.data.labels,N),this.chartAxesReducer.reduce(I,N,ge)}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(St),s.LFG(Vt),s.LFG(Ee))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Bn=(()=>{class D extends De{constructor(I){super(),this.chartUtil=I}reduce(I,N){var ge;return this.chartUtil.buildChartTitle(null===(ge=N.labels)||void 0===ge?void 0:ge.name)}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Ze))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const{stacked_bar:yn,pie:xn}=ht._7.ModeEnum;let Pn=(()=>{class D extends De{constructor(I){super(),this.chartUtil=I}reduce(I,N){return I.labels||(I.labels={}),(N.chartType===yn||N.chartType===xn)&&(I.display=!0,I.position="bottom",I.labels.boxWidth=15),N.chartType===yn&&(I.labels.generateLabels=this.chartUtil.generateLegendLabels),I}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Ze))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var Sn=t(98789);const{pie:Nn}=ht._7.ModeEnum;let Fn=(()=>{class D extends De{constructor(I,N,ge){super(),this.analyticsService=I,this.chartUtil=N,this.labelService=ge,this.NA_LABEL=$localize`N/A`}reduce(I,N){const ge=N.meta.track,{chartType:Pe,series:Ye}=N,Qe=Ye.length<2;if(I.callbacks||(I.callbacks={}),I.callbacks.label=(vt,It)=>{const{datasetIndex:Ht,yLabel:$t,index:Kt}=vt,Cn=It.datasets,Rn=null!=Ht?Cn[Ht]:void 0;if(!Rn)return"";let ni=Rn.label||"";Cn.filter(ta=>ta.label===ni).length>1&&Rn.series&&(ni+=` (${this.chartUtil.getAggregatorLabelForSeries(Rn.series)})`),ni&&(ni+=": ");let Vo=$t;return Pe===Nn&&null!=Kt&&(Vo=Rn.data[Kt]),isNaN(Vo)?ni+this.NA_LABEL:ni+this.chartUtil.contractNumber(Vo)},null==ge?void 0:ge.id){const vt=I.callbacks.afterFooter;I.callbacks.afterFooter=(...It)=>{var Ht;return this.analyticsService.trackInHeap(ge.id,ge.properties),null!==(Ht=null==vt?void 0:vt(...It))&&void 0!==Ht?Ht:[]}}return Pe===Nn&&(I.intersect=!0),I.displayColors=!Qe,I}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Sn.y),s.LFG(Ze),s.LFG(Ge.Q))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const{bar:Qn,stacked_bar:Pt,pie:In}=ht._7.ModeEnum;let qt=(()=>{class D{reduce(I){switch(I.chartType){case Qn:case Pt:return"bar";case In:return"pie";default:return"line"}}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const{pie:jn}=ht._7.ModeEnum;let sn=(()=>{class D extends De{constructor(){super()}reduce(I,N){return N===jn?{}:I}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Nt=(()=>{class D extends De{constructor(I,N){super(),this.chartUtil=I,this.colorUtil=N}reduce(I,N){const ge=I.data.datasets||[],Pe=this.chartUtil.generateColors(ge.length);return ge.forEach((Ye,Qe)=>this.reduceDataset(Ye,I.type,Pe[Qe],N)),I}reduceDataset(I,N,ge,Pe){switch(I.type||N){case"line":return this.reduceForLineChart(I,ge,Pe);case"pie":return this.reduceForPieChart(I,ge,Pe);default:return this.reduceForDefaultType(I,ge,Pe)}}reduceForDefaultType(I,N,ge){return I.backgroundColor=this.colorUtil.getRGBAString(N),I.borderColor=this.colorUtil.getRGBAString(N),I.borderWidth=I.borderWidth||1,I}reduceForLineChart(I,N,ge){if(I.borderColor=this.colorUtil.getRGBAString(N),I.borderWidth=I.borderWidth||1,I.pointBackgroundColor=this.colorUtil.getRGBAString(N),I.lineTension=.02,this.hideContinuousDatapoints(I),I.fill&&ge){const Qe=ge.getContext("2d").createLinearGradient(0,0,0,ge.parentElement.clientHeight);Qe.addColorStop(0,this.colorUtil.getRGBAString(N,1)),Qe.addColorStop(.5,this.colorUtil.getRGBAString(N,.6)),Qe.addColorStop(1,this.colorUtil.getRGBAString(N,.2)),I.backgroundColor=Qe}else I.backgroundColor=this.colorUtil.getRGBAString(N);return I}reduceForPieChart(I,N,ge){let Pe=this.chartUtil.generateColors(I.data.length);return I.backgroundColor=[],I.borderColor=[],Pe.forEach(Ye=>{const Qe=this.colorUtil.getRGBAString(Ye,.6),gt=this.colorUtil.getRGBAString(Ye);I.backgroundColor.push(Qe),I.borderColor.push(gt)}),I}hideContinuousDatapoints(I){let N=null;return I.pointRadius=I.data.map(ge=>ge===N?0:(N=ge,3)),I}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Ze),s.LFG(We.u))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var kn=ht._7.ModeEnum;let Jt=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe,gt,vt){this.chartUtil=I,this.chartDataReducer=N,this.chartTitleReducer=ge,this.chartLegendReducer=Pe,this.chartTooltipsReducer=Ye,this.chartTypeReducer=Qe,this.chartHoverReducer=gt,this.chartStylesReducer=vt}buildChartConfigurationFromModel(I){if(!this.hasMinimumDatapoints(I))return;let N=this.chartUtil.getBaseChartConfiguration();return N=this.chartDataReducer.reduce(N,I),N.type=this.chartTypeReducer.reduce(I),N.options.title=this.chartTitleReducer.reduce(N.options.title,I),N.options.legend=this.chartLegendReducer.reduce(N.options.legend,I),N.options.tooltips=this.chartTooltipsReducer.reduce(N.options.tooltips,I),N.options.hover=this.chartHoverReducer.reduce(N.options.hover,I.chartType),this.isValidChartConfiguration(N)?N:void 0}updateStyles(I,N){this.chartUtil.updateCanvasHeight(I,N),this.chartStylesReducer.reduce(N,I)}isChartTypeSupported(I){return ot.includes(I)}hasMinimumDatapoints(I){var N;return((null===(N=I.bucket.values)||void 0===N?void 0:N.length)||0)>0&&I.series.length>0&&!!I.series.find(ge=>ge.values.length>1)}isValidChartConfiguration(I){return I.type!==kn.line||-1!==I.data.datasets.findIndex(ge=>{let Pe=[];return ge.data.findIndex(Ye=>(0!==Ye&&!Pe.includes(Ye)&&Pe.push(Ye),Pe.length>=2)),Pe.length>=2})}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Ze),s.LFG(on),s.LFG(Bn),s.LFG(Pn),s.LFG(Fn),s.LFG(qt),s.LFG(sn),s.LFG(Nt))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var wn=t(86752);let An=(()=>{class D{constructor(I){this.userPreferencesService=I,this.USER_PREFERENCE_KEY="charts"}isChartVisible(I){const{hidden:N}=this.getChartCardUserPreferences(I);return!N}setChartVisibility(I,N){const ge=this.getChartCardUserPreferences(I);this.setChartCardUserPreferences(I,Object.assign(Object.assign({},ge),{hidden:!N}))}getChartCardUserPreferences(I){return this.getAllChartCardsUserPreferences()[I]||{}}setChartCardUserPreferences(I,N){const ge=this.getAllChartCardsUserPreferences();ge[I]=Object.assign(Object.assign({},ge[I]),N),this.userPreferencesService.set(this.USER_PREFERENCE_KEY,JSON.stringify(ge))}getAllChartCardsUserPreferences(){try{const I=this.userPreferencesService.get(this.USER_PREFERENCE_KEY);return JSON.parse(I)||{}}catch(I){return{}}}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(wn._))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var On=t(85853),bn=t(49837),vn=t(32478),an=t(43652),jt=t(87317),Tn=t(84505),Mt=t(52160),rn=t(88759),Xt=t(79128),Kn=t(91127);let qn=(()=>{class D{constructor(I,N,ge){this.externalScriptService=I,this.ngZone=N,this.chartService=ge,this.chartJSLoadedSubject$=new Tn.X(!1),this.chartJSLoaded$=this.chartJSLoadedSubject$.asObservable(),this.loadChartJS$=(0,Mt.P)(()=>this.externalScriptService.injectChartJS()).pipe((0,rn.b)(Pe=>(D=>((D=>{D.defaults.global.defaultFontFamily='Roboto, "Helvetica Neue", sans-serif',D.defaults.global.defaultFontSize=12,D.defaults.line.spanGaps=!0})(D),D))(Pe)),(0,rn.b)(()=>this.chartJSLoadedSubject$.next(!0)),(0,Xt.d)(1))}render(I,N){const ge=new ye.xQ;let Pe;return this.loadChartJS$.pipe((0,ve.R)(ge),(0,rn.b)(Ye=>{this.chartService.updateStyles(N,I),this.ngZone.runOutsideAngular(()=>{Pe=new Ye(N,I)})})).subscribe({error:()=>{}}),{destroy(){ge.next(),null==Pe||Pe.destroy()}}}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Kn.V),s.LFG(s.R0b),s.LFG(Jt))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var Vn=t(59151);const Xn=["canvas"];let ii=(()=>{class D{constructor(I){this.chartRenderer=I,this.scriptsInitialized=new s.vpe,this.onDestroy$=new ye.xQ}ngOnInit(){this.chartRenderer.chartJSLoaded$.pipe((0,Vn.h)(I=>!!I),(0,me.q)(1),(0,ve.R)(this.onDestroy$)).subscribe(()=>this.scriptsInitialized.emit())}ngOnChanges(I){this.hasConfigChanged(I.config)&&this.renderChart()}ngAfterViewInit(){this.chart||this.renderChart()}ngOnDestroy(){var I;null===(I=this.chart)||void 0===I||I.destroy()}renderChart(){var I;if(null===(I=this.chart)||void 0===I||I.destroy(),this.canvas&&this.config){let{nativeElement:N}=this.canvas;this.chart=this.chartRenderer.render(this.config,N)}}hasConfigChanged(I){return!!I}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(qn))},D.\u0275cmp=s.Xpm({type:D,selectors:[["chart"]],viewQuery:function(I,N){if(1&I&&s.Gf(Xn,5),2&I){let ge;s.iGM(ge=s.CRH())&&(N.canvas=ge.first)}},inputs:{config:"config"},outputs:{scriptsInitialized:"scriptsInitialized"},features:[s.TTD],decls:3,vars:0,consts:[[1,"chart-container"],["width","350"],["canvas",""]],template:function(I,N){1&I&&(s.TgZ(0,"div",0),s._UZ(1,"canvas",1,2),s.qZA())},styles:["[_nghost-%COMP%]{display:block}.chart-container[_ngcontent-%COMP%]{position:relative}"]}),D})();function ei(D,Ie){if(1&D&&(s.TgZ(0,"div",4),s._UZ(1,"icon",5),s.TgZ(2,"span",6),s._uU(3),s.qZA(),s.TgZ(4,"upsell-modal-button",7),s._uU(5),s.ALo(6,"translate"),s.qZA()()),2&D){const I=s.oxw(2);s.xp6(3),s.Oqu(I.questionTitle),s.xp6(2),s.hij(" ",s.lcZ(6,2,"CBL.ENTITY.CHART_CARD.SHOW_BTN")," ")}}function un(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(I),s.oxw(3).toggleChartVisibility(!1)}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&D&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.CHART_CARD.HIDE_BTN")," "))}function ke(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(I),s.oxw(3).toggleChartVisibility(!0)}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&D&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.CHART_CARD.SHOW_BTN")," "))}const Xe=function(D){return{"chart-hidden":D}};function $e(D,Ie){if(1&D&&(s.TgZ(0,"div",8),s._UZ(1,"icon",5),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.YNc(4,un,3,3,"button",9),s.YNc(5,ke,3,3,"button",9),s.qZA()),2&D){const I=s.oxw(2);s.Q6J("ngClass",s.VKq(4,Xe,I.chartCollapsed)),s.xp6(3),s.Oqu(I.questionTitle),s.xp6(1),s.Q6J("ngIf",!I.chartCollapsed),s.xp6(1),s.Q6J("ngIf",I.chartCollapsed)}}function at(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"div",11)(1,"chart",12),s.NdJ("scriptsInitialized",function(){return s.CHM(I),s.oxw(2).chartScriptsInitialized()}),s.qZA()()}if(2&D){const I=s.oxw(2);s.xp6(1),s.Q6J("config",I.chartConfiguration)}}function Et(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,ei,7,4,"div",1),s.YNc(2,$e,6,6,"div",2),s.YNc(3,at,2,1,"div",3),s.BQk()),2&D){const I=s.oxw();s.xp6(1),s.Q6J("ngIf",!I.canUseCharts&&I.questionTitle),s.xp6(1),s.Q6J("ngIf",I.canUseCharts&&I.questionTitle),s.xp6(1),s.Q6J("ngIf",!I.chartCollapsed&&I.chartConfiguration)}}let yt=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe){this.changeDetectorRef=I,this.platformService=N,this.permissionService=ge,this.chartCardUserPreferencesService=Pe,this.chartService=Ye,this.progressService=Qe,this.skipCharts=!1,this.chartCollapsed=!1,this.canUseCharts=!1,this.isLoading=!1,this.onDestroy=new ye.xQ,this.onChanges=new ye.xQ}get questionTitle(){var I,N;return(null===(I=this.chartCardUiData.labels)||void 0===I?void 0:I.headline)||(null===(N=this.chartCardUiData.labels)||void 0===N?void 0:N.name)}get chartTitle(){var I;return null===(I=this.chartCardUiData.labels)||void 0===I?void 0:I.name}ngOnChanges(){this.onChanges.next(),this.chartConfiguration=void 0,this.chartModel=void 0;const I=this.platformService.isBrowser(),N=this.chartService.isChartTypeSupported(this.chartCardUiData.chartType);this.skipCharts=!I||!N,this.canUseCharts=this.permissionService.canUseCharts(),this.chartCollapsed=!0,!this.skipCharts&&this.canUseCharts&&(this.chartCollapsed=!this.chartCardUserPreferencesService.isChartVisible(this.getCardId()),this.loadDataModel())}ngOnDestroy(){this.onDestroy.next(),this.progressService.stopProgress(this.getCardId())}toggleChartVisibility(I){this.chartCardUserPreferencesService.setChartVisibility(this.getCardId(),I),this.chartCollapsed=!I,I&&!this.isLoading&&!this.chartModel&&this.loadDataModel()}chartScriptsInitialized(){this.progressService.stopProgress(this.getCardId())}loadDataModel(){this.isLoading=!0,this.chartCollapsed||this.progressService.startProgress(this.getCardId()),this.chartCardUiData.dataObservable.pipe((0,me.q)(1),(0,ve.R)((0,ue.T)(this.onChanges,this.onDestroy)),(0,A.U)(I=>I&&this.withTrackingConfiguration(I)),(0,ze.K)(()=>(0,Me.of)(void 0))).subscribe(I=>{this.isLoading=!1,this.chartModel=I,this.chartConfiguration=I&&this.chartService.buildChartConfigurationFromModel(I),this.chartConfiguration||this.progressService.stopProgress(this.getCardId()),this.changeDetectorRef.markForCheck()})}getCardId(){return this.chartCardUiData.id}withTrackingConfiguration(I){const N=this.getCardId(),ge={id:["profile",this.entityDef.collection_id,this.sectionId,N,"hover"].join(" > "),properties:{collectionId:this.entityDef.collection_id,sectionId:this.sectionId,id:N}};return Object.assign(Object.assign({},I),{meta:Object.assign(Object.assign({},I.meta),{track:ge})})}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(s.sBO),s.Y36(bn.m),s.Y36(tt.$),s.Y36(An),s.Y36(Jt),s.Y36(On.N))},D.\u0275cmp=s.Xpm({type:D,selectors:[["chart-card"]],hostVars:2,hostBindings:function(I,N){2&I&&s.ekj("empty",N.skipCharts)},inputs:{chartCardUiData:"chartCardUiData",entity:"entity",entityDef:"entityDef",sectionId:"sectionId"},features:[s.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["class","chart-title no-access-chart chart-hidden",4,"ngIf"],["class","chart-title",3,"ngClass",4,"ngIf"],["class","chart-container",4,"ngIf"],[1,"chart-title","no-access-chart","chart-hidden"],["key","icon_chart_bar","color","primary",1,"icon"],[1,"question-title"],["triggerLocation","chart-card-show","featureSet","profile_charts","buttonType","basic"],[1,"chart-title",3,"ngClass"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],[1,"chart-container"],[3,"config","scriptsInitialized"]],template:function(I,N){1&I&&s.YNc(0,Et,4,3,"ng-container",0),2&I&&s.Q6J("ngIf",!(N.isLoading||!N.chartConfiguration&&N.canUseCharts))},directives:[e.O5,vn.o,an.J,e.mk,jt.lW,ii],pipes:[J.X],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}chart-card + [_nghost-%COMP%]{margin-top:-10px}.empty[_ngcontent-%COMP%]{display:none}.chart-title[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%;border:1px solid transparent;border-radius:3px;padding:8px 16px 8px 8px}.chart-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.chart-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;margin-right:8px}.chart-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}.chart-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;text-transform:uppercase}.chart-title.chart-hidden[_ngcontent-%COMP%]{border-color:#0000001f}.no-access-chart[_ngcontent-%COMP%]{padding:4px 16px}.no-access-chart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;color:#282828}.entity-loading[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   chart[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   chart[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]  icon svg, .entity-loading   [_nghost-%COMP%]  icon svg{visibility:hidden}"],changeDetection:0}),D})();var Bt=t(92536),Yt=t(65085),En=t(53320),pn=t(9591),Zt=t(94736),ln=t(28965),Gt=t(50318);let dn=(()=>{class D{constructor(I){this.renderer=I.createRenderer(null,null)}getHeroImage(I,N){let ge=["network","networkCloud","barChart","wavyChart"];switch(ge[N.intInRange(0,ge.length)]){case"network":return this.getNetwork(I,D.NETWORK_CONFIG,N);case"networkCloud":return this.getNetworkCloud(I,D.NETWORK_CLOUD_CONFIG,N);case"barChart":return this.getBarChart(I,D.BAR_CHART_CONFIG,N);case"wavyChart":return this.getWavyChart(I,D.WAVY_CHART_CONFIG,N)}}getNetwork(I,N,ge){let Pe=N.gridSpacing,gt=this.getOffsetGridColumns(I.width+2*Pe,I.height+2*Pe,N.gridSpacing,N.gridJitter,ge),vt=this.getNetworkFromGridColumns(I,N,gt);return this.createSvg(I.width,I.height,I.bgColor,vt,-Pe,-Pe)}getNetworkFromGridColumns(I,N,ge){let Pe=I.color1,Ye=I.color2,Qe=[],gt=this.getOrderedNetworkPathPointsFromColumns(ge),vt="";gt.forEach(($t,Kt)=>{vt+=`${0===Kt?"M":"L"}${$t.x} ${$t.y}`});let It=this.createPath(vt,"transparent",Pe,N.pathWidth,!1);return Qe.push(It),ge.flat().forEach($t=>{let Kt=this.createCircle($t,N.dotRadius,Ye,Pe,N.pathWidth);Qe.push(Kt)}),Qe}getOrderedNetworkPathPointsFromColumns(I){let N=[];return I.forEach((ge,Pe)=>{for(let Qe=ge.length-1;Qe>=0;Qe--)N.push(ge[Qe]);if(Pe!==I.length-1){let Qe=I[Pe+1],vt=[];vt=ge[0].y<Qe[0].y?this.interlaceColumnsPoints(ge,Qe):this.interlaceColumnsPoints(Qe,ge),N=[...N,...vt]}}),N}interlaceColumnsPoints(I,N){let ge=[];return I.forEach((Pe,Ye)=>{ge.push(Pe),ge.push(N[Ye])}),ge}getOffsetGridColumns(I,N,ge,Pe,Ye){let Qe=ge,gt=Math.sin(this.degreesToRadians(60))*ge,vt=this.getGridColumns(I,N,Qe,gt,Pe,Ye),It=Qe/2;return vt.forEach((Ht,$t)=>{$t%2==1&&Ht.map(Cn=>Cn.y+=It)}),vt}getGridColumns(I,N,ge,Pe,Ye,Qe){let gt=[];for(let vt=0;vt<=I;vt+=Pe){let It=[];for(let Ht=0;Ht<=N;Ht+=ge)It.push({x:Math.round(vt+Qe.floatInRange(-Ye,Ye)),y:Math.round(Ht+Qe.floatInRange(-Ye,Ye))});gt.push(It)}return gt}getNetworkCloud(I,N,ge){let Pe=N.gridSpacing,vt=this.getOffsetGridColumns(I.width+Pe,I.height+Pe,N.gridSpacing,N.gridJitter,ge).flat(),It=this.getNetworkCloudsFromGridPoints(I,N,vt,ge);return this.createSvg(I.width,I.height,I.bgColor,It,-Pe,-Pe)}getNetworkCloudsFromGridPoints(I,N,ge,Pe){let Ye=I.color1,Qe=I.color2,gt=[];return ge.forEach(vt=>{let It=Pe.intInRange(N.circleMinPoints,N.circleMaxPoints),Ht=Pe.floatInRange(N.circleMinRadius,N.circleMaxRadius),$t=this.getPointsOnCircle(vt,It,Ht,Pe,!0,N.circlePointMaxJitter),Kt=this.getNetworkCloudPathDefFromPoints($t,Pe),Cn=this.createPath(Kt,"transparent",Ye,N.pathWidth,!1);gt.push(Cn),$t.forEach(Rn=>{let ni=this.createCircle(Rn,N.dotRadius,Qe,Ye,N.pathWidth);gt.push(ni)})}),gt}getPointsOnCircle(I,N,ge,Pe,Ye,Qe){let gt=360*Pe.rand(),vt=360/N,It=[];for(let Ht=0;Ht<N;Ht++){let Kt=this.degreesToRadians(vt*Ht+gt),Cn=Math.cos(Kt)*ge+I.x,Rn=Math.sin(Kt)*ge+I.y;Qe>0&&(Cn+=Pe.floatInRange(-Qe,Qe),Rn+=Pe.floatInRange(-Qe,Qe)),Ye&&(Cn=Math.round(Cn),Rn=Math.round(Rn)),It.push({x:Cn,y:Rn})}return It}getNetworkCloudPathDefFromPoints(I,N){let ge="";return I.forEach((Pe,Ye)=>{ge+=`${0===Ye?"M":"L"} ${Pe.x} ${Pe.y}`;let gt=I[Ye+1];gt||(gt=I[0]),ge+=`M${Pe.x} ${Pe.y} L${gt.x} ${gt.y}`;let vt=I[N.intInRange(0,I.length)];Pe!==vt&&(ge+=`M${Pe.x} ${Pe.y} L${vt.x} ${vt.y}`)}),ge}getBarChart(I,N,ge){let Pe=ge.intInRange(N.minNumBars,N.maxNumBars,!0),gt=N.minFrontBarHeightPercent*I.height,vt=N.maxFrontBarHeightPercent*I.height,It=this.getBarPathDef(I.width,I.height,N.spacing,Pe,N.minBackBarHeightPercent*I.height,N.maxBackBarHeightPercent*I.height,ge),Ht=this.createPath(It,I.color1,"transparent",0,!1),$t=this.getBarPathDef(I.width,I.height,N.spacing,Pe,gt,vt,ge),Kt=this.createPath($t,I.color2,"transparent",0,!1);return this.createSvg(I.width,I.height,I.bgColor,[Ht,Kt],0,0)}getBarPathDef(I,N,ge,Pe,Ye,Qe,gt){let vt=(I-(Pe-1)*ge)/Pe;vt=this.roundToThousandths(vt);let It="";for(let Ht=0;Ht<Pe;Ht++){let $t=gt.intInRange(Ye,Qe,!0);It+=0===Ht?`M0 ${N}`:` l${ge} 0`,It+=` l0 -${$t}`,It+=` l${vt} 0`,It+=` l0 ${$t}`}return It}getWavyChart(I,N,ge){let Pe=N.minWaveRadiusPercent*I.height,Ye=N.maxWaveRadiusPercent*I.height,Qe=ge.intInRange(N.thickMinStrokeWidth,N.thickMaxStrokeWidth,!0),gt=ge.boolean()?I.color1:"transparent",vt=I.width+2*Qe,It=N.yAxisPositionPercent*I.height,Ht=this.getWavyPathDef(vt,I.height,N.thickNumWaves,It,Pe,Ye,ge),$t=this.createPath(Ht,gt,I.color1,Qe,!0),Kt=ge.intInRange(N.thinMinStrokeWidth,N.thinMaxStrokeWidth,!0),Cn=this.getWavyPathDef(vt,I.height,N.thinNumWaves,It,Pe,Ye,ge),Rn=this.createPath(Cn,"transparent",I.color2,Kt,!0);return this.createSvg(I.width,I.height,I.bgColor,[$t,Rn],-Qe,0)}getWavyPathDef(I,N,ge,Pe,Ye,Qe,gt){Pe=Math.round(Pe);let vt=[],It=I/ge,Ht=It/2;for(let ui=0;ui<=I+It;ui+=It)vt.push(Math.round(ui));let $t=`M0,${N} L${vt[0]},${Pe} `,Kt=Math.round(vt[1]-Ht),Cn=gt.floatInRange(Ye,Qe);Cn=gt.boolean()?Cn:-1*Cn;let ni=`${Kt},${Math.round(Pe+Cn)}`;$t+=`C${ni} ${ni} ${vt[1]},${Pe} `;for(let ui=2;ui<vt.length;ui++){let Vo=Math.round(vt[ui]),ta=Math.round(Pe),na=gt.floatInRange(Ye,Qe);na=gt.boolean()?na:-1*na,$t+=`S${Math.round(vt[ui]-Ht)},${Math.round(Pe+na)} ${Vo},${ta} `}return $t+=`L${I},${N}`,$t}createSvg(I,N,ge,Pe,Ye,Qe){let gt=this.renderer.createElement("svg");gt.setAttribute("width",I),gt.setAttribute("height",N),gt.setAttribute("viewBox",`0 0 ${I} ${N}`),gt.setAttribute("xmlns","http://www.w3.org/2000/svg");let vt=this.createRect(0,0,I,N,"white"),It=this.createRect(0,0,I,N,ge),Ht=this.renderer.createElement("g","svg");Ht.setAttribute("class","graphic-contents");let $t=this.renderer.createElement("g","svg");return 0===Ye&&0===Qe||$t.setAttribute("style",`transform: translateX(${Ye}px) translateY(${Qe}px)`),Pe.forEach(Kt=>{$t.appendChild(Kt)}),Ht.appendChild(It),Ht.appendChild($t),gt.appendChild(vt),gt.appendChild(Ht),gt}createRect(I,N,ge,Pe,Ye){let Qe=this.renderer.createElement("rect","svg");return Qe.setAttribute("x",I),Qe.setAttribute("y",N),Qe.setAttribute("width",ge),Qe.setAttribute("height",Pe),Qe.setAttribute("fill",Ye),Qe}createCircle(I,N,ge,Pe,Ye){let Qe=this.renderer.createElement("circle","svg");return Qe.setAttribute("cx",I.x),Qe.setAttribute("cy",I.y),Qe.setAttribute("r",N),Qe.setAttribute("fill",ge),Qe.setAttribute("stroke",Pe),Qe.setAttribute("stroke-width",Ye),Qe}createPath(I,N,ge,Pe,Ye){let Qe=this.renderer.createElement("path","svg");return Qe.setAttribute("d",I),Qe.setAttribute("fill",N),Pe&&Pe>0&&(Qe.setAttribute("stroke",ge),Qe.setAttribute("stroke-width",Pe)),Ye&&(Qe.setAttribute("stroke-linecap","round"),Qe.setAttribute("stroke-linejoin","round")),Qe}degreesToRadians(I){return I*(Math.PI/180)}roundToThousandths(I){return Math.round(100*I)/100}}return D.NETWORK_CONFIG={pathWidth:5,dotRadius:10,gridSpacing:150,gridJitter:25},D.NETWORK_CLOUD_CONFIG={pathWidth:5,dotRadius:10,gridSpacing:350,gridJitter:10,circleMinRadius:75,circleMaxRadius:150,circleMinPoints:5,circleMaxPoints:7,circlePointMaxJitter:25},D.BAR_CHART_CONFIG={spacing:18,minNumBars:10,maxNumBars:20,minBackBarHeightPercent:.5,maxBackBarHeightPercent:.75,minFrontBarHeightPercent:.45,maxFrontBarHeightPercent:.25},D.WAVY_CHART_CONFIG={minWaveRadiusPercent:.25,maxWaveRadiusPercent:.5,yAxisPositionPercent:.6,thickNumWaves:3,thickMinStrokeWidth:35,thickMaxStrokeWidth:50,thinNumWaves:7,thinMinStrokeWidth:5,thinMaxStrokeWidth:10},D.\u0275fac=function(I){return new(I||D)(s.LFG(s.FYo))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var Je=t(40361);function ut(D,Ie){if(1&D&&(s.TgZ(0,"div",4)(1,"div",5),s._UZ(2,"div",6),s.qZA()()),2&D){const I=s.oxw();s.xp6(2),s.Q6J("imgSrc",I.profileImageSrc)}}let lt=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe){this.imageService=I,this.domSanitizer=N,this.heroImageGeneratorService=ge,this.stringUtil=Pe,this.colorPaletteService=Ye,this.renderer=Qe}ngOnInit(){this.title=this.heroCardUiData.title;let I=this.heroCardUiData.profileImageId,N=this.heroCardUiData.backgroundImageId;if(I&&(this.profileImageSrc=this.getProfileImageSrc(I)),N){let ge=this.getBackgroundImageSrc(N);this.backgroundImageUrlString=this.domSanitizer.bypassSecurityTrustStyle(`url(${ge})`)}else{let ge=this.getDefaultGraphicSvgString();this.backgroundImageUrlString=this.domSanitizer.bypassSecurityTrustStyle(`url('data:image/svg+xml;charset=utf-8,${encodeURIComponent(ge)}')`)}}getBackgroundImageSrc(I){return this.imageService.getPublicImageUrl(I,{width:"1280",height:"400",crop:"fill",transparent:!1})}getProfileImageSrc(I){return this.imageService.getPublicImageUrl(I,{width:"120",height:"120",transparent:!1})}getDefaultGraphicSvgString(){let ge=this.title?this.stringUtil.hashCode(this.title):1,Pe=new ln.k(ge),Ye=this.colorPaletteService.getColorsFromEditorialPalette(3,30,Pe)||[],Qe={width:1280,height:400,bgColor:`#${Ye[0]}`,color1:`#${Ye[1]}`,color2:`#${Ye[2]}`},gt=this.renderer.createElement("div"),vt=this.heroImageGeneratorService.getHeroImage(Qe,Pe);return gt.appendChild(vt),gt.innerHTML.toString()}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(En.A),s.Y36(Gt.H7),s.Y36(dn),s.Y36(Zt.m),s.Y36(pn.n),s.Y36(s.Qsj))},D.\u0275cmp=s.Xpm({type:D,selectors:[["hero-card"]],inputs:{heroCardUiData:"heroCardUiData"},decls:5,vars:4,consts:[[1,"title-container"],[1,"title-container-overlay"],[1,"title"],["class","profile-image-container",4,"ngIf"],[1,"profile-image-container"],[1,"profile-image-border"],["lazyLoadImage","",1,"profile-image",3,"imgSrc"]],template:function(I,N){1&I&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"span",2),s._uU(3),s.qZA()(),s.YNc(4,ut,3,1,"div",3)),2&I&&(s.Udp("background-image",N.backgroundImageUrlString),s.xp6(3),s.hij(" ",N.title," "),s.xp6(1),s.Q6J("ngIf",N.profileImageSrc))},directives:[e.O5,Je.z],styles:["[_nghost-%COMP%]{display:block}svg[_ngcontent-%COMP%]{width:100%;height:auto}.title-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;position:relative;background-position:center;background-size:cover;min-height:200px}.title-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.title-container-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(to bottom,rgba(0,0,0,.15) 0%,rgba(0,0,0,0) 5%,rgba(0,0,0,.4) 100%)}.title[_ngcontent-%COMP%]{font-weight:500;font-size:36px;z-index:1;color:#fff;text-shadow:0 0 3px #000;line-height:42px;text-align:center;padding:71px 40px}.profile-image-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-left:20px;padding-right:20px;margin-top:-60px}.profile-image-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}@media (min-width: 960px){.profile-image-container[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.profile-image-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}}.profile-image-border[_ngcontent-%COMP%]{z-index:1;background-color:#fff;border-radius:3px;border:3px solid white}.profile-image[_ngcontent-%COMP%]{height:120px;width:120px}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .title-container[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .title-container[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),D})();var W=t(24383),Le=t(44661),L=t(25722),he=t(59095),et=t(46179),ft=t(44822),fe=(()=>{return(D=fe||(fe={})).add="add",D.adding="adding",D.added="added",D.remove="remove",D.removing="removing",D.removed="removed",fe;var D})();let ct=(()=>{class D{constructor(I){this.changeDetectorRef=I,this.currentState=fe.add,this.raisedButton=!1,this.hideLabelOnMobile=!0,this.addColor="primary",this.removeColor="warn",this.add=new s.vpe,this.remove=new s.vpe}ngOnChanges(I){this.currentDisplay=this.getDisplay(this.currentState!==fe.remove?this.currentState:fe.added);let N=I.currentState.previousValue;N&&N===fe.removing&&this.currentState===fe.removed&&this.setStateAndDisplayAfterDelay(fe.add)}handleClick(){this.currentState===fe.add&&this.add?this.add.emit():this.currentState===fe.remove&&this.remove&&this.remove.emit()}handleMouseEnter(){this.currentState===fe.added&&this.setStateAndDisplay(fe.remove)}handleMouseLeave(){this.currentState===fe.remove&&this.setStateAndDisplay(fe.added)}setStateAndDisplayAfterDelay(I){setTimeout(()=>{this.setStateAndDisplay(I),this.changeDetectorRef.markForCheck()},D.AUTOMATIC_STATE_CHANGE_DELAY)}setStateAndDisplay(I){this.currentState=I,this.currentDisplay=this.getDisplay(this.currentState)}getDisplay(I){switch(I){case fe.add:return{state:fe.add,iconKey:this.addIconKey,label:this.addLabel,color:this.addColor,isLoading:!1};case fe.adding:return{state:fe.adding,label:this.addLabel,color:this.addColor,isLoading:!0};case fe.added:return{state:fe.added,iconKey:"icon_check",label:this.addedLabel,color:this.addColor,isLoading:!1};case fe.remove:return{state:fe.remove,iconKey:this.removeIconKey,label:this.removeLabel,color:this.removeColor,isLoading:!1};case fe.removing:return{state:fe.removing,label:this.removeLabel,color:this.removeColor,isLoading:!0};case fe.removed:return{state:fe.removed,iconKey:"icon_check",label:this.removedLabel,color:this.removeColor,isLoading:!1}}}}return D.AUTOMATIC_STATE_CHANGE_DELAY=1500,D.\u0275fac=function(I){return new(I||D)(s.Y36(s.sBO))},D.\u0275cmp=s.Xpm({type:D,selectors:[["add-remove-button"]],hostBindings:function(I,N){1&I&&s.NdJ("mouseenter",function(){return N.handleMouseEnter()})("mouseleave",function(){return N.handleMouseLeave()})},inputs:{currentState:"currentState",isDisabled:"isDisabled",raisedButton:"raisedButton",hideLabelOnMobile:"hideLabelOnMobile",addColor:"addColor",addIconKey:"addIconKey",addLabel:"addLabel",addedLabel:"addedLabel",removeColor:"removeColor",removeIconKey:"removeIconKey",removeLabel:"removeLabel",removedLabel:"removedLabel"},outputs:{add:"add",remove:"remove"},features:[s.TTD],decls:1,vars:7,consts:[[3,"color","label","iconKey","isDisabled","isLoading","raisedButton","hideLabelOnMobile","onClick"]],template:function(I,N){1&I&&(s.TgZ(0,"progress-button",0),s.NdJ("onClick",function(){return N.handleClick()}),s.qZA()),2&I&&s.Q6J("color",N.currentDisplay.color)("label",N.currentDisplay.label)("iconKey",N.currentDisplay.iconKey)("isDisabled",N.isDisabled)("isLoading",N.currentDisplay.isLoading)("raisedButton",N.raisedButton)("hideLabelOnMobile",N.hideLabelOnMobile)},directives:[ft.l],encapsulation:2,changeDetection:0}),D})();var Wt=t(77500),gn=t(46036),Yn=t(74160);function ia(D,Ie){if(1&D&&(s.TgZ(0,"a",5)(1,"label-with-icon",6),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&D){const I=s.oxw(4);s.Q6J("routerLink",I.route.path)("queryParams",I.route.queryParams),s.xp6(1),s.Q6J("iconAfter",!0),s.xp6(1),s.hij(" ",s.lcZ(3,4,"CBL.ENTITY.VIEW_ALL")," ")}}function Qo(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,ia,4,6,"a",4),s.BQk()),2&D){const I=s.oxw(3);s.xp6(1),s.Q6J("ngIf",I.route)}}function jo(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,Qo,2,1,"ng-container",3),s.BQk()),2&D){const I=s.oxw(2);s.xp6(1),s.Q6J("ngIf",I.listLikeCardUiData.section&&I.listLikeCardUiData.card)}}function qo(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(I),s.oxw(2).showMore()}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&D&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.SHOW_MORE")," "))}function Xo(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,jo,2,1,"ng-container",0),s.YNc(2,qo,3,3,"ng-template",null,2,s.W1O),s.BQk()),2&D){const I=s.MAs(3),N=s.oxw();s.xp6(1),s.Q6J("ngIf",!N.singleMode)("ngIfElse",I)}}function fi(D,Ie){1&D&&(s.TgZ(0,"upsell-modal-button",8),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.SHOW_MORE")," "))}let Bi=(()=>{class D{constructor(){this.onShowMore=new s.vpe,this.hasUpsell$=new Tn.X(!1),this.onDestroy=new ye.xQ,this.onCardDataChanges=new ye.xQ}ngOnChanges(I){this.route=this.getRouteFromBasePath(this.basePath,this.rootSection,this.listLikeCardUiData.section),I.listLikeCardUiData&&(this.onCardDataChanges.next(),this.listLikeCardUiData.canOverrideLimit$.pipe((0,ve.R)((0,ue.T)(this.onCardDataChanges,this.onDestroy))).subscribe(N=>{this.hasUpsell$.next(!N)}))}ngOnDestroy(){this.onDestroy.next()}showMore(){this.onShowMore&&this.onShowMore.emit()}getRouteFromBasePath(I,N,ge){return{path:[...I,N?N.id:ge.id],queryParams:N?{tab:ge.id}:void 0}}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=s.Xpm({type:D,selectors:[["list-card-more-results"]],inputs:{singleMode:"singleMode",rootSection:"rootSection",listLikeCardUiData:"listLikeCardUiData",basePath:"basePath"},outputs:{onShowMore:"onShowMore"},features:[s.TTD],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["upsellButton",""],["showMoreButton",""],[4,"ngIf"],["mat-button","","color","primary",3,"routerLink","queryParams",4,"ngIf"],["mat-button","","color","primary",3,"routerLink","queryParams"],["iconKey","icon_caret_right",3,"iconAfter"],["mat-button","","color","primary",3,"click"],["featureSet","show_more","triggerLocation","hub-list-card-show-more","buttonType","basic"]],template:function(I,N){if(1&I&&(s.YNc(0,Xo,4,2,"ng-container",0),s.ALo(1,"async"),s.YNc(2,fi,3,3,"ng-template",null,1,s.W1O)),2&I){const ge=s.MAs(3);s.Q6J("ngIf",!s.lcZ(1,2,N.hasUpsell$))("ngIfElse",ge)}},directives:[e.O5,gn.n,jt.zs,i.yS,Yn.d,jt.lW,an.J],pipes:[e.Ov,J.X],styles:["[_nghost-%COMP%]{display:block;display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;margin-top:20px;padding:0 20px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   upsell-modal-button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   upsell-modal-button[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%]  icon, .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]  icon, .entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%]  icon, .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%]  icon, .entity-loading[_nghost-%COMP%]   upsell-modal-button[_ngcontent-%COMP%]  icon, .entity-loading   [_nghost-%COMP%]   upsell-modal-button[_ngcontent-%COMP%]  icon{visibility:hidden}"],changeDetection:0}),D})();function vi(D,Ie){if(1&D&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.hij(" ",I.hubListCardUiData.labels.name,"\n")}}function Ii(D,Ie){if(1&D&&(s.TgZ(0,"div",12),s._UZ(1,"cb-image",13)(2,"cb-image",13)(3,"cb-image",13)(4,"cb-image",13),s.qZA()),2&D){const I=s.oxw().$implicit;s.xp6(1),s.Q6J("publicId",I.imageIdentifiers[0].image_id)("width",40)("height",40)("alt",""),s.xp6(1),s.Q6J("publicId",I.imageIdentifiers[1].image_id)("width",40)("height",40)("alt",""),s.xp6(1),s.Q6J("publicId",I.imageIdentifiers[2].image_id)("width",40)("height",40)("alt",""),s.xp6(1),s.Q6J("publicId",I.imageIdentifiers[3].image_id)("width",40)("height",40)("alt","")}}function so(D,Ie){1&D&&(s.ynx(0),s._uU(1,"\xa0\u2022\xa0"),s.BQk())}function ao(D,Ie){if(1&D&&(s.ynx(0),s._UZ(1,"field-formatter",14),s.ynx(2),s._uU(3),s.BQk(),s.YNc(4,so,2,0,"ng-container",0),s.BQk()),2&D){const I=Ie.$implicit,N=Ie.last,ge=s.oxw(2);s.xp6(1),s.Q6J("field",I.field)("fieldData",I.data)("collectionId",I.collectionId)("queryData",I.fieldQueryData)("contextType",ge.contextType),s.xp6(2),s.hij("\xa0",I.label,""),s.xp6(1),s.Q6J("ngIf",!N)}}function ro(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"add-remove-button",16),s.NdJ("add",function(){s.CHM(I);const ge=s.oxw(2).$implicit;return s.oxw().track(ge)}),s.ALo(1,"translate"),s.ALo(2,"translate"),s.ALo(3,"translate"),s.ALo(4,"translate"),s.ALo(5,"async"),s.qZA()}if(2&D){const I=s.oxw(2).$implicit;s.Q6J("addLabel",s.lcZ(1,5,"CBL.ENTITY.HUB_LIST_CARD.TRACK"))("addedLabel",s.lcZ(2,7,"CBL.ENTITY.HUB_LIST_CARD.TRACKED"))("removeLabel",s.lcZ(3,9,"CBL.ENTITY.HUB_LIST_CARD.STOP_TRACKING"))("removedLabel",s.lcZ(4,11,"CBL.ENTITY.HUB_LIST_CARD.UNTRACKED"))("currentState",s.lcZ(5,13,I.state))}}function lo(D,Ie){if(1&D&&(s.ynx(0),s.TgZ(1,"a",17),s._UZ(2,"icon",18),s.TgZ(3,"span",19),s._uU(4),s.ALo(5,"uppercase"),s.ALo(6,"translate"),s.qZA()(),s.BQk()),2&D){const I=Ie.ngIf;s.xp6(1),s.Q6J("routerLink",I.route.path)("queryParams",I.route.queryParams),s.xp6(3),s.hij(" ",s.lcZ(5,3,s.lcZ(6,5,"CBL.ENTITY.HUB_LIST_CARD.SEE_ACTIVITIES"))," ")}}function co(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,ro,6,15,"add-remove-button",15),s.ALo(2,"async"),s.YNc(3,lo,7,7,"ng-container",0),s.ALo(4,"async"),s.BQk()),2&D){const I=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",!s.lcZ(2,2,I.existingList$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(4,4,I.existingList$))}}const _o=function(D){return{entity:D}};function uo(D,Ie){if(1&D&&(s.TgZ(0,"upsell-modal-button",20),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D){const I=s.oxw(2);s.Q6J("context",s.VKq(4,_o,I.hubListCardUiData.parentIdentifier.value||"")),s.xp6(1),s.hij(" ",s.lcZ(2,2,"CBL.ENTITY.HUB_LIST_CARD.TRACK")," ")}}function ki(D,Ie){if(1&D&&(s.TgZ(0,"div",3),s.YNc(1,Ii,5,16,"div",4),s.TgZ(2,"div",5)(3,"a",6),s._uU(4),s.qZA(),s.TgZ(5,"div",7),s.YNc(6,ao,5,7,"ng-container",8),s.qZA()(),s.TgZ(7,"div",9),s.YNc(8,co,5,6,"ng-container",10),s.YNc(9,uo,3,6,"ng-template",null,11,s.W1O),s.qZA()()),2&D){const I=Ie.$implicit,N=s.MAs(10),ge=s.oxw();s.xp6(1),s.Q6J("ngIf",I.imageIdentifiers),s.xp6(2),s.Q6J("routerLink",I.identifier.route.path),s.xp6(1),s.hij(" ",I.identifier.value," "),s.xp6(2),s.Q6J("ngForOf",I.fieldItems),s.xp6(2),s.Q6J("ngIf",ge.canTrackHubs)("ngIfElse",N)}}function Hi(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"list-card-more-results",21),s.NdJ("onShowMore",function(){return s.CHM(I),s.oxw().showMoreRows()}),s.qZA()}if(2&D){const I=s.oxw();s.Q6J("rootSection",I.rootSection)("listLikeCardUiData",I.hubListCardUiData)("singleMode",I.singleMode)("basePath",I.basePath)}}let zi=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe){this.changeDetectorRef=I,this.entityService=N,this.entityCardService=ge,this.progressService=Pe,this.toastService=Ye,this.permissionService=Qe,this.statefulRowItems=[],this.fetchedAllResults=!1,this.contextType=w.Qy.profile,this.onDestroy=new ye.xQ}ngOnInit(){this.permissionService.getPermissions().pipe((0,ve.R)(this.onDestroy)).subscribe(I=>{this.canTrackHubs=I.canTrackHubs(),this.changeDetectorRef.markForCheck()})}ngOnChanges(I){I.hubListCardUiData&&(this.changeRowItems(this.hubListCardUiData.rowItems,"replace"),this.fetchedAllResults=this.hubListCardUiData.rowItems.length<this.limitOverride)}ngOnDestroy(){this.onDestroy.next()}showMoreRows(){this.loadOverrideData({card_id:this.hubListCardUiData.card.id,after_id:this.getNextPageUuid()})}track(I){!I.createList$||(I.state=(0,Me.of)(fe.adding),I.createList$.pipe((0,Le.x)(()=>{this.changeDetectorRef.markForCheck()})).subscribe(N=>{I.state=(0,Me.of)(fe.added),I.refreshExisting(),this.toastService.showSimpleToast("CBL.ENTITY.HUB_LIST_CARD.TRACKED_TOAST",{listName:N.name})},N=>{I.state=(0,Me.of)(fe.add),this.toastService.showSimpleToast("CBL.COMMON.OOPS")}))}changeRowItems(I,N){const ge=I.map(Pe=>{var Ye;const Qe=(null!==(Ye=Pe.existingList$)&&void 0!==Ye?Ye:(0,Me.of)(void 0)).pipe((0,A.U)(gt=>gt?fe.added:fe.add),(0,L.O)(fe.add));return Object.assign(Object.assign({},Pe),{state:Qe})});this.statefulRowItems="replace"===N?ge:[...this.statefulRowItems,...ge]}loadOverrideData(I){this.progressService.startProgress(D.PROGRESS_KEY),I=I||{card_id:this.hubListCardUiData.card.id},this.singleMode&&(I.limit=v.c4.SHOW_MORE_LIMIT),(0,W.D)(this.entityService.getSingleCardEntity(this.entityDef.collection_id,this.entity.properties.identifier.uuid,I)).pipe((0,he.w)(N=>this.entityCardService.getViewCard$(N,this.entityDef,this.hubListCardUiData.section,this.hubListCardUiData.card)),(0,Le.x)(()=>{this.progressService.stopProgress(D.PROGRESS_KEY),this.changeDetectorRef.markForCheck()})).subscribe({next:N=>{if(N){const ge=N.rowItems||[];this.fetchedAllResults=ge.length!==I.limit,this.changeRowItems(ge,"append")}},error:N=>{this.toastService.showSimpleToast("CBL.ENTITY.LOOKUP_CARD.FETCH_ERROR")}})}getNextPageUuid(){var I;let N=(0,xe.last)(this.statefulRowItems);return null===(I=null==N?void 0:N.identifier)||void 0===I?void 0:I.uuid}}return D.PROGRESS_KEY="HUB-LIST-CARD",D.\u0275fac=function(I){return new(I||D)(s.Y36(s.sBO),s.Y36(v.c4),s.Y36(v.AH),s.Y36(On.N),s.Y36(et.k),s.Y36(tt.$))},D.\u0275cmp=s.Xpm({type:D,selectors:[["hub-list-card"]],inputs:{entityDef:"entityDef",entity:"entity",hubListCardUiData:"hubListCardUiData",singleMode:"singleMode",limitOverride:"limitOverride",rootSection:"rootSection",firstChild:"firstChild",basePath:"basePath"},features:[s.TTD],decls:3,vars:3,consts:[[4,"ngIf"],["class","layout-row list-item",4,"ngFor","ngForOf"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore",4,"ngIf"],[1,"layout-row","list-item"],["class","image-square flex-none layout-row layout-wrap",4,"ngIf"],[1,"flex","layout-column","layout-align-center-start"],[1,"link-accent",3,"routerLink"],[1,"subtext","hide","show-gt-sm","cb-margin-medium-top"],[4,"ngFor","ngForOf"],[1,"flex-none","layout-column","layout-align-center-end"],[4,"ngIf","ngIfElse"],["trackUpsell",""],[1,"image-square","flex-none","layout-row","layout-wrap"],[3,"publicId","width","height","alt"],["linkColor","accent",3,"field","fieldData","collectionId","queryData","contextType"],["addColor","primary","addIconKey","icon_track","removeColor","warn","removeIconKey","icon_close_knockout_round",3,"addLabel","addedLabel","removeLabel","removedLabel","currentState","add",4,"ngIf"],["addColor","primary","addIconKey","icon_track","removeColor","warn","removeIconKey","icon_close_knockout_round",3,"addLabel","addedLabel","removeLabel","removedLabel","currentState","add"],["mat-button","",1,"mat-primary",3,"routerLink","queryParams"],["key","icon_eye_open","color","inherit"],[1,"hide","show-gt-sm","cb-margin-small-left"],["triggerLocation","hub-list-card-track","featureSet","hub_list_card","buttonType","basic",3,"context"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore"]],template:function(I,N){1&I&&(s.YNc(0,vi,2,1,"h3",0),s.YNc(1,ki,11,6,"div",1),s.YNc(2,Hi,1,4,"list-card-more-results",2)),2&I&&(s.Q6J("ngIf",N.hubListCardUiData.labels&&N.hubListCardUiData.labels.name),s.xp6(1),s.Q6J("ngForOf",N.statefulRowItems),s.xp6(1),s.Q6J("ngIf",N.hubListCardUiData.moreResultsAvailable&&!N.fetchedAllResults))},directives:[e.O5,e.sg,Wt.q,gn.n,i.yS,$.N,ct,jt.zs,vn.o,an.J,Bi],pipes:[J.X,e.Ov,e.gd],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .subtext[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .subtext[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .cb-image-with-placeholder[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .cb-image-with-placeholder[_ngcontent-%COMP%]{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]   .cb-image-with-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .cb-image-with-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{visibility:hidden}.image-square[_ngcontent-%COMP%]{width:80px;height:80px;box-sizing:content-box;overflow:hidden;border-radius:4px;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.image-square[_ngcontent-%COMP%]   cb-image[_ngcontent-%COMP%], .image-square[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;display:block}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.list-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){margin-right:20px}.list-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.entity-loading[_nghost-%COMP%]     add-remove-button button, .entity-loading   [_nghost-%COMP%]     add-remove-button button, .entity-loading[_nghost-%COMP%]     button, .entity-loading   [_nghost-%COMP%]     button, .entity-loading[_nghost-%COMP%]     list-card-more-results a, .entity-loading   [_nghost-%COMP%]     list-card-more-results a, .entity-loading[_nghost-%COMP%]     list-card-more-results button, .entity-loading   [_nghost-%COMP%]     list-card-more-results button, .entity-loading[_nghost-%COMP%]     field-formatter a, .entity-loading   [_nghost-%COMP%]     field-formatter a{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     .image-square, .entity-loading   [_nghost-%COMP%]     .image-square{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     .image-square cb-image, .entity-loading   [_nghost-%COMP%]     .image-square cb-image{visibility:hidden}"],changeDetection:0}),D})();function po(D,Ie){if(1&D&&s._UZ(0,"iframe",1),2&D){const I=s.oxw();s.Q6J("src",I.iframeCardUiData.url,s.uOi)}}let go=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=s.Xpm({type:D,selectors:[["iframe-card"]],inputs:{iframeCardUiData:"iframeCardUiData"},decls:1,vars:1,consts:[["sandbox","allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox",3,"src",4,"ngIf"],["sandbox","allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox",3,"src"]],template:function(I,N){1&I&&s.YNc(0,po,1,1,"iframe",0),2&I&&s.Q6J("ngIf",N.iframeCardUiData.url)},directives:[e.O5],styles:['[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}iframe[_ngcontent-%COMP%]{min-width:100%;width:0px;border:none;height:400px}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{position:relative}.entity-loading[_nghost-%COMP%]:before, .entity-loading   [_nghost-%COMP%]:before{content:"";display:block;position:absolute;top:16px;right:16px;bottom:16px;left:16px;background-color:#e9e9e9}.entity-loading[_nghost-%COMP%]   iframe[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   iframe[_ngcontent-%COMP%]{visibility:hidden}'],changeDetection:0}),D})();var Rt=t(25458),gi=t(20262),Ti=t(96017);let Ci=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275dir=s.lG2({type:D,selectors:[["carousel-item"]]}),D})(),mo=(()=>{class D{constructor(I){this.platformService=I}getCarouselResizedState(I){if(!I)return I;let N=Object.assign({},I);return this.getResizedState(N)}getItemsChangedState(I,N){if(!I)return I;let ge=Object.assign({},I);return ge.items=N,this.getResizedState(ge)}getPrevPageState(I){if(!I||!I.canPagePrev)return I;let N=Object.assign({},I);return N.translate=this.getPrevPageTranslate(N),N.canPagePrev=this.getCanPagePrev(N),N.canPageNext=this.getCanPageNext(N),N}getNextPageState(I){if(!I||!I.canPageNext)return I;let N=Object.assign({},I);return N.translate=this.getNextPageTranslate(N),N.canPagePrev=this.getCanPagePrev(N),N.canPageNext=this.getCanPageNext(N),N}getResizedState(I){return I.canPagePrev=this.getCanPagePrev(I),I.canPageNext=this.getCanPageNext(I),I}getPrevPageTranslate(I){const Pe=I.translate-this.getCarouselWidth(I);if(Pe>0){const Ye=this.getBorderCardLeft(I);return Ye?Pe+(this.getElementRight(Ye)-this.getElementLeft(I.carousel)):Pe}return 0}getNextPageTranslate(I){let N=I.translate;const ge=this.getItemsWidth(I),Pe=this.getCarouselWidth(I),Ye=ge-Pe,Qe=this.getBorderCardRight(I);if(Qe){const gt=this.getElementLeft(I.carousel);N+=this.getElementLeft(Qe)-gt}else N+=Pe;return Math.min(N,Ye)}getCanPageNext(I){const N=this.getCarouselWidth(I);return 0!==N&&this.getItemsWidth(I)>I.translate+N}getCanPagePrev(I){return I.translate>0}getBorderCardRight(I){const N=this.getElementLeft(I.carousel),ge=this.getElementWidth(I.carousel);return I.items.find(Pe=>{const Ye=this.getElementLeft(Pe)-N,Qe=this.getElementRight(Pe)-N;return Ye<ge&&Qe>ge})}getBorderCardLeft(I){const N=this.getElementLeft(I.carousel);return I.items.find(ge=>{const Pe=this.getElementLeft(ge)-N,Ye=this.getElementRight(ge)-N;return Pe<0&&Ye>0})}getCarouselWidth(I){return I.carousel?this.getElementWidth(I.carousel):0}getItemsWidth(I){if(!I.items||!I.items.length)return 0;const N=this.getElementLeft(I.items[0]);return this.getElementRight(I.items[I.items.length-1])-N}getElementLeft(I){return!I||this.platformService.isServer()?0:I.getBoundingClientRect().left}getElementRight(I){return!I||this.platformService.isServer()?0:I.getBoundingClientRect().right}getElementWidth(I){return!I||this.platformService.isServer()?0:I.getBoundingClientRect().width}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(bn.m))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var Gi=t(63555);const Zi=function(D,Ie){return{"can-page-prev":D,"can-page-next":Ie}},ho=function(D){return{"page-hidden":D}},es=["*"];let ts=(()=>{class D{constructor(I,N,ge){this.carouselService=I,this.changeDetectorRef=N,this.elementRef=ge,this.state={canPagePrev:!1,canPageNext:!1,translate:0,carousel:void 0,items:[]}}ngAfterViewInit(){this.items.changes.subscribe(I=>{this.state=this.carouselService.getItemsChangedState(this.state,this.getItems()),this.changeDetectorRef.detectChanges()}),this.state.carousel=this.getCarousel(),this.state=this.carouselService.getItemsChangedState(this.state,this.getItems()),this.changeDetectorRef.detectChanges()}windowResize(){this.state=this.carouselService.getCarouselResizedState(this.state),this.changeDetectorRef.detectChanges()}pagePrev(){this.state=this.carouselService.getPrevPageState(this.state)}pageNext(){this.state=this.carouselService.getNextPageState(this.state)}getItems(){return this.items.toArray().map(I=>I.nativeElement)}getCarousel(){return this.elementRef.nativeElement}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(mo),s.Y36(s.sBO),s.Y36(s.SBq))},D.\u0275cmp=s.Xpm({type:D,selectors:[["carousel"]],contentQueries:function(I,N,ge){if(1&I&&s.Suo(ge,Ci,4,s.SBq),2&I){let Pe;s.iGM(Pe=s.CRH())&&(N.items=Pe)}},ngContentSelectors:es,decls:10,vars:19,consts:[["windowResizeNotifier","","regulateExecutionBy","debounce",1,"carousel-wrapper",3,"wait","ngClass","onResize"],[1,"carousel-row"],[1,"end-spacer"],["mat-mini-fab","",1,"page-prev",3,"ngClass","click"],["key","icon_caret_left","color","primary"],["mat-mini-fab","",1,"page-next",3,"ngClass","click"],["key","icon_caret_right","color","primary"]],template:function(I,N){1&I&&(s.F$t(),s.TgZ(0,"div",0),s.NdJ("onResize",function(){return N.windowResize()}),s.TgZ(1,"div",1),s.Hsn(2),s._UZ(3,"div",2),s.qZA()(),s.TgZ(4,"button",3),s.NdJ("click",function(){return N.pagePrev()}),s.ALo(5,"translate"),s._UZ(6,"icon",4),s.qZA(),s.TgZ(7,"button",5),s.NdJ("click",function(){return N.pageNext()}),s.ALo(8,"translate"),s._UZ(9,"icon",6),s.qZA()),2&I&&(s.Q6J("wait",300)("ngClass",s.WLB(12,Zi,N.state.canPagePrev,N.state.canPageNext)),s.xp6(1),s.Udp("transform","translateX(-"+N.state.translate+"px)"),s.xp6(3),s.Q6J("ngClass",s.VKq(15,ho,!N.state.canPagePrev)),s.uIk("aria-label",s.lcZ(5,8,"CBL.PAGINATION.PAGE_BACK")),s.xp6(3),s.Q6J("ngClass",s.VKq(17,ho,!N.state.canPageNext)),s.uIk("aria-label",s.lcZ(8,10,"CBL.PAGINATION.PAGE_BACK")))},directives:[Gi.c,e.mk,jt.lW,vn.o],pipes:[J.X],styles:['[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]:hover   .page-prev[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .page-next[_ngcontent-%COMP%]{opacity:1}.carousel-wrapper[_ngcontent-%COMP%]{overflow:hidden;position:relative}.carousel-wrapper.can-page-prev[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.12)}.carousel-wrapper.can-page-prev[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;width:8px;z-index:1;box-shadow:inset 7px 0 9px -7px #00000080;left:0}.carousel-wrapper.can-page-next[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.12)}.carousel-wrapper.can-page-next[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:8px;z-index:1;box-shadow:inset -7px 0 9px -7px #00000080;right:0}.carousel-row[_ngcontent-%COMP%]{justify-content:flex-start;display:inline-flex;min-width:100%;transition:transform 255ms cubic-bezier(.4,0,.2,1)}.end-spacer[_ngcontent-%COMP%]{flex:1 1 100%}.page-prev[_ngcontent-%COMP%], .page-next[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 20px);opacity:.5;transition:opacity 255ms cubic-bezier(.4,0,.2,1)}.page-prev.mat-mini-fab[_ngcontent-%COMP%], .page-next.mat-mini-fab[_ngcontent-%COMP%]{background-color:#fff}.page-prev[_ngcontent-%COMP%]{left:4px}.page-next[_ngcontent-%COMP%]{right:4px}.page-hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0}'],changeDetection:0}),D})();var zt=t(11961),Eo=t(19975);const Ai=[[["carousel-item-image"]],[["carousel-item-title"]],[["carousel-item-body"]],[["carousel-item-actions"]]],Oi=["carousel-item-image","carousel-item-title","carousel-item-body","carousel-item-actions"];let Pi=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=s.Xpm({type:D,selectors:[["carousel-image-card-layout"]],features:[s._Bn([{provide:Ci,useExisting:D}])],ngContentSelectors:Oi,decls:11,vars:0,consts:[[1,"carousel-item"],[1,"image-wrapper"],[1,"title"],[1,"body"],[1,"actions"]],template:function(I,N){1&I&&(s.F$t(Ai),s.TgZ(0,"mat-card")(1,"div",0)(2,"div",1),s.Hsn(3),s.qZA(),s._UZ(4,"mat-divider"),s.TgZ(5,"div",2),s.Hsn(6,1),s.qZA(),s.TgZ(7,"div",3),s.Hsn(8,2),s.qZA()(),s.TgZ(9,"div",4),s.Hsn(10,3),s.qZA()())},directives:[zt.a8,Eo.d],styles:["[_nghost-%COMP%]{display:block;padding:3px 0}[_nghost-%COMP%]     identifier-image>div{border-radius:0;box-shadow:none}mat-card[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column;justify-content:flex-start;align-items:stretch;align-content:stretch;height:100%;padding:0}mat-card[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{flex:1 0 auto;box-sizing:border-box}.image-wrapper[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;overflow:hidden}.title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:16px;text-align:center}.actions[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;padding:0 16px 16px;text-align:center}.title[_ngcontent-%COMP%]:empty, .body[_ngcontent-%COMP%]:empty, .actions[_ngcontent-%COMP%]:empty{display:none}"],changeDetection:0}),D})(),li=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275dir=s.lG2({type:D,selectors:[["carousel-item-image"]]}),D})(),Wi=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275dir=s.lG2({type:D,selectors:[["carousel-item-body"]]}),D})();var mn=t(29637);function $i(D,Ie){if(1&D&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.hij(" ",I.imageListCardUiData.labels.name,"\n")}}function bi(D,Ie){if(1&D&&s._UZ(0,"field-formatter",9),2&D){const I=Ie.$implicit,N=s.oxw(3);s.Q6J("field",I.field)("fieldData",I.data)("collectionId",I.collectionId)("queryData",I.fieldQueryData)("contextType",N.contextType)}}function Li(D,Ie){if(1&D&&(s.TgZ(0,"li"),s._UZ(1,"identifier-image",5),s.TgZ(2,"div",6)(3,"a",7),s._uU(4),s.qZA(),s.YNc(5,bi,1,5,"field-formatter",8),s.qZA()()),2&D){const I=Ie.$implicit,N=s.oxw(2);s.xp6(1),s.Q6J("identifier",I.displayIdentifier)("size",85),s.xp6(2),s.Q6J("routerLink",null==I.displayIdentifier.route?null:I.displayIdentifier.route.path)("hoverPreview",I.canHoverPreview)("hoverPayload",I.hoverPayload)("hoverComponent",N.overlayComponent),s.xp6(1),s.hij(" ",I.displayIdentifier.value," "),s.xp6(1),s.Q6J("ngForOf",I.fieldItems)}}const ci=function(D,Ie){return{"single-column":D,"two-column":Ie}};function Ki(D,Ie){if(1&D&&(s.TgZ(0,"ul",3),s.YNc(1,Li,6,8,"li",4),s.qZA()),2&D){const I=s.oxw();s.Q6J("ngClass",s.WLB(2,ci,2!==I.imageListCardUiData.columnCount,2===I.imageListCardUiData.columnCount)),s.xp6(1),s.Q6J("ngForOf",I.imageListCardUiData.rowItems)}}function fo(D,Ie){if(1&D&&s._UZ(0,"field-formatter",9),2&D){const I=Ie.$implicit,N=s.oxw(3);s.Q6J("field",I.field)("fieldData",I.data)("collectionId",I.collectionId)("queryData",I.fieldQueryData)("contextType",N.contextType)}}function ns(D,Ie){if(1&D&&(s.TgZ(0,"carousel-image-card-layout")(1,"carousel-item-image"),s._UZ(2,"identifier-image",10),s.qZA(),s.TgZ(3,"carousel-item-body")(4,"identifier-link",11),s._uU(5),s.qZA(),s.YNc(6,fo,1,5,"field-formatter",8),s.qZA()()),2&D){const I=Ie.$implicit;s.xp6(2),s.Q6J("identifier",I.displayIdentifier)("size",125)("provideStyling",!1),s.xp6(2),s.Q6J("identifier",I.displayIdentifier),s.xp6(1),s.hij(" ",I.displayIdentifier.value," "),s.xp6(1),s.Q6J("ngForOf",I.fieldItems)}}function is(D,Ie){if(1&D&&(s.TgZ(0,"carousel"),s.YNc(1,ns,7,6,"carousel-image-card-layout",4),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.Q6J("ngForOf",I.imageListCardUiData.rowItems)}}function os(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"list-card-more-results",12),s.NdJ("onShowMore",function(){return s.CHM(I),s.oxw().showMoreRows()}),s.qZA()}if(2&D){const I=s.oxw();s.Q6J("rootSection",I.rootSection)("listLikeCardUiData",I.imageListCardUiData)("singleMode",I.singleMode)("basePath",I.basePath)}}let vo=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe,gt){this.overlayComponent=I,this.entityService=N,this.entityCardService=ge,this.progressService=Pe,this.toastService=Ye,this.bootstrapService=Qe,this.changeDetectorRef=gt,this.fetchedAllResults=!1,this.contextType=w.Qy.profile}ngOnChanges(){this.showCardUi=this.bootstrapService.isMobile()&&!this.singleMode,this.fetchedAllResults=this.imageListCardUiData.rowItems.length<this.limitOverride}showMoreRows(){this.loadOverrideData({card_id:this.imageListCardUiData.card.id,after_id:this.getNextPageUuid()},!0)}loadOverrideData(I,N){this.progressService.startProgress(D.PROGRESS_KEY),I=I||{card_id:this.imageListCardUiData.card.id},this.singleMode&&(I.limit=v.c4.SHOW_MORE_LIMIT),(0,W.D)(this.entityService.getSingleCardEntity(this.entityDef.collection_id,this.entity.properties.identifier.uuid,I)).pipe((0,he.w)(ge=>this.entityCardService.getViewCard$(ge,this.entityDef,this.imageListCardUiData.section,this.imageListCardUiData.card)),(0,Le.x)(()=>{this.progressService.stopProgress(D.PROGRESS_KEY),this.changeDetectorRef.markForCheck()})).subscribe({next:ge=>{var Pe;ge&&((null===(Pe=null==ge?void 0:ge.rowItems)||void 0===Pe?void 0:Pe.length)!==(null==I?void 0:I.limit)&&(this.fetchedAllResults=!0),N?this.imageListCardUiData.rowItems.push(...ge.rowItems):this.imageListCardUiData=ge)},error:ge=>{this.toastService.showSimpleToast("CBL.ENTITY.LOOKUP_CARD.FETCH_ERROR")}})}getNextPageUuid(){var I;let N=(0,xe.last)(this.imageListCardUiData.rowItems);return null===(I=null==N?void 0:N.identifier)||void 0===I?void 0:I.uuid}}return D.PROGRESS_KEY="IMAGE-LIST-CARD",D.\u0275fac=function(I){return new(I||D)(s.Y36(m.$b),s.Y36(v.c4),s.Y36(v.AH),s.Y36(On.N),s.Y36(et.k),s.Y36(Rt.Qn),s.Y36(s.sBO))},D.\u0275cmp=s.Xpm({type:D,selectors:[["image-list-card"]],inputs:{entityDef:"entityDef",entity:"entity",imageListCardUiData:"imageListCardUiData",singleMode:"singleMode",limitOverride:"limitOverride",rootSection:"rootSection",basePath:"basePath"},features:[s.TTD],decls:4,vars:4,consts:[[4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore",4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"identifier","size"],[1,"fields"],["cb-link","accent",3,"routerLink","hoverPreview","hoverPayload","hoverComponent"],[3,"field","fieldData","collectionId","queryData","contextType",4,"ngFor","ngForOf"],[3,"field","fieldData","collectionId","queryData","contextType"],[3,"identifier","size","provideStyling"],["color","accent",3,"identifier"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore"]],template:function(I,N){1&I&&(s.YNc(0,$i,2,1,"h3",0),s.YNc(1,Ki,2,5,"ul",1),s.YNc(2,is,2,1,"carousel",0),s.YNc(3,os,1,4,"list-card-more-results",2)),2&I&&(s.Q6J("ngIf",N.imageListCardUiData.labels&&N.imageListCardUiData.labels.name),s.xp6(1),s.Q6J("ngIf",!N.showCardUi),s.xp6(1),s.Q6J("ngIf",N.showCardUi),s.xp6(1),s.Q6J("ngIf",N.imageListCardUiData.moreResultsAvailable&&!N.fetchedAllResults))},directives:[e.O5,e.mk,e.sg,gi.J,gn.n,G.I,i.yS,Ti.a,$.N,ts,Pi,li,Wi,mn.N,Bi],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}ul[_ngcontent-%COMP%]{margin:0}li[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;margin-bottom:20px}li[_ngcontent-%COMP%]:last-child{margin-bottom:0}ul.two-column[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}ul.two-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1 1 100%}@media (min-width: 960px){ul.two-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1 1 50%}ul.two-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){margin-bottom:0}}identifier-image[_ngcontent-%COMP%]{flex:0 0 auto}.fields[_ngcontent-%COMP%]{flex:1;padding-left:16px}.fields[_ngcontent-%COMP%]   field-formatter[_ngcontent-%COMP%]{display:block;margin:4px 0}carousel-image-card-layout[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}carousel-item-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;margin:4px 8px}carousel-item-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-top:8px}carousel-item-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-bottom:8px}.entity-loading[_nghost-%COMP%]  a, .entity-loading   [_nghost-%COMP%]  a, .entity-loading[_nghost-%COMP%]  h3, .entity-loading   [_nghost-%COMP%]  h3, .entity-loading[_nghost-%COMP%]  identifier-link a, .entity-loading   [_nghost-%COMP%]  identifier-link a, .entity-loading[_nghost-%COMP%]  field-formatter, .entity-loading   [_nghost-%COMP%]  field-formatter, .entity-loading[_nghost-%COMP%]  field-formatter a, .entity-loading   [_nghost-%COMP%]  field-formatter a{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  identifier-image .cb-image-with-placeholder, .entity-loading   [_nghost-%COMP%]  identifier-image .cb-image-with-placeholder{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]  identifier-image .cb-image-with-placeholder img, .entity-loading   [_nghost-%COMP%]  identifier-image .cb-image-with-placeholder img{visibility:hidden}"],changeDetection:0}),D})();var ss=t(4105);function Co(D,Ie){if(1&D&&(s.ynx(0,2),s.TgZ(1,"div"),s._UZ(2,"field-formatter",3),s.qZA(),s.BQk()),2&D){const I=Ie.$implicit,N=s.oxw();s.xp6(2),s.Q6J("field",I.field)("fieldData",I.data)("collectionId",I.collectionId)("queryData",I.fieldQueryData)("contextType",N.contextType)}}let as=(()=>{class D{constructor(){this.compactMode=!1,this.contextType=w.Qy.profile}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=s.Xpm({type:D,selectors:[["image-with-fields-card"]],inputs:{imageWithFieldsCardUiData:"imageWithFieldsCardUiData",compactMode:"compactMode"},decls:2,vars:6,consts:[[3,"title","imagePlaceholderType","imageSrc","imageAlt","compactMode"],["text-content","",4,"ngFor","ngForOf"],["text-content",""],["linkColor","accent",3,"field","fieldData","collectionId","queryData","contextType"]],template:function(I,N){1&I&&(s.TgZ(0,"image-with-text-card",0),s.YNc(1,Co,3,5,"ng-container",1),s.qZA()),2&I&&(s.Q6J("title",null==N.imageWithFieldsCardUiData.labels?null:N.imageWithFieldsCardUiData.labels.name)("imagePlaceholderType",N.imageWithFieldsCardUiData.entityDefId)("imageSrc",N.imageWithFieldsCardUiData.imageSrc)("imageAlt",N.imageWithFieldsCardUiData.imageAlt)("compactMode",N.compactMode),s.xp6(1),s.Q6J("ngForOf",N.imageWithFieldsCardUiData.fieldItems))},directives:[ss.E,e.sg,$.N],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:first-child{margin-top:0;padding-top:20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.entity-loading[_nghost-%COMP%]  field-formatter, .entity-loading   [_nghost-%COMP%]  field-formatter, .entity-loading[_nghost-%COMP%]  .component--field-formatter, .entity-loading   [_nghost-%COMP%]  .component--field-formatter, .entity-loading[_nghost-%COMP%]  .component--field-formatter .link-accent, .entity-loading   [_nghost-%COMP%]  .component--field-formatter .link-accent{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  .cb-image-with-placeholder, .entity-loading   [_nghost-%COMP%]  .cb-image-with-placeholder{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]  .cb-image-with-placeholder img, .entity-loading   [_nghost-%COMP%]  .cb-image-with-placeholder img{visibility:hidden}"],changeDetection:0}),D})();var rs=t(42308),ls=t(33145);function cs(D,Ie){if(1&D&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.hij(" ",I.listCardUiData.labels.name,"\n")}}function ds(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"th")(1,"grid-column-header",7),s.NdJ("sort",function(ge){return s.CHM(I),s.oxw(2).setSort(ge)})("removeSort",function(){return s.CHM(I),s.oxw(2).removeSort()}),s.ALo(2,"async"),s.TgZ(3,"div",8),s._UZ(4,"div",9)(5,"label-with-info",10),s.qZA()()()}if(2&D){const I=Ie.$implicit,N=s.oxw(2);s.xp6(1),s.Q6J("fieldTypeId",I.fieldTypeId)("columnId",I.fieldId)("sortable",!0)("sortUpsell",s.lcZ(2,8,N.sortUpsell$))("currentSort",N.currentSort&&N.currentSort.columnId===I.fieldId?N.currentSort.direction:void 0),s.xp6(4),s.Q6J("label",I.label)("description",I.description)("isLabelWrappable",!1)}}function yo(D,Ie){if(1&D&&(s.TgZ(0,"td"),s._UZ(1,"field-formatter",11),s.qZA()),2&D){const I=Ie.index,N=s.oxw().$implicit,ge=s.oxw(2);s.xp6(1),s.Q6J("field",N.fieldItems[I].field)("fieldData",N.fieldItems[I].data)("collectionId",N.fieldItems[I].collectionId)("queryData",N.fieldItems[I].fieldQueryData)("imgSize",18)("contextType",ge.contextType)}}function oi(D,Ie){if(1&D&&(s.TgZ(0,"tr"),s.YNc(1,yo,2,6,"td",6),s.qZA()),2&D){const I=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",I.listCardUiData.headerItems)}}function _s(D,Ie){if(1&D&&(s.TgZ(0,"div",4)(1,"table",5)(2,"thead")(3,"tr"),s.YNc(4,ds,6,10,"th",6),s.qZA()(),s.TgZ(5,"tbody"),s.YNc(6,oi,2,1,"tr",6),s.qZA()()()),2&D){const I=s.oxw();s.xp6(4),s.Q6J("ngForOf",I.listCardUiData.headerItems),s.xp6(2),s.Q6J("ngForOf",I.listCardUiData.rowItems)}}function si(D,Ie){if(1&D&&(s.TgZ(0,"div")(1,"div",15),s._uU(2),s.qZA(),s._UZ(3,"field-formatter",16),s.qZA()),2&D){const I=Ie.$implicit,N=Ie.index,ge=s.oxw(3);s.xp6(2),s.hij(" ",ge.listCardUiData.headerItems[N].label," "),s.xp6(1),s.Q6J("field",I.field)("fieldData",I.data)("collectionId",I.collectionId)("queryData",I.fieldQueryData)("contextType",ge.contextType)}}function mi(D,Ie){if(1&D&&(s.TgZ(0,"div",14)(1,"mat-card"),s.YNc(2,si,4,6,"div",6),s.qZA()()),2&D){const I=Ie.$implicit;s.xp6(2),s.Q6J("ngForOf",I.fieldItems)}}function Vi(D,Ie){if(1&D&&(s.TgZ(0,"div",12),s.YNc(1,mi,3,1,"div",13),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.Q6J("ngForOf",I.listCardUiData.rowItems)}}function us(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"list-card-more-results",17),s.NdJ("onShowMore",function(){return s.CHM(I),s.oxw().showMoreRows()}),s.qZA()}if(2&D){const I=s.oxw();s.Q6J("rootSection",I.rootSection)("listLikeCardUiData",I.listCardUiData)("singleMode",I.singleMode)("basePath",I.basePath)}}let ps=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe){this.changeDetectorRef=I,this.entityService=N,this.entityCardService=ge,this.progressService=Pe,this.toastService=Ye,this.bootstrapService=Qe,this.isRanked=!1,this.fetchedAllResults=!1,this.contextType=w.Qy.profile}ngOnChanges(){var I;this.isRanked=!!this.listCardUiData.card.is_ranked,this.showCardUi=this.bootstrapService.isMobile()&&!this.singleMode,this.setInitialSort(),this.fetchedAllResults=this.listCardUiData.rowItems.length<this.limitOverride,this.sortUpsell$=null===(I=this.listCardUiData.canOverrideOrder$)||void 0===I?void 0:I.pipe((0,A.U)(N=>N?void 0:"profile_sorting"))}setSort(I){this.currentSort=I,this.loadOverrideData({card_id:this.listCardUiData.card.id,order:{field_id:this.currentSort.columnId,sort:this.currentSort.direction}},!1)}removeSort(){this.currentSort=void 0,this.loadOverrideData({card_id:this.listCardUiData.card.id},!1)}showMoreRows(){let I={card_id:this.listCardUiData.card.id,after_id:this.getNextPageUuidIfPossible()};this.loadOverrideData(I,!0)}setInitialSort(){let I=this.listCardUiData.card;this.currentSort={columnId:I.lookup.order.field_id,direction:I.lookup.order.sort}}loadOverrideData(I,N){this.progressService.startProgress(D.PROGRESS_KEY),this.singleMode&&(I.limit=v.c4.SHOW_MORE_LIMIT),(0,W.D)(this.entityService.getSingleCardEntity(this.entityDef.collection_id,this.entity.properties.identifier.uuid,I)).pipe((0,he.w)(ge=>this.entityCardService.getViewCard$(ge,this.entityDef,this.listCardUiData.section,this.listCardUiData.card)),(0,Le.x)(()=>{this.progressService.stopProgress(D.PROGRESS_KEY),this.changeDetectorRef.markForCheck()})).subscribe({next:ge=>{var Pe;ge&&((null===(Pe=null==ge?void 0:ge.rowItems)||void 0===Pe?void 0:Pe.length)!==(I.limit||ge.limit)&&(this.fetchedAllResults=!0),N?this.listCardUiData.rowItems.push(...ge.rowItems):this.listCardUiData=ge)},error:ge=>this.toastService.showSimpleToast("CBL.ENTITY.LOOKUP_CARD.FETCH_ERROR")})}getNextPageUuidIfPossible(){var I;let N=(0,xe.last)(this.listCardUiData.rowItems);return null===(I=null==N?void 0:N.identifier)||void 0===I?void 0:I.uuid}}return D.PROGRESS_KEY="LIST-CARD",D.\u0275fac=function(I){return new(I||D)(s.Y36(s.sBO),s.Y36(v.c4),s.Y36(v.AH),s.Y36(On.N),s.Y36(et.k),s.Y36(rs.Q))},D.\u0275cmp=s.Xpm({type:D,selectors:[["list-card"]],inputs:{entityDef:"entityDef",entity:"entity",listCardUiData:"listCardUiData",singleMode:"singleMode",limitOverride:"limitOverride",rootSection:"rootSection",firstChild:"firstChild",basePath:"basePath"},features:[s.TTD],decls:4,vars:4,consts:[[4,"ngIf"],["class","table-wrapper",4,"ngIf"],["class","mobile-cards",4,"ngIf"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore",4,"ngIf"],[1,"table-wrapper"],[1,"card-grid"],[4,"ngFor","ngForOf"],[3,"fieldTypeId","columnId","sortable","sortUpsell","currentSort","sort","removeSort"],[1,"header-container"],[1,"info-balance-spacer"],[3,"label","description","isLabelWrappable"],["linkColor","accent",3,"field","fieldData","collectionId","queryData","imgSize","contextType"],[1,"mobile-cards"],["class","card-container",4,"ngFor","ngForOf"],[1,"card-container"],[1,"mobile-cards-label"],["linkColor","accent",3,"field","fieldData","collectionId","queryData","contextType"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore"]],template:function(I,N){1&I&&(s.YNc(0,cs,2,1,"h3",0),s.YNc(1,_s,7,2,"div",1),s.YNc(2,Vi,2,1,"div",2),s.YNc(3,us,1,4,"list-card-more-results",3)),2&I&&(s.Q6J("ngIf",N.listCardUiData.labels&&N.listCardUiData.labels.name),s.xp6(1),s.Q6J("ngIf",!N.showCardUi),s.xp6(1),s.Q6J("ngIf",N.showCardUi),s.xp6(1),s.Q6J("ngIf",N.listCardUiData.moreResultsAvailable&&!N.fetchedAllResults))},directives:[e.O5,e.sg,ls.f,Q.R,$.N,zt.a8,Bi],pipes:[e.Ov],styles:["[_nghost-%COMP%]{display:block;margin:20px 0}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}tabs-card[_nghost-%COMP%]:first-child   h3[_ngcontent-%COMP%]:first-child, tabs-card   [_nghost-%COMP%]:first-child   h3[_ngcontent-%COMP%]:first-child{margin-top:20px}tabs-card[_nghost-%COMP%]:last-child, tabs-card   [_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:0}tabs-card[_nghost-%COMP%]:last-child   .table-wrapper[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], tabs-card   [_nghost-%COMP%]:last-child   .table-wrapper[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tabs-card[_nghost-%COMP%]:last-child   list-card-more-results[_ngcontent-%COMP%], tabs-card   [_nghost-%COMP%]:last-child   list-card-more-results[_ngcontent-%COMP%]{margin-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.table-wrapper[_ngcontent-%COMP%]   field-formatter[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}.header-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.header-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]     grid-column-header .header-icon{margin-right:-6px!important}[_nghost-%COMP%]     grid-column-header .header-icon icon{border:none!important}[_nghost-%COMP%]     grid-column-header .sort-icon{margin-left:0}[_nghost-%COMP%]     grid-column-header .sort-icon-hidden{display:block;visibility:hidden}[_nghost-%COMP%]     .blur-shadow{color:transparent;text-shadow:black 0px 0px 20px}[_nghost-%COMP%]     .blur-shadow a{color:transparent;text-shadow:#146aff 0px 0px 20px}[_nghost-%COMP%]     .blur-shadow-ie{color:transparent;text-shadow:black 0px 0px 10px .01em}[_nghost-%COMP%]     .blur-shadow-ie a{color:transparent;text-shadow:#146aff 0px 0px 10px .01em}.entity-loading[_nghost-%COMP%]   .mobile-cards-label[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .mobile-cards-label[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     add-remove-button button, .entity-loading   [_nghost-%COMP%]     add-remove-button button, .entity-loading[_nghost-%COMP%]     button, .entity-loading   [_nghost-%COMP%]     button, .entity-loading[_nghost-%COMP%]     list-card-more-results a, .entity-loading   [_nghost-%COMP%]     list-card-more-results a, .entity-loading[_nghost-%COMP%]     list-card-more-results button, .entity-loading   [_nghost-%COMP%]     list-card-more-results button, .entity-loading[_nghost-%COMP%]     field-formatter, .entity-loading   [_nghost-%COMP%]     field-formatter, .entity-loading[_nghost-%COMP%]     field-formatter a, .entity-loading   [_nghost-%COMP%]     field-formatter a, .entity-loading[_nghost-%COMP%]     field-formatter span, .entity-loading   [_nghost-%COMP%]     field-formatter span, .entity-loading[_nghost-%COMP%]     field-formatter .identifier-label, .entity-loading   [_nghost-%COMP%]     field-formatter .identifier-label, .entity-loading[_nghost-%COMP%]     upsell, .entity-loading   [_nghost-%COMP%]     upsell, .entity-loading[_nghost-%COMP%]     upsell a, .entity-loading   [_nghost-%COMP%]     upsell a{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     .cb-image-with-placeholder, .entity-loading   [_nghost-%COMP%]     .cb-image-with-placeholder{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]     .cb-image-with-placeholder img, .entity-loading   [_nghost-%COMP%]     .cb-image-with-placeholder img{visibility:hidden}.entity-loading[_nghost-%COMP%]     grid-column-header span, .entity-loading   [_nghost-%COMP%]     grid-column-header span, .entity-loading[_nghost-%COMP%]     grid-column-header icon, .entity-loading   [_nghost-%COMP%]     grid-column-header icon{visibility:hidden}.mobile-cards[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:stretch;align-content:stretch;overflow-x:auto;overflow-y:hidden;padding-top:3px;padding-bottom:3px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;width:258px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{box-sizing:border-box;padding:8px!important;height:100%;margin-right:8px!important}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:4px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .mobile-cards-label[_ngcontent-%COMP%]{color:#0000008a}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]:first-child{width:274px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]:first-child   mat-card[_ngcontent-%COMP%]{margin-left:16px!important}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]:last-child{width:266px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]:last-child   mat-card[_ngcontent-%COMP%]{margin-right:16px!important}.mobile-cards[_ngcontent-%COMP%]   .identifier-image[_ngcontent-%COMP%]{display:none}.mobile-cards[_ngcontent-%COMP%]   .cb-overflow-ellipsis[_ngcontent-%COMP%]{white-space:normal}table.card-grid[_ngcontent-%COMP%]{font-size:14px;color:#282828}table.card-grid[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{background-color:#fff;font-size:14px;color:#282828}table.card-grid[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 20px}table.card-grid[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 20px}table.card-grid[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table.card-grid[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:32px}table.card-grid[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table.card-grid[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:32px}"],changeDetection:0}),D})();var gs=t(78890);let ms=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=s.Xpm({type:D,selectors:[["phrase-list-card"]],inputs:{phraseListCardUiData:"phraseListCardUiData"},decls:1,vars:1,consts:[["linkColor","accent",3,"markupBlocks"]],template:function(I,N){1&I&&s._UZ(0,"markup-block",0),2&I&&s.Q6J("markupBlocks",N.phraseListCardUiData.markupBlocks)},directives:[gs.M],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.entity-loading[_nghost-%COMP%]     markup-block, .entity-loading   [_nghost-%COMP%]     markup-block, .entity-loading[_nghost-%COMP%]     markup-block a, .entity-loading   [_nghost-%COMP%]     markup-block a{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),D})();var Yi=t(12379),Ji=t(85264),So=t(252);function hs(D,Ie){if(1&D&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.hij(" ",I.tabsCardUiData.labels.name,"\n")}}function Es(D,Ie){if(1&D&&(s.TgZ(0,"span",6),s._uU(1),s.qZA()),2&D){const I=s.oxw().$implicit;s.Q6J("title",I.labels.name),s.xp6(1),s.hij(" ",I.labels.name," ")}}function fs(D,Ie){if(1&D&&(s.ynx(0),s._UZ(1,"profile-section",7),s.BQk()),2&D){const I=s.oxw().$implicit,N=s.oxw();s.xp6(1),s.Q6J("entity",N.entity)("entityDef",N.entityDef)("section",I)("singleMode",N.singleMode)("showHeader",!1)("rootSection",N.rootSection)("listCardLimitOverride",N.limitOverride)("basePath",N.basePath)}}function vs(D,Ie){1&D&&(s.ynx(0),s.TgZ(1,"div",9),s.SDv(2,10),s.qZA(),s.BQk())}function Cs(D,Ie){if(1&D&&(s._UZ(0,"no-content",8),s.YNc(1,vs,3,0,"ng-container",0)),2&D){const I=s.oxw(2);s.Q6J("showLoading",I.loadingSections),s.xp6(1),s.Q6J("ngIf",!I.loadingSections&&I.hydrateError)}}function ys(D,Ie){if(1&D&&(s.ynx(0),s.TgZ(1,"mat-tab"),s.YNc(2,Es,2,2,"ng-template",3),s.YNc(3,fs,2,8,"ng-container",4),s.YNc(4,Cs,2,2,"ng-template",null,5,s.W1O),s.qZA(),s.BQk()),2&D){const I=Ie.$implicit,N=s.MAs(5),ge=s.oxw();s.xp6(3),s.Q6J("ngIf",(null==I.cardUiDatas?null:I.cardUiDatas.length)||ge.hasHydratedTabs)("ngIfElse",N)}}let Ss=(()=>{class D{constructor(I,N,ge){this.route=I,this.changeDetectorRef=N,this.permissionService=ge,this.activeTab=0,this.loadingSections=!1,this.hydrateError=!1,this.hasHydratedTabs=!1,this.trackBySectionId=(Pe,Ye)=>Ye.id}ngOnChanges(){if(this.tabs=this.tabsCardUiData.tabs,this.hasHydratedTabs=!1,this.loadingSections=!1,this.hydrateError=!1,this.singleMode){this.activeTab=this.getSingleModeTabIndex();const I=this.getViewAllCardId();I&&this.getOtherTabData(I)}else this.activeTab=0}getOtherTabData(I){this.loadingSections||this.hasHydratedTabs||(this.loadingSections=!0,this.singleMode&&I&&!this.permissionService.listCardCanShowMore()?this.tabsCardUiData.getHydratedTabs({card_id:I,limit:v.c4.SHOW_MORE_LIMIT}).subscribe(ge=>this.handleHydrateTabsSuccess(ge),ge=>this.handleHydrateTabsError()):this.tabsCardUiData.getHydratedTabs().subscribe(N=>this.handleHydrateTabsSuccess(N),N=>this.handleHydrateTabsError()))}handleHydrateTabsSuccess(I){this.tabs=I,this.hasHydratedTabs=!0,this.loadingSections=!1,this.changeDetectorRef.markForCheck()}handleHydrateTabsError(){this.hasHydratedTabs=!0,this.loadingSections=!1,this.hydrateError=!0,this.changeDetectorRef.markForCheck()}getViewAllCardId(){const I=this.route.snapshot.params.cardId;if(I){const ge=this.tabsCardUiData.tabs[this.activeTab].cards.find(Pe=>Pe.id===I);if(ge)return ge.id}}getSingleModeTabIndex(){const I=this.tabs.map(ge=>ge.id),N=this.route.snapshot.queryParams.tab;if(N){let ge=I.indexOf(N);if(ge>0)return ge}return 0}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(i.gz),s.Y36(s.sBO),s.Y36(tt.$))},D.\u0275cmp=s.Xpm({type:D,selectors:[["tabs-card"]],inputs:{tabsCardUiData:"tabsCardUiData",entity:"entity",entityDef:"entityDef",singleMode:"singleMode",rootSection:"rootSection",limitOverride:"limitOverride",basePath:"basePath"},features:[s.TTD],decls:3,vars:5,consts:function(){let Ie;return Ie=$localize`:␟87894704cd021074a841f1d5dc5e53d8b8b66023␟1970160723309361386: There was an issue fetching the data you requested. Try again later. `,[[4,"ngIf"],[1,"entity-tab-group",3,"dynamicHeight","selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-tab-label",""],[4,"ngIf","ngIfElse"],["loadingOrError",""],[3,"title"],[3,"entity","entityDef","section","singleMode","showHeader","rootSection","listCardLimitOverride","basePath"],[3,"showLoading"],[1,"hydrate-error"],Ie]},template:function(I,N){1&I&&(s.YNc(0,hs,2,1,"h3",0),s.TgZ(1,"mat-tab-group",1),s.NdJ("selectedIndexChange",function(){return N.getOtherTabData()}),s.YNc(2,ys,6,2,"ng-container",2),s.qZA()),2&I&&(s.Q6J("ngIf",N.tabsCardUiData.labels&&N.tabsCardUiData.labels.name),s.xp6(1),s.Q6J("dynamicHeight",!0)("selectedIndex",N.activeTab),s.xp6(1),s.Q6J("ngForOf",N.tabs)("ngForTrackBy",N.trackBySectionId))},directives:[e.O5,Yi.SP,e.sg,Yi.uX,Yi.uD,Ji.E,So.z],styles:["[_nghost-%COMP%]    {display:block}[_nghost-%COMP%]     section-layout>mat-card{box-shadow:none!important;margin:0!important}mat-tab-group[_ngcontent-%COMP%]    {background-color:#fff;border-color:#0000001f;border-top:none}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-label{height:36px;padding:0 16px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.hydrate-error[_ngcontent-%COMP%]{color:#c73636;background-color:#e3e7e9;border-radius:4px;padding:8px;margin:16px}.entity-loading[_nghost-%COMP%]     h3, .entity-loading   [_nghost-%COMP%]     h3{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     mat-tab-header .mat-tab-label-content, .entity-loading   [_nghost-%COMP%]     mat-tab-header .mat-tab-label-content{visibility:hidden}"],changeDetection:0}),D})();var Io=t(18277),To=t(39949),Qi=t(20757),Is=t(86378),Ts=t(88670),Mi=t(97810),As=t(40757),Os=t(52727),Jn=t(74742);function Ao(D,Ie){if(1&D&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&D){const I=s.oxw(2);s.xp6(1),s.hij(" ",I.timelineCardUiData.labels.name," ")}}function Ps(D,Ie){if(1&D&&s._UZ(0,"funding-round",14),2&D){const I=s.oxw().$implicit;s.Q6J("activity",I)("isEntityCard",!0)}}function ji(D,Ie){if(1&D&&s._UZ(0,"acquisition",14),2&D){const I=s.oxw().$implicit;s.Q6J("activity",I)("isEntityCard",!0)}}function bs(D,Ie){if(1&D&&s._UZ(0,"ipo",14),2&D){const I=s.oxw().$implicit;s.Q6J("activity",I)("isEntityCard",!0)}}function Oo(D,Ie){if(1&D&&s._UZ(0,"fund-raise",14),2&D){const I=s.oxw().$implicit;s.Q6J("activity",I)("isEntityCard",!0)}}function Ls(D,Ie){if(1&D&&s._UZ(0,"press-reference",14),2&D){const I=s.oxw().$implicit;s.Q6J("activity",I)("isEntityCard",!0)}}const Ms=function(D){return{pluralEntityName:D}};function Ds(D,Ie){if(1&D&&(s.TgZ(0,"div",15)(1,"a",16),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&D){const I=s.oxw().$implicit;s.xp6(1),s.Q6J("routerLink",I.discoverMoreRoute),s.xp6(1),s.hij(" ",s.xi3(3,2,"CBL.ENTITY.TIMELINE_CARD.DISCOVER_MORE",s.VKq(5,Ms,I.pluralName))," ")}}function qi(D,Ie){if(1&D&&(s.TgZ(0,"div",7)(1,"div",8),s._UZ(2,"theme-icon",9),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"span"),s._uU(6,"\u2022"),s.qZA(),s._UZ(7,"field-formatter",10),s.qZA(),s.TgZ(8,"div",11),s.YNc(9,Ps,1,2,"funding-round",12),s.YNc(10,ji,1,2,"acquisition",12),s.YNc(11,bs,1,2,"ipo",12),s.YNc(12,Oo,1,2,"fund-raise",12),s.YNc(13,Ls,1,2,"press-reference",12),s.YNc(14,Ds,4,7,"div",13),s.qZA()()),2&D){const I=Ie.$implicit,N=Ie.last,ge=s.oxw(2);s.ekj("last-row",N),s.xp6(2),s.Q6J("themeId",I.themeId),s.xp6(2),s.Oqu(I.name),s.xp6(3),s.Q6J("field",ge.timelineCardUiData.activityField)("fieldData",I.activity_date)("imgSize",18)("contextType",ge.contextType),s.xp6(1),s.Q6J("ngSwitch",I.entity_def_id),s.xp6(1),s.Q6J("ngSwitchCase","funding_round"),s.xp6(1),s.Q6J("ngSwitchCase","acquisition"),s.xp6(1),s.Q6J("ngSwitchCase","ipo"),s.xp6(1),s.Q6J("ngSwitchCase","fund"),s.xp6(1),s.Q6J("ngSwitchCase","press_reference"),s.xp6(1),s.Q6J("ngIf",I.discoverMoreRoute)}}function Po(D,Ie){if(1&D&&(s.TgZ(0,"a",20)(1,"label-with-icon",21),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&D){const I=s.oxw(3);s.Q6J("routerLink",I.route.path),s.xp6(1),s.Q6J("iconAfter",!0),s.xp6(1),s.hij(" ",s.lcZ(3,3,"CBL.ENTITY.VIEW_ALL")," ")}}const bo=function(D,Ie){return[D,Ie]};function Lo(D,Ie){if(1&D&&(s.TgZ(0,"a",20)(1,"label-with-icon",21),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&D){const I=s.oxw(3);s.Q6J("routerLink",s.WLB(5,bo,I.timelineCardUiData.sectionId,I.timelineCardUiData.id)),s.xp6(1),s.Q6J("iconAfter",!0),s.xp6(1),s.hij(" ",s.lcZ(3,3,"CBL.ENTITY.VIEW_ALL")," ")}}function Di(D,Ie){if(1&D&&(s.TgZ(0,"div",17),s.YNc(1,Po,4,5,"a",18),s.YNc(2,Lo,4,8,"ng-template",null,19,s.W1O),s.qZA()),2&D){const I=s.MAs(3),N=s.oxw(2);s.xp6(1),s.Q6J("ngIf",N.route)("ngIfElse",I)}}function Xi(D,Ie){1&D&&(s.TgZ(0,"div",22),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.TIMELINE_CARD.LOADING_ERROR")," "))}function Rs(D,Ie){1&D&&(s.TgZ(0,"div",23),s._UZ(1,"mat-spinner",24),s.qZA())}function xs(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"div",25)(1,"button",26),s.NdJ("click",function(){return s.CHM(I),s.oxw(2).showMoreRows()}),s._uU(2),s.ALo(3,"translate"),s.qZA()()}2&D&&(s.xp6(2),s.hij(" ",s.lcZ(3,1,"CBL.ENTITY.SHOW_MORE")," "))}function Ns(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,Ao,2,1,"h3",0),s.YNc(2,qi,15,15,"div",4),s.YNc(3,Di,4,2,"div",5),s.YNc(4,Xi,3,3,"div",3),s.YNc(5,Rs,2,0,"div",2),s.YNc(6,xs,4,3,"div",6),s.BQk()),2&D){const I=s.oxw();s.xp6(1),s.Q6J("ngIf",I.timelineCardUiData.labels&&I.timelineCardUiData.labels.name),s.xp6(1),s.Q6J("ngForOf",I.activityData),s.xp6(1),s.Q6J("ngIf",!I.singleMode&&I.canViewAll),s.xp6(1),s.Q6J("ngIf",!I.loading&&I.errorLoadingMore),s.xp6(1),s.Q6J("ngIf",I.loading),s.xp6(1),s.Q6J("ngIf",I.singleMode&&I.canShowMore)}}function Fs(D,Ie){1&D&&(s.TgZ(0,"div",27),s.SDv(1,28),s.qZA())}function ws(D,Ie){1&D&&(s.TgZ(0,"div",23),s._UZ(1,"mat-spinner",24),s.qZA())}function Us(D,Ie){1&D&&(s.TgZ(0,"div",22),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.TIMELINE_CARD.LOADING_ERROR"),"\n"))}let Bs=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe){this.changeDetectorRef=I,this.timelineService=N,this.platformService=ge,this.metadataService=Pe,this.metaService=Ye,this.progressService=Qe,this.isSoloCardOnPage=!1,this.isPreview=!1,this.contextType=w.Qy.profile}ngOnChanges(){this.platformService.isBrowser()&&(this.resetToInitialState(),this.getCardData()),this.route=this.getRouteFromBasePath(this.basePath,this.timelineCardUiData.sectionId)}getCardData(I){this.timelineCardUiData.entityUuid&&(this.handleLoading(),this.timelineService.getEntityActivities$(this.timelineCardUiData.entityUuid,I,this.singleMode?D.SINGLE_CARD_ACTIVITIES_LIMIT:void 0).toPromise().then(N=>this.handleResults(N,I),N=>{I?this.errorLoadingMore=!0:this.errorLoadingInitial=!0}).then(()=>this.handleLoadingComplete()))}showMoreRows(){const I=this.activityData&&this.activityData[this.activityData.length-1],N=null==I?void 0:I.datetime;N?this.getCardData(N):this.canShowMore=!1}ngOnDestroy(){this.progressService.stopProgress(this.timelineCardUiData.id)}handleResults(I,N){const ge=new Set(this.metadataService.getTopLevelCollectionIds()),Pe=I.map(Ye=>this.addDisplayData(Ye,ge));this.singleMode&&N&&Array.isArray(this.activityData)?(this.activityData.push(...Pe),this.activityData=(0,xe.uniqBy)(this.activityData,Ye=>{var Qe;return null===(Qe=Ye.identifier)||void 0===Qe?void 0:Qe.uuid}),I.length<D.SINGLE_CARD_ACTIVITIES_LIMIT&&(this.canShowMore=!1)):(this.activityData=Pe||[],this.singleMode?this.canShowMore=I.length>=D.SINGLE_CARD_ACTIVITIES_LIMIT:this.isPreview?(this.canViewAll=this.activityData.length>=D.PREVIEW_ACTIVITIES_LIMIT,this.activityData.splice(D.PREVIEW_ACTIVITIES_LIMIT)):this.canViewAll=this.activityData.length>=Io.u.CARD_ENTITY_ACTIVITY_LIMIT),!this.activityData.length&&this.isSoloCardOnPage&&this.metaService.setNoIndex()}handleLoading(){this.loading=!0,this.errorLoadingInitial=!1,this.errorLoadingMore=!1,this.progressService.startProgress(this.timelineCardUiData.id),this.changeDetectorRef.markForCheck()}handleLoadingComplete(){this.progressService.stopProgress(this.timelineCardUiData.id),this.loading=!1,this.changeDetectorRef.markForCheck()}resetToInitialState(){this.activityData=void 0,this.canViewAll=void 0,this.canShowMore=void 0,this.loading=void 0,this.errorLoadingMore=void 0,this.errorLoadingInitial=void 0}addDisplayData(I,N){var ge;const Pe=this.metadataService.getEntityDef(I.entity_def_id),Ye=(null===(ge=null==Pe?void 0:Pe.display)||void 0===ge?void 0:ge.theme_id)||"default",Qe=null==Pe?void 0:Pe.labels.name,gt=null==Pe?void 0:Pe.labels.plural.toLowerCase(),vt=null==Pe?void 0:Pe.collection_id,It=vt&&N.has(vt)?["/","discover",vt]:void 0;return Object.assign(Object.assign({},I),{themeId:Ye,name:Qe,pluralName:gt,discoverMoreRoute:It})}getRouteFromBasePath(I,N){if(I)return{path:[...I,N]}}}return D.PREVIEW_ACTIVITIES_LIMIT=3,D.SINGLE_CARD_ACTIVITIES_LIMIT=100,D.\u0275fac=function(I){return new(I||D)(s.Y36(s.sBO),s.Y36(Io.u),s.Y36(bn.m),s.Y36(y.Do),s.Y36(To.R),s.Y36(On.N))},D.\u0275cmp=s.Xpm({type:D,selectors:[["timeline-card"]],inputs:{timelineCardUiData:"timelineCardUiData",singleMode:"singleMode",isSoloCardOnPage:"isSoloCardOnPage",isPreview:"isPreview",basePath:"basePath"},features:[s.TTD],decls:4,vars:4,consts:function(){let Ie;return Ie=$localize`:␟f75ea359f5fede9d9f638f993e9e96cf9d4ef5e1␟3155934764763217895: There is no recent news or activity for this profile.
`,[[4,"ngIf"],["class","empty-timeline",4,"ngIf"],["class","loading",4,"ngIf"],["class","error-container",4,"ngIf"],["class","activity-row",3,"last-row",4,"ngFor","ngForOf"],["class","view-all-container",4,"ngIf"],["class","show-more-container",4,"ngIf"],[1,"activity-row"],[1,"activity-title"],["color","inherit","size","large",3,"themeId"],["collectionId","timelineCardUiData.collectionId",3,"field","fieldData","imgSize","contextType"],[1,"activity-details",3,"ngSwitch"],[3,"activity","isEntityCard",4,"ngSwitchCase"],["class","discover-more-container",4,"ngIf"],[3,"activity","isEntityCard"],[1,"discover-more-container"],["cb-link","primary",3,"routerLink"],[1,"view-all-container"],["class","view-all",3,"cb-link","routerLink",4,"ngIf","ngIfElse"],["sectionAndCardViewAll",""],[1,"view-all",3,"cb-link","routerLink"],["iconKey","icon_caret_right",3,"iconAfter"],[1,"error-container"],[1,"loading"],["diameter","24"],[1,"show-more-container"],["mat-button","","color","primary",1,"show-more",3,"click"],[1,"empty-timeline"],Ie]},template:function(I,N){1&I&&(s.YNc(0,Ns,7,6,"ng-container",0),s.YNc(1,Fs,2,0,"div",1),s.YNc(2,ws,2,0,"div",2),s.YNc(3,Us,3,3,"div",3)),2&I&&(s.Q6J("ngIf",N.activityData&&N.activityData.length>0&&!N.errorLoadingInitial),s.xp6(1),s.Q6J("ngIf",!N.loading&&N.activityData&&0===N.activityData.length),s.xp6(1),s.Q6J("ngIf",N.loading&&!N.activityData),s.xp6(1),s.Q6J("ngIf",!N.loading&&N.errorLoadingInitial))},directives:[e.O5,e.sg,Qi.p,$.N,e.RF,e.n9,Is.d,Ts.T,Mi.z,As.H,Os.e,gn.n,G.I,i.yS,Yn.d,Jn.Ou,jt.lW],pipes:[J.X],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.activity-row[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12);padding:16px 0}.activity-row[_ngcontent-%COMP%]:first-child{padding-top:0}.activity-row.last-row[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:0}.activity-title[_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:flex;align-items:center}.activity-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:4px}.view-all-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-top:16px}.view-all-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.view-all[_ngcontent-%COMP%]{text-transform:uppercase}.discover-more-container[_ngcontent-%COMP%]{margin-top:4px}.error-container[_ngcontent-%COMP%]{color:#0000008a;text-align:center;padding:16px}.loading[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding:16px}.loading[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.empty-timeline[_ngcontent-%COMP%]{text-align:center;color:#0000008a;padding:16px}.show-more-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-top:16px}.show-more-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.show-more-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.show-more-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.entity-loading[_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .activity-details[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .activity-details[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .discover-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .discover-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   theme-icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   theme-icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]   .view-all[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .view-all[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .show-more[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .view-all[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .view-all[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]  funding-round span, .entity-loading   [_nghost-%COMP%]  funding-round span, .entity-loading[_nghost-%COMP%]  funding-round a, .entity-loading   [_nghost-%COMP%]  funding-round a, .entity-loading[_nghost-%COMP%]  acquisition span, .entity-loading   [_nghost-%COMP%]  acquisition span, .entity-loading[_nghost-%COMP%]  acquisition a, .entity-loading   [_nghost-%COMP%]  acquisition a, .entity-loading[_nghost-%COMP%]  ipo span, .entity-loading   [_nghost-%COMP%]  ipo span, .entity-loading[_nghost-%COMP%]  ipo a, .entity-loading   [_nghost-%COMP%]  ipo a, .entity-loading[_nghost-%COMP%]  fund-raise span, .entity-loading   [_nghost-%COMP%]  fund-raise span, .entity-loading[_nghost-%COMP%]  fund-raise a, .entity-loading   [_nghost-%COMP%]  fund-raise a, .entity-loading[_nghost-%COMP%]  press-reference span, .entity-loading   [_nghost-%COMP%]  press-reference span, .entity-loading[_nghost-%COMP%]  press-reference a, .entity-loading   [_nghost-%COMP%]  press-reference a{color:transparent!important}"],changeDetection:0}),D})();var ks=t(9887);const Hs=["tweetElement"];function zs(D,Ie){if(1&D&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&D){const I=s.oxw(2);s.xp6(1),s.hij(" ",I.twitterCardUiData.labels.name," ")}}const Gs=function(D){return{entityName:D}};function Zs(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,zs,2,1,"h3",0),s._UZ(2,"div",2,3),s.TgZ(4,"div",4)(5,"a",5)(6,"label-with-icon",6),s._uU(7),s.ALo(8,"translate"),s.qZA()()(),s.BQk()),2&D){const I=s.oxw();s.xp6(1),s.Q6J("ngIf",I.twitterCardUiData&&I.twitterCardUiData.labels&&I.twitterCardUiData.labels.name),s.xp6(4),s.Q6J("href","https://www.twitter.com/"+I.twitterCardUiData.twitterHandle,s.LSH),s.xp6(1),s.Q6J("iconAfter",!0),s.xp6(1),s.hij(" ",s.xi3(8,4,"CBL.ENTITY.TWITTER_CARD.VIEW_ON_TWITTER",s.VKq(7,Gs,I.twitterCardUiData.entityName))," ")}}function Ws(D,Ie){1&D&&(s.TgZ(0,"div",7),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.TWITTER_CARD.LOADING_ERROR"),"\n"))}let $s=(()=>{class D{constructor(I,N){this.twitterService=I,this.changeDetectorRef=N,this.errorLoading=!1,this.dataChanged=!1}ngOnChanges(){this.dataChanged=!0,this.errorLoading=!1}ngAfterViewChecked(){this.dataChanged&&this.tweetElement&&(this.dataChanged=!1,this.embedTimeline(this.twitterCardUiData,this.tweetElement))}embedTimeline(I,N){return this.twitterService.embedTimeline(I.twitterHandle,N,!0).catch(ge=>{this.errorLoading=!0,this.changeDetectorRef.markForCheck()})}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(ks.X),s.Y36(s.sBO))},D.\u0275cmp=s.Xpm({type:D,selectors:[["twitter-card"]],viewQuery:function(I,N){if(1&I&&s.Gf(Hs,5),2&I){let ge;s.iGM(ge=s.CRH())&&(N.tweetElement=ge.first)}},inputs:{twitterCardUiData:"twitterCardUiData"},features:[s.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["class","loading-error",4,"ngIf"],[1,"iframe-wrapper"],["tweetElement",""],[1,"twitter-link"],["cb-link","primary","target","_blank","rel","nofollow noopener noreferrer",3,"href"],["iconKey","icon_caret_right",3,"iconAfter"],[1,"loading-error"]],template:function(I,N){1&I&&(s.YNc(0,Zs,9,9,"ng-container",0),s.YNc(1,Ws,3,3,"div",1)),2&I&&(s.Q6J("ngIf",!N.errorLoading),s.xp6(1),s.Q6J("ngIf",N.errorLoading))},directives:[e.O5,G.I,Yn.d],pipes:[J.X],styles:['[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.twitter-link[_ngcontent-%COMP%]{flex:0 0 auto;display:flex!important;flex-direction:row;justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start;padding:20px}.twitter-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:uppercase}.loading-error[_ngcontent-%COMP%]{color:#0000008a;text-align:center;padding:16px}[_nghost-%COMP%]     iframe{display:block!important;margin:0 auto;max-width:660px!important;width:100%!important}.entity-loading[_nghost-%COMP%]   h3[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   h3[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]{position:relative}.entity-loading[_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]:before, .entity-loading   [_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;right:0;bottom:0;left:0;background-color:#e9e9e9}.entity-loading[_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{visibility:hidden!important}'],changeDetection:0}),D})();var Ks=t(51044),Mo=t(83e3),Vs=t(48212),Do=t(32313),eo=t(4407),Ro=t(19366);let xo=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=s.oAB({type:D}),D.\u0275inj=s.cJS({imports:[[e.ez]]}),D})();var di=t(86163);function No(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"div",1)(1,"a",2),s.NdJ("click",function(){const Pe=s.CHM(I).$implicit;return s.oxw().clickAnchor(Pe)}),s.TgZ(2,"div",3),s._UZ(3,"label-with-info",4)(4,"field-formatter",5),s.qZA(),s._UZ(5,"icon",6),s.qZA()()}if(2&D){const I=Ie.$implicit,N=s.oxw();s.xp6(1),s.Q6J("routerLink",I.pathSections),s.xp6(2),s.Q6J("label",I.label)("description",I.description),s.xp6(1),s.Q6J("field",I.field)("fieldData",I.data)("collectionId",I.collectionId)("contextType",N.contextType)}}let Un=(()=>{class D{constructor(I){this.scrollService=I,this.onChanges$=new Tn.X(void 0),this.contextType=w.Qy.profile}ngOnChanges(){this.onChanges$.next()}clickAnchor(I){this.scrollService.scrollToAnchorWhenReady(I.subsectionId)}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(di.n))},D.\u0275cmp=s.Xpm({type:D,selectors:[["anchored-values"]],inputs:{anchoredValuesUiData:"anchoredValuesUiData"},features:[s.TTD],decls:1,vars:1,consts:[["class","spacer",4,"ngFor","ngForOf"],[1,"spacer"],["cb-link","primary",3,"routerLink","click"],[1,"info"],[3,"label","description"],["linkColor","primary",3,"field","fieldData","collectionId","contextType"],["key","icon_caret_right","size","xxlarge","color","inherit"]],template:function(I,N){1&I&&s.YNc(0,No,6,7,"div",0),2&I&&s.Q6J("ngForOf",N.anchoredValuesUiData.anchors)},directives:[e.sg,gn.n,G.I,i.yS,Q.R,$.N,vn.o],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.spacer[_ngcontent-%COMP%]{padding-bottom:16px}.spacer[_ngcontent-%COMP%]:last-child{padding-bottom:0}a[_ngcontent-%COMP%]{padding:8px 0 8px 16px;box-sizing:border-box;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;display:flex;align-items:center;height:100%}a[_ngcontent-%COMP%]:hover{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f;text-decoration:none}a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#e3edff}.info[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0}icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#cbcbcb}a[_ngcontent-%COMP%]:hover   icon[_ngcontent-%COMP%]{color:#183444}label-with-info[_ngcontent-%COMP%], field-formatter[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:flex-start;align-content:flex-start;overflow-wrap:break-word;max-width:100%}label-with-info[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;color:#183444;padding-bottom:4px}field-formatter[_ngcontent-%COMP%]{font-size:20px}field-formatter[_ngcontent-%COMP%] >*{max-width:100%}@media (min-width: 600px){[_nghost-%COMP%]{display:flex;flex-wrap:wrap;align-items:stretch}.spacer[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 50%;max-width:50%}.spacer[_ngcontent-%COMP%]:nth-child(even){padding-left:8px}.spacer[_ngcontent-%COMP%]:nth-child(odd){padding-right:8px}.spacer[_ngcontent-%COMP%]:last-child, .spacer[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){padding-bottom:0}}.profile-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.profile-loading[_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%]{visibility:hidden}.profile-loading[_nghost-%COMP%]     .component--field-formatter, .profile-loading   [_nghost-%COMP%]     .component--field-formatter, .entity-loading[_nghost-%COMP%]     .component--field-formatter, .entity-loading   [_nghost-%COMP%]     .component--field-formatter{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),D})();var Zn=t(33863),Ln=t(55103),Fo=t(1547),to=t(40089);function Ri(D,Ie){if(1&D&&(s.TgZ(0,"div",2)(1,"button",3),s._UZ(2,"icon",4),s.qZA()()),2&D){const I=s.oxw();s.Q6J("matTooltip",I.disabledTooltip),s.xp6(1),s.uIk("aria-label",I.getButtonLabel())}}function yi(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"a",5),s.NdJ("click",function(){return s.CHM(I),s.oxw().startEdit()}),s._UZ(1,"icon",6),s.TgZ(2,"span",7),s._uU(3),s.qZA()()}if(2&D){const I=s.oxw();s.xp6(1),s.uIk("aria-hidden",!0),s.xp6(2),s.Oqu(I.getButtonLabel())}}let ai=(()=>{class D{constructor(I,N){this.entityEditButtonService=I,this.editRoutingService=N,this.isDisabled=!1}ngOnChanges(){this.setup()}startEdit(){this.editRoutingService.goToStartEdit(this.entityDef.collection_id,this.entity.properties.identifier.uuid)}getButtonLabel(){return $localize`:button label for editing a section of the page:Edit ${this.sectionName} Section`}setup(){if(this.entity&&this.entityDef){let I=this.entityEditButtonService.getEntityEditButton(this.entity,this.entityDef);this.isDisabled=I.isDisabled,this.disabledTooltip=I.tooltip}}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(Ln.Pq),s.Y36(Fo.n))},D.\u0275cmp=s.Xpm({type:D,selectors:[["profile-section-edit-button"]],inputs:{entity:"entity",entityDef:"entityDef",sectionName:"sectionName"},features:[s.TTD],decls:3,vars:2,consts:[["matTooltipShowDelay","500",3,"matTooltip",4,"ngIf","ngIfElse"],["editLink",""],["matTooltipShowDelay","500",3,"matTooltip"],["mat-icon-button","","disabled",""],["key","icon_edit","size","large","color","inherit"],["mat-icon-button","",3,"click"],["key","icon_edit","size","large"],[1,"cdk-visually-hidden"]],template:function(I,N){if(1&I&&(s.YNc(0,Ri,3,2,"div",0),s.YNc(1,yi,4,2,"ng-template",null,1,s.W1O)),2&I){const ge=s.MAs(2);s.Q6J("ngIf",N.isDisabled)("ngIfElse",ge)}},directives:[e.O5,to.gM,jt.lW,vn.o,gn.n,jt.zs],encapsulation:2,changeDetection:0}),D})();var no=t(29361);let io=(()=>{class D{constructor(I){this.entityApi=I}removeRelatedEntity(I,N,ge){const Ye={entity:{id:ge,operation:Ne.nc.OperationEnum.noop,relationships:[{collection_id:I.card.lookup.collection_id,entity:{id:N,operation:Ne.nc.OperationEnum.noop},operation:Ne.yO.OperationEnum.delete}]}},Qe=I.rowItems.filter(gt=>gt.identifier.uuid!==N);return this.entityApi.dataEntitiesPost$({entities:Ye}).pipe((0,no.h)(Object.assign(Object.assign({},I),{rowItems:Qe})))}addRelatedEntity(I,N,ge){const Qe=[...I.rowItems,{identifier:N}];return this.entityApi.dataEntitiesPost$({entities:{entity:{id:ge,operation:Ne.nc.OperationEnum.noop,relationships:[{collection_id:I.card.lookup.collection_id,entity:{id:N.uuid,operation:Ne.nc.OperationEnum.noop},operation:Ne.yO.OperationEnum.upsert}]}}}).pipe((0,no.h)(Object.assign(Object.assign({},I),{rowItems:Qe})))}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Ne.xM))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var wo=t(73233),_i=t(90587),Uo=t(19193),oa=t(66426),sa=t(55751),aa=t(32647),ra=Ne.Di.SortEnum;class la{constructor(Ie,I,N){this.searchApi=Ie,this.permissionService=I,this.collectionId=N,this.fullData$=this.getFullData().pipe((0,Xt.d)(1)),this.add$=new ye.xQ}getFilteredResults(Ie){return this.fullData$.pipe((0,A.U)(I=>this.filterResults(I,Ie)))}addNew(Ie){this.add$.next(Ie)}getFullData(){return this.searchApi.dataSearchesCollectionIdPost$({collectionId:this.collectionId,query:{field_ids:[y.ul.Fields.identifier],limit:this.permissionService.getSearchResultLimit(void 0,this.collectionId),order:[{field_id:y.ul.Fields.identifier,sort:ra.asc}]}}).pipe((0,A.U)(Ie=>(Ie.entities||[]).map(I=>I.properties.identifier).filter(R.K)),(0,he.w)(Ie=>this.add$.pipe((0,aa.R)((I,N)=>[N,...I],Ie),(0,L.O)(Ie))))}filterResults(Ie,I){return I?sa.go(I,Ie,{key:"value"}).map(ge=>ge.obj):Ie}}let ca=(()=>{class D{constructor(I,N){this.searchApi=I,this.permissionService=N}create(I){return new la(this.searchApi,this.permissionService,I)}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(Ne.Wq),s.LFG(tt.$))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var Ys=t(66587);let da=(()=>{class D{constructor(I,N){this.metadataService=I,this.entityApi=N}isCreatable(I){return 1===this.getRequiredEditableFields(I).length}createEntity(I,N){const ge=this.metadataService.getEntityDef(I);if(!ge)return(0,Ys._)(`Entity def ${I} not found`);const Pe=this.getRequiredEditableFields(I)[0].id;return this.entityApi.dataEntitiesPost$({entities:{entity:{operation:Ne.nc.OperationEnum.create,temp_id:"random-string",entity_def_id:ge.id,properties:{[Pe]:N}}}}).pipe((0,A.U)(Qe=>({uuid:Qe.id,value:N,entity_def_id:ge.id})))}getRequiredEditableFields(I){const N=this.metadataService.getEntityDef(I);return(null==N?void 0:N.fields.filter(Pe=>{var Ye,Qe;return Pe.is_required&&(null===(Qe=null===(Ye=Pe.permissions)||void 0===Ye?void 0:Ye.is_updatable)||void 0===Qe?void 0:Qe.allowed)}))||[]}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(y.Do),s.LFG(Ne.xM))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var Js=t(54166),_a=t(37075),xi=t(84128),ti=t(44770),Qs=t(43365),Ni=t(26131);const Bo=["input"],ko=function(D){return{entityLabel:D}};function ua(D,Ie){if(1&D&&(s.TgZ(0,"label-with-icon",18)(1,"div",19),s._uU(2),s.ALo(3,"translate"),s.TgZ(4,"span",20),s._uU(5),s.qZA()()()),2&D){const I=s.oxw(3);s.xp6(2),s.hij(" ",s.xi3(3,2,"CBL.MULTI_ENTITY_SELECT.NEW",s.VKq(5,ko,null==I.entityDefLabel?null:I.entityDefLabel.toLowerCase()))," "),s.xp6(3),s.Oqu(I.formControl.value)}}function pa(D,Ie){if(1&D&&(s.TgZ(0,"label-with-icon",21),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D){const I=s.oxw(3);s.xp6(1),s.hij(" ",s.xi3(2,1,"CBL.MULTI_ENTITY_SELECT.CANNOT_CREATE",s.VKq(4,ko,null==I.entityDefLabel?null:I.entityDefLabel.toLowerCase()))," ")}}function ga(D,Ie){if(1&D&&(s.TgZ(0,"mat-action-list")(1,"span",14)(2,"button",15),s.YNc(3,ua,6,7,"label-with-icon",16),s.YNc(4,pa,3,6,"label-with-icon",17),s.qZA()()()),2&D){const I=s.oxw(2);s.xp6(1),s.Q6J("matTooltipDisabled",!I.limitReached())("matTooltip",I.limitReachedLabel),s.xp6(1),s.Q6J("disabled",I.limitReached()),s.xp6(1),s.Q6J("ngIf",!I.limitReached()),s.xp6(1),s.Q6J("ngIf",I.limitReached())}}function ma(D,Ie){if(1&D&&(s.TgZ(0,"span",14)(1,"mat-list-option",26)(2,"span"),s._uU(3),s.qZA()()()),2&D){const I=Ie.$implicit,N=s.oxw(4);s.Q6J("matTooltipDisabled",!(N.limitReached()&&!N.selectedEntitiesSet.has(I.uuid)))("matTooltip",N.limitReachedLabel),s.xp6(1),s.Q6J("selected",N.selectedEntitiesSet.has(I.uuid))("value",I)("disabled",N.disabled||N.limitReached()&&!N.selectedEntitiesSet.has(I.uuid)),s.xp6(2),s.Oqu(I.value)}}function ha(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"mat-selection-list",24),s.NdJ("selectionChange",function(ge){return s.CHM(I),s.oxw(3).onSelectionChange(ge)}),s.YNc(1,ma,4,6,"span",25),s.qZA()}if(2&D){const I=s.oxw().ngIf;s.xp6(1),s.Q6J("ngForOf",I)}}const Ea=function(D){return{search:D}};function fa(D,Ie){if(1&D&&(s.TgZ(0,"div",27),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D){const I=s.oxw(3);s.xp6(1),s.hij(" ",s.xi3(2,1,"CBL.MULTI_ENTITY_SELECT.NO_RESULTS_FOUND",s.VKq(4,Ea,I.formControl.value))," ")}}function va(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,ha,2,1,"mat-selection-list",22),s.ALo(2,"async"),s.YNc(3,fa,3,6,"div",23),s.ALo(4,"async"),s.BQk()),2&D){s.oxw();const I=s.MAs(11),N=s.oxw();s.xp6(1),s.Q6J("ngIf",!s.lcZ(2,3,N.loading$))("ngIfElse",I),s.xp6(2),s.Q6J("ngIf",s.lcZ(4,5,N.showNoResults$))}}function Ca(D,Ie){1&D&&s._UZ(0,"mat-spinner",28)}function ya(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"div",5)(1,"form",6),s.NdJ("ngSubmit",function(){return s.CHM(I),s.oxw().createEntity()}),s.TgZ(2,"div",7)(3,"mat-form-field",8),s._UZ(4,"input",9,10),s.qZA()(),s.YNc(6,ga,5,5,"mat-action-list",11),s.ALo(7,"async"),s.qZA(),s.YNc(8,va,5,7,"ng-container",12),s.ALo(9,"async"),s.YNc(10,Ca,1,0,"ng-template",null,13,s.W1O),s.qZA()}if(2&D){const I=s.MAs(11),N=s.oxw();s.Q6J("cdkTrapFocusAutoCapture",!0),s.xp6(1),s.Q6J("formGroup",N.formGroup),s.xp6(3),s.Q6J("formControlName",N.getFormControlName())("placeholder",N.placeholder),s.xp6(2),s.Q6J("ngIf",s.lcZ(7,7,N.canCreateEntity$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(9,9,N.entities$))("ngIfElse",I)}}const js="entityInput";let Sa=(()=>{class D{constructor(I,N,ge,Pe,Ye){this.metadataService=I,this.multiEntitySelectInputCreateService=N,this.toastService=ge,this.autocompleterFactory=Pe,this.labelService=Ye,this.selectionChange=new s.vpe,this.formControl=new _i.NI,this.formGroup=new _i.cw({[js]:this.formControl}),this.selectedEntitiesSet=new Set,this.isOverlayOpen$=new Tn.X(!1),this.loading$=new Tn.X(!1),this.isEntityCreatable=!1,this.initiallySelected=new Set,this.added=[]}ngOnChanges(I){var N,ge,Pe;if(I.collectionId){this.autocompleter=this.autocompleterFactory.create(this.collectionId);const Ye=this.formControl.valueChanges.pipe((0,L.O)(""),(0,rn.b)(gt=>this.loading$.next(!0)),(0,he.w)(gt=>this.autocompleter.getFilteredResults(gt)),(0,A.U)(gt=>this.preserveOrder(gt)),(0,ze.K)(gt=>(0,Me.of)([])),(0,rn.b)(gt=>this.loading$.next(!1)));this.entities$=this.isOverlayOpen$.pipe((0,he.w)(gt=>gt?Ye:(0,Me.of)([])),(0,Xt.d)(1)),this.isEntityCreatable=this.multiEntitySelectInputCreateService.isCreatable(this.collectionId),this.canCreateEntity$=this.makeCanCreateEntity$(),this.showNoResults$=this.shouldShowNoResults$();const Qe=this.metadataService.getEntityDef(this.collectionId);this.entityDefLabel=null===(N=null==Qe?void 0:Qe.labels)||void 0===N?void 0:N.name,this.entityDefLabelPlural=null===(ge=null==Qe?void 0:Qe.labels)||void 0===ge?void 0:ge.plural}if(I.entityLimit||I.collectionId){const Ye=null===(Pe=this.entityDefLabelPlural)||void 0===Pe?void 0:Pe.toLowerCase();this.limitReachedLabel=this.labelService.getInterpolatedLabel("CBL.MULTI_ENTITY_SELECT.LIMIT_REACHED",{entityPlural:Ye,limit:this.entityLimit})}I.selectedEntities&&(this.selectedEntitiesSet=new Set(this.selectedEntities))}getFormControlName(){return js}openOverlay(){this.initiallySelected=new Set(this.selectedEntities),this.added=[],this.formControl.setValue(""),this.isOverlayOpen$.next(!0)}onDetach(){this.isOverlayOpen$.next(!1)}onSelectionChange(I){const N=I.options[0];this.selectionChange.emit({identifier:N.value,selected:N.selected})}createEntity(){var I;const N=null===(I=this.formControl.value)||void 0===I?void 0:I.trim();if(!N)return;const ge=this.metadataService.getEntityDef(this.collectionId);if(ge){if(this.limitReached())return void this.toastService.showToast(this.limitReachedLabel);this.canCreateEntity$.pipe((0,me.q)(1),(0,Vn.h)(Pe=>Pe),(0,rn.b)(Pe=>this.formControl.disable({emitEvent:!1})),(0,rn.b)(Pe=>this.loading$.next(!0)),(0,oa.c)(this.multiEntitySelectInputCreateService.createEntity(this.collectionId,N)),(0,Le.x)(()=>{this.formControl.enable(),this.input.nativeElement.focus()})).subscribe({next:Pe=>{this.added.push(Pe.uuid),this.autocompleter.addNew(Pe),this.selectionChange.emit({identifier:Pe,selected:!0}),this.formControl.setValue(""),this.toastService.showSimpleToast("CBL.MULTI_ENTITY_SELECT.CREATE_SUCCESS_TOAST",{entityLabel:ge.labels.name})},error:Pe=>{this.toastService.showSimpleToast("CBL.MULTI_ENTITY_SELECT.CREATE_FAIL_TOAST",{entityLabel:ge.labels.name})}})}}limitReached(){return!!(this.entityLimit&&this.selectedEntities&&this.selectedEntities.length>=this.entityLimit)}getAddButtonTooltip(){return this.limitReached()?this.limitReachedLabel:this.addButtonTooltip}shouldShowNoResults$(){return(0,Uo.aj)([this.entities$,this.loading$]).pipe((0,A.U)(([I,N])=>this.formControl.value&&!I.length&&!N))}makeCanCreateEntity$(){return(0,Uo.aj)([this.entities$,this.loading$]).pipe((0,A.U)(([I,N])=>{var ge;const Pe=null===(ge=this.formControl.value)||void 0===ge?void 0:ge.trim().toLowerCase(),Ye=I.some(Qe=>{var gt;return(null===(gt=Qe.value)||void 0===gt?void 0:gt.trim().toLowerCase())===Pe});return this.isEntityCreatable&&!!Pe&&!Ye&&!N}))}preserveOrder(I){return(0,xe.sortBy)(I,N=>{const ge=N.uuid,Pe=this.added.indexOf(ge);return-1!==Pe?-Pe:this.initiallySelected.has(ge)?1:2})}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(y.Do),s.Y36(da),s.Y36(et.k),s.Y36(ca),s.Y36(Ge.Q))},D.\u0275cmp=s.Xpm({type:D,selectors:[["multi-entity-select-input"]],viewQuery:function(I,N){if(1&I&&s.Gf(Bo,5),2&I){let ge;s.iGM(ge=s.CRH())&&(N.input=ge.first)}},inputs:{collectionId:"collectionId",selectedEntities:"selectedEntities",iconKey:"iconKey",disabled:"disabled",entityLimit:"entityLimit",addButtonTooltip:"addButtonTooltip",placeholder:"placeholder"},outputs:{selectionChange:"selectionChange"},features:[s.TTD],decls:8,vars:11,consts:[[3,"matTooltip"],["mat-stroked-button","","cdkOverlayOrigin","","color","primary",3,"click"],["overlayOrigin","cdkOverlayOrigin"],[3,"iconKey"],["cdkConnectedOverlay","","overlayAutoClose","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayAutoCloseOnTab","detach"],["cdkTrapFocus","",1,"overlay-container",3,"cdkTrapFocusAutoCapture"],[3,"formGroup","ngSubmit"],[1,"input-container"],["appearance","outline","floatLabel","never",1,"cb-form-field-outlined"],["matInput","","cdkFocusInitial","","type","text","autocomplete","off",3,"formControlName","placeholder"],["input",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],[3,"matTooltipDisabled","matTooltip"],["type","submit","mat-list-item","","data-cy","create-new",3,"disabled"],["iconKey","icon_plus",4,"ngIf"],["iconKey","icon_cancel",4,"ngIf"],["iconKey","icon_plus"],[1,"create-entity-label-container"],[1,"create-entity-name"],["iconKey","icon_cancel"],[3,"selectionChange",4,"ngIf","ngIfElse"],["class","no-results",4,"ngIf"],[3,"selectionChange"],[3,"matTooltipDisabled","matTooltip",4,"ngFor","ngForOf"],["checkboxPosition","before",3,"selected","value","disabled"],[1,"no-results"],["diameter","36"]],template:function(I,N){if(1&I&&(s.TgZ(0,"span",0)(1,"button",1,2),s.NdJ("click",function(){return N.openOverlay()}),s.TgZ(3,"label-with-icon",3),s._uU(4),s.ALo(5,"translate"),s.qZA()()(),s.YNc(6,ya,12,11,"ng-template",4),s.ALo(7,"async"),s.NdJ("detach",function(){return N.onDetach()})),2&I){const ge=s.MAs(2);s.Q6J("matTooltip",N.getAddButtonTooltip()),s.xp6(3),s.Q6J("iconKey",N.iconKey),s.xp6(1),s.AsE(" ",s.lcZ(5,7,"CBL.MULTI_ENTITY_SELECT.ADD")," ",N.entityDefLabelPlural," "),s.xp6(2),s.Q6J("cdkConnectedOverlayOrigin",ge)("cdkConnectedOverlayOpen",s.lcZ(7,9,N.isOverlayOpen$))("overlayAutoCloseOnTab",!1)}},directives:[to.gM,jt.lW,Js.xu,Yn.d,Js.pI,_a.K,xi.mK,_i._Y,_i.JL,_i.sg,ti.KE,Qs.Nt,_i.Fj,_i.JJ,_i.u,e.O5,Ni.i$,Ni.Tg,Ni.Ub,e.sg,Ni.vS,Jn.Ou],pipes:[J.X,e.Ov],styles:[".overlay-container[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;border-radius:3px;max-height:256px;overflow-y:auto;max-width:500px}form[_ngcontent-%COMP%]{display:unset}.input-container[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;padding:8px;border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f;background-color:#fff}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-action-list.mat-list-base[_ngcontent-%COMP%], mat-selection-list.mat-list-base[_ngcontent-%COMP%]{padding-top:0}mat-spinner[_ngcontent-%COMP%]{margin:32px auto}mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]   .create-entity-label-container[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{min-width:0;font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}.create-entity-name[_ngcontent-%COMP%]{font-weight:500}mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0000000d;font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}mat-action-list[_ngcontent-%COMP%]   button.mat-list-item-disabled[_ngcontent-%COMP%]{background-color:#00000005;color:#00000061}mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]:focus{background-color:#ebf7fb}mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]  mat-pseudo-checkbox:not(.mat-pseudo-checkbox-checked){background-color:#fff}.no-results[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;padding:16px;overflow-wrap:anywhere}"],changeDetection:0}),D})();var Ia=t(69489);function Ta(D,Ie){1&D&&s.GkF(0)}const Ho=function(D){return{$implicit:D}};function Fi(D,Ie){if(1&D&&(s.TgZ(0,"a",6),s.YNc(1,Ta,1,0,"ng-container",7),s.qZA()),2&D){const I=s.oxw().$implicit;s.oxw();const N=s.MAs(6);s.Q6J("routerLink",I.searchRoute),s.xp6(1),s.Q6J("ngTemplateOutlet",N)("ngTemplateOutletContext",s.VKq(3,Ho,I))}}function Aa(D,Ie){1&D&&s.GkF(0)}function Oa(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,Aa,1,0,"ng-container",7),s.BQk()),2&D){const I=s.oxw().$implicit;s.oxw();const N=s.MAs(6);s.xp6(1),s.Q6J("ngTemplateOutlet",N)("ngTemplateOutletContext",s.VKq(2,Ho,I))}}function Pa(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,Fi,2,5,"a",4),s.YNc(2,Oa,2,4,"ng-container",5),s.BQk()),2&D){const I=Ie.$implicit;s.xp6(1),s.Q6J("ngIf",I.searchRoute),s.xp6(1),s.Q6J("ngIf",!I.searchRoute)}}function ba(D,Ie){1&D&&s._UZ(0,"div",8)}function La(D,Ie){1&D&&s._UZ(0,"mat-spinner",10)}function Ma(D,Ie){if(1&D&&(s.TgZ(0,"chip"),s._uU(1),s.YNc(2,La,1,0,"mat-spinner",9),s.qZA()),2&D){const I=Ie.$implicit,N=s.oxw();s.xp6(1),s.hij(" ",I.identifier.value," "),s.xp6(1),s.Q6J("ngIf",N.removing.has(I.identifier.uuid))}}let Da=(()=>{class D{constructor(I,N,ge,Pe,Ye){this.pillListCardEditService=I,this.profileUpdater=N,this.toastService=ge,this.cdr=Pe,this.fieldFormatterService=Ye,this.pills=[],this.uuids=[],this.removing=new Set,this.isUpdating=!1}ngOnChanges(I){I.pillListCardUiData&&(this.uuids=this.pillListCardUiData.rowItems.map(N=>N.identifier.uuid),this.pills=this.pillListCardUiData.rowItems.map(N=>({identifier:N.identifier,searchRoute:this.getSearchRoute(N.identifier)})))}onChange(I){I.selected?this.add(I.identifier):this.remove(I.identifier.uuid)}remove(I){this.isUpdating=!0,this.removing.add(I),this.cdr.markForCheck(),this.pillListCardEditService.removeRelatedEntity(this.pillListCardUiData,I,this.entityId).pipe((0,Le.x)(()=>{this.isUpdating=!1,this.removing.delete(I),this.cdr.markForCheck()})).subscribe(N=>this.profileUpdater.updateCard(this.pillListCardUiData.id,N),N=>this.toastService.showSimpleToast("CBL.ACCOUNT.TEAMS.TAGS.UPDATE_ERROR"))}add(I){this.isUpdating=!0,this.cdr.markForCheck(),this.pillListCardEditService.addRelatedEntity(this.pillListCardUiData,I,this.entityId).pipe((0,Le.x)(()=>{this.isUpdating=!1,this.cdr.markForCheck()})).subscribe(N=>this.profileUpdater.updateCard(this.pillListCardUiData.id,N),N=>this.toastService.showSimpleToast("CBL.ACCOUNT.TEAMS.TAGS.UPDATE_ERROR"))}getSearchRoute(I){var N;return null===(N=this.fieldFormatterService.constructDrillInRouteByFieldValue(this.pillListCardUiData.rowItemCollectionId,this.pillListCardUiData.card.lookup.field_ids[0],I,"advanced_search"))||void 0===N?void 0:N.path}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(io),s.Y36(wo._),s.Y36(et.k),s.Y36(s.sBO),s.Y36(w.eM))},D.\u0275cmp=s.Xpm({type:D,selectors:[["pill-list-card"]],inputs:{pillListCardUiData:"pillListCardUiData",entityId:"entityId"},features:[s.TTD],decls:7,vars:12,consts:[["iconKey","icon_tag",3,"collectionId","selectedEntities","disabled","entityLimit","addButtonTooltip","placeholder","selectionChange"],[4,"ngFor","ngForOf"],["class","saving-overlay","data-cypress","pill-list-updating",4,"ngIf"],["chip",""],[3,"routerLink",4,"ngIf"],[4,"ngIf"],[3,"routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-cypress","pill-list-updating",1,"saving-overlay"],["diameter","16",4,"ngIf"],["diameter","16"]],template:function(I,N){1&I&&(s.TgZ(0,"multi-entity-select-input",0),s.NdJ("selectionChange",function(Pe){return N.onChange(Pe)}),s.ALo(1,"translate"),s.ALo(2,"translate"),s.qZA(),s.YNc(3,Pa,3,2,"ng-container",1),s.YNc(4,ba,1,0,"div",2),s.YNc(5,Ma,3,2,"ng-template",null,3,s.W1O)),2&I&&(s.Q6J("collectionId",N.pillListCardUiData.rowItemCollectionId)("selectedEntities",N.uuids)("disabled",N.isUpdating)("entityLimit",N.pillListCardUiData.limit)("addButtonTooltip",s.lcZ(1,8,"CBL.ENTITY.PILL_LIST_CARD.TAGS.SELECT_TOOLTIP"))("placeholder",s.lcZ(2,10,"CBL.ENTITY.PILL_LIST_CARD.TAGS.SELECT_PLACEHOLDER")),s.xp6(3),s.Q6J("ngForOf",N.pills),s.xp6(1),s.Q6J("ngIf",N.isUpdating))},directives:[Sa,e.sg,e.O5,gn.n,i.yS,e.tP,Ia.Y,Jn.Ou],pipes:[J.X],styles:["[_nghost-%COMP%]{position:relative;margin:20px 0;padding:0 20px;display:flex;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{margin:4px 8px 4px 0;flex:0 0 auto}.saving-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(255,255,255,.5)}mat-spinner[_ngcontent-%COMP%]{display:inline-block}.entity-loading[_nghost-%COMP%]   chip[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   chip[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   multi-entity-select-input[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   multi-entity-select-input[_ngcontent-%COMP%]{display:none}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0}),D})();var Ra=t(3259),xa=t(30412),Na=t(5076),Fa=t(89248),oo=t(54020),zo=t(5149),Y=t(35585),Be=t(17272),B=t(24993),Te=t(35595),Ve=t(27367),At=t(61756);function en(D,Ie){if(1&D&&s._UZ(0,"field-formatter",14),2&D){const I=s.oxw();s.Q6J("field",I.similarity.entityDetails.locations.field)("fieldData",I.similarity.entityDetails.locations.data)("collectionId",I.similarity.entityDetails.locations.collectionId)}}function tn(D,Ie){1&D&&s.GkF(0)}function ri(D,Ie){if(1&D&&(s.TgZ(0,"a",17),s.YNc(1,tn,1,0,"ng-container",18),s.qZA()),2&D){s.oxw();const I=s.MAs(3),N=s.oxw();s.Q6J("routerLink",N.routeToContacts),s.xp6(1),s.Q6J("ngTemplateOutlet",I)}}function hi(D,Ie){if(1&D&&(s._UZ(0,"field-formatter",14),s._uU(1)),2&D){const I=s.oxw(2);s.Q6J("field",I.contactsField.field)("fieldData",I.contactsField.data)("collectionId",I.contactsField.collectionId),s.xp6(1),s.hij(" ",I.contactsField.label,"")}}function wi(D,Ie){if(1&D&&(s.TgZ(0,"span"),s.YNc(1,ri,2,2,"a",15),s.YNc(2,hi,2,4,"ng-template",null,16,s.W1O),s.qZA()),2&D){const I=s.MAs(3),N=s.oxw();s.xp6(1),s.Q6J("ngIf",N.routeToContacts)("ngIfElse",I)}}function Go(D,Ie){if(1&D&&(s.TgZ(0,"span"),s.tHW(1,19),s._UZ(2,"field-formatter",14),s.N_p(),s.qZA()),2&D){const I=s.oxw();s.xp6(2),s.Q6J("field",I.similarity.entityDetails.numEmployees.field)("fieldData",I.similarity.entityDetails.numEmployees.data)("collectionId",I.similarity.entityDetails.numEmployees.collectionId)}}function Zo(D,Ie){if(1&D&&(s.TgZ(0,"span"),s.tHW(1,20),s._UZ(2,"field-formatter",14),s.N_p(),s.qZA()),2&D){const I=s.oxw();s.xp6(2),s.Q6J("field",I.similarity.entityDetails.revenueRange.field)("fieldData",I.similarity.entityDetails.revenueRange.data)("collectionId",I.similarity.entityDetails.revenueRange.collectionId)}}function Wo(D,Ie){if(1&D&&(s.TgZ(0,"div",21),s._UZ(1,"identifier-multi-formatter",22),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.Q6J("collectionId",I.similarity.entityDetails.categories.collectionId)("field",I.similarity.entityDetails.categories.field)("fieldData",I.similarity.entityDetails.categories.data)("contextType",I.contextType)("maxNumChips",3)}}function $o(D,Ie){if(1&D&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&D){const I=s.oxw();s.xp6(1),s.hij(" ",I.similarity.entityDetails.shortDescription.data," ")}}function ir(D,Ie){1&D&&s.SDv(0,24,1)}function or(D,Ie){if(1&D&&(s.SDv(0,24,2),s.ALo(1,"localizedList")),2&D){const I=s.oxw(2);s.xp6(1),s.pQV(s.lcZ(1,1,I.similarity.reasonLabels)),s.QtT(0)}}function sr(D,Ie){if(1&D&&(s.TgZ(0,"div",23),s.tHW(1,24),s._UZ(2,"identifier-link",25)(3,"identifier-link",25),s.ynx(4,26),s.YNc(5,ir,1,0,"ng-template",27),s.YNc(6,or,2,3,"ng-template",28),s.BQk(),s.N_p(),s.qZA()),2&D){const I=s.oxw();s.xp6(2),s.Q6J("identifier",I.source)("color","accent"),s.xp6(1),s.Q6J("identifier",I.similarity.entity)("color","accent"),s.xp6(1),s.Q6J("ngPlural",I.similarity.reasonLabels.length),s.xp6(2),s.pQV(I.source.value)(I.similarity.entity.value),s.QtT(1)}}function ar(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"crm-push-button",29),s.NdJ("clickPushToCrm",function(){return s.CHM(I),s.oxw().clickPushToCrm()}),s.qZA()}if(2&D){const I=s.oxw();s.Q6J("entityId",I.similarity.entity.uuid)}}function rr(D,Ie){1&D&&(s.TgZ(0,"span",30),s.SDv(1,31),s.qZA())}let Za=(()=>{class D{constructor(I,N){this.store=I,this.fieldFormatterService=N,this.userFeedbackEvent=new s.vpe,this.isCrmConnected$=this.store.select(zo.k2),this.contextType=w.Qy.profile,this.thumbsUpTooltip=$localize`These companies are similar`,this.thumbsDownTooltip=$localize`These companies are not similar`}ngOnChanges(){var I,N,ge;const Pe=this.similarity.entityDetails;"number"==typeof(null===(I=Pe.numContacts)||void 0===I?void 0:I.data)&&(this.contactsField=Object.assign(Object.assign({},Pe.numContacts),{label:Pe.numContacts.data>1?$localize`:personal connection information:Contacts`:$localize`:personal connection information:Contact`})),this.routeToContacts=(null===(N=Pe.numContacts)||void 0===N?void 0:N.data)?null===(ge=this.fieldFormatterService.constructDrillInRouteByFieldValue(Pe.numContacts.collectionId,Pe.numContacts.field.id,this.similarity.entity,"advanced_search"))||void 0===ge?void 0:ge.path:void 0}clickThumbsUp(){"thumbs_up"!==this.feedback&&this.sendFeedbackEvent(Ne.kA.ReasonEnum.thumbs_up)}clickThumbsDown(){"thumbs_down"!==this.feedback&&this.sendFeedbackEvent(Ne.kA.ReasonEnum.thumbs_down)}clickViewProfile(){this.sendFeedbackEvent(Ne.kA.ReasonEnum.page_view)}clickSave(){this.sendFeedbackEvent(Ne.kA.ReasonEnum.save_list)}clickPushToCrm(){this.sendFeedbackEvent(Ne.kA.ReasonEnum.save_crm)}sendFeedbackEvent(I){this.userFeedbackEvent.emit({similarity:this.similarity,feedback:I})}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(Y.yh),s.Y36(w.eM))},D.\u0275cmp=s.Xpm({type:D,selectors:[["org-similarity-card-item"]],inputs:{source:"source",similarity:"similarity",feedback:"feedback"},outputs:{userFeedbackEvent:"userFeedbackEvent"},features:[s.TTD],decls:19,vars:21,consts:function(){let Ie,I,N,ge;return Ie=$localize`:␟1b1213fa0838918ecbd93cda46cf5735e3b1bf2b␟7014522115531658111:${"\ufffd#2\ufffd"}:START_TAG_FIELD_FORMATTER:${"\ufffd/#2\ufffd"}:CLOSE_TAG_FIELD_FORMATTER: employees `,I=$localize`:␟6852241b6159eed2d28de9adb591440e72c271ce␟3088541931985674099:${"\ufffd#2\ufffd"}:START_TAG_FIELD_FORMATTER:${"\ufffd/#2\ufffd"}:CLOSE_TAG_FIELD_FORMATTER: revenue `,N=$localize`:␟67c7fccadfcd39636c85ba81cb3bdcc2022d96e8␟6256515552576751039:${"\ufffd#2\ufffd"}:START_TAG_IDENTIFIER_LINK:${"\ufffd0\ufffd"}:INTERPOLATION:${"[\ufffd/#2\ufffd|\ufffd/#3\ufffd]"}:CLOSE_TAG_IDENTIFIER_LINK: and ${"\ufffd#3\ufffd"}:START_TAG_IDENTIFIER_LINK_1:${"\ufffd1\ufffd"}:INTERPOLATION_1:${"[\ufffd/#2\ufffd|\ufffd/#3\ufffd]"}:CLOSE_TAG_IDENTIFIER_LINK: share similar ${"\ufffd#4\ufffd"}:START_TAG_NG_CONTAINER:${"\ufffd*5:1\ufffd"}:START_TAG_NG_TEMPLATE:characteristics${"[\ufffd/*5:1\ufffd|\ufffd/*6:2\ufffd]"}:CLOSE_TAG_NG_TEMPLATE:${"\ufffd*6:2\ufffd"}:START_TAG_NG_TEMPLATE_1: ${"\ufffd0:2\ufffd"}:INTERPOLATION_2: ${"[\ufffd/*5:1\ufffd|\ufffd/*6:2\ufffd]"}:CLOSE_TAG_NG_TEMPLATE:${"\ufffd/#4\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,N=s.Zx4(N),ge=$localize`:␟91acf2a6eec5e1f8af8f813d45038c0b4226d4b5␟5863477663713778174:These companies are similar`,[[1,"header-container"],[3,"identifier","size"],[3,"identifier","color","mousedown"],[1,"details-container"],[1,"inline-list"],[3,"field","fieldData","collectionId",4,"ngIf"],[4,"ngIf"],["class","industries",4,"ngIf"],["class","reasons-container",4,"ngIf"],[1,"actions-container"],[3,"entityId","entityDefId","clickSave"],[3,"entityId","clickPushToCrm",4,"ngIf"],["class","feedback-label",4,"ifBreakpoint"],[3,"feedback","thumbsUpTooltip","thumbsDownTooltip","clickThumbsUp","clickThumbsDown"],[3,"field","fieldData","collectionId"],["cb-link","accent",3,"routerLink",4,"ngIf","ngIfElse"],["contactsTemplate",""],["cb-link","accent",3,"routerLink"],[4,"ngTemplateOutlet"],Ie,I,[1,"industries"],[3,"collectionId","field","fieldData","contextType","maxNumChips"],[1,"reasons-container"],N,[3,"identifier","color"],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","other"],[3,"entityId","clickPushToCrm"],[1,"feedback-label"],ge]},template:function(I,N){1&I&&(s.TgZ(0,"div",0),s._UZ(1,"identifier-image",1),s.TgZ(2,"identifier-link",2),s.NdJ("mousedown",function(){return N.clickViewProfile()}),s._uU(3),s.qZA()(),s.TgZ(4,"div",3)(5,"div",4),s.YNc(6,en,1,3,"field-formatter",5),s.YNc(7,wi,4,2,"span",6),s.YNc(8,Go,3,3,"span",6),s.YNc(9,Zo,3,3,"span",6),s.qZA(),s.YNc(10,Wo,2,5,"div",7),s.YNc(11,$o,2,1,"div",6),s.qZA(),s.YNc(12,sr,7,7,"div",8),s.TgZ(13,"div",9)(14,"save-to-list-button",10),s.NdJ("clickSave",function(){return N.clickSave()}),s.qZA(),s.YNc(15,ar,1,1,"crm-push-button",11),s.ALo(16,"async"),s.YNc(17,rr,2,0,"span",12),s.TgZ(18,"thumbs-feedback",13),s.NdJ("clickThumbsUp",function(){return N.clickThumbsUp()})("clickThumbsDown",function(){return N.clickThumbsDown()}),s.qZA()()),2&I&&(s.xp6(1),s.Q6J("identifier",N.similarity.entity)("size",40),s.xp6(1),s.Q6J("identifier",N.similarity.entity)("color","accent"),s.xp6(1),s.hij("",N.similarity.entity.value," "),s.xp6(3),s.Q6J("ngIf",N.similarity.entityDetails.locations&&N.similarity.entityDetails.locations.data),s.xp6(1),s.Q6J("ngIf",N.contactsField),s.xp6(1),s.Q6J("ngIf",N.similarity.entityDetails.numEmployees&&N.similarity.entityDetails.numEmployees.data),s.xp6(1),s.Q6J("ngIf",N.similarity.entityDetails.revenueRange&&N.similarity.entityDetails.revenueRange.data),s.xp6(1),s.Q6J("ngIf",N.similarity.entityDetails.categories&&N.similarity.entityDetails.categories.data),s.xp6(1),s.Q6J("ngIf",N.similarity.entityDetails.shortDescription),s.xp6(1),s.Q6J("ngIf",(null==N.source?null:N.source.value)&&(null==N.similarity.entity?null:N.similarity.entity.value)),s.xp6(2),s.Q6J("entityId",N.similarity.entity.uuid)("entityDefId",N.similarity.entity.entity_def_id),s.xp6(1),s.Q6J("ngIf",s.lcZ(16,19,N.isCrmConnected$)),s.xp6(2),s.Q6J("ifBreakpoint","desktop"),s.xp6(1),s.Q6J("feedback",N.feedback)("thumbsUpTooltip",N.thumbsUpTooltip)("thumbsDownTooltip",N.thumbsDownTooltip))},directives:[gi.J,mn.N,e.O5,$.N,gn.n,G.I,i.yS,e.tP,Be.R,e.iq,e.zE,B.z,Te.e,Z.G,Ve.q],pipes:[At.t,e.Ov],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:grid;grid-gap:8px;gap:8px}@media (min-width: 960px){[_nghost-%COMP%]{grid-template:"header  header " min-content "details reasons" min-content "details .      " auto "actions actions" max-content/2fr 1fr}}@media (max-width: 960px){[_nghost-%COMP%]{grid-template:"header " min-content "details" auto "reasons" min-content "actions" max-content}}.header-container[_ngcontent-%COMP%]{grid-area:header;display:flex;align-items:center;gap:8px;font-size:20px;line-height:28px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif}.details-container[_ngcontent-%COMP%]{grid-area:details}.details-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:8px}.details-container[_ngcontent-%COMP%]   .inline-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):after{content:"\\2022";margin:0 4px}.industries[_ngcontent-%COMP%]   chip[_ngcontent-%COMP%]{margin-bottom:4px}.industries[_ngcontent-%COMP%]   chip[_ngcontent-%COMP%]:not(:last-child){margin-right:4px}.industries[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.reasons-container[_ngcontent-%COMP%]{grid-area:reasons;background-color:#e3edff;color:#282828;border-radius:4px;padding:16px}.actions-container[_ngcontent-%COMP%]{grid-area:actions;display:inline-flex;gap:8px;align-items:center;padding-top:8px}.feedback-label[_ngcontent-%COMP%]{font-weight:500}'],changeDetection:0}),D})();function lr(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"div",2)(1,"org-similarity-card-item",3),s.NdJ("userFeedbackEvent",function(ge){const Ye=s.CHM(I).ngForOf;return s.oxw().handleFeedback(ge,Ye)}),s.qZA()()}if(2&D){const I=Ie.$implicit,N=s.oxw();s.xp6(1),s.Q6J("source",N.entity.properties.identifier)("similarity",I)("feedback",I.feedback)}}function cr(D,Ie){1&D&&(s.TgZ(0,"upsell-modal-button",7),s.SDv(1,8),s.qZA())}function dr(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(I),s.oxw(3).setShowMore()}),s.TgZ(1,"label-with-icon",11),s.SDv(2,12),s.qZA()()}2&D&&(s.xp6(1),s.Q6J("iconKey","icon_caret_down")("iconAfter",!0))}function Wa(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(I),s.oxw(3).setShowFewer()}),s.TgZ(1,"label-with-icon",11),s.SDv(2,13),s.qZA()()}2&D&&(s.xp6(1),s.Q6J("iconKey","icon_caret_up")("iconAfter",!0))}function qs(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,dr,3,2,"button",9),s.ALo(2,"async"),s.YNc(3,Wa,3,2,"button",9),s.ALo(4,"async"),s.BQk()),2&D){const I=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!s.lcZ(2,2,I.isViewingMore$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(4,4,I.isViewingMore$))}}function _r(D,Ie){if(1&D&&(s.TgZ(0,"div",4),s.YNc(1,cr,2,0,"ng-template",null,5,s.W1O),s.YNc(3,qs,5,6,"ng-container",6),s.ALo(4,"async"),s.qZA()),2&D){const I=s.MAs(2),N=s.oxw();s.xp6(3),s.Q6J("ngIf",s.lcZ(4,2,N.canViewMore$))("ngIfElse",I)}}let $a=(()=>{class D{constructor(I,N,ge,Pe){this.store=I,this.globalStore=N,this.usageEventService=ge,this.toastService=Pe,this.hasMoreThanBaseSimilarityCount$=this.store.selectHasMoreThanBaseCount$,this.canViewMore$=this.store.selectCanViewMore$,this.isViewingMore$=this.store.selectIsViewingMore$,this.visibleSimilarities$=this.store.selectVisibleSimilaritiesWithFeedback$,this.trackSimilarityCardItem=(Ye,Qe)=>Qe.entity.uuid}ngOnChanges(){this.store.patchState({similarities:this.orgSimilarityCardUiData.similarEntities}),this.store.initFeedback(this.entity.properties.identifier.uuid),this.globalStore.dispatch((0,zo.p9)({action:(0,zo.il)({entityIds:this.orgSimilarityCardUiData.similarEntities.map(I=>I.entity.uuid)})}))}setShowFewer(){this.store.patchState({isViewingMore:!1})}setShowMore(){this.store.patchState({isViewingMore:!0})}handleFeedback(I,N){this.usageEventService.logUsageEvent("similar_company_feedback",{entity_id:I.similarity.entity.uuid,context_entity_id:this.entity.properties.identifier.uuid,visible_entity_ids:N.map(Pe=>Pe.entity.uuid).join(","),feedback:I.feedback,score:I.similarity.score});const ge=this.convertReasonToThumbsState(I.feedback);ge&&(this.store.giveFeedback(I.similarity,ge),this.toastService.showToast($localize`Thank you for your feedback! This will be used to update future results.`))}convertReasonToThumbsState(I){switch(I){case Ne.kA.ReasonEnum.thumbs_up:return"thumbs_up";case Ne.kA.ReasonEnum.thumbs_down:return"thumbs_down";default:return}}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(oo.xd),s.Y36(Y.yh),s.Y36(Sn.N),s.Y36(et.k))},D.\u0275cmp=s.Xpm({type:D,selectors:[["org-similarity-card"]],inputs:{entity:"entity",orgSimilarityCardUiData:"orgSimilarityCardUiData"},features:[s._Bn([oo.xd]),s.TTD],decls:4,vars:7,consts:function(){let Ie,I,N;return Ie=$localize`:␟06db8d697b0d6169c0b1a27837d6645ce15b2525␟902707670969307535: Show More `,I=$localize`:␟fa692a779ecd701620a053af169d48ad4fb32f3d␟1398485922654140074: View All `,N=$localize`:␟0d8d2c6e8cbecfb24dab2ce71ae9e234d76a44fb␟887352055243155929: View Fewer `,[["class","similarity-row",4,"ngFor","ngForOf","ngForTrackBy"],["class","view-more-container",4,"ngIf"],[1,"similarity-row"],[3,"source","similarity","feedback","userFeedbackEvent"],[1,"view-more-container"],["upsell",""],[4,"ngIf","ngIfElse"],["featureSet","similar_companies_show_more","triggerLocation","org-similarities-card-view-more"],Ie,["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],[3,"iconKey","iconAfter"],I,N]},template:function(I,N){1&I&&(s.YNc(0,lr,2,3,"div",0),s.ALo(1,"async"),s.YNc(2,_r,5,4,"div",1),s.ALo(3,"async")),2&I&&(s.Q6J("ngForOf",s.lcZ(1,3,N.visibleSimilarities$))("ngForTrackBy",N.trackSimilarityCardItem),s.xp6(2),s.Q6J("ngIf",s.lcZ(3,5,N.hasMoreThanBaseSimilarityCount$)))},directives:[e.sg,Za,e.O5,an.J,jt.lW,Yn.d],pipes:[e.Ov],styles:[".similarity-row[_ngcontent-%COMP%]{margin:16px;padding-top:16px;border-top:1px solid rgba(0,0,0,.12)}.similarity-row[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.view-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 8px 16px}"],changeDetection:0}),D})();var ur=t(97186),Ka=t(63304),pr=t(69541),gr=t(35886),cn=t(3531),wa=t(90808),Ua=t(97010),Va=t(70821),Ya=t(13584),mr=t(4143),Ba=t(42391),hr=t(26435);let fr=(()=>{class D{constructor(I,N,ge){this.platformService=I,this.routingHelper=N,this.engageService=ge}handleEngageOpenFromExtension(){if(!this.platformService.isBrowser()||!this.extractFromExtensionQueryParam())return;const N=this.routingHelper.extractAndDeleteQueryParam(Ba.On),ge=this.routingHelper.extractAndDeleteQueryParam(Ba.yz),Pe=this.routingHelper.extractAndDeleteQueryParam(Ba.KN);!N||!Pe||this.engageService.sendEmail(N,Pe,ge)}extractFromExtensionQueryParam(){return!!this.routingHelper.extractAndDeleteQueryParam("fromExtension")}}return D.\u0275fac=function(I){return new(I||D)(s.LFG(bn.m),s.LFG(hr.VP),s.LFG(Va.q7))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var vr=t(19250),Cr=t(22152),yr=t(20979),Sr=t(23216),Ja=t(5419),Ir=t(33550);let Tr=(()=>{class D{constructor(I){this.store=I,this.orgUuid$=this.store.select(cn.Nb),this.searchOption$=this.store.select(cn.Ys).pipe((0,A.U)(N=>Sr.JH[N])),this.searchOptionKey$=this.store.select(cn.Ys),this.searchValues$=this.store.select(cn.PQ),this.excludeUuids$=this.searchValues$.pipe((0,A.U)(N=>N.map(ge=>ge.uuid))),this.searchLoadingError$=this.store.select(cn.Yr)}handleSetSearchOptionKey(I){this.store.dispatch((0,cn.zJ)({value:I}))}handleAddSearchValue(I){this.store.dispatch((0,cn.MJ)({value:I}))}handleUpdateSelectedStaticSearchValues(I){this.store.dispatch((0,Ja.C_)({values:I}))}handleRemoveSearchValue(I){this.store.dispatch((0,cn.UT)({value:I}))}handleToggleOnlyUnlockedContacts(I){this.store.dispatch((0,Ja.BP)({showOnlyUnlockedContacts:I}))}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(Y.yh))},D.\u0275cmp=s.Xpm({type:D,selectors:[["contacts-card-search"]],decls:7,vars:19,consts:[[3,"showShowMyContactsCheckbox","orgUuid","searchOption","searchOptionKey","searchValues","excludeUuids","searchLoadingError","onSetSearchOptionKey","onAddSearchValue","onUpdateSelectedStaticSearchValues","onRemoveSearchValue","onToggleOnlyUnlockedContacts"]],template:function(I,N){1&I&&(s.TgZ(0,"contacts-search",0),s.NdJ("onSetSearchOptionKey",function(Pe){return N.handleSetSearchOptionKey(Pe)})("onAddSearchValue",function(Pe){return N.handleAddSearchValue(Pe)})("onUpdateSelectedStaticSearchValues",function(Pe){return N.handleUpdateSelectedStaticSearchValues(Pe)})("onRemoveSearchValue",function(Pe){return N.handleRemoveSearchValue(Pe)})("onToggleOnlyUnlockedContacts",function(Pe){return N.handleToggleOnlyUnlockedContacts(Pe)}),s.ALo(1,"async"),s.ALo(2,"async"),s.ALo(3,"async"),s.ALo(4,"async"),s.ALo(5,"async"),s.ALo(6,"async"),s.qZA()),2&I&&s.Q6J("showShowMyContactsCheckbox",!0)("orgUuid",s.lcZ(1,7,N.orgUuid$))("searchOption",s.lcZ(2,9,N.searchOption$))("searchOptionKey",s.lcZ(3,11,N.searchOptionKey$))("searchValues",s.lcZ(4,13,N.searchValues$))("excludeUuids",s.lcZ(5,15,N.excludeUuids$))("searchLoadingError",s.lcZ(6,17,N.searchLoadingError$))},directives:[Ir.w],pipes:[e.Ov],encapsulation:2,changeDetection:0}),D})();var Qa=t(97252),Ar=t(62826),ja=t(70898);let Or=(()=>{class D{constructor(I){this.store=I,this.contactsLoading$=this.store.select(cn.Y),this.anyContactIsUnlocking$=this.store.select(wa.O3)}ngOnChanges(){this.contactIsUnlocking$=this.store.select((0,wa.on)(this.contactState.contact.uuid))}unlock(I){this.store.dispatch((0,cn.U$)({contactId:this.contactState.contact.uuid,triggerLocation:I}))}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(Y.yh))},D.\u0275cmp=s.Xpm({type:D,selectors:[["contacts-card-row"]],inputs:{contactState:"contactState",organizationId:"organizationId"},features:[s.TTD],decls:6,vars:14,consts:[[3,"contact"],[3,"contactState","organizationId"],[3,"contactState","contactIsUnlocking","contactsLoading","anyContactIsUnlocking","organizationId","onUnlockClick"]],template:function(I,N){1&I&&(s._UZ(0,"contact-details",0)(1,"contact-items-details",1),s.TgZ(2,"contacts-card-actions",2),s.NdJ("onUnlockClick",function(Pe){return N.unlock(Pe)}),s.ALo(3,"async"),s.ALo(4,"async"),s.ALo(5,"async"),s.qZA()),2&I&&(s.Q6J("contact",N.contactState.contact),s.xp6(1),s.Q6J("contactState",N.contactState)("organizationId",N.organizationId),s.xp6(1),s.Q6J("contactState",N.contactState)("contactIsUnlocking",s.lcZ(3,8,N.contactIsUnlocking$))("contactsLoading",s.lcZ(4,10,N.contactsLoading$))("anyContactIsUnlocking",s.lcZ(5,12,N.anyContactIsUnlocking$))("organizationId",N.organizationId))},directives:[Qa.a,Ar.I,ja.C],pipes:[e.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-top:1px solid rgba(0,0,0,.12);padding:16px 0}@media (min-width: 960px){[_nghost-%COMP%]{flex-direction:row;align-items:flex-start}}contact-details[_ngcontent-%COMP%], contact-items-details[_ngcontent-%COMP%], contacts-card-actions[_ngcontent-%COMP%]{min-width:0}contact-details[_ngcontent-%COMP%]:not(:last-child), contact-items-details[_ngcontent-%COMP%]:not(:last-child), contacts-card-actions[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}@media (min-width: 960px){contact-details[_ngcontent-%COMP%]:not(:last-child), contact-items-details[_ngcontent-%COMP%]:not(:last-child), contacts-card-actions[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0}}contact-details[_ngcontent-%COMP%], contact-items-details[_ngcontent-%COMP%]{flex:1}contacts-card-actions[_ngcontent-%COMP%]{flex:0 0 auto}@media (min-width: 960px){contact-details[_ngcontent-%COMP%]{margin-right:20px}contacts-card-actions[_ngcontent-%COMP%]{margin-right:20px}}@media (max-width: 960px){contacts-card-actions[_ngcontent-%COMP%]{margin-top:20px}}"],changeDetection:0}),D})();function Pr(D,Ie){1&D&&(s.TgZ(0,"div",6),s._UZ(1,"contacts-credits")(2,"contacts-meter-upsell-button",7),s.qZA())}function qa(D,Ie){1&D&&s._UZ(0,"contacts-banner")}function Xs(D,Ie){1&D&&s._UZ(0,"contacts-card-search")}function br(D,Ie){if(1&D&&s._UZ(0,"contacts-card-row",17),2&D){const I=Ie.$implicit,N=s.oxw(4);s.Q6J("contactState",I)("organizationId",N.contactsCardUiData.orgUuid)}}function Lr(D,Ie){1&D&&(s.TgZ(0,"div",18),s._UZ(1,"mat-spinner",19),s.qZA()),2&D&&(s.xp6(1),s.Q6J("diameter",32))}function Mr(D,Ie){1&D&&(s.TgZ(0,"div",20)(1,"label-with-icon",21),s.SDv(2,22),s.qZA()())}function Dr(D,Ie){if(1&D){const I=s.EpF();s.TgZ(0,"progress-button",23),s.NdJ("onClick",function(){return s.CHM(I),s.oxw(4).viewMore()}),s.ALo(1,"translate"),s.ALo(2,"async"),s.qZA()}if(2&D){const I=s.oxw(4);s.Q6J("label",s.lcZ(1,3,"CBL.ENTITY.CONTACTS_CARD.SHOW_MORE"))("hideLabelOnMobile",!1)("isLoading",s.lcZ(2,5,I.viewMoreLoading$))}}function Rr(D,Ie){1&D&&(s.TgZ(0,"upsell-modal-button",24),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&D&&(s.Q6J("showDetails",!0),s.xp6(1),s.hij(" ",s.lcZ(2,2,"CBL.ENTITY.CONTACTS_CARD.SHOW_MORE")," "))}const ka=function(D,Ie){return{count:D,total:Ie}};function _n(D,Ie){if(1&D&&(s.ynx(0),s.TgZ(1,"div",8),s.YNc(2,br,1,2,"contacts-card-row",9),s.YNc(3,Lr,2,1,"div",10),s.ALo(4,"async"),s.qZA(),s.YNc(5,Mr,3,0,"div",11),s.ALo(6,"async"),s.TgZ(7,"div",12),s._UZ(8,"span",13),s.YNc(9,Dr,3,7,"progress-button",14),s.ALo(10,"async"),s.ALo(11,"async"),s.YNc(12,Rr,3,4,"upsell-modal-button",15),s.ALo(13,"async"),s.ALo(14,"async"),s.TgZ(15,"span",16),s._uU(16),s.ALo(17,"translate"),s.ALo(18,"async"),s.qZA()(),s.BQk()),2&D){const I=s.oxw().ngIf,N=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",I),s.xp6(1),s.Q6J("ngIf",s.lcZ(4,6,N.searchLoading$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(6,8,N.viewMoreLoadingError$)),s.xp6(4),s.Q6J("ngIf",s.lcZ(10,10,N.hasMore$)&&s.lcZ(11,12,N.permittedToViewMore$)),s.xp6(3),s.Q6J("ngIf",s.lcZ(13,14,N.hasMore$)&&!s.lcZ(14,16,N.permittedToViewMore$)),s.xp6(4),s.hij(" ",s.xi3(17,18,"CBL.ENTITY.CONTACTS_CARD.SHOW_COUNT",s.WLB(23,ka,I.length,s.lcZ(18,21,N.total$)))," ")}}const Mn=function(D){return{companyName:D}};function xr(D,Ie){if(1&D&&(s.ynx(0),s.TgZ(1,"h3"),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"div",27),s.SDv(5,28),s.qZA(),s.TgZ(6,"a",29),s.SDv(7,30),s.qZA(),s.BQk()),2&D){const I=s.oxw(4);s.xp6(2),s.hij(" ",s.xi3(3,1,"CBL.ENTITY.CONTACTS_CARD.EMPTY_STATE.HEADER",s.VKq(4,Mn,I.entity.properties.identifier.value))," ")}}function ea(D,Ie){1&D&&(s.TgZ(0,"h3"),s.SDv(1,31),s.qZA())}function Dn(D,Ie){1&D&&(s.TgZ(0,"div",18),s._UZ(1,"mat-spinner",19),s.qZA()),2&D&&(s.xp6(1),s.Q6J("diameter",32))}function Nr(D,Ie){if(1&D&&(s.TgZ(0,"div",25),s._UZ(1,"cb-image",26),s.YNc(2,xr,8,6,"ng-container",0),s.ALo(3,"async"),s.YNc(4,ea,2,0,"h3",0),s.ALo(5,"async"),s.ALo(6,"async"),s.YNc(7,Dn,2,1,"div",10),s.ALo(8,"async"),s.qZA()),2&D){const I=s.oxw(3);s.xp6(1),s.Q6J("original",!0)("resource",I.emptyContactsImageId)("alt",""),s.xp6(1),s.Q6J("ngIf",s.lcZ(3,6,I.initialLoaded$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(5,8,I.searchLoaded$)||s.lcZ(6,10,I.searchLoading$)),s.xp6(3),s.Q6J("ngIf",s.lcZ(8,12,I.searchLoading$))}}function Fr(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,Pr,3,0,"div",3),s.ALo(2,"async"),s.YNc(3,qa,1,0,"contacts-banner",0),s.ALo(4,"async"),s.YNc(5,Xs,1,0,"contacts-card-search",0),s.ALo(6,"async"),s.YNc(7,_n,19,26,"ng-container",4),s.YNc(8,Nr,9,14,"ng-template",null,5,s.W1O),s.BQk()),2&D){const I=Ie.ngIf,N=s.MAs(9),ge=s.oxw(2);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,5,ge.selectShowContactCredits$)&&I.length),s.xp6(2),s.Q6J("ngIf",s.lcZ(4,7,ge.showContactsBanner$)&&I.length),s.xp6(2),s.Q6J("ngIf",!(s.lcZ(6,9,ge.initialLoaded$)&&!I.length)),s.xp6(2),s.Q6J("ngIf",I.length)("ngIfElse",N)}}function wr(D,Ie){if(1&D&&(s.ynx(0),s.YNc(1,Fr,10,11,"ng-container",0),s.ALo(2,"async"),s.BQk()),2&D){const I=s.oxw();s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,I.contactsStates$))}}function Ur(D,Ie){1&D&&(s.TgZ(0,"div",32),s._UZ(1,"mat-spinner"),s.qZA())}function Br(D,Ie){1&D&&(s.TgZ(0,"div",33),s._UZ(1,"theme-icon",34),s.TgZ(2,"span"),s.SDv(3,35),s.qZA()())}let Xa=(()=>{class D{constructor(I,N,ge,Pe,Ye,Qe){this.store=I,this.engagePostConnectService=N,this.metaService=ge,this.permissionService=Pe,this.contactsService=Ye,this.extensionEngageService=Qe,this.isSoloCardOnPage=!1,this.contactsStates$=(0,Uo.aj)([this.store.select(cn.ai),this.store.select(wa.WC)]).pipe((0,A.U)(([gt,vt])=>gt.map(It=>{const Ht=vt[It.contact.uuid];if(Ht){const Kt=this.contactsService.mergeWithUnlockedContact(It.details,Ht);return Object.assign(Object.assign({},It),{details:Kt})}return It})),(0,Xt.d)({bufferSize:1,refCount:!0})),this.initialLoading$=this.store.select(cn.af),this.initialLoadingError$=this.store.select(cn.kD),this.searchLoading$=this.store.select(cn.o8),this.viewMoreLoading$=this.store.select(cn.NH),this.viewMoreLoadingError$=this.store.select(cn.tQ),this.hasMore$=this.store.select(cn.Fz),this.permittedToViewMore$=this.permissionService.getPermissions().pipe((0,A.U)(gt=>gt.canViewMoreContacts())),this.total$=this.store.select(cn.yq),this.emptyContactsImageId=Ua.Wh.emptyContacts,this.searchLoaded$=this.store.select(cn.gq),this.initialLoaded$=this.store.select(cn.hk),this.showContactsBanner$=this.store.select(cn.PB),this.selectShowContactCredits$=this.store.select(cn.Mi)}ngOnChanges(){const{orgUuid:I,hasContacts:N}=this.contactsCardUiData;this.store.dispatch((0,cn.oD)({orgUuid:I,hasData:N})),!N&&this.isSoloCardOnPage&&this.metaService.setNoIndex()}ngOnInit(){this.engagePostConnectService.handleConnectEmailRedirect(),this.extensionEngageService.handleEngageOpenFromExtension(),this.store.dispatch((0,Ya.Yn)())}viewMore(){this.store.dispatch((0,cn.yX)())}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(Y.yh),s.Y36(Va.td),s.Y36(To.R),s.Y36(tt.$),s.Y36(mr.P),s.Y36(fr))},D.\u0275cmp=s.Xpm({type:D,selectors:[["contacts-card"]],inputs:{contactsCardUiData:"contactsCardUiData",entity:"entity",isSoloCardOnPage:"isSoloCardOnPage"},features:[s.TTD],decls:7,vars:11,consts:function(){let Ie,I,N,ge,Pe;return Ie=$localize`:␟770d661bc356eebde32d296ff66c57532988b5c2␟6030006737073200553: There was an issue fetching more contacts `,I=$localize`:␟2a76a1e851e27d40abaf3c312eb55cb821650899␟8829895194267856881:Find more contact data in Search!`,N=$localize`:␟7b27a0883356b263c062c1ecb9c4d01b61dbeabe␟2479931882578943769: Get started `,ge=$localize`:␟94188e8e0190b52983e1d0f9d02303483981e2ef␟6143317808457819860: No results found `,Pe=$localize`:␟df50715a5c4c77df500b970bf385d2d73f78a9be␟3345075198206244741:Sorry, there was an error loading contacts for this company. Please try again or contact support.`,[[4,"ngIf"],["class","loading",4,"ngIf"],["class","error-loading",4,"ngIf"],["class","contacts-credits",4,"ngIf"],[4,"ngIf","ngIfElse"],["empty",""],[1,"contacts-credits"],["buttonStyle","stroked"],[1,"contact-rows"],[3,"contactState","organizationId",4,"ngFor","ngForOf"],["class","search-loading",4,"ngIf"],["class","view-more-error",4,"ngIf"],[1,"footer"],[1,"spacer"],["class","view-more","color","primary","iconKey","icon_caret_down",3,"label","hideLabelOnMobile","isLoading","onClick",4,"ngIf"],["featureSet","contacts_card_show_more","triggerLocation","contact-card-show-more","buttonType","basic",3,"showDetails",4,"ngIf"],[1,"view-count"],[3,"contactState","organizationId"],[1,"search-loading"],[3,"diameter"],[1,"view-more-error"],["iconKey","icon_exclamation_enclosed_round","iconColor","inherit"],Ie,["color","primary","iconKey","icon_caret_down",1,"view-more",3,"label","hideLabelOnMobile","isLoading","onClick"],["featureSet","contacts_card_show_more","triggerLocation","contact-card-show-more","buttonType","basic",3,"showDetails"],[1,"empty-state"],[3,"original","resource","alt"],[1,"body-text"],I,["data-heap-contacts-ftux-cta","","mat-raised-button","","color","primary","routerLink","/discover/contacts"],N,ge,[1,"loading"],[1,"error-loading"],["themeId","error","color","warn","size","large"],Pe]},template:function(I,N){1&I&&(s.YNc(0,wr,3,3,"ng-container",0),s.ALo(1,"async"),s.ALo(2,"async"),s.YNc(3,Ur,2,0,"div",1),s.ALo(4,"async"),s.YNc(5,Br,4,0,"div",2),s.ALo(6,"async")),2&I&&(s.Q6J("ngIf",!s.lcZ(1,3,N.initialLoading$)&&!s.lcZ(2,5,N.initialLoadingError$)),s.xp6(3),s.Q6J("ngIf",s.lcZ(4,7,N.initialLoading$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(6,9,N.initialLoadingError$)))},directives:[e.O5,vr.c,Cr.S,yr.x,Tr,e.sg,Or,Jn.Ou,Yn.d,ft.l,an.J,Wt.q,gn.n,jt.zs,i.yS,Qi.p],pipes:[e.Ov,J.X],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}.contact-rows[_ngcontent-%COMP%]{position:relative}contacts-banner[_ngcontent-%COMP%]{margin:20px 0}contacts-card-row[_ngcontent-%COMP%]{padding:20px 0}.contacts-credits[_ngcontent-%COMP%]{margin-bottom:20px}.search-loading[_ngcontent-%COMP%]{background-color:#ffffff80;position:absolute;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;padding-top:32px}.view-more-error[_ngcontent-%COMP%]{background-color:#f8e7e7;color:#282828;margin:8px 0;padding:8px;text-align:center;border-radius:4px}.footer[_ngcontent-%COMP%]{padding:20px 0;display:flex;align-items:center}.footer[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .view-count[_ngcontent-%COMP%]{flex:1 1 100%}.footer[_ngcontent-%COMP%]   .view-count[_ngcontent-%COMP%]{text-align:right;font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}.footer[_ngcontent-%COMP%]   .view-more[_ngcontent-%COMP%]{flex:0 0 auto;padding-bottom:16px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;padding-bottom:48px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;padding:20px 0 0}.empty-state[_ngcontent-%COMP%]   .body-text[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;margin:16px 0}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:48px;min-height:400px}.error-loading[_ngcontent-%COMP%]{display:flex;padding:20px 0 32px}.error-loading[_ngcontent-%COMP%]   theme-icon.warn[_ngcontent-%COMP%]{margin-right:8px}"],changeDetection:0}),D})();var kr=t(30807),Hr=t(19575);function zr(D,Ie){if(1&D&&s._UZ(0,"contacts-card-disabled-email",10),2&D){const I=s.oxw();s.Q6J("emailCount",I.uiData.emailCount)("contactIsUpdateable",!1)("onlyLocked",!0)}}function er(D,Ie){if(1&D&&s._UZ(0,"contacts-card-disabled-phone",11),2&D){const I=s.oxw();s.Q6J("phoneCount",I.uiData.phoneCount)("contactIsUpdateable",!1)("onlyLocked",!0)}}function Gr(D,Ie){if(1&D&&(s.TgZ(0,"a",12),s.SDv(1,13),s.qZA()),2&D){const I=s.oxw();s.Q6J("routerLink",I.uiData.routeToContacts)}}const tr=function(D){return{name:D}};let Ko=(()=>{class D{constructor(I){this.imageService=I,this.backgroundImage=`url('${this.imageService.getOriginalPublicImageUrl(Ua.Wh.proBackground)}')`}}return D.\u0275fac=function(I){return new(I||D)(s.Y36(Ua.AJ))},D.\u0275cmp=s.Xpm({type:D,selectors:[["contacts-summary-card"]],hostVars:2,hostBindings:function(I,N){2&I&&s.Udp("background-image",N.backgroundImage)},inputs:{uiData:"uiData"},decls:14,vars:16,consts:function(){let Ie;return Ie=$localize`:␟624268176cb551c00bf77b9bf4751884cfdbf129␟5987997457690912329: View All Contacts `,[[1,"headline"],[1,"details"],[1,"contact-info"],[3,"contact"],[1,"contact-items-details"],[3,"emailCount","contactIsUpdateable","onlyLocked",4,"ngIf"],[3,"phoneCount","contactIsUpdateable","onlyLocked",4,"ngIf"],[1,"description-and-cta"],[1,"description"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[3,"emailCount","contactIsUpdateable","onlyLocked"],[3,"phoneCount","contactIsUpdateable","onlyLocked"],["mat-raised-button","","color","primary",3,"routerLink"],Ie]},template:function(I,N){1&I&&(s.TgZ(0,"span",0),s._uU(1),s.ALo(2,"translate"),s.qZA(),s.TgZ(3,"div",1)(4,"mat-card",2),s._UZ(5,"contact-details",3),s.TgZ(6,"div",4),s.YNc(7,zr,1,3,"contacts-card-disabled-email",5),s.YNc(8,er,1,3,"contacts-card-disabled-phone",6),s.qZA()(),s.TgZ(9,"div",7)(10,"div",8),s._uU(11),s.ALo(12,"translate"),s.qZA(),s.YNc(13,Gr,2,1,"a",9),s.qZA()()),2&I&&(s.xp6(1),s.Oqu(s.xi3(2,6,"CBL.ENTITY.CONTACTS_SUMMARY_CARD.HEADLINE",s.VKq(12,tr,N.uiData.orgName))),s.xp6(4),s.Q6J("contact",N.uiData.contact),s.xp6(2),s.Q6J("ngIf",N.uiData.emailCount),s.xp6(1),s.Q6J("ngIf",N.uiData.phoneCount),s.xp6(3),s.hij(" ",s.xi3(12,9,"CBL.ENTITY.CONTACTS_SUMMARY_CARD.DESCRIPTION",s.VKq(14,tr,N.uiData.orgName))," "),s.xp6(2),s.Q6J("ngIf",N.uiData.routeToContacts))},directives:[zt.a8,Qa.a,e.O5,kr.G,Hr.k,gn.n,jt.zs,i.yS],pipes:[J.X],styles:["[_nghost-%COMP%]{display:block;padding:20px;color:#282828;box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f;border-radius:4px;background-size:cover;background-position:bottom}.headline[_ngcontent-%COMP%]{display:inline-block;font-size:20px;line-height:28px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:16px}.contact-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:8px;margin-bottom:20px;min-height:110px}.contact-info[_ngcontent-%COMP%]   contact-details[_ngcontent-%COMP%]{flex:1 1 auto}.contact-info[_ngcontent-%COMP%]   .contact-items-details[_ngcontent-%COMP%]{flex:1 0 auto}.contact-info[_ngcontent-%COMP%]   contact-details[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%]   .contact-items-details[_ngcontent-%COMP%]{margin:8px}.description-and-cta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:16px}@media (min-width: 600px){.headline[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif}.details[_ngcontent-%COMP%]{display:flex;align-items:center}.details[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .description-and-cta[_ngcontent-%COMP%]{flex:1}.details[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{margin-bottom:0;margin-right:20px}}.entity-loading[_nghost-%COMP%]   .headline[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .headline[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .description[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .description[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),D})(),Zr=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=s.oAB({type:D}),D.\u0275inj=s.cJS({providers:[{provide:m.$b,useValue:ee}],imports:[[e.ez,f.Y,u.q,c.Dt,C.I,_.n,Vs.x,p.H,E.N,i.Bz,a.C,l.A,r.r,o.HC,d.m,n.i,g.b,Ks.X,Mo.S,Do.H,xa.l,eo.d,Ro.L,xo,Zn.f,Ra.u,ur.L,Na.V,Fa.S,Ka.v]]}),D})();s.B6R(ee,[e.mk,So.z,e.O5,e.sg,Ji.E,Eo.d,B.z,jt.lW,vn.o],[J.X]),s.B6R(Ji.E,[e.O5,gr.j,Qi.p,ai,e.tP,e.sg,e.RF,e.n9,lt,Ce,yt,e.mk,Bt.G,Yt.T,vo,as,ps,$a,Ss,Bs,pr.I,$s,go,k,ms,zi,Un,Da,Xa,Ko],[J.X,e.i8])},92536:(ne,b,t)=>{t.d(b,{G:()=>d});var e=t(3184),i=t(49837),u=t(45857),c=t(36362),C=t(87317),_=t(74160);const p=["descriptionContainer"];function E(n,g){if(1&n&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&n){const f=e.oxw();e.xp6(1),e.hij(" ",f.descriptionCardUiData.labels.name,"\n")}}function a(n,g){if(1&n&&e._UZ(0,"span",5),2&n){const f=e.oxw();e.Q6J("innerHTML",f.overflowDescription,e.oJD)}}function l(n,g){1&n&&(e.TgZ(0,"label-with-icon",8),e.SDv(1,9),e.qZA())}function r(n,g){if(1&n){const f=e.EpF();e.ynx(0),e.TgZ(1,"button",6),e.NdJ("click",function(){return e.CHM(f),e.oxw().toggleDescription()}),e.YNc(2,l,2,0,"label-with-icon",7),e.qZA(),e.BQk()}if(2&n){const f=e.oxw(),m=e.MAs(7);e.xp6(2),e.Q6J("ngIf",!f.isExpanded)("ngIfElse",m)}}function o(n,g){1&n&&(e.TgZ(0,"label-with-icon",10),e.SDv(1,11),e.qZA())}let d=(()=>{class n{constructor(f,m){this.platformService=f,this.router=m,this.isExpanded=!1}ngOnInit(){this.platformService.isBrowser()&&this.setupInternalLinkListener()}ngOnChanges(){this.isExpanded=!1,this.setDescriptions()}toggleDescription(){this.isExpanded=!this.isExpanded}setupInternalLinkListener(){this.descriptionContainer.nativeElement.addEventListener("click",f=>{const m=f.target;m&&m.classList.contains("relative-link")&&(f.preventDefault(),this.router.navigate([m.pathname]))})}setDescriptions(){const[f,m]=this.descriptionCardUiData.splitDescription;this.description=f,this.overflowDescription=m}}return n.\u0275fac=function(f){return new(f||n)(e.Y36(i.m),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["description-card"]],viewQuery:function(f,m){if(1&f&&e.Gf(p,7),2&f){let v;e.iGM(v=e.CRH())&&(m.descriptionContainer=v.first)}},inputs:{descriptionCardUiData:"descriptionCardUiData"},features:[e.TTD],decls:8,vars:8,consts:function(){let g,f;return g=$localize`:␟9b934c17e6025b2c09a858c80c3f58c0943cf6a8␟115930618352415341:Read More`,f=$localize`:␟0f5492c7333276e41836b167b31d282f67803898␟4164683707696039088:Read Less`,[[4,"ngIf"],["descriptionContainer",""],[1,"description",3,"innerHTML"],["class","overflow-description",3,"innerHTML",4,"ngIf"],["less",""],[1,"overflow-description",3,"innerHTML"],["mat-button","","color","accent",3,"click"],["iconKey","icon_caret_down",4,"ngIf","ngIfElse"],["iconKey","icon_caret_down"],g,["iconKey","icon_caret_up"],f]},template:function(f,m){1&f&&(e.YNc(0,E,2,1,"h3",0),e.TgZ(1,"div",null,1),e._UZ(3,"span",2),e.YNc(4,a,1,1,"span",3),e.qZA(),e.YNc(5,r,3,2,"ng-container",0),e.YNc(6,o,2,0,"ng-template",null,4,e.W1O)),2&f&&(e.Q6J("ngIf",m.descriptionCardUiData.labels&&m.descriptionCardUiData.labels.name),e.xp6(1),e.ekj("expanded",m.isExpanded),e.xp6(2),e.ekj("has-overflow",m.overflowDescription),e.Q6J("innerHTML",m.description,e.oJD),e.xp6(1),e.Q6J("ngIf",m.overflowDescription),e.xp6(1),e.Q6J("ngIf",m.overflowDescription))},directives:[c.O5,C.lW,_.d],styles:['[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.description.has-overflow[_ngcontent-%COMP%]  p:last-child:after{content:"..."}.overflow-description[_ngcontent-%COMP%]{display:none}.expanded[_ngcontent-%COMP%]   .description.has-overflow[_ngcontent-%COMP%]  p:last-child{display:inline}.expanded[_ngcontent-%COMP%]   .description.has-overflow[_ngcontent-%COMP%]  p:last-child:after{content:" "}.expanded[_ngcontent-%COMP%]   .overflow-description[_ngcontent-%COMP%]{display:inline}.expanded[_ngcontent-%COMP%]   .overflow-description[_ngcontent-%COMP%]  p:first-child{display:inline}button[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]  p:first-child{margin-top:0}[_nghost-%COMP%]  p:last-child{margin-bottom:0}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.entity-loading[_nghost-%COMP%]   h3[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   h3[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   markup-block[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   markup-block[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   span[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   span[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]  p, .entity-loading   [_nghost-%COMP%]  p, .entity-loading[_nghost-%COMP%]  a, .entity-loading   [_nghost-%COMP%]  a{background-color:#e9e9e9!important;color:transparent!important}'],changeDetection:0}),n})()},65085:(ne,b,t)=>{t.d(b,{T:()=>s});var e=t(93443),i=t(71263),u=t(3184),c=t(36362),C=t(990),_=t(74160),p=t(20757),E=t(40089),a=t(57984),l=e.lX.DisplayModeEnum;function r(h,H){if(1&h&&(u.TgZ(0,"h3"),u._uU(1),u.qZA()),2&h){const K=u.oxw();u.xp6(1),u.hij(" ",K.fieldsCardUiData.labels.name,"\n")}}function o(h,H){1&h&&u.GkF(0)}function d(h,H){if(1&h&&(u.ynx(0),u._UZ(1,"label-with-info",9),u.YNc(2,o,1,0,"ng-container",10),u.BQk()),2&h){u.oxw();const K=u.MAs(7),P=u.oxw().$implicit;u.xp6(1),u.Q6J("label",P.label)("description",P.description),u.xp6(1),u.Q6J("ngTemplateOutlet",K)}}function n(h,H){1&h&&u.GkF(0)}const g=function(){return{linkColor:"primary",iconOnly:!0}};function f(h,H){if(1&h&&(u.ynx(0),u.YNc(1,n,1,0,"ng-container",11),u.BQk()),2&h){u.oxw(2);const K=u.MAs(7);u.xp6(1),u.Q6J("ngTemplateOutlet",K)("ngTemplateOutletContext",u.DdM(2,g))}}function m(h,H){if(1&h&&(u.ynx(0),u.YNc(1,f,2,3,"ng-container",0),u.BQk()),2&h){const K=u.oxw(2).$implicit,P=u.oxw();u.xp6(1),u.Q6J("ngIf",P.fieldIsLink(K))}}function v(h,H){1&h&&u.GkF(0)}function y(h,H){if(1&h&&(u.TgZ(0,"label-with-icon",12),u.YNc(1,v,1,0,"ng-container",10),u.qZA()),2&h){u.oxw();const K=u.MAs(5),P=u.MAs(7);u.Q6J("iconTemplate",K),u.xp6(1),u.Q6J("ngTemplateOutlet",P)}}function S(h,H){if(1&h&&u._UZ(0,"theme-icon",13),2&h){const K=u.oxw(2).$implicit;u.Q6J("themeId",null==K.field||null==K.field.display?null:K.field.display.theme_id)("matTooltip",K.label)}}function A(h,H){if(1&h&&u._UZ(0,"field-formatter",14),2&h){const K=H.linkColor,P=H.iconOnly,z=u.oxw(2).$implicit,ee=u.oxw();u.Q6J("field",z.field)("fieldData",z.data)("collectionId",z.collectionId)("queryData",z.fieldQueryData)("iconOnlyLink",!!P)("linkColor",K||"accent")("contextType",ee.contextType)}}function x(h,H){if(1&h&&(u.ynx(0,4),u.YNc(1,d,3,3,"ng-container",5),u.YNc(2,m,2,1,"ng-container",5),u.YNc(3,y,2,2,"label-with-icon",6),u.YNc(4,S,1,2,"ng-template",null,7,u.W1O),u.YNc(6,A,1,7,"ng-template",null,8,u.W1O),u.BQk()),2&h){const K=u.oxw(2);u.Q6J("ngSwitch",K.displayMode),u.xp6(1),u.Q6J("ngSwitchCase",K.DisplayModeEnum.text_and_value),u.xp6(1),u.Q6J("ngSwitchCase",K.DisplayModeEnum.icon),u.xp6(1),u.Q6J("ngSwitchCase",K.DisplayModeEnum.icon_and_value)}}function R(h,H){if(1&h&&(u.TgZ(0,"li"),u.YNc(1,x,8,4,"ng-container",3),u.qZA()),2&h){const K=H.index,P=u.oxw();u.xp6(1),u.Q6J("ngIf",!P.compactMode||K<2)}}let s=(()=>{class h{constructor(){this.compactMode=!1,this.DisplayModeEnum=l,this.contextType=i.Qy.profile}ngOnChanges(){var K;this.displayMode=(null===(K=this.fieldsCardUiData)||void 0===K?void 0:K.displayMode)||l.text_and_value}fieldIsLink(K){var P;return"link"===(null===(P=K.field)||void 0===P?void 0:P.type_id)}}return h.\u0275fac=function(K){return new(K||h)},h.\u0275cmp=u.Xpm({type:h,selectors:[["fields-card"]],inputs:{fieldsCardUiData:"fieldsCardUiData",compactMode:"compactMode"},features:[u.TTD],decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"iconTemplate",4,"ngSwitchCase"],["icon",""],["field",""],[3,"label","description"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"iconTemplate"],["color","inherit","matTooltipShowDelay","500",3,"themeId","matTooltip"],[3,"field","fieldData","collectionId","queryData","iconOnlyLink","linkColor","contextType"]],template:function(K,P){1&K&&(u.YNc(0,r,2,1,"h3",0),u.TgZ(1,"ul",1),u.YNc(2,R,2,1,"li",2),u.qZA()),2&K&&(u.Q6J("ngIf",P.fieldsCardUiData.labels&&P.fieldsCardUiData.labels.name),u.xp6(1),u.Q6J("ngClass",P.displayMode),u.xp6(1),u.Q6J("ngForOf",P.fieldsCardUiData.items))},directives:[c.O5,c.mk,c.sg,c.RF,c.n9,C.R,c.tP,_.d,p.p,E.gM,a.N],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;padding:0;margin:0}fields-card + [_nghost-%COMP%]   ul[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12);padding-top:20px}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .icon_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 100%}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .icon_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.icon_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.icon_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:0}label-with-icon[_ngcontent-%COMP%]{line-height:normal}.icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.icon[_ngcontent-%COMP%]   field-formatter[_ngcontent-%COMP%]{display:inline-block}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}label-with-info[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif}theme-icon[_ngcontent-%COMP%]{color:#666}@media (min-width: 960px){.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1 1 50%;max-width:50%}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){padding-right:10px}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(even){padding-left:10px}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){margin-bottom:0}}.entity-loading[_nghost-%COMP%]  theme-icon, .entity-loading   [_nghost-%COMP%]  theme-icon{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  label-with-info>span, .entity-loading   [_nghost-%COMP%]  label-with-info>span{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  field-formatter, .entity-loading   [_nghost-%COMP%]  field-formatter, .entity-loading[_nghost-%COMP%]  field-formatter a, .entity-loading   [_nghost-%COMP%]  field-formatter a{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  identifier-image .cb-image-with-placeholder, .entity-loading   [_nghost-%COMP%]  identifier-image .cb-image-with-placeholder{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]  identifier-image .cb-image-with-placeholder img, .entity-loading   [_nghost-%COMP%]  identifier-image .cb-image-with-placeholder img{visibility:hidden}"],changeDetection:0}),h})()},69541:(ne,b,t)=>{t.d(b,{I:()=>w});var e=t(71263),i=t(67177),u=t(75215),c=t(52654),C=t(88759),_=t(59095),p=t(86942),E=t(92938),a=t(85853),l=t(39949),r=t(3184);let o=(()=>{class Q extends i.m1{constructor(X,Ce,ye,ue){super({status:"loading",cardId:"",entityUuid:"",activities:[],activitiesCount:0,returnedLessThanMaximum:!1,singleMode:!1,isSoloCardOnPage:!1,isPreview:!1}),this.timelineService=X,this.metadataService=Ce,this.progressService=ye,this.metaService=ue,this.initialize=this.updater((Me,me)=>{const ve=Object.assign(Object.assign({},Me),{status:"ready",entityUuid:me.cardData.entityUuid,cardId:me.cardData.id,activities:this.toDisplayData(me.cardData.activities),activitiesCount:me.cardData.activityCount,singleMode:me.singleMode,isSoloCardOnPage:me.isSoloCardOnPage,isPreview:me.isPreview});return this.canShowMore(ve)&&this.showMoreRows(ve),this.checkIfEmpty(ve),ve}),this.setStatus=this.updater((Me,me)=>Object.assign(Object.assign({},Me),{status:me})),this.setReturnLessThanMaximum=this.updater((Me,me)=>Object.assign(Object.assign({},Me),{returnedLessThanMaximum:me})),this.appendActivities=this.updater((Me,me)=>Object.assign(Object.assign({},Me),{activities:(0,E.uniqBy)([...Me.activities,...me],ve=>{var ze;return null===(ze=ve.identifier)||void 0===ze?void 0:ze.uuid})})),this.showMoreRows=this.effect(Me=>Me.pipe((0,C.b)(me=>{const{cardId:ve}=me||this.get();this.progressService.startProgress(ve),this.setStatus("loading")}),(0,_.w)(me=>{const{entityUuid:ve,activities:ze}=me||this.get();return this.timelineService.getEntityActivities$(ve,this.getLastActivityDatetime(ze),Q.SINGLE_CARD_ACTIVITIES_LIMIT).pipe((0,p.U)(tt=>[tt,me]))}),(0,i._b)(([me,ve])=>this.handleResults(me,ve||void 0),()=>this.setStatus("error")))),this.activities$=this.select(Me=>Me.isPreview?Me.activities.slice(0,Q.PREVIEW_ACTIVITIES_LIMIT):Me.activities),this.isActivitiesEmpty$=this.select(Me=>0===Me.activities.length),this.status$=this.select(Me=>Me.status),this.canViewAll$=this.select(Me=>Me.isPreview?Me.activities.length>=Q.PREVIEW_ACTIVITIES_LIMIT:Me.activities.length>=c.u.CARD_ENTITY_ACTIVITY_LIMIT),this.canShowMore$=this.select(Me=>this.canShowMore(Me))}ngOnDestroy(){const{cardId:X}=this.get();this.progressService.stopProgress(X)}checkIfEmpty(X){!X.activities.length&&X.isSoloCardOnPage&&this.metaService.setNoIndex()}toDisplayData(X){const Ce=new Set(this.metadataService.getTopLevelCollectionIds());return X.map(ye=>this.addDisplayData(ye,Ce))}handleResults(X,Ce){const{cardId:ye}=Ce||this.get();this.progressService.stopProgress(ye),this.setStatus("ready"),X.length<Q.SINGLE_CARD_ACTIVITIES_LIMIT&&this.setReturnLessThanMaximum(!0);const ue=this.toDisplayData(X);this.appendActivities(ue)}addDisplayData(X,Ce){var ye;const ue=this.metadataService.getEntityDef(X.entity_def_id),Me=(null===(ye=null==ue?void 0:ue.display)||void 0===ye?void 0:ye.theme_id)||"default",me=null==ue?void 0:ue.labels.name,ve=null==ue?void 0:ue.labels.plural.toLowerCase(),ze=null==ue?void 0:ue.collection_id,tt=ze&&Ce.has(ze)?["/","discover",ze]:void 0;return Object.assign(Object.assign({},X),{themeId:Me,name:me,pluralName:ve,discoverMoreRoute:tt})}getLastActivityDatetime(X){const Ce=X[X.length-1];return null==Ce?void 0:Ce.datetime}canShowMore(X){return!!X.singleMode&&!X.returnedLessThanMaximum&&X.activities.length<X.activitiesCount}}return Q.PREVIEW_ACTIVITIES_LIMIT=3,Q.SINGLE_CARD_ACTIVITIES_LIMIT=100,Q.\u0275fac=function(X){return new(X||Q)(r.LFG(c.u),r.LFG(u.Do),r.LFG(a.N),r.LFG(l.R))},Q.\u0275prov=r.Yz7({token:Q,factory:Q.\u0275fac}),Q})();var d=t(36362),n=t(20757),g=t(57984),f=t(86378),m=t(88670),v=t(97810),y=t(40757),S=t(52727),A=t(46036),x=t(47367),R=t(45857),s=t(74160),h=t(74742),H=t(87317);function K(Q,$){if(1&Q&&(r.TgZ(0,"h3"),r._uU(1),r.qZA()),2&Q){const X=r.oxw(2);r.xp6(1),r.hij(" ",null==X.timelineCardUiData.labels?null:X.timelineCardUiData.labels.name," ")}}function P(Q,$){if(1&Q&&r._UZ(0,"funding-round",15),2&Q){const X=r.oxw().$implicit;r.Q6J("activity",X)("isEntityCard",!0)}}function z(Q,$){if(1&Q&&r._UZ(0,"acquisition",15),2&Q){const X=r.oxw().$implicit;r.Q6J("activity",X)("isEntityCard",!0)}}function ee(Q,$){if(1&Q&&r._UZ(0,"ipo",15),2&Q){const X=r.oxw().$implicit;r.Q6J("activity",X)("isEntityCard",!0)}}function Z(Q,$){if(1&Q&&r._UZ(0,"fund-raise",15),2&Q){const X=r.oxw().$implicit;r.Q6J("activity",X)("isEntityCard",!0)}}function G(Q,$){if(1&Q&&r._UZ(0,"press-reference",15),2&Q){const X=r.oxw().$implicit;r.Q6J("activity",X)("isEntityCard",!0)}}function J(Q,$){if(1&Q&&(r.TgZ(0,"div",16)(1,"a",17),r.SDv(2,18),r.qZA()()),2&Q){const X=r.oxw().$implicit;r.xp6(1),r.Q6J("routerLink",X.discoverMoreRoute),r.xp6(1),r.pQV(X.pluralName),r.QtT(2)}}function le(Q,$){if(1&Q&&(r.TgZ(0,"div",8)(1,"div",9),r._UZ(2,"theme-icon",10),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.TgZ(5,"span"),r._uU(6,"\u2022"),r.qZA(),r._UZ(7,"field-formatter",11),r.qZA(),r.TgZ(8,"div",12),r.YNc(9,P,1,2,"funding-round",13),r.YNc(10,z,1,2,"acquisition",13),r.YNc(11,ee,1,2,"ipo",13),r.YNc(12,Z,1,2,"fund-raise",13),r.YNc(13,G,1,2,"press-reference",13),r.YNc(14,J,3,2,"div",14),r.qZA()()),2&Q){const X=$.$implicit,Ce=$.last,ye=r.oxw(2);r.ekj("last-row",Ce),r.xp6(2),r.Q6J("themeId",X.themeId),r.xp6(2),r.Oqu(X.name),r.xp6(3),r.Q6J("field",ye.timelineCardUiData.activityField)("fieldData",X.activity_date)("imgSize",18)("contextType",ye.contextType),r.xp6(1),r.Q6J("ngSwitch",X.entity_def_id),r.xp6(1),r.Q6J("ngSwitchCase","funding_round"),r.xp6(1),r.Q6J("ngSwitchCase","acquisition"),r.xp6(1),r.Q6J("ngSwitchCase","ipo"),r.xp6(1),r.Q6J("ngSwitchCase","fund"),r.xp6(1),r.Q6J("ngSwitchCase","press_reference"),r.xp6(1),r.Q6J("ngIf",X.discoverMoreRoute)}}function V(Q,$){if(1&Q&&(r.TgZ(0,"a",22)(1,"label-with-icon",23),r.SDv(2,24),r.qZA()()),2&Q){const X=r.oxw(3);r.Q6J("routerLink",X.route.path),r.xp6(1),r.Q6J("iconAfter",!0)}}const j=function(Q,$){return[Q,$]};function M(Q,$){if(1&Q&&(r.TgZ(0,"a",22)(1,"label-with-icon",23),r.SDv(2,25),r.qZA()()),2&Q){const X=r.oxw(3);r.Q6J("routerLink",r.WLB(2,j,X.timelineCardUiData.sectionId,X.timelineCardUiData.id)),r.xp6(1),r.Q6J("iconAfter",!0)}}function ie(Q,$){if(1&Q&&(r.TgZ(0,"div",19),r.YNc(1,V,3,2,"a",20),r.YNc(2,M,3,5,"ng-template",null,21,r.W1O),r.qZA()),2&Q){const X=r.MAs(3),Ce=r.oxw(2);r.xp6(1),r.Q6J("ngIf",Ce.route)("ngIfElse",X)}}function te(Q,$){1&Q&&(r.TgZ(0,"div",26),r.SDv(1,27),r.qZA())}function re(Q,$){1&Q&&(r.TgZ(0,"div",28),r._UZ(1,"mat-spinner",29),r.qZA())}function q(Q,$){if(1&Q){const X=r.EpF();r.TgZ(0,"div",30)(1,"button",31),r.NdJ("click",function(){return r.CHM(X),r.oxw(2).showMoreRows()}),r.SDv(2,32),r.qZA()()}}function U(Q,$){if(1&Q&&(r.ynx(0),r.YNc(1,K,2,1,"h3",2),r.YNc(2,le,15,15,"div",3),r.ALo(3,"async"),r.YNc(4,ie,4,2,"div",4),r.ALo(5,"async"),r.YNc(6,te,2,0,"div",5),r.ALo(7,"async"),r.YNc(8,re,2,0,"div",6),r.ALo(9,"async"),r.YNc(10,q,3,0,"div",7),r.ALo(11,"async"),r.ALo(12,"async"),r.BQk()),2&Q){const X=r.oxw();r.xp6(1),r.Q6J("ngIf",null==X.timelineCardUiData.labels?null:X.timelineCardUiData.labels.name),r.xp6(1),r.Q6J("ngForOf",r.lcZ(3,6,X.activities$)),r.xp6(2),r.Q6J("ngIf",!X.singleMode&&r.lcZ(5,8,X.canViewAll$)),r.xp6(2),r.Q6J("ngIf","error"===r.lcZ(7,10,X.status$)),r.xp6(2),r.Q6J("ngIf","loading"===r.lcZ(9,12,X.status$)),r.xp6(2),r.Q6J("ngIf",X.singleMode&&r.lcZ(11,14,X.canShowMore$)&&"loading"!==r.lcZ(12,16,X.status$))}}function k(Q,$){1&Q&&(r.TgZ(0,"div",33),r.SDv(1,34),r.qZA())}let w=(()=>{class Q{constructor(X){this.timelineStore=X,this.isSoloCardOnPage=!1,this.isPreview=!1,this.activities$=this.timelineStore.activities$,this.isActivitiesEmpty$=this.timelineStore.isActivitiesEmpty$,this.status$=this.timelineStore.status$,this.canViewAll$=this.timelineStore.canViewAll$,this.canShowMore$=this.timelineStore.canShowMore$,this.contextType=e.Qy.profile}ngOnChanges(){this.timelineStore.initialize({cardData:this.timelineCardUiData,singleMode:this.singleMode,isSoloCardOnPage:this.isSoloCardOnPage,isPreview:this.isPreview}),this.route=this.getRouteFromBasePath(this.basePath,this.timelineCardUiData.sectionId)}showMoreRows(){this.timelineStore.showMoreRows()}getRouteFromBasePath(X,Ce){if(X)return{path:[...X,Ce]}}}return Q.\u0275fac=function(X){return new(X||Q)(r.Y36(o))},Q.\u0275cmp=r.Xpm({type:Q,selectors:[["inline-timeline-card"]],inputs:{timelineCardUiData:"timelineCardUiData",singleMode:"singleMode",isSoloCardOnPage:"isSoloCardOnPage",isPreview:"isPreview",basePath:"basePath"},features:[r._Bn([o]),r.TTD],decls:4,vars:4,consts:function(){let $,X,Ce,ye,ue,Me;return $=$localize`:␟54ba790dda82666abf340b07e563413d1971d287␟8031404568953026298: Discover more ${"\ufffd0\ufffd"}:INTERPOLATION: `,X=$localize`:␟fa692a779ecd701620a053af169d48ad4fb32f3d␟1398485922654140074: View All `,Ce=$localize`:␟29550433c3d86f0c6a5d5c8e27a5f653357ea46d␟6101673155259306161: View All `,ye=$localize`:␟9eba3095a028b96315a0f27d4b444a1a667bc124␟3758791946988812208: There was an issue with loading news and activities. Please try again later. `,ue=$localize`:␟12ae016223f5580772b2de263bb4c9924458f768␟635534025318427637: Show All `,Me=$localize`:␟1f116852dc60b11d2abd2c38349ea567bad2c370␟5273590336952525839: There is no recent news or activity for this profile. `,[[4,"ngIf","ngIfElse"],["empty",""],[4,"ngIf"],["class","activity-row",3,"last-row",4,"ngFor","ngForOf"],["class","view-all-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","loading",4,"ngIf"],["class","show-more-container",4,"ngIf"],[1,"activity-row"],[1,"activity-title"],["color","inherit","size","large",3,"themeId"],["collectionId","timelineCardUiData.collectionId",3,"field","fieldData","imgSize","contextType"],[1,"activity-details",3,"ngSwitch"],[3,"activity","isEntityCard",4,"ngSwitchCase"],["class","discover-more-container",4,"ngIf"],[3,"activity","isEntityCard"],[1,"discover-more-container"],["cb-link","primary",3,"routerLink"],$,[1,"view-all-container"],["class","view-all",3,"cb-link","routerLink",4,"ngIf","ngIfElse"],["sectionAndCardViewAll",""],[1,"view-all",3,"cb-link","routerLink"],["iconKey","icon_caret_right",3,"iconAfter"],X,Ce,[1,"error-container"],ye,[1,"loading"],["diameter","24"],[1,"show-more-container"],["mat-button","","color","primary",1,"show-more",3,"click"],ue,[1,"empty-timeline"],Me]},template:function(X,Ce){if(1&X&&(r.YNc(0,U,13,18,"ng-container",0),r.ALo(1,"async"),r.YNc(2,k,2,0,"ng-template",null,1,r.W1O)),2&X){const ye=r.MAs(3);r.Q6J("ngIf",!r.lcZ(1,2,Ce.isActivitiesEmpty$))("ngIfElse",ye)}},directives:[d.O5,d.sg,n.p,g.N,d.RF,d.n9,f.d,m.T,v.z,y.H,S.e,A.n,x.I,R.yS,s.d,h.Ou,H.lW],pipes:[d.Ov],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.activity-row[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12);padding:16px 0}.activity-row[_ngcontent-%COMP%]:first-child{padding-top:0}.activity-row.last-row[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:0}.activity-title[_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:flex;align-items:center}.activity-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:4px}.view-all-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-top:16px}.view-all-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.view-all[_ngcontent-%COMP%]{text-transform:uppercase}.discover-more-container[_ngcontent-%COMP%]{margin-top:4px}.error-container[_ngcontent-%COMP%]{color:#0000008a;text-align:center;padding:16px}.loading[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding:16px}.loading[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.empty-timeline[_ngcontent-%COMP%]{text-align:center;color:#0000008a;padding:16px}.show-more-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-top:16px}.show-more-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.show-more-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.show-more-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.entity-loading[_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .activity-details[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .activity-details[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .discover-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .discover-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   theme-icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   theme-icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]   .view-all[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .view-all[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .show-more[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .view-all[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .view-all[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]  funding-round span, .entity-loading   [_nghost-%COMP%]  funding-round span, .entity-loading[_nghost-%COMP%]  funding-round a, .entity-loading   [_nghost-%COMP%]  funding-round a, .entity-loading[_nghost-%COMP%]  acquisition span, .entity-loading   [_nghost-%COMP%]  acquisition span, .entity-loading[_nghost-%COMP%]  acquisition a, .entity-loading   [_nghost-%COMP%]  acquisition a, .entity-loading[_nghost-%COMP%]  ipo span, .entity-loading   [_nghost-%COMP%]  ipo span, .entity-loading[_nghost-%COMP%]  ipo a, .entity-loading   [_nghost-%COMP%]  ipo a, .entity-loading[_nghost-%COMP%]  fund-raise span, .entity-loading   [_nghost-%COMP%]  fund-raise span, .entity-loading[_nghost-%COMP%]  fund-raise a, .entity-loading   [_nghost-%COMP%]  fund-raise a, .entity-loading[_nghost-%COMP%]  press-reference span, .entity-loading   [_nghost-%COMP%]  press-reference span, .entity-loading[_nghost-%COMP%]  press-reference a, .entity-loading   [_nghost-%COMP%]  press-reference a{color:transparent!important}"],changeDetection:0}),Q})()},54020:(ne,b,t)=>{t.d(b,{IF:()=>o,xd:()=>n});var e=t(67177),i=t(86942),u=t(88759),c=t(61745),C=t(59151),_=t(59095),p=t(905),E=t(843),a=t(14497),l=t(7323),r=t(3184);const o=3;var d=(()=>{return(g=d||(d={}))[g.LOADING=0]="LOADING",g[g.READY=1]="READY",d;var g})();let n=(()=>{class g extends e.m1{constructor(m,v,y){super({cardStatus:d.READY,isViewingMore:!1,similarities:[],feedbackMap:{}}),this.userService=m,this.permissionService=v,this.recommendationApi=y,this.selectSimilarities$=this.select(S=>S.similarities),this.selectFeedbackMap$=this.select(S=>S.feedbackMap),this.selectCanViewMore$=this.permissionService.getPermissions().pipe((0,i.U)(S=>S.canViewMoreSimilarCompanies())),this.selectIsViewingMore$=this.select(S=>S.isViewingMore),this.selectHasMoreThanBaseCount$=this.select(S=>S.similarities.length>o),this.selectVisibleSimilarities$=this.select(this.selectSimilarities$,this.selectIsViewingMore$,(S,A)=>A?S:S.slice(0,o)),this.selectVisibleSimilaritiesWithFeedback$=this.select(this.selectVisibleSimilarities$,this.selectFeedbackMap$,(S,A)=>S.map(x=>Object.assign(Object.assign({},x),{feedback:A[x.entity.uuid]}))),this.patchFeedback=this.updater((S,A)=>Object.assign(Object.assign({},S),{feedbackMap:Object.assign(Object.assign({},S.feedbackMap),A)})),this.initPermissions=this.effect(()=>this.selectCanViewMore$.pipe((0,u.b)(S=>{this.patchState({isViewingMore:S})}))),this.initFeedback=this.effect(S=>S.pipe((0,c.M)(this.userService.getIsLoggedIn$()),(0,C.h)(([A,x])=>x),(0,u.b)(()=>this.patchState({cardStatus:d.LOADING})),(0,_.w)(([A])=>this.recommendationApi.dataRecommendationsRecommendationTypeRecommendedEntityIdGet$({recommendationType:"similar_companies",recommendedEntityId:A}).pipe((0,e._b)(x=>{this.patchFeedback(this.convertFeedbackEntityArrayToFeedbackMap(x.entities))},()=>{},()=>this.patchState({cardStatus:d.READY})))))),this.giveFeedback=(S,A)=>{this.patchFeedback({[S.entity.uuid]:A})}}convertFeedbackEntityArrayToFeedbackMap(m=[]){const v={};return m.forEach(y=>{v[y.entity_id]=this.convertFeedbackTypeToThumbsState(y.feedback_type)}),v}convertFeedbackTypeToThumbsState(m){switch(m){case a.C.FeedbackTypeEnum.thumbs_up:return"thumbs_up";case a.C.FeedbackTypeEnum.thumbs_down:return"thumbs_down";default:return}}}return g.\u0275fac=function(m){return new(m||g)(r.LFG(l.KD),r.LFG(E.$),r.LFG(p.g))},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac}),g})()},85264:(ne,b,t)=>{t.d(b,{E:()=>re});var e=t(93443),i=t(75215),u=t(58095),c=t(3184);function C(q,U){if(1&q&&c._UZ(0,"theme-icon",10),2&q){const k=c.oxw(3);c.Q6J("themeId",k.themeId)}}function _(q,U){if(1&q&&(c.ynx(0,11),c._UZ(1,"profile-section-edit-button",12),c.BQk()),2&q){const k=c.oxw(3);c.xp6(1),c.Q6J("entity",k.entity)("entityDef",k.entityDef)("sectionName",k.name)}}function p(q,U){1&q&&c.GkF(0)}function E(q,U){if(1&q&&(c.ynx(0),c.YNc(1,p,1,0,"ng-container",13),c.BQk()),2&q){c.oxw(3);const k=c.MAs(5);c.xp6(1),c.Q6J("ngTemplateOutlet",k)}}function a(q,U){if(1&q&&(c.TgZ(0,"section-card",5),c.YNc(1,C,1,1,"theme-icon",6),c.TgZ(2,"h2",7),c._uU(3),c.qZA(),c.YNc(4,_,2,3,"ng-container",8),c.TgZ(5,"div",9),c.YNc(6,E,2,1,"ng-container",1),c.qZA()()),2&q){const k=c.oxw(2),w=c.MAs(3);c.Q6J("showHeader",k.showHeader)("isPremium",k.isPremium),c.xp6(1),c.Q6J("ngIf",k.themeId),c.xp6(2),c.Oqu(k.name),c.xp6(1),c.Q6J("ngIf",!k.isInOverviewRow),c.xp6(2),c.Q6J("ngIf",k.sectionCards.length)("ngIfElse",w)}}function l(q,U){if(1&q&&(c.ynx(0),c.YNc(1,a,7,7,"section-card",4),c.BQk()),2&q){const k=c.oxw();c.xp6(1),c.Q6J("ngIf",k.sectionCards.length||k.rootSection)}}function r(q,U){if(1&q&&(c.ynx(0),c._uU(1),c.BQk()),2&q){const k=c.oxw(2);c.xp6(1),c.hij(" ",k.noDataLabel," ")}}const o=function(q){return{section_name:q}};function d(q,U){if(1&q&&(c.ynx(0),c._uU(1),c.ALo(2,"translate"),c.ALo(3,"lowercase"),c.BQk()),2&q){const k=c.oxw(2);c.xp6(1),c.hij(" ",c.xi3(2,1,"CBL.ENTITY.EMPTY_SECTION",c.VKq(6,o,c.lcZ(3,4,k.name)))," ")}}function n(q,U){if(1&q&&(c.TgZ(0,"div",14),c.YNc(1,r,2,1,"ng-container",15),c.YNc(2,d,4,8,"ng-container",15),c.qZA()),2&q){const k=c.oxw();c.xp6(1),c.Q6J("ngIf",k.noDataLabel),c.xp6(1),c.Q6J("ngIf",!k.noDataLabel)}}function g(q,U){if(1&q&&c._UZ(0,"hero-card",38),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("heroCardUiData",w.asHeroCard(k))}}function f(q,U){if(1&q&&c._UZ(0,"big-values-card",39),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("bigValuesCardUiData",w.asBigValuesCard(k))}}const m=function(q){return{"is-last":q}};function v(q,U){if(1&q&&c._UZ(0,"chart-card",40),2&q){const k=c.oxw(),w=k.last,Q=k.$implicit,$=c.oxw(2);c.Q6J("ngClass",c.VKq(5,m,w))("chartCardUiData",$.asChartCard(Q))("entity",$.entity)("entityDef",$.entityDef)("sectionId",$.section.id)}}function y(q,U){if(1&q&&c._UZ(0,"description-card",41),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("descriptionCardUiData",w.asDescriptionCard(k))}}function S(q,U){if(1&q&&c._UZ(0,"fields-card",42),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("fieldsCardUiData",w.asFieldsCard(k))("compactMode",w.compactMode)}}function A(q,U){if(1&q&&c._UZ(0,"image-list-card",43),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("entityDef",w.entityDef)("entity",w.entity)("imageListCardUiData",w.asImageListCard(k))("singleMode",w.singleMode)("rootSection",w.rootSection)("limitOverride",w.listCardLimitOverride)("basePath",w.basePath)}}function x(q,U){if(1&q&&c._UZ(0,"image-with-fields-card",44),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("imageWithFieldsCardUiData",w.asImageWithFieldsCard(k))("compactMode",w.compactMode)}}function R(q,U){if(1&q&&c._UZ(0,"list-card",45),2&q){const k=c.oxw(),w=k.$implicit,Q=k.first,$=c.oxw(2);c.Q6J("entityDef",$.entityDef)("entity",$.entity)("listCardUiData",$.asListCard(w))("singleMode",$.singleMode)("firstChild",Q)("rootSection",$.rootSection)("limitOverride",$.listCardLimitOverride)("basePath",$.basePath)}}function s(q,U){if(1&q&&c._UZ(0,"org-similarity-card",46),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("entity",w.entity)("orgSimilarityCardUiData",w.asOrgSimilarityCard(k))}}function h(q,U){if(1&q&&c._UZ(0,"tabs-card",47),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("tabsCardUiData",w.asTabsCard(k))("entity",w.entity)("entityDef",w.entityDef)("singleMode",w.singleMode)("rootSection",w.rootSection||w.section)("limitOverride",w.listCardLimitOverride)("basePath",w.basePath)}}function H(q,U){if(1&q&&c._UZ(0,"timeline-card",48),2&q){const k=c.oxw(),w=k.$implicit,Q=k.first,$=k.last,X=c.oxw(2);c.Q6J("timelineCardUiData",X.asTimelineCard(w))("basePath",X.basePath)("singleMode",X.singleMode)("isPreview",X.isInOverviewRow)("isSoloCardOnPage",Q&&$&&X.isSoloSectionOnPage)}}function K(q,U){if(1&q&&c._UZ(0,"inline-timeline-card",48),2&q){const k=c.oxw(),w=k.$implicit,Q=k.first,$=k.last,X=c.oxw(2);c.Q6J("timelineCardUiData",X.asInlineTimelineCard(w))("basePath",X.basePath)("singleMode",X.singleMode)("isPreview",X.isInOverviewRow)("isSoloCardOnPage",Q&&$&&X.isSoloSectionOnPage)}}function P(q,U){if(1&q&&c._UZ(0,"twitter-card",49),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("twitterCardUiData",w.asTwitterCard(k))}}function z(q,U){if(1&q&&c._UZ(0,"iframe-card",50),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("iframeCardUiData",w.asIframeCard(k))}}function ee(q,U){if(1&q&&c._UZ(0,"attribution-card",51),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("attributionCardUiData",w.asAttributionCard(k))}}function Z(q,U){if(1&q&&c._UZ(0,"phrase-list-card",52),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("phraseListCardUiData",w.asPhraseListCard(k))}}function G(q,U){if(1&q&&c._UZ(0,"hub-list-card",53),2&q){const k=c.oxw(),w=k.$implicit,Q=k.first,$=c.oxw(2);c.Q6J("entityDef",$.entityDef)("entity",$.entity)("hubListCardUiData",$.asHubListCard(w))("singleMode",$.singleMode)("firstChild",Q)("rootSection",$.rootSection)("limitOverride",$.listCardLimitOverride)("basePath",$.basePath)}}function J(q,U){if(1&q&&c._UZ(0,"anchored-values",54),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("anchoredValuesUiData",w.asAnchoredValuesCard(k))}}function le(q,U){if(1&q&&c._UZ(0,"pill-list-card",55),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("pillListCardUiData",w.asPillListCard(k))("entityId",w.entity.properties.identifier.uuid)}}function V(q,U){if(1&q&&c._UZ(0,"contacts-card",56),2&q){const k=c.oxw(),w=k.$implicit,Q=k.first,$=k.last,X=c.oxw(2);c.Q6J("entity",X.entity)("contactsCardUiData",X.asContactsCard(w))("isSoloCardOnPage",Q&&$&&X.isSoloSectionOnPage)}}function j(q,U){if(1&q&&c._UZ(0,"contacts-summary-card",57),2&q){const k=c.oxw().$implicit,w=c.oxw(2);c.Q6J("uiData",w.asContactsSummaryCard(k))}}function M(q,U){if(1&q&&(c.ynx(0)(1,17),c.YNc(2,g,1,1,"hero-card",18),c.YNc(3,f,1,1,"big-values-card",19),c.YNc(4,v,1,7,"chart-card",20),c.YNc(5,y,1,1,"description-card",21),c.YNc(6,S,1,2,"fields-card",22),c.YNc(7,A,1,7,"image-list-card",23),c.YNc(8,x,1,2,"image-with-fields-card",24),c.YNc(9,R,1,8,"list-card",25),c.YNc(10,s,1,2,"org-similarity-card",26),c.YNc(11,h,1,7,"tabs-card",27),c.YNc(12,H,1,5,"timeline-card",28),c.YNc(13,K,1,5,"inline-timeline-card",28),c.YNc(14,P,1,1,"twitter-card",29),c.YNc(15,z,1,1,"iframe-card",30),c.YNc(16,ee,1,1,"attribution-card",31),c.YNc(17,Z,1,1,"phrase-list-card",32),c.YNc(18,G,1,8,"hub-list-card",33),c.YNc(19,J,1,1,"anchored-values",34),c.YNc(20,le,1,2,"pill-list-card",35),c.YNc(21,V,1,3,"contacts-card",36),c.YNc(22,j,1,1,"contacts-summary-card",37),c.BQk()()),2&q){const k=U.$implicit;c.xp6(1),c.Q6J("ngSwitch",k.typeId),c.xp6(1),c.Q6J("ngSwitchCase","hero"),c.xp6(1),c.Q6J("ngSwitchCase","big_values"),c.xp6(1),c.Q6J("ngSwitchCase","chart"),c.xp6(1),c.Q6J("ngSwitchCase","description"),c.xp6(1),c.Q6J("ngSwitchCase","fields"),c.xp6(1),c.Q6J("ngSwitchCase","image_list"),c.xp6(1),c.Q6J("ngSwitchCase","image_with_fields"),c.xp6(1),c.Q6J("ngSwitchCase","list"),c.xp6(1),c.Q6J("ngSwitchCase","org_similarity"),c.xp6(1),c.Q6J("ngSwitchCase","tabs"),c.xp6(1),c.Q6J("ngSwitchCase","timeline"),c.xp6(1),c.Q6J("ngSwitchCase","inline_timeline"),c.xp6(1),c.Q6J("ngSwitchCase","twitter"),c.xp6(1),c.Q6J("ngSwitchCase","iframe"),c.xp6(1),c.Q6J("ngSwitchCase","attribution"),c.xp6(1),c.Q6J("ngSwitchCase","phrase_list"),c.xp6(1),c.Q6J("ngSwitchCase","hub_list"),c.xp6(1),c.Q6J("ngSwitchCase","anchored_values"),c.xp6(1),c.Q6J("ngSwitchCase","pill_list"),c.xp6(1),c.Q6J("ngSwitchCase","contacts"),c.xp6(1),c.Q6J("ngSwitchCase","contacts_summary")}}function ie(q,U){if(1&q&&c.YNc(0,M,23,22,"ng-container",16),2&q){const k=c.oxw();c.Q6J("ngForOf",k.sectionCards)("ngForTrackBy",k.trackByCardIdAndIndex)}}let re=(()=>{class q{constructor(k){this.metadataService=k,this.compactMode=!1,this.showHeader=!0,this.isInOverviewRow=!1,this.isSoloSectionOnPage=!1,this.isPremium=!1,this.sectionCards=[],this.asAnchoredValuesCard=q=>q,this.asAttributionCard=q=>q,this.asBigValuesCard=q=>q,this.asChartCard=q=>q,this.asDescriptionCard=q=>q,this.asFieldsCard=q=>q,this.asHubListCard=q=>q,this.asHeroCard=q=>q,this.asIframeCard=q=>q,this.asImageListCard=q=>q,this.asImageWithFieldsCard=q=>q,this.asListCard=q=>q,this.asPhraseListCard=q=>q,this.asPillListCard=q=>q,this.asTabsCard=q=>q,this.asTimelineCard=q=>q,this.asInlineTimelineCard=q=>q,this.asTwitterCard=q=>q,this.asContactsCard=q=>q,this.asContactsSummaryCard=q=>q,this.asOrgSimilarityCard=q=>q,this.trackByCardIdAndIndex=(w,Q)=>`${Q.id}-${w}`}ngOnChanges(){this.setup()}setup(){var k,w;if(this.section){this.name=(null===(k=this.section.labels)||void 0===k?void 0:k.name)||this.section.id,this.themeId=this.section.themeId,this.isPremium=this.getIsPremium(),this.noDataLabel=null===(w=this.section.labels)||void 0===w?void 0:w.no_data;const Q=this.section.cardUiDatas||[];this.sectionCards=this.hasBothTimelineCards(Q)?Q.filter($=>$.typeId!==e.b.TypeIdEnum.timeline):Q}}getIsPremium(){let k=this.metadataService.getTheme(this.themeId),w=null==k?void 0:k.accents;return!!w&&w.indexOf(u.o.AccentsEnum.premium)>=0}hasBothTimelineCards(k){const w=k.some($=>$.typeId===e.b.TypeIdEnum.inline_timeline),Q=k.some($=>$.typeId===e.b.TypeIdEnum.timeline);return w&&Q}}return q.\u0275fac=function(k){return new(k||q)(c.Y36(i.Do))},q.\u0275cmp=c.Xpm({type:q,selectors:[["profile-section"]],inputs:{entity:"entity",entityDef:"entityDef",section:"section",rootSection:"rootSection",compactMode:"compactMode",showHeader:"showHeader",basePath:"basePath",listCardLimitOverride:"listCardLimitOverride",isInOverviewRow:"isInOverviewRow",singleMode:"singleMode",isSoloSectionOnPage:"isSoloSectionOnPage"},features:[c.TTD],decls:6,vars:3,consts:[[1,"anchor-target"],[4,"ngIf","ngIfElse"],["noData",""],["cards",""],[3,"showHeader","isPremium",4,"ngIf"],[3,"showHeader","isPremium"],[3,"themeId",4,"ngIf"],[1,"section-title"],["section-actions","",4,"ngIf"],[1,"section-content"],[3,"themeId"],["section-actions",""],[3,"entity","entityDef","sectionName"],[4,"ngTemplateOutlet"],[1,"no-data"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngSwitch"],[3,"heroCardUiData",4,"ngSwitchCase"],[3,"bigValuesCardUiData",4,"ngSwitchCase"],[3,"ngClass","chartCardUiData","entity","entityDef","sectionId",4,"ngSwitchCase"],[3,"descriptionCardUiData",4,"ngSwitchCase"],[3,"fieldsCardUiData","compactMode",4,"ngSwitchCase"],[3,"entityDef","entity","imageListCardUiData","singleMode","rootSection","limitOverride","basePath",4,"ngSwitchCase"],[3,"imageWithFieldsCardUiData","compactMode",4,"ngSwitchCase"],["class","full-width",3,"entityDef","entity","listCardUiData","singleMode","firstChild","rootSection","limitOverride","basePath",4,"ngSwitchCase"],["class","full-width",3,"entity","orgSimilarityCardUiData",4,"ngSwitchCase"],["class","full-width",3,"tabsCardUiData","entity","entityDef","singleMode","rootSection","limitOverride","basePath",4,"ngSwitchCase"],[3,"timelineCardUiData","basePath","singleMode","isPreview","isSoloCardOnPage",4,"ngSwitchCase"],[3,"twitterCardUiData",4,"ngSwitchCase"],[3,"iframeCardUiData",4,"ngSwitchCase"],["class","full-width",3,"attributionCardUiData",4,"ngSwitchCase"],[3,"phraseListCardUiData",4,"ngSwitchCase"],[3,"entityDef","entity","hubListCardUiData","singleMode","firstChild","rootSection","limitOverride","basePath",4,"ngSwitchCase"],[3,"anchoredValuesUiData",4,"ngSwitchCase"],[3,"pillListCardUiData","entityId",4,"ngSwitchCase"],[3,"entity","contactsCardUiData","isSoloCardOnPage",4,"ngSwitchCase"],[3,"uiData",4,"ngSwitchCase"],[3,"heroCardUiData"],[3,"bigValuesCardUiData"],[3,"ngClass","chartCardUiData","entity","entityDef","sectionId"],[3,"descriptionCardUiData"],[3,"fieldsCardUiData","compactMode"],[3,"entityDef","entity","imageListCardUiData","singleMode","rootSection","limitOverride","basePath"],[3,"imageWithFieldsCardUiData","compactMode"],[1,"full-width",3,"entityDef","entity","listCardUiData","singleMode","firstChild","rootSection","limitOverride","basePath"],[1,"full-width",3,"entity","orgSimilarityCardUiData"],[1,"full-width",3,"tabsCardUiData","entity","entityDef","singleMode","rootSection","limitOverride","basePath"],[3,"timelineCardUiData","basePath","singleMode","isPreview","isSoloCardOnPage"],[3,"twitterCardUiData"],[3,"iframeCardUiData"],[1,"full-width",3,"attributionCardUiData"],[3,"phraseListCardUiData"],[3,"entityDef","entity","hubListCardUiData","singleMode","firstChild","rootSection","limitOverride","basePath"],[3,"anchoredValuesUiData"],[3,"pillListCardUiData","entityId"],[3,"entity","contactsCardUiData","isSoloCardOnPage"],[3,"uiData"]],template:function(k,w){if(1&k&&(c._UZ(0,"span",0),c.YNc(1,l,2,1,"ng-container",1),c.YNc(2,n,3,2,"ng-template",null,2,c.W1O),c.YNc(4,ie,1,2,"ng-template",null,3,c.W1O)),2&k){const Q=c.MAs(5);c.uIk("id",w.section.id),c.xp6(1),c.Q6J("ngIf",w.section.showChrome)("ngIfElse",Q)}},styles:["[_nghost-%COMP%]{display:block}.anchor-target[_ngcontent-%COMP%]{visibility:hidden;position:relative;top:-153px}.no-data[_ngcontent-%COMP%]{padding:16px;text-align:center;color:#0000008a}@media (min-width: 960px){.overview-card[_nghost-%COMP%]  .mat-card, .overview-card   [_nghost-%COMP%]  .mat-card{box-shadow:none}}.entity-loading[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  .section-icon-wrapper, .entity-loading   [_nghost-%COMP%]  .section-icon-wrapper{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  .section-icon-wrapper theme-icon, .entity-loading   [_nghost-%COMP%]  .section-icon-wrapper theme-icon{visibility:hidden}.entity-loading[_nghost-%COMP%]   profile-section-edit-button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   profile-section-edit-button[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),q})()},73233:(ne,b,t)=>{t.d(b,{_:()=>e});class e{}},33706:(ne,b,t)=>{t.d(b,{T:()=>p});var e=t(36362),i=t(35503),u=t(90898),c=t(31156),C=t(40337),_=t(3184);let p=(()=>{class E{}return E.\u0275fac=function(l){return new(l||E)},E.\u0275mod=_.oAB({type:E}),E.\u0275inj=_.cJS({imports:[[e.ez,i.Dt,u.q,c.H,C.r]]}),E})()},29847:(ne,b,t)=>{t.d(b,{A:()=>C});var e=t(3184),i=t(36362),u=t(74929);function c(_,p){if(1&_&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&_){const E=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,E.label))}}let C=(()=>{class _{constructor(){this.isTouched=!0}}return _.\u0275fac=function(E){return new(E||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["form-error"]],inputs:{error:"error",label:"label",isTouched:"isTouched"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(E,a){1&E&&e.YNc(0,c,3,3,"div",0),2&E&&e.Q6J("ngIf",a.error&&a.isTouched)},directives:[i.O5],pipes:[u.X],encapsulation:2,changeDetection:0}),_})()},50450:(ne,b,t)=>{t.d(b,{k:()=>l});var e=t(14296),i=t(3184),u=t(36362),c=t(29847),C=t(29641);function _(r,o){if(1&r&&(i.TgZ(0,"div"),i._UZ(1,"form-error",1)(2,"form-error",2)(3,"form-error",3)(4,"form-error",4)(5,"form-error",5)(6,"form-error",6)(7,"form-error",7)(8,"form-error",8)(9,"form-error",9)(10,"form-error",10),i.qZA()),2&r){const d=i.oxw(2);i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.invalid),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US101),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US104),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US105),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US112),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US113),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US200),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US201),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US202),i.xp6(1),i.Q6J("error",null==d.fieldNameErrors?null:d.fieldNameErrors.US804)}}function p(r,o){if(1&r&&(i.TgZ(0,"div",12)(1,"div"),i._UZ(2,"markup-label",13),i.qZA()()),2&r){const d=o.$implicit,n=i.oxw(3);i.xp6(2),i.Q6J("key",d)("values",n.values)}}function E(r,o){if(1&r&&(i.ynx(0),i.YNc(1,p,3,2,"div",11),i.BQk()),2&r){const d=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",d.topLevelErrors)}}function a(r,o){if(1&r&&(i.ynx(0),i.YNc(1,_,11,10,"div",0),i.YNc(2,E,2,1,"ng-container",0),i.BQk()),2&r){const d=i.oxw();i.xp6(1),i.Q6J("ngIf",d.fieldName),i.xp6(1),i.Q6J("ngIf",!d.fieldName)}}let l=(()=>{class r{constructor(d){this.errorService=d,this.fallbackError=!0}ngOnChanges(d){d.error&&this.handleError(this.error)}handleError(d){if(d)if(this.fieldName){const n=this.errorService.getFormErrors(d);n[this.fieldName]&&(this.fieldNameErrors=n[this.fieldName])}else this.topLevelErrors=this.errorService.getTopLevelErrorLabels(d,this.fallbackError)}}return r.\u0275fac=function(d){return new(d||r)(i.Y36(e.T))},r.\u0275cmp=i.Xpm({type:r,selectors:[["server-error"]],inputs:{fieldName:"fieldName",values:"values",error:"error",fallbackError:"fallbackError"},features:[i.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["label","CBL.COMMON.INVALID_FIELD",3,"error"],["label","CBL.ERRORS.US101",3,"error"],["label","CBL.ERRORS.US104",3,"error"],["label","CBL.ERRORS.US105",3,"error"],["label","CBL.ERRORS.US112",3,"error"],["label","CBL.ERRORS.US113",3,"error"],["label","CBL.ERRORS.US200",3,"error"],["label","CBL.ERRORS.US201",3,"error"],["label","CBL.ERRORS.US202",3,"error"],["label","CBL.ERRORS.US804",3,"error"],["class","error-messages",4,"ngFor","ngForOf"],[1,"error-messages"],[3,"key","values"]],template:function(d,n){1&d&&i.YNc(0,a,3,2,"ng-container",0),2&d&&i.Q6J("ngIf",!!n.error)},directives:[u.O5,c.A,u.sg,C.x],encapsulation:2,changeDetection:0}),r})()},80670:(ne,b,t)=>{t.d(b,{A:()=>_});var e=t(3184),i=t(36362),u=t(47367),c=t(32478);function C(p,E){if(1&p&&(e.TgZ(0,"a",1)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"icon",2),e.qZA()),2&p){const a=e.oxw();e.Q6J("cb-link",a.color)("href",a.url,e.LSH),e.xp6(2),e.Oqu(a.label||a.url)}}let _=(()=>{class p{constructor(){this.color="primary"}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["external-link"]],inputs:{url:"url",label:"label",color:"color"},decls:1,vars:1,consts:[["target","_blank","rel","nofollow noopener noreferrer",3,"cb-link","href",4,"ngIf"],["target","_blank","rel","nofollow noopener noreferrer",3,"cb-link","href"],["key","icon_external_link","size","large","color","inherit"]],template:function(a,l){1&a&&e.YNc(0,C,4,3,"a",0),2&a&&e.Q6J("ngIf",l.url)},directives:[i.O5,u.I,c.o],styles:["a[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}a[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{margin-left:4px}"]}),p})()},41773:(ne,b,t)=>{t.d(b,{A:()=>C});var e=t(36362),i=t(32519),u=t(19366),c=t(3184);let C=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({imports:[[e.ez,i.n,u.L]]}),_})()},93293:(ne,b,t)=>{t.d(b,{I:()=>v});var e=t(36362),i=t(45857),u=t(90898),c=t(90587),C=t(35503),_=t(68881),p=t(40577),E=t(19366),a=t(32519),l=t(31156),r=t(51044),o=t(14117),d=t(3184);let n=(()=>{class y{}return y.\u0275fac=function(A){return new(A||y)},y.\u0275mod=d.oAB({type:y}),y.\u0275inj=d.cJS({imports:[[e.ez,o.GD]]}),y})();var g=t(83447),f=t(32313),m=t(41773);let v=(()=>{class y{}return y.\u0275fac=function(A){return new(A||y)},y.\u0275mod=d.oAB({type:y}),y.\u0275inj=d.cJS({imports:[[e.ez,i.Bz,u.q,c.u5,C.Dt,_.N,p.C,a.n,l.H,r.X,E.L,n,g.E,f.H,m.A]]}),y})()},57984:(ne,b,t)=>{t.d(b,{N:()=>pt});var e=t(71263),i=t(3184),u=t(36362),c=t(24956),C=t(75215),_=t(13074),p=t(4151),E=t(46036),a=t(47367),l=t(45857),r=t(96017),o=t(20262);function d(We,Ze){if(1&We&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&We){const De=i.oxw(2);i.xp6(1),i.Oqu(De.label)}}function n(We,Ze){if(1&We&&i._UZ(0,"identifier-image",7),2&We){const De=i.oxw(3);i.Q6J("identifier",De.identifier)("size",De.imgSize||25)}}function g(We,Ze){if(1&We&&(i.TgZ(0,"div",4),i.YNc(1,n,1,2,"identifier-image",5),i.TgZ(2,"div",6),i._uU(3),i.qZA()()),2&We){const De=i.oxw(2);i.xp6(1),i.Q6J("ngIf",De.identifier),i.xp6(2),i.hij(" ",De.label," ")}}function f(We,Ze){if(1&We&&(i.TgZ(0,"a",2),i.YNc(1,d,2,1,"span",1),i.YNc(2,g,4,2,"div",3),i.qZA()),2&We){const De=i.oxw();i.Q6J("cb-link",De.linkColor)("hoverPreview",De.showHoverPreview)("hoverPayload",De.hoverPayload)("hoverComponent",De.overlayComponent)("routerLink",De.route.path)("title",De.label),i.uIk("aria-label",De.label),i.xp6(1),i.Q6J("ngIf","markup"===De.contextType),i.xp6(1),i.Q6J("ngIf","markup"!==De.contextType)}}function m(We,Ze){if(1&We&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&We){const De=i.oxw();i.xp6(1),i.Oqu(De.label)}}function v(We,Ze){if(1&We&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&We){const De=i.oxw();i.xp6(1),i.Oqu(De.emptyFieldText)}}let y=(()=>{class We{constructor(De,we,Ue,qe,dt){this.overlayComponent=De,this.logService=we,this.metadataService=Ue,this.urlService=qe,this.formatterService=dt,this.showHoverPreview=!1,this.emptyFieldText=e.do,this.logger=this.logService.getLogger("IdentifierFormatterComponent")}ngOnChanges(){this.fieldData&&this.setIdentifierUiData(this.fieldData)}setIdentifierUiData(De){let we=null==De?void 0:De.entity_def_id;we?(this.identifier=De,this.route=this.getIdentifierRoute(De),this.label=this.getIdentifierLabel(we,De),this.showHoverPreview=this.metadataService.hasPreviewLayouts(we),this.hoverPayload={identifier:De}):this.logger.error("Identifier has no entityDefId",{identifier:De})}getIdentifierRoute(De){if(!this.field.query||!this.field.query.template)return this.metadataService.hasLayouts(De.entity_def_id)?this.urlService.getIdentifierRoute(De):void 0;return this.formatterService.constructDrillInRoute(this.collectionId,this.field.id,this.field.query,this.queryData)||void this.logger.error("Query template was missing collection or field ids",{searchCollectionId:this.collectionId,queryTemplateCollectionId:this.field.query.template.collection_id,fieldId:this.field.id})}getIdentifierLabel(De,we){var Ue;let qe=null==we?void 0:we.value;if(qe)return qe;{let dt=this.metadataService.getEntityDef(De);return(null===(Ue=null==dt?void 0:dt.labels)||void 0===Ue?void 0:Ue.name)||void this.logger.error("Identifier has no provided label and we could find no matching entityDef to fall back to",{identifier:we})}}}return We.\u0275fac=function(De){return new(De||We)(i.Y36(p.$b),i.Y36(c.$V),i.Y36(C.Do),i.Y36(_.iO),i.Y36(e.eM))},We.\u0275cmp=i.Xpm({type:We,selectors:[["identifier-formatter"]],inputs:{collectionId:"collectionId",field:"field",fieldData:"fieldData",queryData:"queryData",contextType:"contextType",imgSize:"imgSize",linkColor:"linkColor"},features:[i.TTD],decls:3,vars:3,consts:[["class","component--field-formatter field-type-identifier","role","link",3,"cb-link","hoverPreview","hoverPayload","hoverComponent","routerLink","title",4,"ngIf"],[4,"ngIf"],["role","link",1,"component--field-formatter","field-type-identifier",3,"cb-link","hoverPreview","hoverPayload","hoverComponent","routerLink","title"],["hoverOverElementContainer","","class","identifier-image-and-label",4,"ngIf"],["hoverOverElementContainer","",1,"identifier-image-and-label"],["class","identifier-image",3,"identifier","size",4,"ngIf"],["hoverOverElement","",1,"identifier-label"],[1,"identifier-image",3,"identifier","size"]],template:function(De,we){1&De&&(i.YNc(0,f,3,9,"a",0),i.YNc(1,m,2,1,"span",1),i.YNc(2,v,2,1,"span",1)),2&De&&(i.Q6J("ngIf",we.label&&we.route&&we.hoverPayload),i.xp6(1),i.Q6J("ngIf",we.label&&!we.route),i.xp6(1),i.Q6J("ngIf",!we.label))},directives:[u.O5,E.n,a.I,l.yS,r.a,o.J],styles:["identifier-formatter{max-width:100%}identifier-formatter .identifier-image-and-label{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}identifier-formatter .identifier-image-and-label>*{max-width:100%;box-sizing:border-box}identifier-formatter .identifier-image-and-label .identifier-image{flex:0 0 auto;box-sizing:border-box;margin-right:8px}identifier-formatter .identifier-image-and-label .identifier-label{flex:0 1 auto;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\n"],encapsulation:2,changeDetection:0}),We})();var S=t(17272),A=t(92938),x=t(25458),R=t(49837),s=t(20757),h=t(32478);function H(We,Ze){if(1&We&&(i.ynx(0),i._UZ(1,"theme-icon",5),i.BQk()),2&We){const De=i.oxw(2);i.xp6(1),i.Q6J("themeId",null==De.field||null==De.field.display?null:De.field.display.theme_id)}}function K(We,Ze){1&We&&i._UZ(0,"icon",7)}function P(We,Ze){if(1&We&&(i._uU(0),i.YNc(1,K,1,0,"icon",6)),2&We){const De=i.oxw(2);i.hij(" ",De.label," "),i.xp6(1),i.Q6J("ngIf",De.isExternalLink)}}const z=function(We){return{"icon-only":We}};function ee(We,Ze){if(1&We&&(i.TgZ(0,"a",2),i.YNc(1,H,2,1,"ng-container",3),i.YNc(2,P,2,2,"ng-template",null,4,i.W1O),i.qZA()),2&We){const De=i.MAs(3),we=i.oxw();i.Q6J("cb-link",we.linkColor)("href",we.source,i.LSH)("target",we.isExternalLink?"_blank":"_self")("rel",we.isExternalLink?"nofollow noopener noreferrer":"")("title",we.label)("ngClass",i.VKq(9,z,we.iconOnly)),i.uIk("aria-label",we.label),i.xp6(1),i.Q6J("ngIf",we.iconOnly)("ngIfElse",De)}}function Z(We,Ze){if(1&We&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&We){const De=i.oxw();i.xp6(1),i.Oqu(De.emptyFieldText)}}let G=(()=>{class We{constructor(De,we,Ue){this.urlService=De,this.platformService=we,this.bootstrapService=Ue,this.iconOnly=!1,this.emptyFieldText=e.do}ngOnInit(){this.setup()}setup(){let De=this.fieldData;if(null==De?void 0:De.value){this.source=De.value;let we=this.urlService.parseUrl(De.value);this.isExternalLink=!!we&&this.getIsExternal(we.host),this.label=this.contextType===e.Qy.lastSavedValue?this.source:De.label?De.label:this.field.labels&&this.field.labels.value?this.field.labels.value:we?(0,A.truncate)(`${we.host||""}${we.path||""}`,{length:50}):""}}getIsExternal(De){let we;return we=this.platformService.isBrowser()?window.location.host:this.bootstrapService.getHost(),De!==we}}return We.\u0275fac=function(De){return new(De||We)(i.Y36(_.iO),i.Y36(R.m),i.Y36(x.Qn))},We.\u0275cmp=i.Xpm({type:We,selectors:[["link-formatter"]],inputs:{field:"field",fieldData:"fieldData",linkColor:"linkColor",iconOnly:"iconOnly",contextType:"contextType"},decls:2,vars:2,consts:[["rel","nofollow","class","component--field-formatter","role","link",3,"cb-link","href","target","rel","title","ngClass",4,"ngIf"],[4,"ngIf"],["rel","nofollow","role","link",1,"component--field-formatter",3,"cb-link","href","target","rel","title","ngClass"],[4,"ngIf","ngIfElse"],["textLabel",""],["color","theme",3,"themeId"],["class","external-icon","size","custom","key","icon_new_tab","color","inherit",4,"ngIf"],["size","custom","key","icon_new_tab","color","inherit",1,"external-icon"]],template:function(De,we){1&De&&(i.YNc(0,ee,4,11,"a",0),i.YNc(1,Z,2,1,"span",1)),2&De&&(i.Q6J("ngIf",we.source),i.xp6(1),i.Q6J("ngIf",!we.source))},directives:[u.O5,E.n,a.I,u.mk,s.p,h.o],styles:["[_nghost-%COMP%]{display:inline-block}icon[_ngcontent-%COMP%]{height:12px;width:12px;min-width:12px;min-height:12px;line-height:12px}a[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:flex-end;align-content:flex-end}.external-icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;margin-left:2px;margin-bottom:2px}"],changeDetection:0}),We})();var J=t(93443),le=t(80670);function V(We,Ze){if(1&We&&(i.TgZ(0,"a",6)(1,"span"),i._uU(2),i.qZA()()),2&We){const De=i.oxw(2);i.Q6J("cb-link",De.linkColor)("href",De.value,i.LSH)("title",De.label),i.xp6(2),i.hij(" ",De.label," ")}}function j(We,Ze){if(1&We&&i._UZ(0,"external-link",7),2&We){const De=i.oxw(2);i.MGl("url","https://linkedin.com/in/",De.value,""),i.Q6J("label",De.label)}}function M(We,Ze){if(1&We&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&We){const De=i.oxw(2);i.xp6(1),i.Oqu(De.value)}}function ie(We,Ze){if(1&We&&(i.ynx(0,2),i.YNc(1,V,3,4,"a",3),i.YNc(2,j,1,2,"external-link",4),i.YNc(3,M,2,1,"span",5),i.BQk()),2&We){const De=i.oxw();i.Q6J("ngSwitch",De.format),i.xp6(1),i.Q6J("ngSwitchCase",De.FormatEnum.url),i.xp6(1),i.Q6J("ngSwitchCase",De.FormatEnum.linkedin_person)}}function te(We,Ze){if(1&We&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&We){const De=i.oxw();i.xp6(1),i.Oqu(De.value)}}let re=(()=>{class We{constructor(){this.FormatEnum=J.si.FormatEnum}ngOnChanges(){this.setup()}setup(){var De;let we=this.field&&this.field.display;this.format=null===(De=null==we?void 0:we.text_blob)||void 0===De?void 0:De.format,this.fieldData?(this.value=Array.isArray(this.fieldData)?this.fieldData[0]:this.fieldData,this.label=this.field.labels&&this.field.labels.value||this.value):this.value=e.do}}return We.\u0275fac=function(De){return new(De||We)},We.\u0275cmp=i.Xpm({type:We,selectors:[["blob-formatter"]],inputs:{field:"field",fieldData:"fieldData",linkColor:"linkColor"},features:[i.TTD],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["target","_blank","rel","nofollow noopener noreferrer","class","component--field-formatter field-type-text-blob",3,"cb-link","href","title",4,"ngSwitchCase"],[3,"label","url",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank","rel","nofollow noopener noreferrer",1,"component--field-formatter","field-type-text-blob",3,"cb-link","href","title"],[3,"label","url"]],template:function(De,we){1&De&&(i.YNc(0,ie,4,3,"ng-container",0),i.YNc(1,te,2,1,"span",1)),2&De&&(i.Q6J("ngIf",we.fieldData),i.xp6(1),i.Q6J("ngIf",!we.fieldData))},directives:[u.O5,u.RF,u.n9,a.I,le.A,u.ED],styles:[".field-type-text-blob[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:flex-end;align-content:flex-end}.field-type-text-blob[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0}),We})();var q=t(23580);function U(We,Ze){if(1&We&&(i.TgZ(0,"span",2),i._uU(1),i.qZA()),2&We){const De=i.oxw();i.Q6J("title",De.formattedValue),i.xp6(1),i.hij(" ",De.formattedValue,"\n")}}function k(We,Ze){1&We&&(i.TgZ(0,"span"),i._uU(1,",\xa0"),i.qZA())}function w(We,Ze){if(1&We&&(i.ynx(0),i.TgZ(1,"a",4),i._uU(2),i.qZA(),i.YNc(3,k,2,0,"span",1),i.BQk()),2&We){const De=Ze.$implicit,we=Ze.last,Ue=i.oxw(2);i.xp6(1),i.Q6J("cb-link",Ue.linkColor)("routerLink",De.route.path)("ngClass","field-type-"+Ue.field.type_id),i.xp6(1),i.Oqu(De.label),i.xp6(1),i.Q6J("ngIf",!we)}}function Q(We,Ze){if(1&We&&(i.ynx(0),i.YNc(1,w,4,5,"ng-container",3),i.BQk()),2&We){const De=i.oxw();i.xp6(1),i.Q6J("ngForOf",De.drillIns)}}let $=(()=>{class We{constructor(De){this.formatterService=De,this.contextType=e.Qy.default}ngOnChanges(){this.drillIns=void 0,this.formattedValue=void 0,this.field&&(this.field.query&&this.field.query.template&&this.queryData?(this.drillIns=this.getDrillIns(),this.drillIns||(this.formattedValue=this.getFormattedValue())):this.formattedValue=this.getFormattedValue())}getFormattedValue(){const De=this.formatterService.formatField(this.field,this.fieldData,this.contextType);if(""!==De)return De}getDrillIns(){const we=this.formatterService.constructDrillInRoutes(this.collectionId,this.field.id,this.field.query,this.queryData,this.queryTemplateSearchUi).map(Ue=>{const dt=this.getLabelForFieldValue(Ue.path[Ue.path.length-1]);if(dt)return{label:dt,route:Ue}}).filter(q.K);if(we.length)return we}getLabelForFieldValue(De){return this.field.labels?this.field.labels.values[De]:void 0}}return We.\u0275fac=function(De){return new(De||We)(i.Y36(e.eM))},We.\u0275cmp=i.Xpm({type:We,selectors:[["enum-multi-formatter"]],inputs:{collectionId:"collectionId",field:"field",fieldData:"fieldData",queryData:"queryData",contextType:"contextType",linkColor:"linkColor",queryTemplateSearchUi:"queryTemplateSearchUi"},features:[i.TTD],decls:2,vars:2,consts:[["class","component--field-formatter field-type-enum-multi",3,"title",4,"ngIf"],[4,"ngIf"],[1,"component--field-formatter","field-type-enum-multi",3,"title"],[4,"ngFor","ngForOf"],[1,"component--field-formatter",3,"cb-link","routerLink","ngClass"]],template:function(De,we){1&De&&(i.YNc(0,U,2,2,"span",0),i.YNc(1,Q,2,1,"ng-container",1)),2&De&&(i.Q6J("ngIf",!we.drillIns),i.xp6(1),i.Q6J("ngIf",we.drillIns))},directives:[u.O5,u.sg,E.n,a.I,l.yS,u.mk],encapsulation:2,changeDetection:0}),We})();var X=t(19193),Ce=t(64139),ye=t(14117),ue=t(86942),Me=t(35585);let me=(()=>{class We{constructor(De){this.store=De}ngOnInit(){this.store.dispatch((0,ye.Gp)())}ngOnChanges(De){De.fieldData&&this.setValue()}setValue(){this.value$=this.fieldData?(0,X.aj)([this.store.select((0,ye.OK)(this.fieldData)),this.store.select(ye.Rj)]).pipe((0,ue.U)(([De,we])=>De?De.user_name||De.user_email||e.do:we?"":e.do)):(0,Ce.of)(e.do)}}return We.\u0275fac=function(De){return new(De||We)(i.Y36(Me.yh))},We.\u0275cmp=i.Xpm({type:We,selectors:[["team-user-formatter"]],inputs:{fieldData:"fieldData"},features:[i.TTD],decls:2,vars:3,template:function(De,we){1&De&&(i._uU(0),i.ALo(1,"async")),2&De&&i.hij("",i.lcZ(1,1,we.value$),"\n")},pipes:[u.Ov],encapsulation:2,changeDetection:0}),We})();var ve=t(77500);function ze(We,Ze){if(1&We&&i._UZ(0,"identifier-formatter",10),2&We){const De=i.oxw(2);i.Q6J("collectionId",De.collectionId)("field",De.field)("fieldData",De.fieldData)("queryData",De.queryData)("contextType",De.contextType)("imgSize",De.imgSize)("linkColor",De.linkColor)}}function tt(We,Ze){if(1&We&&i._UZ(0,"identifier-multi-formatter",11),2&We){const De=i.oxw(2);i.Q6J("collectionId",De.collectionId)("field",De.field)("fieldData",De.fieldData)("queryData",De.queryData)("linkColor",De.linkColor)("contextType",De.contextType)("queryTemplateSearchUi",De.queryTemplateSearchUi)}}function ht(We,Ze){if(1&We&&i._UZ(0,"link-formatter",12),2&We){const De=i.oxw(2);i.Q6J("field",De.field)("fieldData",De.fieldData)("linkColor",De.linkColor)("iconOnly",De.iconOnlyLink)("contextType",De.contextType)}}function xe(We,Ze){if(1&We&&i._UZ(0,"blob-formatter",13),2&We){const De=i.oxw(2);i.Q6J("field",De.field)("fieldData",De.fieldData)("linkColor",De.linkColor)}}function Ne(We,Ze){if(1&We&&i._UZ(0,"enum-multi-formatter",14),2&We){const De=i.oxw(2);i.Q6J("collectionId",De.collectionId)("field",De.field)("fieldData",De.fieldData)("queryData",De.queryData)("contextType",De.contextType)("linkColor",De.linkColor)("queryTemplateSearchUi",De.queryTemplateSearchUi)}}function be(We,Ze){if(1&We&&i._UZ(0,"team-user-formatter",15),2&We){const De=i.oxw(2);i.Q6J("fieldData",De.fieldData)}}function se(We,Ze){if(1&We&&i._UZ(0,"cb-image",16),2&We){const De=i.oxw(2);i.Q6J("publicId",De.fieldData)("height",100)("width",100)}}function Oe(We,Ze){if(1&We&&(i.ynx(0),i.TgZ(1,"span",17),i._uU(2),i.qZA(),i.BQk()),2&We){const De=i.oxw(2);i.xp6(1),i.Q6J("ngClass","field-type-"+(null==De.field?null:De.field.type_id))("title",De.formattedValue),i.xp6(1),i.Oqu(De.formattedValue)}}function Re(We,Ze){if(1&We&&(i.ynx(0)(1,1),i.YNc(2,ze,1,7,"identifier-formatter",2),i.YNc(3,tt,1,7,"identifier-multi-formatter",3),i.YNc(4,ht,1,5,"link-formatter",4),i.YNc(5,xe,1,3,"blob-formatter",5),i.YNc(6,Ne,1,7,"enum-multi-formatter",6),i.YNc(7,be,1,1,"team-user-formatter",7),i.YNc(8,se,1,3,"cb-image",8),i.YNc(9,Oe,3,3,"ng-container",9),i.BQk()()),2&We){const De=i.oxw();i.xp6(1),i.Q6J("ngSwitch",null==De.field?null:De.field.type_id),i.xp6(1),i.Q6J("ngSwitchCase","identifier"),i.xp6(1),i.Q6J("ngSwitchCase","identifier_multi"),i.xp6(1),i.Q6J("ngSwitchCase","link"),i.xp6(1),i.Q6J("ngSwitchCase","text_blob"),i.xp6(1),i.Q6J("ngSwitchCase","enum_multi"),i.xp6(1),i.Q6J("ngSwitchCase","user"),i.xp6(1),i.Q6J("ngSwitchCase","image_id")}}function ot(We,Ze){if(1&We&&(i.ynx(0),i.TgZ(1,"a",18),i._uU(2),i.qZA(),i.BQk()),2&We){const De=i.oxw();i.xp6(1),i.Q6J("cb-link",De.linkColor)("routerLink",De.drillInRoute.path)("ngClass","field-type-"+(null==De.field?null:De.field.type_id)),i.xp6(1),i.Oqu(De.formattedValue)}}const Ge={link:!0,identifier:!0,identifier_multi:!0,text_blob:!0,enum_multi:!0,user:!0,image_id:!0};let pt=(()=>{class We{constructor(De){this.formatterService=De,this.contextType=e.Qy.default,this.linkColor="accent",this.iconOnlyLink=!1,this.formattedValue=""}ngOnChanges(){var De;if(this.field){!Ge[this.field.type_id]&&(this.formattedValue=this.formatterService.formatField(this.field,this.fieldData,this.contextType));let qe=(null===(De=this.formattedValue)||void 0===De?void 0:De.length)&&this.formattedValue!==e.do;this.field.query&&this.field.query.template&&qe&&this.queryData&&(this.drillInRoute=this.formatterService.constructDrillInRoute(this.collectionId,this.field.id,this.field.query,this.queryData,this.queryTemplateSearchUi))}}}return We.\u0275fac=function(De){return new(De||We)(i.Y36(e.eM))},We.\u0275cmp=i.Xpm({type:We,selectors:[["field-formatter"]],inputs:{collectionId:"collectionId",field:"field",fieldData:"fieldData",queryData:"queryData",contextType:"contextType",queryTemplateSearchUi:"queryTemplateSearchUi",linkColor:"linkColor",imgSize:"imgSize",iconOnlyLink:"iconOnlyLink"},features:[i.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngSwitch"],[3,"collectionId","field","fieldData","queryData","contextType","imgSize","linkColor",4,"ngSwitchCase"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType","queryTemplateSearchUi",4,"ngSwitchCase"],[3,"field","fieldData","linkColor","iconOnly","contextType",4,"ngSwitchCase"],[3,"field","fieldData","linkColor",4,"ngSwitchCase"],[3,"collectionId","field","fieldData","queryData","contextType","linkColor","queryTemplateSearchUi",4,"ngSwitchCase"],[3,"fieldData",4,"ngSwitchCase"],[3,"publicId","height","width",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"collectionId","field","fieldData","queryData","contextType","imgSize","linkColor"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType","queryTemplateSearchUi"],[3,"field","fieldData","linkColor","iconOnly","contextType"],[3,"field","fieldData","linkColor"],[3,"collectionId","field","fieldData","queryData","contextType","linkColor","queryTemplateSearchUi"],[3,"fieldData"],[3,"publicId","height","width"],[1,"component--field-formatter",3,"ngClass","title"],[1,"component--field-formatter",3,"cb-link","routerLink","ngClass"]],template:function(De,we){1&De&&(i.YNc(0,Re,10,8,"ng-container",0),i.YNc(1,ot,3,4,"ng-container",0)),2&De&&(i.Q6J("ngIf",!we.drillInRoute),i.xp6(1),i.Q6J("ngIf",we.drillInRoute))},directives:[u.O5,u.RF,u.n9,y,S.R,G,re,$,me,ve.q,u.ED,u.mk,E.n,a.I,l.yS],styles:["identifier-formatter{max-width:100%}identifier-formatter .identifier-image-and-label{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}identifier-formatter .identifier-image-and-label>*{max-width:100%;box-sizing:border-box}identifier-formatter .identifier-image-and-label .identifier-image{flex:0 0 auto;box-sizing:border-box;margin-right:8px}identifier-formatter .identifier-image-and-label .identifier-label{flex:0 1 auto;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\n"],encapsulation:2,changeDetection:0}),We})()},17272:(ne,b,t)=>{t.d(b,{R:()=>z});var e=t(92938),u=t(93443),c=t(71263),C=t(24956),_=t(75215),p=t(13074),E=t(34409),a=t(4151),l=t(3184),r=t(36362),o=t(46036),d=t(47367),n=t(45857),g=t(96017),f=t(92434),m=t(69489),v=t(74929);function y(ee,Z){if(1&ee&&(l.ynx(0),l.TgZ(1,"a",5),l._uU(2),l.qZA(),l.BQk()),2&ee){const G=l.oxw().$implicit,J=l.oxw(2);l.xp6(1),l.Q6J("cb-link",J.linkColor)("routerLink",G.route.path)("hoverPreview",G.canHover)("hoverPayload",G.hoverPayload)("hoverComponent",J.overlayComponent)("title",G.label),l.xp6(1),l.hij(" ",G.label,"")}}function S(ee,Z){if(1&ee&&(l.ynx(0),l._uU(1),l.BQk()),2&ee){const G=l.oxw().$implicit;l.xp6(1),l.hij(" ",G.label," ")}}function A(ee,Z){if(1&ee&&(l.ynx(0),l.YNc(1,y,3,7,"ng-container",4),l.YNc(2,S,2,1,"ng-container",4),l.ynx(3),l._uU(4),l.BQk()()),2&ee){const G=Z.$implicit,J=Z.last;l.xp6(1),l.Q6J("ngIf",G.route),l.xp6(1),l.Q6J("ngIf",!G.route),l.xp6(2),l.Oqu(J?"":",")}}function x(ee,Z){if(1&ee&&(l.ynx(0),l._uU(1),l.BQk()),2&ee){const G=l.oxw(2);l.xp6(1),l.hij(" ",G.emptyFieldText," ")}}function R(ee,Z){if(1&ee&&(l.ynx(0),l.YNc(1,A,5,3,"ng-container",3),l.YNc(2,x,2,1,"ng-container",4),l.BQk()),2&ee){const G=l.oxw();l.xp6(1),l.Q6J("ngForOf",G.identifierUiDatas),l.xp6(1),l.Q6J("ngIf",!G.identifierUiDatas)}}function s(ee,Z){if(1&ee&&(l.TgZ(0,"a",8)(1,"chip",9),l._uU(2),l.qZA()()),2&ee){const G=l.oxw().$implicit;l.Q6J("routerLink",G.route.path),l.xp6(2),l.Oqu(G.label)}}function h(ee,Z){if(1&ee&&(l.ynx(0),l.YNc(1,s,3,2,"a",7),l.BQk()),2&ee){const G=Z.$implicit;l.xp6(1),l.Q6J("ngIf",G.route)}}const H=function(ee){return{count:ee}};function K(ee,Z){if(1&ee&&(l.TgZ(0,"span",10),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&ee){const G=Z.ngIf;l.xp6(1),l.hij(" ",l.xi3(2,1,"CBL.FIELD_FORMATTER.IDENTIFIER_MULTI.PLUS_MORE",l.VKq(4,H,G))," ")}}function P(ee,Z){if(1&ee&&(l.TgZ(0,"chips-container"),l.YNc(1,h,2,1,"ng-container",3),l.ALo(2,"slice"),l.YNc(3,K,3,6,"span",6),l.qZA()),2&ee){const G=l.oxw();l.xp6(1),l.Q6J("ngForOf",l.Dn7(2,2,G.identifierUiDatas,0,G.maxNumChips)),l.xp6(2),l.Q6J("ngIf",G.getNumHiddenChips())}}let z=(()=>{class ee{constructor(G,J,le,V,j,M){this.overlayComponent=G,this.formatterService=J,this.logService=le,this.metadataService=V,this.defaultIdentifierMultiFormatter=j,this.urlService=M,this.maxNumChips=void 0,this.emptyFieldText=c.do,this.logger=this.logService.getLogger("IdentifierMultiFormatterComponent")}ngOnInit(){this.setup()}getNumHiddenChips(){if(this.identifierUiDatas&&void 0!==this.maxNumChips){const G=this.identifierUiDatas.length-this.maxNumChips;return G>0?G:0}return 0}setup(){let G=this.fieldData,J=this.field;(0,e.isEmpty)(J)?this.logger.error("No field provided to the component"):(0,e.isEmpty)(G)||(G=this.defaultIdentifierMultiFormatter.limitFieldByDisplayCount(J,G),this.isChipDisplayMode=this.getIsChipDisplayMode(),this.identifierUiDatas=this.getIdentifierUiDatas(G,this.field))}getIsChipDisplayMode(){var G,J;return(null===(J=null===(G=this.field.display)||void 0===G?void 0:G.identifier_multi)||void 0===J?void 0:J.mode)===u.Ij.ModeEnum.pill&&(this.contextType===c.Qy.profile||this.contextType===c.Qy.contactsSearch||this.contextType===c.Qy.orgCardsSearch)}getIdentifierUiDatas(G,J){if(G&&G.length>0){let le=[];if(G.forEach(V=>{let j=this.formatIdentifierUiData(V,J);j&&le.push(j)}),le.length>0)return le}}formatIdentifierUiData(G,J){let le=null==G?void 0:G.entity_def_id;if(le){let V=this.getRoute(J,G),j=this.getIdentifierLabel(le,G),M={identifier:G};if(V&&j)return{route:V,label:j,uuid:G.uuid,entityDefId:le,canHover:this.metadataService.hasPreviewLayouts(le),hoverPayload:M}}else this.logger.error("Identifier has no entityDefId",{identifier:G})}getRoute(G,J){if(J&&(J.permalink||J.uuid)){if(!G.query||!G.query.template)return 0===this.metadataService.getLayouts(J.entity_def_id).length?void 0:this.urlService.getIdentifierRoute(J);{let V=this.queryData;return G.query.injected_field_id===G.id&&(V={localProperties:{[G.id]:J}}),this.formatterService.constructDrillInRoute(this.collectionId,G.id,G.query,V,this.queryTemplateSearchUi)||void this.logger.error("Query template was missing collection or field ids",{searchCollectionId:this.collectionId,queryTemplateCollectionId:G.query.template.collection_id,fieldId:G.id})}}this.logger.error("Identifier has no permalink or uuid",{identifier:J})}getIdentifierLabel(G,J){var le;let V=null==J?void 0:J.value;if(V)return V;{let j=this.metadataService.getEntityDef(G);return(null===(le=null==j?void 0:j.labels)||void 0===le?void 0:le.name)||void this.logger.error("Identifier has no provided label and we could find no matching entityDef to fall back to",{identifier:J})}}}return ee.\u0275fac=function(G){return new(G||ee)(l.Y36(a.$b),l.Y36(c.eM),l.Y36(C.$V),l.Y36(_.Do),l.Y36(E.r),l.Y36(p.iO))},ee.\u0275cmp=l.Xpm({type:ee,selectors:[["identifier-multi-formatter"]],inputs:{collectionId:"collectionId",field:"field",fieldData:"fieldData",queryData:"queryData",linkColor:"linkColor",contextType:"contextType",queryTemplateSearchUi:"queryTemplateSearchUi",maxNumChips:"maxNumChips"},decls:4,vars:2,consts:[[1,"component--field-formatter","field-type-identifier-multi"],[4,"ngIf","ngIfElse"],["listOfChips",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"cb-link","routerLink","hoverPreview","hoverPayload","hoverComponent","title"],["class","hidden-chips",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["color","success"],[1,"hidden-chips"]],template:function(G,J){if(1&G&&(l.TgZ(0,"span",0),l.YNc(1,R,3,2,"ng-container",1),l.qZA(),l.YNc(2,P,4,6,"ng-template",null,2,l.W1O)),2&G){const le=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!J.isChipDisplayMode)("ngIfElse",le)}},directives:[r.O5,r.sg,o.n,d.I,n.yS,g.a,f.O,m.Y],pipes:[r.OU,v.X],styles:["chips-container[_ngcontent-%COMP%]{margin-top:-4px;margin-left:-4px}chips-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}chip[_ngcontent-%COMP%]{margin:4px!important;padding:6px 12px}.profile-loading[_nghost-%COMP%]   chips-container[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   chips-container[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   chips-container[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   chips-container[_ngcontent-%COMP%]{margin:0!important;background-color:#e9e9e9!important;color:transparent!important}.profile-loading[_nghost-%COMP%]   chip[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   chip[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   chip[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   chip[_ngcontent-%COMP%]{visibility:hidden!important}.hidden-chips[_ngcontent-%COMP%]{font-weight:500}"],changeDetection:0}),ee})()},33145:(ne,b,t)=>{t.d(b,{f:()=>j});var e=t(3184),i=t(92938),c=t(93443),C=t(94882),_=t(469),p=t(32478),E=t(36362),a=t(20757),l=t(87317),r=t(82796),o=t(47367),d=t(74160),n=t(19975),g=t(43652),f=t(74929);function m(M,ie){if(1&M&&e._UZ(0,"theme-icon",4),2&M){const te=e.oxw();e.Q6J("themeId",te.theme.id)}}function v(M,ie){if(1&M&&(e.ynx(0),e.TgZ(1,"div",13)(2,"a",14)(3,"span",15)(4,"label-with-icon",16),e._uU(5),e.qZA()()()(),e._UZ(6,"mat-divider"),e.BQk()),2&M){const te=e.oxw(2);e.xp6(2),e.Q6J("href",te.theme.attribution_url,e.LSH),e.uIk("aria-label",te.themeLinkLabel),e.xp6(3),e.Oqu(te.themeLinkLabel)}}function y(M,ie){if(1&M&&(e.TgZ(0,"upsell-modal-button",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&M){const te=e.oxw(2);e.Q6J("featureSet",te.sortUpsell),e.xp6(1),e.hij(" ",e.lcZ(2,2,"CBL.SEARCH.COLUMN_MENU.SORT_ASC")," ")}}function S(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onSort(q.columnId,q.SortEnum.asc)}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",20),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&M){const te=e.oxw(2);e.Q6J("disabled","asc"===te.currentSort),e.uIk("aria-label",e.lcZ(1,4,"CBL.SEARCH.COLUMN_MENU.SORT_ASC")),e.xp6(3),e.Q6J("iconKey",te.alphaSort?"icon_a_to_z":"icon_sort_ascending"),e.xp6(1),e.Oqu(e.lcZ(5,6,"CBL.SEARCH.COLUMN_MENU.SORT_ASC"))}}function A(M,ie){if(1&M&&(e.TgZ(0,"upsell-modal-button",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&M){const te=e.oxw(2);e.Q6J("featureSet",te.sortUpsell),e.xp6(1),e.hij(" ",e.lcZ(2,2,"CBL.SEARCH.COLUMN_MENU.SORT_DESC")," ")}}function x(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onSort(q.columnId,q.SortEnum.desc)}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",20),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&M){const te=e.oxw(2);e.Q6J("disabled","desc"===te.currentSort),e.uIk("aria-label",e.lcZ(1,4,"CBL.SEARCH.COLUMN_MENU.SORT_DESC")),e.xp6(3),e.Q6J("iconKey",te.alphaSort?"icon_z_to_a":"icon_sort_descending"),e.xp6(1),e.Oqu(e.lcZ(5,6,"CBL.SEARCH.COLUMN_MENU.SORT_DESC"))}}function R(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onRemoveSort(q.columnId)}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",22),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&M){const te=e.oxw(2);e.Q6J("disabled",!("asc"===te.currentSort||"desc"===te.currentSort)),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.REMOVE_SORT")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.REMOVE_SORT"))}}function s(M,ie){1&M&&e._UZ(0,"mat-divider")}function h(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onAdd(q.columnId)}),e.TgZ(1,"span",19)(2,"label-with-icon",24),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&M&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"CBL.SEARCH.COLUMN_MENU.ADD_COLUMN")))}function H(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onRemove(q.columnId)}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",25),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&M){const te=e.oxw(2);e.Q6J("disabled","identifier"==te.columnId),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.REMOVE_COLUMN")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.REMOVE_COLUMN"))}}function K(M,ie){1&M&&e._UZ(0,"mat-divider")}function P(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onMove(q.columnId,"left")}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",26),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&M){const te=e.oxw(2);e.Q6J("disabled",te.isFirst),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.COLUMN_LEFT")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.COLUMN_LEFT"))}}function z(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onMove(q.columnId,"right")}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",27),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&M){const te=e.oxw(2);e.Q6J("disabled",te.isLast),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.COLUMN_RIGHT")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.COLUMN_RIGHT"))}}function ee(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onMove(q.columnId,"start")}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",28),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&M){const te=e.oxw(2);e.Q6J("disabled",te.isFirst),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.COLUMN_START")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.COLUMN_START"))}}function Z(M,ie){if(1&M){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(te);const q=e.oxw(2);return q.onMove(q.columnId,"end")}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",29),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&M){const te=e.oxw(2);e.Q6J("disabled",te.isLast),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.COLUMN_END")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.COLUMN_END"))}}function G(M,ie){if(1&M&&(e.ynx(0),e.TgZ(1,"button",5),e.ALo(2,"translate"),e._UZ(3,"icon",6),e.qZA(),e.TgZ(4,"mat-menu",7,8),e.YNc(6,v,7,3,"ng-container",3),e.YNc(7,y,3,4,"upsell-modal-button",9),e.YNc(8,S,6,8,"button",10),e.YNc(9,A,3,4,"upsell-modal-button",11),e.YNc(10,x,6,8,"button",10),e.YNc(11,R,6,7,"button",10),e.YNc(12,s,1,0,"mat-divider",3),e.YNc(13,h,5,3,"button",12),e.YNc(14,H,6,7,"button",10),e.YNc(15,K,1,0,"mat-divider",3),e.YNc(16,P,6,7,"button",10),e.YNc(17,z,6,7,"button",10),e.YNc(18,ee,6,7,"button",10),e.YNc(19,Z,6,7,"button",10),e.qZA(),e.BQk()),2&M){const te=e.MAs(5),re=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",te),e.uIk("aria-label",e.lcZ(2,17,"CBL.SEARCH.COLUMN_MENU.MENU_BUTTON")),e.xp6(3),e.Q6J("overlapTrigger",!1),e.xp6(2),e.Q6J("ngIf",re.theme&&re.isPartnerTheme&&re.themeLinkLabel),e.xp6(1),e.Q6J("ngIf",re.sortable&&re.sortUpsell),e.xp6(1),e.Q6J("ngIf",re.sortable&&!re.sortUpsell),e.xp6(1),e.Q6J("ngIf",re.sortable&&re.sortUpsell),e.xp6(1),e.Q6J("ngIf",re.sortable&&!re.sortUpsell),e.xp6(1),e.Q6J("ngIf",re.sortable&&!re.sortUpsell&&re.sortRemovable),e.xp6(1),e.Q6J("ngIf",re.sortable&&re.removable),e.xp6(1),e.Q6J("ngIf",re.canAddNewColumn),e.xp6(1),e.Q6J("ngIf",re.removable),e.xp6(1),e.Q6J("ngIf",(re.sortable||re.removable)&&re.movable),e.xp6(1),e.Q6J("ngIf",re.movable),e.xp6(1),e.Q6J("ngIf",re.movable),e.xp6(1),e.Q6J("ngIf",re.movable),e.xp6(1),e.Q6J("ngIf",re.movable)}}const J=function(M){return{"sort-icon-hidden":M}},le=function(M){return{sorted:M}},V=["*"];let j=(()=>{class M{constructor(te,re,q,U){this.elementRef=te,this.renderer=re,this.labelService=q,this.themeService=U,this.isSheetGrid=!1,this.sortable=!1,this.alphaSort=!1,this.sortRemovable=!0,this.sort=new e.vpe,this.removeSort=new e.vpe,this.move=new e.vpe,this.remove=new e.vpe,this.add=new e.vpe,this.SortEnum=c.Di.SortEnum,this.isPartnerTheme=!1}ngOnInit(){this.theme&&(this.themeLinkLabel=this.getThemeLinkLabel(),this.isPartnerTheme=this.themeService.isPartnerTheme(this.theme.id)),this.setHostClasses()}ngAfterViewInit(){this.columnId&&(this.renderer.addClass(this.elementRef.nativeElement,`column-id-${this.columnId}`),this.renderer.addClass(this.elementRef.nativeElement,`column-type-${this.type}`),this.renderer.setAttribute(this.elementRef.nativeElement,"data-columnid",this.columnId))}onSort(te,re){this.sort&&this.sort.emit({columnId:te,direction:re})}onRemoveSort(te){this.removeSort&&this.removeSort.emit(te)}onMove(te,re){this.move&&this.move.emit({columnId:te,location:re})}onRemove(te){this.remove&&this.remove.emit(te)}onAdd(te){this.add.emit(te)}setHostClasses(){this.elementRef.nativeElement.classList.add("flex-noshrink"),this.elementRef.nativeElement.classList.add("layout-row"),this.elementRef.nativeElement.classList.add("layout-align-center-center"),this.fieldTypeId&&this.elementRef.nativeElement.classList.add(`field-type-${this.fieldTypeId}`),this.isSheetGrid&&this.elementRef.nativeElement.classList.add("layout-align-space-between-center")}getThemeLinkLabel(){if(!this.facet)return;let te=this.facet.labels&&this.facet.labels.name||this.facet.id;return te=(0,i.capitalize)(te),this.labelService.getInterpolatedLabel("CBL.SEARCH.COLUMN_MENU.VIEW_ON",{siteName:te})}}return M.\u0275fac=function(te){return new(te||M)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(C.Q),e.Y36(_.f))},M.\u0275cmp=e.Xpm({type:M,selectors:[["grid-column-header"]],inputs:{fieldTypeId:"fieldTypeId",columnId:"columnId",isSheetGrid:"isSheetGrid",theme:"theme",facet:"facet",sortable:"sortable",currentSort:"currentSort",alphaSort:"alphaSort",sortRemovable:"sortRemovable",sortUpsell:"sortUpsell",movable:"movable",isFirst:"isFirst",isLast:"isLast",type:"type",removable:"removable",canAddNewColumn:"canAddNewColumn"},outputs:{sort:"sort",removeSort:"removeSort",move:"move",remove:"remove",add:"add"},ngContentSelectors:V,decls:6,vars:9,consts:[[1,"sort-icon",3,"ngClass","key"],[1,"header-contents",3,"ngClass"],[3,"themeId",4,"ngIf"],[4,"ngIf"],[3,"themeId"],["type","button","mat-icon-button","",1,"header-icon",3,"matMenuTriggerFor"],["key","icon_caret_down","size","large"],[1,"grid-column-menu",3,"overlapTrigger"],["columnMenu","matMenu"],["triggerLocation","discover-grid-column-header-sort-ascending","buttonType","basic",3,"featureSet",4,"ngIf"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["triggerLocation","discover-grid-column-header-sort-descending","buttonType","basic",3,"featureSet",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],[1,"theme-link"],["mat-menu-item","","cb-link","primary","target","_blank",3,"href"],[1,"theme-icon-container"],["iconKey","icon_new_tab","iconSize","large"],["triggerLocation","discover-grid-column-header-sort-ascending","buttonType","basic",3,"featureSet"],["mat-menu-item","","type","button",3,"disabled","click"],[1,"icon-container"],["iconSize","large",3,"iconKey"],["triggerLocation","discover-grid-column-header-sort-descending","buttonType","basic",3,"featureSet"],["iconKey","icon_sort_remove","iconSize","large"],["mat-menu-item","","type","button",3,"click"],["iconKey","icon_add_circle","iconSize","large"],["iconKey","icon_remove_column","iconSize","large"],["iconKey","icon_caret_left","iconSize","large"],["iconKey","icon_caret_right","iconSize","large"],["iconKey","icon_caret_double_left","iconSize","large"],["iconKey","icon_caret_double_right","iconSize","large"]],template:function(te,re){1&te&&(e.F$t(),e._UZ(0,"icon",0),e.TgZ(1,"div",1),e.YNc(2,m,1,1,"theme-icon",2),e.TgZ(3,"div"),e.Hsn(4),e.qZA()(),e.YNc(5,G,20,19,"ng-container",3)),2&te&&(e.Q6J("ngClass",e.VKq(5,J,!re.sortable||!re.currentSort))("key","asc"===re.currentSort?"icon_sort_ascending":"icon_sort_descending"),e.xp6(1),e.Q6J("ngClass",e.VKq(7,le,"asc"===re.currentSort||"desc"===re.currentSort)),e.xp6(1),e.Q6J("ngIf",re.theme&&re.isPartnerTheme),e.xp6(3),e.Q6J("ngIf",re.columnId&&(re.sortable||re.movable||re.removable)))},directives:[p.o,E.mk,E.O5,a.p,l.lW,r.p6,r.VK,o.I,r.OP,d.d,n.d,g.J],pipes:[f.X],styles:["[_nghost-%COMP%]{position:relative;min-height:32px}.card[_nghost-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.card[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.card.field-type-integer[_nghost-%COMP%], .card.field-type-decimal[_nghost-%COMP%], .card.field-type-money[_nghost-%COMP%], .card.field-type-money_decimal[_nghost-%COMP%]{justify-content:flex-end;align-items:center;align-content:center;max-width:100%}.card.field-type-integer[_nghost-%COMP%] > *[_ngcontent-%COMP%], .card.field-type-decimal[_nghost-%COMP%] > *[_ngcontent-%COMP%], .card.field-type-money[_nghost-%COMP%] > *[_ngcontent-%COMP%], .card.field-type-money_decimal[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.sorted[_ngcontent-%COMP%]{color:#000}.sort-icon[_ngcontent-%COMP%]{margin:0 4px 0 8px;flex:0 0 auto}.sort-icon-hidden[_ngcontent-%COMP%]{display:none}theme-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px}.theme-link[_ngcontent-%COMP%]{padding-top:2px}.icon-container[_ngcontent-%COMP%], .theme-icon-container[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.icon-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .theme-icon-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.icon-container[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .theme-icon-container[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .theme-icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}.icon-container[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{margin-right:4px}.grid-column-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]{padding:0}.header-contents[_ngcontent-%COMP%]{flex-grow:1}.header-contents[_ngcontent-%COMP%]   theme-icon[_ngcontent-%COMP%]{margin-right:4px}.header-contents[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}home-feeds[_nghost-%COMP%]   .header-contents[_ngcontent-%COMP%], home-feeds   [_nghost-%COMP%]   .header-contents[_ngcontent-%COMP%]{justify-content:flex-start;line-height:3em}home-feeds[_nghost-%COMP%]   .header-contents[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], home-feeds   [_nghost-%COMP%]   .header-contents[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-transform:uppercase}"],changeDetection:0}),M})()},25975:(ne,b,t)=>{t.d(b,{A:()=>a});var e=t(36362),i=t(90898),u=t(35503),c=t(32519),C=t(83e3),_=t(19366),p=t(32313),E=t(3184);let a=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[[e.ez,i.q,u.Dt,c.n,C.S,_.L,p.H]]}),l})()},32519:(ne,b,t)=>{t.d(b,{n:()=>c});var e=t(36362),i=t(31156),u=t(3184);let c=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({imports:[[e.ez,i.H]]}),C})()},32478:(ne,b,t)=>{t.d(b,{o:()=>C});var e=t(36362),i=t(62036),u=t(3184);const c={};let C=(()=>{class _{constructor(E,a){this._document=E,this.elementRef=a,this.key=_.DEFAULT_ICON_KEY,this.color="accent",this.size="default"}ngOnChanges(E){E.key&&this.setup(this.key),this.svgEl&&this.svgEl.setAttribute("class",[this.size,this.color].join(" "))}setup(E){let a=i.U[E||_.DEFAULT_ICON_KEY];this.elementRef.nativeElement.hasChildNodes()&&this.elementRef.nativeElement.removeChild(this.elementRef.nativeElement.childNodes[0]),c[E]||(c[E]=this.createSvgElement(a)),this.svgEl=this.elementRef.nativeElement.appendChild(c[E].cloneNode(!0))}createSvgElement(E){const a=(this._document||document).createElement("DIV");return a.innerHTML=E,a.querySelector("svg")}}return _.DEFAULT_ICON_KEY="icon_company",_.\u0275fac=function(E){return new(E||_)(u.Y36(e.K0),u.Y36(u.SBq))},_.\u0275cmp=u.Xpm({type:_,selectors:[["icon"]],inputs:{key:"key",color:"color",size:"size"},features:[u.TTD],decls:0,vars:0,template:function(E,a){},styles:["icon{line-height:0;display:inline-block}icon>svg.inherit{fill:currentColor}icon>svg.light{fill:#fff}icon>svg.disabled{fill:#cbcbcb}icon>svg.primary{fill:#146aff}icon>svg.accent{fill:#183444}icon>svg.warn{fill:#c73636}icon>svg.success{fill:#36c78f}icon>svg.pending{fill:#ffd452}icon>svg.pro{fill:#146aff!important}icon>svg.pro-white{fill:#fff}icon>svg.pro-white rect{fill:#146aff}icon>svg.pro-gold{fill:#f5a623}icon>svg.info{fill:#666}icon>svg.info-dark{fill:#40aad1}icon>svg.small{height:4px;width:4px;min-width:4px;min-height:4px;line-height:4px}icon>svg.medium{height:8px;width:8px;min-width:8px;min-height:8px;line-height:8px}icon>svg.large{height:16px;width:16px;min-width:16px;min-height:16px;line-height:16px}icon>svg.xlarge{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px}icon>svg.xxlarge{height:32px;width:32px;min-width:32px;min-height:32px;line-height:32px}icon>svg.xxxlarge{height:48px;width:48px;min-width:48px;min-height:48px;line-height:48px}icon>svg.text{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em}icon>svg.default{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px}icon>svg.custom{width:100%;height:100%}.mat-raised-button label-with-icon icon>svg.default,.mat-stroked-button label-with-icon icon>svg.default,.mat-button label-with-icon icon>svg.default{height:16px;width:16px;min-width:16px;min-height:16px;line-height:16px}\n"],encapsulation:2,changeDetection:0}),_})()},62036:(ne,b,t)=>{t.d(b,{U:()=>e});const e={icon_a_to_z:'<svg viewBox="0 0 24 24"><path style="stroke-width:1.29999995" d="M 2.6,5.5 A 2.5999999,2.5999999 0 0 0 0,8.0999999 V 18.5 h 2.6 v -5.2 h 2.6 v 5.2 H 7.8 V 8.0999999 A 2.5999999,2.5999999 0 0 0 5.2,5.5 H 2.6 m 0,2.5999999 H 5.2 V 10.7 H 2.6 Z" /><path style="stroke-width:1.29999995" d="m 16.2,5.5 v 2.5999999 h 5.2 L 16.2,15.9 v 2.6 H 24 V 15.9 H 18.8 L 24,8.0999999 V 5.5 Z" /><path style="stroke-width:1.07692313" d="m 10.25,8.5 3.5,3.5 -3.5,3.5 v -7" /></svg>',icon_account_circle:'<svg viewBox="0 0 24 24"><path d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm0,3.6A3.6,3.6,0,1,1,8.4,7.2,3.6,3.6,0,0,1,12,3.6Zm0,17a8.66,8.66,0,0,1-7.2-3.86c0-2.39,4.8-3.7,7.2-3.7s7.16,1.31,7.2,3.7A8.66,8.66,0,0,1,12,20.64Z"/></svg>',icon_account_outline:'<svg viewBox="0 0 24 24"><path d="M12,10.8A1.8,1.8,0,1,1,13.8,9,1.8,1.8,0,0,1,12,10.8m0-6A4.2,4.2,0,1,0,16.2,9,4.189,4.189,0,0,0,12,4.8m7.632,13C17.916,15.708,13.752,15,12,15s-5.916.708-7.632,2.8A9.593,9.593,0,1,1,21.6,12a9.54,9.54,0,0,1-1.968,5.8M6.084,19.536C6.6,18.456,9.744,17.4,12,17.4s5.412,1.056,5.916,2.136a9.51,9.51,0,0,1-11.832,0M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0"/></svg>',icon_acquiring_company:'<svg viewBox="0 0 24 24"><path d="M3.23203378,10.7550121 L3.23203378,15.7599886 L0.363795946,18.6253377 C-0.121265315,19.1133229 -0.121265315,19.9027442 0.363795946,20.3895919 L3.5952604,23.6303142 C3.83095919,23.8669131 4.15091744,24 4.48453938,24 C4.81929997,24 5.13925822,23.8669131 5.37381836,23.6303142 L10.7470674,18.2624769 L15.7570898,18.2624769 C16.4482452,18.2624769 17.0107341,17.7028295 17.0107341,17.0112328 L17.0107341,15.7599886 L18.262101,15.7599886 C18.954395,15.7599886 19.5146066,15.2003412 19.5146066,14.5087445 L19.5146066,13.2575004 L20.7671122,13.2575004 C21.4594062,13.2575004 22.0196178,12.697853 22.0196178,12.0062562 L22.0196178,10.7550121 L13.2520786,10.7550121 L13.2520786,12.0062562 C13.2520786,13.3883122 12.1305168,14.5087445 10.7470674,14.5087445 L8.2420562,14.5087445 C6.85860682,14.5087445 5.73704499,13.3883122 5.73704499,12.0062562 L5.73704499,8.25252382 L3.23203378,10.7550121 Z M10.7470674,4.49879141 L14.5045842,4.49879141 L18.6264663,0.369685767 C18.8610264,0.133086876 19.1809847,8.17124146e-14 19.5146066,8.17124146e-14 C19.8493672,8.17124146e-14 20.1693255,0.133086876 20.4038856,0.369685767 L23.6353501,3.61040808 C24.12155,4.09839329 24.12155,4.88667709 23.6353501,5.37466231 L20.7671122,8.25252382 L10.7470674,8.25252382 L10.7470674,10.7550121 C10.7470674,11.4454713 10.1868558,12.0062562 9.4945618,12.0062562 C8.80340644,12.0062562 8.2420562,11.4454713 8.2420562,10.7550121 L8.2420562,7.00127968 C8.2420562,5.61922366 9.36361803,4.49879141 10.7470674,4.49879141 L10.7470674,4.49879141 Z"/></svg>',icon_acquisition:'<svg viewBox="0 0 24 24"><path d="M4.84,9.74l2-2L2,2.9l-2,2ZM24,12,17.61,5.61v5H8.52L0,19.1l2,2,7.68-7.68h7.93v5Z"/></svg>',icon_acquisition_thin:'<svg viewBox="0 0 24 24"><path d="M10.66,16.521a9.961,9.961,0,0,1,.6-1.4,11.906,11.906,0,0,0-1.251-1.459l-.2-.2a7.982,7.982,0,0,0-5.557-2.34H2.175l1.977-2a.626.626,0,0,0-.876-.894L.185,11.338a.631.631,0,0,0,0,.893l3.091,3.107a.625.625,0,0,0,.438.176.644.644,0,0,0,.438-.176.631.631,0,0,0,0-.893L2.1,12.382H4.252a7.505,7.505,0,0,1,6.42,4.139ZM9.408,4.923,11.423,2.9V13.212l.626.755.625-.755V2.9L14.7,4.923a.62.62,0,0,0,.438.189.629.629,0,0,0,.45-1.069L12.512.936a.624.624,0,0,0-.889,0L8.52,4.043a.63.63,0,0,0,0,.88.623.623,0,0,0,.888,0ZM24,11.779a.651.651,0,0,1-.175.452l-3.091,3.107a.63.63,0,1,1-.889-.893l2.065-2.063H20.5a7.741,7.741,0,0,0-7.847,7.61v2.629a.626.626,0,1,1-1.251,0V19.992a8.994,8.994,0,0,1,9.1-8.805h1.339l-1.99-2.062a.628.628,0,1,1,.889-.831l3.041,3.044A.634.634,0,0,1,24,11.779Z"/></svg>',icon_add_circle:'<svg viewBox="0 0 24 24"><path d="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z" /></svg>',icon_add_to_list:'<svg viewBox="0 0 24 24"><path d="m 0,5.3339844 0,2.6757812 2.6640625,0 0,-2.6757812 z m 5.328125,0 0,2.6757812 18.671875,0 0,-2.6757812 z M 17,10 c -1.03994,0.0032 -2.066104,0.238043 -3.003906,0.6875 0.0082,-0.0039 0.01521,-0.0098 0.02344,-0.01367 l -8.691406,0 0,2.664063 5.712891,0 c -0.499168,0.813119 -0.82684,1.719699 -0.962891,2.664062 l -4.75,0 0,2.664063 4.880859,0 C 10.975669,21.794794 13.778658,23.996393 17,24 c 3.221342,-0.0036 6.024331,-2.205206 6.791016,-5.333984 L 24,18.666016 24,17 l 0,-0.998047 -0.08008,0 c -0.137316,-0.951312 -0.469077,-1.864153 -0.97461,-2.681641 0.0037,0.006 0.008,0.01156 0.01172,0.01758 l 1.042969,0 0,-2.664063 -4.019531,0 C 19.048724,10.232471 18.030989,10.00238 17,10 Z m -17,0.673828 0,2.664063 2.6640625,0 0,-2.664063 z m 17,0.726563 c 3.086998,0 5.599609,2.512609 5.599609,5.599609 0,3.087 -2.512611,5.599609 -5.599609,5.599609 C 13.913,22.599609 11.400391,20.087 11.400391,17 11.400391,13.913 13.913,11.400391 17,11.400391 Z M 16.300781,13.5 l 0,2.800781 -2.800781,0 0,1.398438 2.800781,0 0,2.800781 1.398438,0 0,-2.800781 2.800781,0 0,-1.398438 -2.800781,0 0,-2.800781 z M 0,16.001953 l 0,2.664063 2.6640625,0 0,-2.664063 z M 23.951172,17.75 c -0.0069,0.06008 -0.01305,0.120074 -0.02148,0.179688 0.0079,-0.0598 0.0151,-0.119702 0.02148,-0.179688 z" /></svg>',icon_all:'<svg viewBox="0 0 24 24"><path d="M20.18,11.09v9.09H11.09V11.09h9.09m0-1.82H11.09a1.82,1.82,0,0,0-1.82,1.82v9.09A1.82,1.82,0,0,0,11.09,22h9.09A1.82,1.82,0,0,0,22,20.18V11.09a1.82,1.82,0,0,0-1.82-1.82Z"/><path d="M16.55,5.64H7.45A1.82,1.82,0,0,0,5.64,7.45v9.09a1.82,1.82,0,0,0,1.82,1.82h.91V16.55H7.45V7.45h9.09v.91h1.82V7.45A1.82,1.82,0,0,0,16.55,5.64Z"/><path  d="M3.82,3.82h9.09v.91h1.82V3.82A1.82,1.82,0,0,0,12.91,2H3.82A1.82,1.82,0,0,0,2,3.82v9.09a1.82,1.82,0,0,0,1.82,1.82h.91V12.91H3.82Z"/></svg>',icon_all_filters:'<svg viewBox="0 0 24 24"><title>all_filters</title><rect width="11" height="6" rx="2"/><rect x="13" width="11" height="6" rx="2"/><rect x="10" y="2" width="5" height="2"/><rect y="8" width="11" height="6" rx="2"/><rect x="13" y="8" width="11" height="6" rx="2"/><rect x="10" y="10" width="5" height="2"/><rect y="16" width="11" height="6" rx="2"/></svg>',icon_arrow_down:'<svg viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/></svg>',icon_arrow_left:'<svg viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>',icon_arrow_top_right:'<svg viewBox="0 0 24 24"><path d="M5,17.59L15.59,7H9V5H19V15H17V8.41L6.41,19L5,17.59Z"/></svg>',icon_arrow_up:'<svg viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>',icon_article:'<svg viewBox="0 0 24 24"><rect x="5.62" y="5.64" width="5.45" height="5.45" rx="1" ry="1"/><rect x="11.98" y="5.64" width="6.36" height="1.82" rx="0.91" ry="0.91"/><rect x="11.98" y="9.27" width="6.36" height="1.82" rx="0.91" ry="0.91"/><rect x="5.62" y="12.91" width="12.73" height="1.82" rx="0.91" ry="0.91"/><rect x="5.62" y="16.55" width="12.73" height="1.82" rx="0.91" ry="0.91"/><path d="M20,4V20H4V4H20m0-2H4A2,2,0,0,0,2,4V20a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2V4a2,2,0,0,0-2-2Z"/></svg>',icon_badge:'<svg viewBox="0 0 24 24"><path d="M20,8.77H13V7.64l0,0,5.06-5.06a.5.5,0,0,0,0-.71l-.71-.71a.5.5,0,0,0-.71,0L12,5.82,7.33,1.15a.5.5,0,0,0-.71,0l-.71.71a.5.5,0,0,0,0,.71L11,7.62l0,0V8.77H4a2,2,0,0,0-2,2v10a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2v-10A2,2,0,0,0,20,8.77Zm-13,6a1.29,1.29,0,1,1-1.29,1.29A1.28,1.28,0,0,1,7,14.77Zm3,6H4V19.7c0-1,2-1.5,3-1.5s3,.5,3,1.5Zm-1-9a1,1,0,0,1,1-1h1v.5a.5.5,0,0,0,.5.5h1a.5.5,0,0,0,.5-.5v-.5h1a1,1,0,0,1,0,2H10A1,1,0,0,1,9,11.77Zm10,9H13a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H13a1,1,0,1,1,0-2h6a1,1,0,1,1,0,2Z"/></svg>',icon_bill:'<svg viewBox="0 0 24 24"><path d="M19.82,2V22H4.18V2H19.82m0-2H4.18a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2H19.82a2,2,0,0,0,2-2V2a2,2,0,0,0-2-2Z"/><path d="M8.87,6.62c-1-.25-1.27-.5-1.27-.91S8,4.93,8.74,4.93s1,.36,1.06.89h.94A1.69,1.69,0,0,0,9.38,4.2V3.27H8.11v.92A1.65,1.65,0,0,0,6.62,5.72c0,1,.81,1.47,2,1.75s1.27.63,1.27,1-.21.75-1.15.75-1.21-.39-1.26-.89H6.55A1.78,1.78,0,0,0,8.11,10v.92H9.38V10c.83-.16,1.48-.64,1.48-1.51C10.86,7.29,9.83,6.87,8.87,6.62Z"/><rect x="6.55" y="13.09" width="10.91" height="2.18" rx="1"/><rect x="13.09" y="8.73" width="4.36" height="2.18" rx="1"/><rect x="13.09" y="4.36" width="4.36" height="2.18" rx="1"/><rect x="6.55" y="17.45" width="10.91" height="2.18" rx="1"/></svg>',icon_bill_thin:'<svg viewBox="0 0 24 24"><path d="M4.6,21.858V.554H18.266V3.36H21.05V21.822H4.6ZM18.7,23.446H2.95V2.843h1.1V22.412H18.7ZM18.779.923l1.868,1.883H18.779ZM16.36,6.2v.554H11.487V6.2ZM19.4,8.271v.554H11.487V8.271ZM8.226,2.7v1a1.729,1.729,0,0,1,.916.406,1.5,1.5,0,0,1,.513,1.108h-.55a.841.841,0,0,0-.329-.664,1.419,1.419,0,0,0-1.686,0,.834.834,0,0,0,0,1.329,1.3,1.3,0,0,0,.843.295,1.75,1.75,0,0,1,1.209.443,1.5,1.5,0,0,1,.513,1.108,1.443,1.443,0,0,1-.513,1.108,1.729,1.729,0,0,1-.916.406v1.107h-.55V9.268a1.732,1.732,0,0,1-.916-.406,1.505,1.505,0,0,1-.513-1.108H6.8a.839.839,0,0,0,.33.664,1.477,1.477,0,0,0,1.685.037.834.834,0,0,0,0-1.329,1.3,1.3,0,0,0-.843-.295A1.75,1.75,0,0,1,6.76,6.388,1.505,1.505,0,0,1,6.247,5.28,1.447,1.447,0,0,1,6.76,4.172a1.732,1.732,0,0,1,.916-.406V2.7Zm11.212,9.637v.554H15.811v-.554Zm-4.69,0v.554H6.064v-.554Zm4.69,2.659v.554H15.811v-.554Zm-4.69,0v.554H6.064v-.554ZM16.4,17.649V18.2h-.586v-.554Zm1.5,0V18.2h-.586v-.554Zm1.5,0V18.2h-.587v-.554Zm-4.654,0V18.2H6.064v-.554ZM21.6,2.991,18.632,0H4.049V2.289H2.4V24H19.255V22.412H21.6Z"/></svg>',icon_briefcase:'<svg viewBox="0 0 24 24"><path d="M20,7h-4V5c0-1.1-0.9-2-2-2h-4C8.9,3,8,3.9,8,5v2H4C2.9,7,2,7.9,2,9l0,11c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V9C22,7.9,21.1,7,20,7z M14,7h-4V5h4V7z"/></svg>',icon_briefcase_outline:'<svg viewBox="0 0 24 24"><path d="M21.6,5.4 C22.932,5.4 24,6.468 24,7.8 L24,21 C24,22.332 22.932,23.4 21.6,23.4 L2.4,23.4 C1.0692,23.4 0,22.332 0,21 L0.0132,7.8 C0.0132,6.468 1.0692,5.4 2.4,5.4 L7.2,5.4 L7.2,3 C7.2,1.668 8.2692,0.6 9.6,0.6 L14.4,0.6 C15.732,0.6 16.8,1.668 16.8,3 L16.8,5.4 L21.6,5.4 Z M2.4,21 L21.6,21 L21.6,7.8 L2.4,7.8 L2.4,21 Z M9.6,5.4 L14.4,5.4 L14.4,3 L9.6,3 L9.6,5.4 Z" id="path-1"></path></svg>',icon_bullet:'<svg viewBox="0 0 24 24"><path d="M12,21.6 C6.696,21.6 2.4,17.304 2.4,12 C2.4,6.696 6.696,2.4 12,2.4 C17.304,2.4 21.6,6.696 21.6,12 C21.6,17.304 17.304,21.6 12,21.6 L12,21.6 Z"></path></svg>',icon_bullseye:'<svg viewBox="0 0 24 24"><path d="M23.268,7.932A11.728,11.728,0,0,1,24,12,12,12,0,1,1,12,0a12.123,12.123,0,0,1,4.08.72L14.148,2.652A9.3,9.3,0,0,0,12,2.4,9.6,9.6,0,1,0,21.6,12a9.3,9.3,0,0,0-.252-2.148ZM12,7.2V4.8A7.2,7.2,0,1,0,19.2,12H16.8A4.8,4.8,0,1,1,12,7.2Zm3.6-2.4V6.6L12.54,9.66A1.661,1.661,0,0,0,12,9.6,2.4,2.4,0,1,0,14.4,12a1.661,1.661,0,0,0-.06-.54L17.4,8.4h1.8L24,3.6H20.4V0Z"/></svg>',icon_cancel:'<svg viewBox="0 0 24 24"><path d="M 12,0 C 5.36,0 0,5.36 0,12 0,18.64 5.36,24 12,24 18.64,24 24,18.64 24,12 24,5.36 18.64,0 12,0 Z m 0,21.6 c -5.28,0 -9.6,-4.32 -9.6,-9.6 0,0 0,0 0,0 0,-2.16 0.72,-4.24 2,-5.84 L 17.84,19.6 c -1.6,1.28 -3.68,2 -5.84,2 z M 19.6,17.92 6.16,4.4 c 1.6,-1.28 3.68,-2 5.84,-2 5.28,0 9.6,4.32 9.6,9.6 0,0 0,0 0,0 0,2.16 -0.72,4.24 -2,5.92 z" /></svg>',icon_card_travel:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"/></svg>',icon_card_view:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M22.8 1H1.2C0.48 1 0 1.48 0 2.2V9.4C0 10.12 0.48 10.6 1.2 10.6H22.8C23.52 10.6 24 10.12 24 9.4V2.2C24 1.48 23.52 1 22.8 1ZM22.8 13H1.2C0.48 13 0 13.48 0 14.2V21.4C0 22.12 0.48 22.6 1.2 22.6H22.8C23.52 22.6 24 22.12 24 21.4V14.2C24 13.48 23.52 13 22.8 13Z"/></svg>',icon_cards:'<svg viewBox="0 0 24 24"><path d="M3,11H13V21H3V11M3,9a2,2,0,0,0-2,2V21a2,2,0,0,0,2,2H13a2,2,0,0,0,2-2V11a2,2,0,0,0-2-2Z"/><path d="M7,5H17a2,2,0,0,1,2,2V17a2,2,0,0,1-2,2H16V17h1V7H7V8H5V7A2,2,0,0,1,7,5Z"/><path d="M21,3H11V4H9V3a2,2,0,0,1,2-2H21a2,2,0,0,1,2,2V13a2,2,0,0,1-2,2H20V13h1Z"/></svg>',icon_caret_double_left:'<svg viewBox="0 0 24 24"><path d="M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z" /></svg>',icon_caret_double_right:'<svg viewBox="0 0 24 24"><path d="M5.59,7.41L7,6L13,12L7,18L5.59,16.59L10.17,12L5.59,7.41M11.59,7.41L13,6L19,12L13,18L11.59,16.59L16.17,12L11.59,7.41Z" /></svg>',icon_caret_down:'<svg viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" /></svg>',icon_caret_enclosed_down:'<svg viewBox="0 0 24 24"><path d="M19.2,10.181,17.508,8.489,12,13.985l-5.508-5.5L4.8,10.181l7.2,7.2Z"/><path d="M12,2A10,10,0,1,1,2,12,10.011,10.011,0,0,1,12,2m0-2A12,12,0,1,0,24,12,12,12,0,0,0,12,0Z"/></svg>',icon_caret_enclosed_up:'<svg viewBox="0 0 24 24"><path d="M4.8,13.819l1.692,1.692L12,10.015l5.508,5.5L19.2,13.819,12,6.619Z"/><path d="M12,2A10,10,0,1,1,2,12,10.011,10.011,0,0,1,12,2m0-2A12,12,0,1,0,24,12,12,12,0,0,0,12,0Z"/></svg>',icon_caret_left:'<svg viewBox="0 0 24 24"><path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z" /></svg>',icon_caret_right:'<svg viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>',icon_caret_up:'<svg viewBox="0 0 24 24"><path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',icon_category:'<svg viewBox="0 0 24 24"><path d="M19.5,2h-15C3.1,2,2,3.1,2,4.5v15C2,20.9,3.1,22,4.5,22h15c1.4,0,2.5-1.1,2.5-2.5v-15C22,3.1,20.9,2,19.5,2z M19.5,14.5l-3.1-1.9l-3.1,1.9v-10h6.2V14.5z"/></svg>',icon_cb:'<svg viewBox="0 0 24 24"><path d="m 16,10.4 c -0.8,0 -1.52,0.48 -1.92,1.2 l 0,0 c -0.24,0.56 -0.24,1.2 0,1.76 l 0,0 c 0,0.08 0.08,0.16 0.16,0.24 l 0,0 c 0.08,0.16 0.24,0.32 0.4,0.48 l 0,0 c 0.16,0.16 0.32,0.24 0.48,0.32 l 0,0 c 0.16,0.08 0.32,0.16 0.56,0.16 0,0 0.08,0 0.08,0 0.08,0 0.16,0 0.32,0 0.08,0 0.16,0 0.24,0 l 0,0 c 0.08,0 0.16,0 0.16,0 l 0,0 c 0.64,-0.16 1.2,-0.56 1.44,-1.12 l 0,0 C 18,13.36 18,13.28 18,13.2 l 0,0 c 0,-0.08 0.08,-0.16 0.08,-0.24 0,0 0,-0.08 0,-0.08 0.16,-1.12 -0.64,-2.24 -1.76,-2.4 C 16.24,10.4 16.08,10.4 16,10.4 Z" /><path d="M 21.6,0 2.4,0 C 1.04,0 0,1.04 0,2.4 L 0,21.6 C 0,22.96 1.04,24 2.4,24 l 19.2,0 C 22.96,24 24,22.96 24,21.6 L 24,2.4 C 24,1.04 22.96,0 21.6,0 Z M 7.92,14.64 c 0.8,0 1.6,-0.48 1.92,-1.2 l 1.68,0 c -0.48,2 -2.48,3.12 -4.48,2.64 -2,-0.48 -3.2,-2.48 -2.64,-4.48 0.56,-2 2.48,-3.12 4.48,-2.64 1.36,0.32 2.32,1.36 2.64,2.72 l -1.6,0 c -0.48,-1.04 -1.68,-1.6 -2.8,-1.12 -1.04,0.48 -1.6,1.68 -1.12,2.8 0.32,0.8 1.12,1.28 1.92,1.28 z m 10.48,0.64 c -1.28,1.04 -3.12,1.2 -4.48,0.24 l 0,0.4 -1.52,0 0,-10.56 1.52,0 0,4.16 c 0.56,-0.4 1.12,-0.56 1.84,-0.64 0.08,0 0.16,0 0.24,0 2,0 3.68,1.68 3.68,3.68 0,1.04 -0.48,2.08 -1.28,2.72 l 0,0 z" /></svg>',icon_cb_circle_outline:'<svg viewBox="0 0 24 24"><path d="M12,2 C17.5228475,2 22,6.4771525 22,12 C22,17.5228475 17.5228475,22 12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 Z M12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 Z M9.448,10.315 C10.606,10.315 11.573,11.12 11.828,12.2 L10.741,12.2 C10.524,11.702 10.026,11.352 9.448,11.352 C8.67,11.352 8.037,11.985 8.037,12.764 C8.037,13.541 8.67,14.175 9.448,14.175 C10.012,14.175 10.499,13.841 10.724,13.361 L11.819,13.361 C11.551,14.424 10.593,15.211 9.448,15.211 C8.096,15.211 7,14.115 7,12.764 C7,11.411 8.096,10.315 9.448,10.315 Z M13.763,8 L13.762,10.747 C14.109,10.508 14.52,10.355 14.965,10.322 C15.025,10.318 15.085,10.314 15.145,10.314 C16.497,10.314 17.592,11.411 17.592,12.763 C17.592,13.507 17.26,14.172 16.736,14.62 C16.528,14.799 16.29,14.941 16.031,15.042 C15.756,15.149 15.458,15.21 15.145,15.21 C14.634,15.21 14.161,15.054 13.769,14.785 L13.769,15.042 L12.765,15.042 L12.765,8 L13.763,8 Z M15.1451,11.3514 C15.0961,11.3514 15.0471,11.3574 14.9991,11.3624 C14.4991,11.4134 14.0751,11.7264 13.8691,12.1634 L13.8681,12.1634 C13.7831,12.3454 13.7341,12.5474 13.7341,12.7624 C13.7341,12.9624 13.7761,13.1534 13.8511,13.3254 L13.8521,13.3254 C13.8781,13.3854 13.9091,13.4434 13.9431,13.4984 L13.9491,13.5084 L13.9491,13.5084 C14.0181,13.6204 14.1031,13.7194 14.1991,13.8074 L14.2091,13.8174 L14.2091,13.8174 C14.3041,13.9014 14.4111,13.9724 14.5261,14.0294 L14.5521,14.0414 L14.5521,14.0414 C14.6641,14.0934 14.7841,14.1304 14.9101,14.1524 C14.9251,14.1554 14.9391,14.1574 14.9551,14.1594 C15.0171,14.1674 15.0801,14.1734 15.1451,14.1734 C15.1961,14.1734 15.2471,14.1704 15.2971,14.1644 C15.3041,14.1644 15.3101,14.1634 15.3161,14.1624 C15.3611,14.1574 15.4051,14.1494 15.4491,14.1394 C15.4501,14.1394 15.4521,14.1394 15.4531,14.1384 C15.5501,14.1174 15.6431,14.0844 15.7311,14.0434 C16.0311,13.9064 16.2741,13.6664 16.4171,13.3704 C16.4201,13.3634 16.4241,13.3564 16.4271,13.3494 C16.4531,13.2924 16.4771,13.2334 16.4951,13.1724 L16.4971,13.1664 C16.5131,13.1114 16.5261,13.0534 16.5361,12.9954 C16.5381,12.9804 16.5401,12.9644 16.5421,12.9504 C16.5501,12.8884 16.5561,12.8264 16.5561,12.7624 C16.5561,12.0301647 15.9953803,11.4263723 15.2807896,11.3578716 L15.1451,11.3514 Z"></path></svg>',icon_cb_letters:'<svg viewBox="0 0 24 24"><path d="M8.437 15.979a3.195 3.195 0 11.039-2.632h2.463a5.549 5.549 0 10-.021 2.632zM18.454 9.075c-.137 0-.273.008-.408.018a5.5 5.5 0 00-2.726.962V3.831h-2.26v15.956h2.275V19.2a5.545 5.545 0 103.117-10.13zm3.166 5.972c0 .033-.01.067-.015.1a3.359 3.359 0 01-.088.391v.012a3.305 3.305 0 01-.155.4l-.026.05a3.212 3.212 0 01-1.553 1.526 3.15 3.15 0 01-.631.215h-.009c-.1.022-.2.038-.3.051-.014 0-.028 0-.043.006a3.017 3.017 0 01-.345.019 3.226 3.226 0 01-.431-.032l-.1-.015a3.214 3.214 0 01-.811-.251l-.06-.029a3.2 3.2 0 01-.716-.481l-.025-.022a3.222 3.222 0 01-.566-.676l-.013-.022a3.278 3.278 0 01-.207-.394 3.177 3.177 0 01.039-2.631 3.2 3.2 0 012.561-1.817 3.264 3.264 0 01.33-.024 3.2 3.2 0 013.2 3.2 3.152 3.152 0 01-.036.424z"/></svg>',icon_cb_round:'<svg viewBox="0 0 24 24"><circle fill="white" cx="12" cy="12" r="10"/><path d="M16.3,10.72h-.22A2.14,2.14,0,0,0,14.38,12h0a2.24,2.24,0,0,0-.2.9,2.19,2.19,0,0,0,.18.85h0a2.15,2.15,0,0,0,.14.26v0a2.27,2.27,0,0,0,.37.45h0a1.75,1.75,0,0,0,.48.32l0,0A2,2,0,0,0,16,15H16l.28,0h.26a1.2,1.2,0,0,0,.2,0h0a2.07,2.07,0,0,0,.42-.14,2.13,2.13,0,0,0,1-1l0,0c0-.09.07-.18.1-.27h0a1.1,1.1,0,0,0,.06-.26.15.15,0,0,0,0-.07,1.27,1.27,0,0,0,0-.28h0A2.13,2.13,0,0,0,16.3,10.72Z"/><path d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0ZM7.7,15a2.11,2.11,0,0,0,1.92-1.23h1.66a3.7,3.7,0,1,1,0-1.75H9.65A2.13,2.13,0,1,0,7.7,15Zm11,.68a4,4,0,0,1-1.07.63,3.68,3.68,0,0,1-1.34.26,3.73,3.73,0,0,1-2.08-.64v.38H12.71V5.66h1.5V9.81A3.64,3.64,0,0,1,16,9.16h.27a3.7,3.7,0,0,1,2.41,6.51Z"/></svg>',icon_cb_signal:'<svg viewBox="0 0 24 24"><path d="M10.849 15.106a1.392 1.392 0 00-.146.011 1.413 1.413 0 00-1.131.8 1.4 1.4 0 00-.017 1.161 1.438 1.438 0 00.092.174l.006.01a1.4 1.4 0 00.249.3l.011.01a1.444 1.444 0 00.316.212l.027.013a1.392 1.392 0 00.358.11l.044.007a1.342 1.342 0 00.191.015A1.279 1.279 0 0011 17.92h.019a1.136 1.136 0 00.132-.022h.005a1.4 1.4 0 00.278-.095 1.417 1.417 0 00.686-.674l.009-.02a1.366 1.366 0 00.069-.178 1.428 1.428 0 00.039-.172l.007-.045a1.446 1.446 0 00.014-.188 1.413 1.413 0 00-1.409-1.42z"/><path d="M8 8a8 8 0 108 8 8 8 0 00-8-8zm-2.849 9.929a1.413 1.413 0 001.277-.812h1.094a2.446 2.446 0 11.01-1.162H6.445a1.411 1.411 0 10-1.294 1.974zm7.288.446a2.439 2.439 0 01-2.966.165v.26h-1v-7.045h1V14.5a2.423 2.423 0 011.2-.424c.06 0 .12-.008.181-.008a2.446 2.446 0 011.59 4.305zM21.957 13H24A16 16 0 008.289 0v2a14.018 14.018 0 0113.668 11z"/><path d="M17.828 13H19.9A12 12 0 008.289 4v2a10.017 10.017 0 019.539 7z"/></svg>',icon_chart_bar:'<svg viewBox="0 0 24 24"><g><path d="M21.3,0H2.7C1.2,0,0,1.2,0,2.7v18.7C0,22.8,1.2,24,2.7,24h18.7c1.5,0,2.7-1.2,2.7-2.7V2.7C24,1.2,22.8,0,21.3,0z M21.3,21.3H2.7V2.7h18.7V21.3z"/><rect x="5.3" y="14.7" width="2.7" height="6.7"/><rect x="10.7" y="10.7" width="2.7" height="10.7"/><rect x="16" y="5.3" width="2.7" height="16"/></g></svg>',icon_chart_dots:'<svg viewBox="0 0 24 24"><path d="M4.772,16.11a.857.857,0,1,1-.856.857A.857.857,0,0,1,4.772,16.11ZM1.021,0V22.979H24V24H0V0ZM8.715,8.944a.857.857,0,1,1-.856.856A.858.858,0,0,1,8.715,8.944ZM14.7,13.376a.857.857,0,1,1-.856.856A.857.857,0,0,1,14.7,13.376Zm7.191-6.519a.857.857,0,1,1-.856.856A.857.857,0,0,1,21.893,6.857ZM4.772,15.089a1.881,1.881,0,1,0,1.318.542l2.2-4a1.889,1.889,0,0,0,.422.051,1.864,1.864,0,0,0,1.142-.4l3.094,2.29a1.846,1.846,0,0,0-.127.661,1.878,1.878,0,0,0,3.756,0,1.859,1.859,0,0,0-.2-.83L20.9,9.3a1.855,1.855,0,0,0,.991.29,1.878,1.878,0,1,0-1.878-1.878,1.853,1.853,0,0,0,.2.83l-4.523,4.1a1.839,1.839,0,0,0-2.134.108l-3.093-2.29a1.876,1.876,0,1,0-3.069.674l-2.2,4.005A1.833,1.833,0,0,0,4.772,15.089Z"/></svg>',icon_chart_line:'<svg viewBox="0 0 24 24"><path d="M16.8,11.74l5.09-8.8L24,4.14,17.69,15,9.88,10.5,4.15,20.4H24v2.4H0V1.2H2.4V18.65L9,7.2Z"/></svg>',icon_check:'<svg viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>',icon_check_enclosed_round:'<svg viewBox="0 0 24 24"><path d="M12,21.6 C6.696,21.6 2.4,17.304 2.4,12 C2.4,6.696 6.696,2.4 12,2.4 C17.304,2.4 21.6,6.696 21.6,12 C21.6,17.304 17.304,21.6 12,21.6 L12,21.6 Z M12,0 C5.376,0 0,5.3748 0,12 C0,18.624 5.376,24 12,24 C18.624,24 24,18.624 24,12 C24,5.3748 18.624,0 12,0 L12,0 Z M17.508,6.696 L9.6,14.604 L5.292,10.308 L3.6,12 L9.6,18 L19.2,8.4 L17.508,6.696 Z"/></svg>',icon_check_highlight:'<svg viewBox="0 0 24 24"><path d="M24,12,21.338,8.956l.371-4.025-3.938-.9L15.709.545,12,2.138,8.291.545,6.229,4.025l-3.938.884.371,4.036L0,12l2.662,3.044L2.291,19.08l3.938.9,2.062,3.48L12,21.851l3.709,1.593,2.062-3.48,3.938-.895-.371-4.025ZM9.916,17.149,5.771,12.993l1.614-1.615L9.916,13.92l6.382-6.4,1.615,1.615Z"/></svg>',icon_check_knockout_round:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>',icon_checkbox_deselect_all:'<svg viewBox="0 0 24 24"><path d="M21.82,4.36H19.64V6.55h2.18V21.82H6.55V19.64H4.36v2.18A2.19,2.19,0,0,0,6.55,24H21.82A2.19,2.19,0,0,0,24,21.82V6.55A2.19,2.19,0,0,0,21.82,4.36Z" transform="translate(0 0)"/><path d="M17.64,2V17.64H2V2H17.64m0-2H2A2,2,0,0,0,0,2V17.64a2,2,0,0,0,2,2H17.64a2,2,0,0,0,2-2V2a2,2,0,0,0-2-2Z" transform="translate(0 0)"/><rect x="5.76" y="8.8" width="7.85" height="1.96"/></svg>',icon_checkbox_select_all:'<svg viewBox="0 0 24 24"><path d="M21.82,4.36H19.64V2.18A2.18,2.18,0,0,0,17.45,0H2.18A2.18,2.18,0,0,0,0,2.18V17.45a2.19,2.19,0,0,0,2.18,2.19H4.36v2.18A2.19,2.19,0,0,0,6.55,24H21.82A2.19,2.19,0,0,0,24,21.82V6.55A2.19,2.19,0,0,0,21.82,4.36ZM2.18,9.82,3.72,8.28l3.92,3.91,8.28-8.28,1.53,1.54L7.64,15.27Zm19.64,12H6.55V19.64h10.9a2.19,2.19,0,0,0,2.19-2.19V6.55h2.18Z"/></svg>',icon_checkbox_with_minus:'<svg viewBox="0 0 24 24"><path d="M22,2V22H2V2H22m0-2H2A2,2,0,0,0,0,2V22a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V2a2,2,0,0,0-2-2Z"/><rect x="7.04" y="10.75" width="9.6" height="2.4"/></svg>',icon_checkbox_with_plus:'<svg viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"/></svg>',icon_chrome:'<svg viewBox="0 0 24 24"><path d="M12 .96C5.912.96.96 5.912.96 12c0 6.088 4.952 11.04 11.04 11.04 6.088 0 11.04-4.952 11.04-11.04C23.04 5.912 18.088.96 12 .96ZM3.86 6.079l3.362 5.478A4.805 4.805 0 0 1 12 7.2h8.862c.169.31.318.632.454.96h-6.448A4.79 4.79 0 0 1 16.8 12c0 .858-.23 1.662-.625 2.36-.004.006-.003.014-.007.02l-4.39 7.689a10.26 10.26 0 0 1-1.06-.08l3.19-5.587A4.771 4.771 0 0 1 12 16.8c-1.708 0-3.207-.9-4.058-2.248-.01-.014-.024-.025-.033-.04l-4.63-7.545c.178-.307.373-.603.582-.888ZM12 8.16a3.84 3.84 0 1 0 0 7.68 3.84 3.84 0 0 0 0-7.68Z"/></svg>',icon_clock:'<svg viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z" /></svg>',icon_clock_counter_clockwise:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>',icon_close:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_close_circle_outline:'<svg viewBox="0 0 24 24"><path d="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z" /></svg>',icon_close_fullscreen:'<svg viewBox="0 0 24 24"><path d="M24,1.692,17.652,8.04,21.6,12H12V2.4l3.948,3.948L22.308,0ZM1.692,24,8.04,17.652,12,21.6V12H2.4l3.948,3.948L0,22.308Z"/></svg>',icon_close_knockout_round:'<svg viewBox="0 0 24 24"><path d="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z" /></svg>',icon_cloud:'<svg viewBox="0 0 24 24"><path d="M19.35,10a7.49,7.49,0,0,0-14-2A6,6,0,0,0,6,20H19a5,5,0,0,0,.35-10Z"/></svg>',icon_columns:'<svg viewBox="0 0 24 24"><path d="M9,4V20H5V4H9M9,2H5A2,2,0,0,0,3,4V20a2,2,0,0,0,2,2H9a2,2,0,0,0,2-2V4A2,2,0,0,0,9,2Z"/><path d="M19,4V20H15V4h4m0-2H15a2,2,0,0,0-2,2V20a2,2,0,0,0,2,2h4a2,2,0,0,0,2-2V4a2,2,0,0,0-2-2Z"/><polygon points="9 14 5 14 5 16 9 16 9 14 9 14"/><polygon  points="19 14 15 14 15 16 19 16 19 14 19 14"/><polygon points="9 8 5 8 5 10 9 10 9 8 9 8"/><polygon points="19 8 15 8 15 10 19 10 19 8 19 8" /></svg>',icon_companies:'<svg viewBox="0 0 24 24"><rect x="14" y="13" width="2" height="2"/><rect x="14" y="17" width="2" height="2"/><path d="M15,5V1H5V5H0V23H20V19h4V5ZM4,21H2V19H4Zm0-4H2V15H4Zm0-4H2V11H4ZM4,9H2V7H4ZM8,21H6V19H8Zm0-4H6V15H8Zm0-4H6V11H8ZM8,9H6V7H8ZM18,21H10V19h2V17H10V15h2V13H10V11h8Zm4-4H20V9H10V5H7V3h6V7h9Z"/></svg>',icon_company:'<svg viewBox="0 0 24 24"><path d="M12,6V1.2H0V22.8H24V6ZM4.8,20.4H2.4V18H4.8Zm0-4.8H2.4V13.2H4.8Zm0-4.8H2.4V8.4H4.8ZM4.8,6H2.4V3.6H4.8ZM9.6,20.4H7.2V18H9.6Zm0-4.8H7.2V13.2H9.6Zm0-4.8H7.2V8.4H9.6ZM9.6,6H7.2V3.6H9.6Zm12,14.4H12V18h2.4V15.6H12V13.2h2.4V10.8H12V8.4h9.6Zm-2.4-9.6H16.8v2.4h2.4Zm0,4.8H16.8V18h2.4Z"/></svg>',icon_compare:'<svg viewBox="0 0 24 24"><path d="M9,14H2v2H9v3l4-4L9,11Zm6-1V10h7V8H15V5L11,9Z"/></svg>',icon_compass:'<svg viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"/></svg>',icon_contacts:'<svg viewBox="0 0 24 24"><path d="M5.396.674v22.854h14.206a2.762 2.762 0 002.757-2.757V3.431A2.762 2.762 0 0019.602.673H5.396zm1.18 1.18h13.026c.866 0 1.576.71 1.576 1.576v17.341c0 .866-.71 1.577-1.576 1.577H6.576V1.854zM3.932.651a2.295 2.295 0 00-2.289 2.29v18.32c0 1.26 1.03 2.29 2.29 2.29h.554V.65h-.555z"/><path d="M10.797 9.81a2.29 2.29 0 114.58 0 2.29 2.29 0 01-4.58 0zM17.093 15.534s-1.087-2.29-4.006-2.29c-2.92 0-4.007 2.29-4.007 2.29v1.145h8.013v-1.145z"/></svg>',icon_copy:'<svg viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg>',icon_credit_card:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>',icon_currency_usd:'<svg viewBox="0 0 24 24"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_currency_usd_circle:'<svg viewBox="0 0 24 24"><path d="M11.705,8.707c-.936.13-1.181.691-1.181,1.152,0,.4.086.821,1.181,1.2Zm.806,4.392v2.247c.821-.087,1.224-.432,1.224-1.124C13.735,13.69,13.39,13.416,12.511,13.1Zm0-7.358V7.166A4.946,4.946,0,0,1,15.06,8V9.773h-.072a4.33,4.33,0,0,0-2.477-1.066V11.3l.619.187c1.858.576,2.434,1.325,2.434,2.578,0,1.368-.821,2.65-3.053,2.822v1.527h-.806v-1.5a5.52,5.52,0,0,1-3.082-1.037V14.05h.058a5.225,5.225,0,0,0,3.024,1.3V12.854l-.763-.244a2.639,2.639,0,0,1-2.2-2.636c0-1.44.936-2.563,2.967-2.764V5.741ZM12,1.2A10.8,10.8,0,1,0,22.8,12,10.8,10.8,0,0,0,12,1.2ZM12,0A12,12,0,1,1,0,12,12,12,0,0,1,12,0Z"/></svg>',icon_currency_usd_enclosed:'<svg viewBox="0 0 24 24"><path d="M21.6,2.4V21.6H2.4V2.4H21.6m0-2.4H2.4A2.41,2.41,0,0,0,0,2.4V21.6A2.41,2.41,0,0,0,2.4,24H21.6A2.41,2.41,0,0,0,24,21.6V2.4A2.41,2.41,0,0,0,21.6,0Z"/><path d="M12.31,11.12c-1.81-.47-2.4-1-2.4-1.72s.81-1.48,2.16-1.48,1.95.68,2,1.68h1.77a3.2,3.2,0,0,0-2.57-3V4.8h-2.4V6.53c-1.55.33-2.8,1.34-2.8,2.89,0,1.84,1.53,2.76,3.76,3.3,2,.48,2.4,1.18,2.4,1.93,0,.55-.39,1.43-2.16,1.43s-2.29-.74-2.38-1.68H7.93a3.34,3.34,0,0,0,2.94,3.06V19.2h2.4V17.48c1.56-.3,2.8-1.2,2.8-2.84C16.07,12.37,14.13,11.59,12.31,11.12Z"/></svg>',icon_currency_usd_knockout_round:'<svg viewBox="0 0 24 24"><path d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm1.41,16.09V20H10.74V18.07a3.72,3.72,0,0,1-3.27-3.4h2c.1,1.05.82,1.87,2.65,1.87s2.4-1,2.4-1.59c0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67C7.63,7.42,9,6.3,10.74,5.93V4h2.67V5.95a3.54,3.54,0,0,1,2.85,3.39h-2c-.05-1.11-.64-1.87-2.22-1.87s-2.4.68-2.4,1.64.65,1.39,2.67,1.91,4.18,1.39,4.18,3.91C16.52,16.76,15.15,17.76,13.41,18.09Z"/></svg>',icon_currency_usd_large:'<svg viewBox="0 0 24 24"><path d="M12.52,10.53c-3-.78-4-1.6-4-2.86,0-1.46,1.35-2.47,3.6-2.47S15.37,6.33,15.45,8H18.4a5.31,5.31,0,0,0-4.28-5.08V0h-4V2.88c-2.59.56-4.67,2.24-4.67,4.81,0,3.08,2.55,4.62,6.27,5.51,3.33.8,4,2,4,3.21,0,.92-.65,2.39-3.6,2.39-2.75,0-3.83-1.23-4-2.8H5.21c.16,2.92,2.35,4.56,4.91,5.11V24h4V21.13c2.6-.49,4.67-2,4.67-4.73C18.79,12.61,15.55,11.32,12.52,10.53Z"/></svg>',icon_dashboard:'<svg viewBox="0 0 24 24"><title>dashboard</title><path d="M9,2V9H2V2H9M9,0H2A2,2,0,0,0,0,2V9a2,2,0,0,0,2,2H9a2,2,0,0,0,2-2V2A2,2,0,0,0,9,0Z" transform="translate(0 0)"/><path d="M22,2V9H15V2h7m0-2H15a2,2,0,0,0-2,2V9a2,2,0,0,0,2,2h7a2,2,0,0,0,2-2V2a2,2,0,0,0-2-2Z" transform="translate(0 0)"/><path d="M9,15v7H2V15H9m0-2H2a2,2,0,0,0-2,2v7a2,2,0,0,0,2,2H9a2,2,0,0,0,2-2V15a2,2,0,0,0-2-2Z" transform="translate(0 0)"/><path d="M22,15v7H15V15h7m0-2H15a2,2,0,0,0-2,2v7a2,2,0,0,0,2,2h7a2,2,0,0,0,2-2V15a2,2,0,0,0-2-2Z" transform="translate(0 0)"/></svg>',icon_data:'<svg viewBox="0 0 24 24"><path d="M12,0C6.11,0,1.33,2.39,1.33,5.33S6.11,10.67,12,10.67,22.67,8.28,22.67,5.33,17.89,0,12,0M1.33,8v4C1.33,15,6.11,17.33,12,17.33S22.67,15,22.67,12V8c0,2.95-4.78,5.33-10.67,5.33S1.33,11,1.33,8m0,6.67v4C1.33,21.61,6.11,24,12,24s10.67-2.39,10.67-5.33v-4C22.67,17.61,17.89,20,12,20S1.33,17.61,1.33,14.67Z"/></svg>',icon_data_export:'<svg viewBox="0 0 24 24"><path fill="none" d="M0,0H24V24H0V0Z"/><path d="M17.59,15.61L19,17l5-5L19,7,17.59,8.43,20.17,11H10.5v2h9.67ZM2,20H14a2,2,0,0,0,2-2V15H14v3H2V6H14V9h2V6a2,2,0,0,0-2-2H2A2,2,0,0,0,0,6V18A2,2,0,0,0,2,20Z"/></svg>',icon_data_solutions:'<svg viewBox="0 0 24 24"><path d="M13,2.05V5.08C16.39,5.57 19,8.47 19,12C19,12.9 18.82,13.75 18.5,14.54L21.12,16.07C21.68,14.83 22,13.45 22,12C22,6.82 18.05,2.55 13,2.05M12,19A7,7 0 0,1 5,12C5,8.47 7.61,5.57 11,5.08V2.05C5.94,2.55 2,6.81 2,12A10,10 0 0,0 12,22C15.3,22 18.23,20.39 20.05,17.91L17.45,16.38C16.17,18 14.21,19 12,19Z" /></svg>',icon_deselect_round_outline:'<svg viewBox="0 0 24 24"><path d="M11.96,21.6a9.6,9.6,0,1,1,9.6-9.6A9.6,9.6,0,0,1,11.96,21.6Zm0-21.6a12,12,0,1,0,12,12A12,12,0,0,0,11.96,0Zm-6,13.2h12V10.8h-12Z"/></svg>',icon_device_mobile_phone:'<svg viewBox="0 0 24 24"><path d="M16,18H7V4H16M11.5,22A1.5,1.5 0 0,1 10,20.5A1.5,1.5 0 0,1 11.5,19A1.5,1.5 0 0,1 13,20.5A1.5,1.5 0 0,1 11.5,22M15.5,1H7.5A2.5,2.5 0 0,0 5,3.5V20.5A2.5,2.5 0 0,0 7.5,23H15.5A2.5,2.5 0 0,0 18,20.5V3.5A2.5,2.5 0 0,0 15.5,1Z" /></svg>',icon_devtools:'<svg viewBox="0 0 24 24"><path d="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z"/></svg>',icon_document:'<svg viewBox="0 0 24 24"><path d="M14.4,0H4.8C3.5,0,2.4,1.1,2.4,2.4l0,19.2c0,1.3,1.1,2.4,2.4,2.4h14.4c1.3,0,2.4-1.1,2.4-2.4V7.2L14.4,0z M16.8,19.2H7.2 v-2.4h9.6V19.2z M16.8,14.4H7.2V12h9.6V14.4z M13.2,8.4V1.8l6.6,6.6H13.2z"/></svg>',icon_document_add:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"/></svg>',icon_document_small:'<svg viewBox="0 0 24 24"><path d="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z" /> </svg>',icon_document_stroked:'<svg viewBox="0 0 24 24"><path d="M6.774,18.419a.558.558,0,1,0,0,1.116H17.226a.558.558,0,1,0,0-1.116Zm0-4.466a.559.559,0,1,0,0,1.117H17.226a.559.559,0,1,0,0-1.117Zm0-4.465a.559.559,0,1,0,0,1.117H17.226a.559.559,0,1,0,0-1.117Zm9-7.587,3.248,3.122H15.774ZM4.161,1.116H14.613V5.581a.593.593,0,0,0,.581.559h4.645V22.884H4.161ZM3.581,0A.617.617,0,0,0,3,.558V23.442A.592.592,0,0,0,3.581,24H20.419A.592.592,0,0,0,21,23.442V5.581a.56.56,0,0,0-.172-.4L15.6.157A.6.6,0,0,0,15.194,0Z"/></svg>',icon_download:'<svg viewBox="0 0 24 24"><path d="m 2.1176471,24 19.7647059,0 0,-2.823529 -19.7647059,0 M 21.882353,8.4705882 l -5.647059,0 0,-8.4705882 -8.4705881,0 0,8.4705882 -5.6470588,0 L 12,18.352941 21.882353,8.4705882 Z" /></svg>',icon_drag_vertical:'<svg viewBox="0 0 24 24"><path d="M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z" /></svg>',icon_edit:'<svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_edit_circle_filled:'<svg viewBox="0 0 24 24"><path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M9.1,17H7v-2.1l6.1-6.1l2.1,2.1L9.1,17z M16.8,9.2l-1,1l-2.1-2.1l1-1c0.2-0.2,0.6-0.2,0.8,0l1.3,1.3C17.1,8.7,17.1,9,16.8,9.2z"/></svg>',icon_edit_circle_outline:'<svg viewBox="0 0 24 24"><path d="M7,14.94L13.06,8.88L15.12,10.94L9.06,17H7V14.94M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M16.7,9.35L15.7,10.35L13.65,8.3L14.65,7.3C14.86,7.08 15.21,7.08 15.42,7.3L16.7,8.58C16.92,8.79 16.92,9.14 16.7,9.35M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2" /></svg>',icon_email:'<svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_email_outline:'<svg viewBox="0 0 24 24"><path d="M24,4.8a2.41,2.41,0,0,0-2.4-2.4H2.4A2.41,2.41,0,0,0,0,4.8V19.2a2.41,2.41,0,0,0,2.4,2.4H21.6A2.41,2.41,0,0,0,24,19.2Zm-2.4,0-9.6,6-9.6-6Zm0,14.4H2.4V7.2l9.6,6,9.6-6Z"/></svg>',icon_engage:'<svg viewBox="0 0 24 24"><path d="m22 5.75h-13a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h13a2 2 0 0 0 2-2v-9a2 2 0 0 0 -2-2m0 11h-13v-7.33l6.5 3.33 6.5-3.33zm-6.5-5.69-6.5-3.31h13zm-10.5 5.69a4.23 4.23 0 0 0 0 .5h-4a1 1 0 0 1 0-2h4zm-2-9.5h2.08a4.23 4.23 0 0 0 0 .5v1.5h-2.08a1 1 0 1 1 0-2m-2 5a1 1 0 0 1 1-1h3v2h-3a1 1 0 0 1 -1-1z"/></svg>',icon_esc:'<svg viewBox="0 0 24 24"><path d="M4.77519531,16.1367188 C3.72245567,16.1367188 2.86911134,15.8051791 2.21513672,15.1420898 C1.56116209,14.4790006 1.23417969,13.5960342 1.23417969,12.4931641 L1.23417969,12.2880859 C1.23417969,11.549801 1.37659363,10.8901396 1.66142578,10.309082 C1.94625793,9.72802444 2.34615628,9.27571776 2.86113281,8.95214844 C3.37610935,8.62857911 3.95032235,8.46679688 4.58378906,8.46679688 C5.59095556,8.46679688 6.36910533,8.78808272 6.91826172,9.43066406 C7.46741811,10.0732454 7.74199219,10.982416 7.74199219,12.1582031 L7.74199219,12.828125 L2.90898438,12.828125 C2.95911483,13.4388051 3.1630516,13.9218732 3.52080078,14.2773438 C3.87854997,14.6328143 4.32857802,14.8105469 4.87089844,14.8105469 C5.63196995,14.8105469 6.25175542,14.5029328 6.73027344,13.8876953 L7.62578125,14.7421875 C7.32955581,15.184247 6.93421471,15.5271798 6.43974609,15.7709961 C5.94527748,16.0148124 5.39043276,16.1367188 4.77519531,16.1367188 Z M4.57695313,9.79980469 C4.12122168,9.79980469 3.75322406,9.9593083 3.47294922,10.2783203 C3.19267438,10.5973323 3.01380247,11.0416638 2.93632813,11.6113281 L6.10136719,11.6113281 L6.10136719,11.4882812 C6.06490867,10.9322889 5.91679817,10.5118829 5.65703125,10.2270508 C5.39726433,9.94221863 5.03724188,9.79980469 4.57695313,9.79980469 Z M13.3765625,13.9902344 C13.3765625,13.6940089 13.2546562,13.4684253 13.0108398,13.3134766 C12.7670235,13.1585279 12.3625679,13.0218105 11.7974609,12.9033203 C11.2323539,12.7848301 10.760679,12.634441 10.3824219,12.4521484 C9.55299064,12.0511048 9.13828125,11.4700559 9.13828125,10.7089844 C9.13828125,10.0709604 9.40715877,9.53776256 9.94492188,9.109375 C10.482685,8.68098744 11.1662719,8.46679688 11.9957031,8.46679688 C12.8798221,8.46679688 13.5941705,8.68554469 14.1387695,9.12304688 C14.6833686,9.56054906 14.9556641,10.1279262 14.9556641,10.8251953 L13.2945313,10.8251953 C13.2945313,10.5061833 13.1760429,10.2407237 12.9390625,10.0288086 C12.7020821,9.81689347 12.3876322,9.7109375 11.9957031,9.7109375 C11.631118,9.7109375 11.3337577,9.79524655 11.1036133,9.96386719 C10.8734689,10.1324878 10.7583984,10.3580715 10.7583984,10.640625 C10.7583984,10.8958346 10.8654937,11.0940748 11.0796875,11.2353516 C11.2938813,11.3766283 11.7268197,11.5190423 12.3785156,11.6625977 C13.0302116,11.8061531 13.5417625,11.9770498 13.9131836,12.175293 C14.2846047,12.3735361 14.5603181,12.6116523 14.740332,12.8896484 C14.920346,13.1676446 15.0103516,13.5048808 15.0103516,13.9013672 C15.0103516,14.5667351 14.7346382,15.1056294 14.1832031,15.5180664 C13.6317681,15.9305034 12.9094446,16.1367188 12.0162109,16.1367188 C11.4100881,16.1367188 10.8700545,16.0273448 10.3960938,15.8085938 C9.92213305,15.5898427 9.55299611,15.2890644 9.28867188,14.90625 C9.02434764,14.5234356 8.8921875,14.1110048 8.8921875,13.6689453 L10.5054688,13.6689453 C10.5282553,14.0608744 10.6763658,14.3627919 10.9498047,14.574707 C11.2232436,14.7866222 11.5855446,14.8925781 12.0367188,14.8925781 C12.4742209,14.8925781 12.8068999,14.8094084 13.0347656,14.6430664 C13.2626313,14.4767244 13.3765625,14.2591159 13.3765625,13.9902344 Z M19.6947266,14.8105469 C20.1094422,14.8105469 20.4535143,14.6897799 20.7269531,14.4482422 C21.000392,14.2067045 21.1462239,13.9082049 21.1644531,13.5527344 L22.7298828,13.5527344 C22.7116536,14.0130231 22.5681003,14.4425436 22.2992188,14.8413086 C22.0303372,15.2400736 21.6657575,15.5556629 21.2054688,15.7880859 C20.74518,16.020509 20.2484402,16.1367188 19.7152344,16.1367188 C18.680724,16.1367188 17.8604197,15.8017612 17.2542969,15.1318359 C16.6481741,14.4619107 16.3451172,13.5367898 16.3451172,12.3564453 L16.3451172,12.1855469 C16.3451172,11.0598902 16.6458954,10.1586948 17.2474609,9.48193359 C17.8490264,8.8051724 18.6693307,8.46679688 19.7083984,8.46679688 C20.5879601,8.46679688 21.3045871,8.72314197 21.8583008,9.23583984 C22.4120145,9.74853772 22.7025389,10.4218708 22.7298828,11.2558594 L21.1644531,11.2558594 C21.1462239,10.8320291 21.0015313,10.4833998 20.7303711,10.2099609 C20.4592109,9.93652207 20.1139995,9.79980469 19.6947266,9.79980469 C19.1569635,9.79980469 18.7422541,9.99462696 18.4505859,10.3842773 C18.1589178,10.7739277 18.0108073,11.3652304 18.00625,12.1582031 L18.00625,12.4248047 C18.00625,13.226892 18.1509426,13.8250306 18.440332,14.2192383 C18.7297215,14.613446 19.1478488,14.8105469 19.6947266,14.8105469 Z"></path></svg>',icon_event:'<svg viewBox="0 0 24 24"><path d="M18,13.2H12v6h6ZM16.8,0V2.4H7.2V0H4.8V2.4H3.6A2.39,2.39,0,0,0,1.21,4.8V21.6A2.4,2.4,0,0,0,3.6,24H20.4a2.41,2.41,0,0,0,2.4-2.4V4.8a2.41,2.41,0,0,0-2.4-2.4H19.2V0Zm3.6,21.6H3.6V8.4H20.4Z"/></svg>',icon_event_small:'<svg viewBox="0 0 24 24"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_event_soon:'<svg fill="none" viewBox="0 0 24 24"><path d="m15.091 13.091h1.6364v3.0764l2.6618 1.5382-0.8182 1.4181-3.48-2.0072v-4.0255zm4.3636-5.4545h-15.273v12h5.0945c-0.46909-0.9928-0.73091-2.1055-0.73091-3.2728 0-2.0253 0.80455-3.9676 2.2366-5.3997 1.4321-1.4321 3.3744-2.2366 5.3997-2.2366 1.1673 0 2.28 0.26182 3.2727 0.73091v-1.8218zm-15.273 14.182c-1.2109 0-2.1818-0.9818-2.1818-2.1818v-15.273c0-1.2109 0.97091-2.1818 2.1818-2.1818h1.0909v-2.1818h2.1818v2.1818h8.7272v-2.1818h2.1818v2.1818h1.0909c0.5787 0 1.1337 0.22987 1.5428 0.63904 0.4092 0.40917 0.6391 0.96412 0.6391 1.5428v6.6546c1.3527 1.3745 2.1818 3.2618 2.1818 5.3454 0 2.0253-0.8046 3.9677-2.2367 5.3998s-3.3744 2.2366-5.3997 2.2366c-2.0836 0-3.9709-0.8291-5.3454-2.1818h-6.6546zm12-10.746c-1.4032 0-2.749 0.5575-3.7412 1.5497-0.9923 0.9922-1.5497 2.338-1.5497 3.7412 0 2.9237 2.3673 5.2909 5.2909 5.2909 0.6948 0 1.3828-0.1368 2.0248-0.4027 0.6419-0.2659 1.2252-0.6556 1.7165-1.1469s0.881-1.0746 1.1469-1.7165 0.4027-1.33 0.4027-2.0248c0-2.9236-2.3672-5.2909-5.2909-5.2909z"/></svg>',icon_exclamation_enclosed_round:'<svg viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',icon_exclamation_knockout_octagon:'<svg viewBox="0 0 24 24"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_exclamation_knockout_round:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>',icon_expand_left:'<svg viewBox="0 0 24 24"><g id="Page-1"><g id="Desktop"><g id="icon_base_expand_left" data-name="icon/base/expand_left"><g id="Fill"><path id="path-1" d="M24.042,1.048v21.9H20.614V1.048ZM9.185,3.238,10.8,4.782,4.418,10.905h13.91V13.1H4.418L10.8,19.218,9.185,20.762.042,12Z"/></g></g></g></g></svg>',icon_expand_right:'<svg viewBox="0 0 24 24"><g id="Page-1"><g id="Desktop"><g id="icon_base_expand_left" data-name="icon/base/expand_left"><g id="Fill"><path id="path-1" d="M0,1.048v21.9H3.429V1.048Zm14.857,2.19L13.246,4.782l6.378,6.123H5.714V13.1h13.91l-6.378,6.123,1.611,1.544L24,12Z"/></g></g></g></g></svg>',icon_export:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"/></svg>',icon_external_link:'<svg viewBox="0 0 24 24"><path d="M13.09,21.82H2.18V10.91h5.45V8.73H2.18C0.98,8.73,0,9.71,0,10.91v10.91C0,23.02,0.98,24,2.18,24h10.91 c1.2,0,2.18-0.98,2.18-2.18v-5.45h-2.18V21.82z"/><path d="M21.82,0H10.91c-1.2,0-2.18,0.98-2.18,2.18v10.91c0,1.2,0.98,2.18,2.18,2.18h10.91c1.2,0,2.18-0.98,2.18-2.18 V2.18C24,0.98,23.02,0,21.82,0z M21.82,13.09H10.91V2.18h10.91V13.09z"/><polygon points="14.63,10.91 18.55,6.99 18.55,10.91 20.73,10.91 20.73,3.27 13.09,3.27 13.09,5.45 17.01,5.45 13.09,9.37 \t"/></svg>',icon_eye_closed:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z" fill="none"/><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/></svg>',icon_eye_open:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>',icon_facebook:'<svg viewBox="0 0 24 24"><path d="M 12 0 A 12 12 0 0 0 0 12 A 12 12 0 0 0 12 24 A 12 12 0 0 0 24 12 A 12 12 0 0 0 12 0 z M 13.050781 4.5 L 15.300781 4.5 L 15.300781 7.5 L 13.800781 7.5 C 13.283281 7.5 13.050781 8.1075 13.050781 8.625 L 13.050781 10.5 L 15.300781 10.5 L 15.300781 13.5 L 13.050781 13.5 L 13.050781 19.5 L 10.050781 19.5 L 10.050781 13.5 L 7.8007812 13.5 L 7.8007812 10.5 L 10.050781 10.5 L 10.050781 7.5 A 3 3 0 0 1 13.050781 4.5 z" /></svg>',icon_facebook_logo:'<svg viewBox="0 0 24 24"><path d="M19,4V7H17A1,1 0 0,0 16,8V10H19V13H16V20H13V13H11V10H13V7.5C13,5.56 14.57,4 16.5,4M20,2H4A2,2 0 0,0 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>',icon_facebook_nobg:'<svg viewBox="0 0 24 24"><path d="M9.5,24V13.1H5.8V8.8h3.7V5.6C9.5,2,11.7,0,14.9,0c1.6,0,2.9,0.1,3.3,0.2V4L16,4c-1.8,0-2.1,0.8-2.1,2.1v2.7h4.2l-0.6,4.3h-3.7V24H9.5z"/></svg>',icon_feed:'<svg viewBox="0 0 24 24"><path d="M4.8,21.6V24H21.6A2.41,2.41,0,0,0,24,21.6V4.8H21.6V21.6Z"/><path d="M16.8,2.4V16.8H2.4V2.4H16.8m0-2.4H2.4A2.41,2.41,0,0,0,0,2.4V16.8a2.41,2.41,0,0,0,2.4,2.4H16.8a2.41,2.41,0,0,0,2.4-2.4V2.4A2.41,2.41,0,0,0,16.8,0Z"/><polygon points="14.4 4.8 4.8 4.8 4.8 7.2 14.4 7.2 14.4 4.8 14.4 4.8"/><polygon points="14.4 8.4 4.8 8.4 4.8 10.8 14.4 10.8 14.4 8.4 14.4 8.4"/><polygon points="9.6 12 4.8 12 4.8 14.4 9.6 14.4 9.6 12 9.6 12"/></svg>',icon_filter:'<svg viewBox="0 0 24 24"><path d="m 1.67,-3.367e-5 20.66,0 0,0 0,0 0,2.29555557 -0.09182,0 -7.942622,7.9426221 0,13.761856 -4.5911116,-4.591111 0,-9.182223 L 1.7733,2.2955219 l -0.1033,0 0,-2.29555557 z" /></svg>',icon_filter_outline_plus:'<svg viewBox="0 0 24 24"><path d="M15 17H18V14H20V17H23V19H20V22H18V19H15V17M13 19.88C13.04 20.18 12.94 20.5 12.72 20.71C12.32 21.1 11.69 21.1 11.3 20.71L7.29 16.7C7.06 16.47 6.96 16.16 7 15.87V10.75L2.21 4.62C1.87 4.19 1.95 3.56 2.38 3.22C2.57 3.08 2.78 3 3 3V3H17V3C17.22 3 17.43 3.08 17.62 3.22C18.05 3.56 18.13 4.19 17.79 4.62L13 10.75V19.88M5.04 5L9 10.07V15.58L11 17.58V10.05L14.96 5H5.04Z" /></svg>',icon_filter_small:'<svg viewBox="0 0 24 24"><path d="M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z" /></svg>',icon_flag:'<svg viewBox="0 0 24 24"><path d="M14.4,6L14,4H5v17h2v-7h5.6l0.4,2h7V6H14.4z"/></svg>',icon_flag2:'<svg viewBox="0 0 24 24"><path d="M6,3A1,1 0 0,1 7,4V4.88C8.06,4.44 9.5,4 11,4C14,4 14,6 16,6C19,6 20,4 20,4V12C20,12 19,14 16,14C13,14 13,12 11,12C8,12 7,14 7,14V21H5V4A1,1 0 0,1 6,3Z" /></svg>',icon_form:'<svg viewBox="0 0 24 24"><g><g><path d="M19,3v18H5V3H19 M19,1H5C3.9,1,3,1.9,3,3v18c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V3C21,1.9,20.1,1,19,1L19,1z"/></g><path d="M16,15H8c-0.5,0-1-0.4-1-1v0c0-0.6,0.4-1,1-1h8c0.5,0,1,0.4,1,1v0C17,14.6,16.6,15,16,15z"/><path d="M16,11H8c-0.5,0-1-0.4-1-1v0c0-0.6,0.4-1,1-1h8c0.5,0,1,0.4,1,1v0C17,10.6,16.6,11,16,11z"/><path d="M16,7H8C7.4,7,7,6.6,7,6v0c0-0.5,0.4-1,1-1h8c0.5,0,1,0.4,1,1v0C17,6.6,16.6,7,16,7z"/><path d="M16,19H8c-0.5,0-1-0.4-1-1v0c0-0.5,0.4-1,1-1h8c0.5,0,1,0.4,1,1v0C17,18.6,16.6,19,16,19z"/></g></svg>',icon_form_complete:'<svg viewBox="0 0 24 24"><path d="M13,15H6a1,1,0,0,1-1-1H5a1,1,0,0,1,1-1h9S13,14,13,15Z"/><rect x="5" y="9" width="10" height="2" rx="1" ry="1"/><rect x="5" y="5" width="10" height="2" rx="1" ry="1"/><rect x="5" y="17" width="10" height="2" rx="1" ry="1"/><path d="M17,18v3H3V3H17v7h2V3a2,2,0,0,0-2-2H3A2,2,0,0,0,1,3V21a2,2,0,0,0,2,2H17a2,2,0,0,0,2-2V18Z"/><path d="M17.5,9A5.5,5.5,0,1,0,23,14.5,5.5,5.5,0,0,0,17.5,9Zm-1.1,8.25L13.65,14.5l.78-.78,2,2,4.17-4.17.78.78Z"/></svg>',icon_form_info:'<svg viewBox="0 0 24 24"><path d="M2,18H4V16H2V2H16V4h2V2a2,2,0,0,0-2-2H2A2,2,0,0,0,0,2V16A2,2,0,0,0,2,18Z"/><path d="M18,12a6,6,0,1,0,6,6A6,6,0,0,0,18,12Zm.6,9H17.4V17.4h1.2Zm0-4.8H17.4V15h1.2Z"/><path d="M11.73,21.09a.31.31,0,0,1-.05-.1,8.48,8.48,0,0,1-.39-1H6V6H20v5.29h0a8.48,8.48,0,0,1,1,.39.31.31,0,0,1,.1.05,6.35,6.35,0,0,1,.91.53V6a2,2,0,0,0-2-2H6A2,2,0,0,0,4,6V20a2,2,0,0,0,2,2h6.26A6.35,6.35,0,0,1,11.73,21.09Z"/><rect x="8" y="8" width="10" height="2"/><polygon points="18 8 8 8 8 10 18 10 18 8 18 8"/><path d="M14.41,12H8v2h4.26A7.08,7.08,0,0,1,14.41,12Z"/><path d="M14.41,12H8v2h4.26a7.08,7.08,0,0,1,2.15-2Z"/><path d="M8,16v2h3a6.91,6.91,0,0,1,.29-2Z"/><path d="M11.29,16H8v2h3a6.91,6.91,0,0,1,.29-2Z"/></svg>',icon_format_list:'<svg viewBox="0 0 24 24"><path d="M3,5H9V11H3V5M5,7V9H7V7H5M11,7H21V9H11V7M11,15H21V17H11V15M5,20L1.5,16.5L2.91,15.09L5,17.17L9.59,12.59L11,14L5,20Z" /></svg>',icon_funds_raised:'<svg viewBox="0 0 24 24"><path d="M13.39964,12l0.93416,0.93416,3.7035-3.69688v8.0629h1.325V9.23728l3.7035,3.69688L24,12,18.69982,6.69982Z"/><path d="M5.809,10.834c-2.40628-.62542-3.18011-1.272-3.18011-2.27908,0-1.15544,1.07064-1.96107,2.8621-1.96107,1.88686,0,2.58649.901,2.65009,2.22608h2.34268A4.22555,4.22555,0,0,0,7.081,4.78116V2.45968H3.90093V4.74935C1.84446,5.19457.19081,6.53021,0.19081,8.57608c0,2.44868,2.02467,3.66772,4.98217,4.37795,2.65009,0.636,3.18011,1.56885,3.18011,2.55469,0,0.73142-.51942,1.89746-2.8621,1.89746-2.18367,0-3.0423-.97523-3.15891-2.22608H0C0.1272,17.50159,1.86566,18.80543,3.90093,19.24v2.30028H7.081V19.26125c2.06707-.39221,3.71013-1.59005,3.71013-3.76313C10.79117,12.48762,8.21528,11.45938,5.809,10.834Z"/></svg>',icon_funds_raised_small:'<svg viewBox="0 0 24 24"><path d="M13.3,12.3l0.9,0.9l3.4-3.4v7.4h1.2V9.7l3.4,3.4l0.9-0.9l-4.9-4.9L13.3,12.3z"/><path d="M6.3,11.2C4.1,10.6,3.4,10,3.4,9.1c0-1.1,1-1.8,2.6-1.8c1.7,0,2.4,0.8,2.4,2h2.1c-0.1-1.7-1.1-3.2-3.1-3.7V3.5H4.6v2.1C2.7,6,1.2,7.2,1.2,9.1c0,2.2,1.9,3.4,4.6,4c2.4,0.6,2.9,1.4,2.9,2.3c0,0.7-0.5,1.7-2.6,1.7c-2,0-2.8-0.9-2.9-2H1c0.1,2.1,1.7,3.3,3.6,3.7V21h2.9v-2.1c1.9-0.4,3.4-1.5,3.4-3.4C10.9,12.7,8.5,11.8,6.3,11.2z"/></svg>',icon_funds_raised_thin:'<svg viewBox="0 0 24 24"><path d="M6.3,4.537C4.469,4.827,2.709,5.9,2.709,7.883c0,1.512,2.052,2.22,3.592,2.643Zm14.043,2.13a.552.552,0,0,1,.395.165l2.737,2.762a.559.559,0,0,1-.4.95.553.553,0,0,1-.389-.168l-1.8-1.8v9.168l-.556.671-.556-.671V8.576l-1.791,1.8a.556.556,0,1,1-.79-.782L19.95,6.832A.551.551,0,0,1,20.344,6.667ZM8.2,13.016v6.645c1.334-.234,3.659-.891,3.592-2.968C11.792,14.763,9.909,13.627,8.2,13.016ZM7.245,0A.946.946,0,0,1,8.2.942V2.653a8.6,8.6,0,0,1,4.659,2.073A.932.932,0,0,1,12.49,6.3a.948.948,0,0,1-.919-.209A7.059,7.059,0,0,0,8.2,4.568v6.467c3.566,1.085,5.578,3.111,5.5,5.591,0,3.208-3.089,4.619-5.512,4.9v1.528a.949.949,0,0,1-1.9,0V21.5A12.2,12.2,0,0,1,.64,19a.928.928,0,0,1,0-1.319.946.946,0,0,1,1.33,0A11.468,11.468,0,0,0,6.3,19.615V12.456C4.377,11.977.784,10.984.784,7.873c0-2.781,2.279-4.9,5.512-5.235V.942A.946.946,0,0,1,7.245,0Z"/></svg>',icon_globe:'<svg viewBox="0 0 24 24"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M11,19.9c-3.9-0.5-7-3.9-7-7.9c0-0.6,0.1-1.2,0.2-1.8L9,15v1c0,1.1,0.9,2,2,2V19.9z M17.9,17.4c-0.3-0.8-1-1.4-1.9-1.4h-1v-3c0-0.6-0.4-1-1-1H8v-2h2c0.6,0,1-0.4,1-1V7h2c1.1,0,2-0.9,2-2V4.6c2.9,1.2,5,4.1,5,7.4C20,14.1,19.2,16,17.9,17.4z"/></svg>',icon_globe_lines:'<svg viewBox="0 0 24 24"><path d="M16.967,18.667h3.91a11.081,11.081,0,0,1-6.559,4.2A20.69,20.69,0,0,0,16.967,18.667Zm-4.523,0h3.523a19.659,19.659,0,0,1-2.99,4.395c-.175.016-.354.019-.533.027Zm-4.746,0h3.858v4.422c-.2-.008-.395-.012-.589-.03A13.4,13.4,0,0,1,7.7,18.667Zm-4.575,0H6.708A14.683,14.683,0,0,0,9.4,22.793,11.091,11.091,0,0,1,3.123,18.667Zm15.518-6.223h4.448a11.054,11.054,0,0,1-1.608,5.334H17.366A16.252,16.252,0,0,0,18.641,12.444Zm-6.2,0H17.75A15.69,15.69,0,0,1,16.4,17.778H12.444Zm-6.21,0h5.322v5.334H7.323A15.674,15.674,0,0,1,6.234,12.444Zm-5.323,0H5.345a16.685,16.685,0,0,0,1.007,5.334H2.519A11.054,11.054,0,0,1,.911,12.444ZM17.653,6.222h3.826a11.045,11.045,0,0,1,1.61,5.334H18.661A16.663,16.663,0,0,0,17.653,6.222Zm-5.209,0h4.24a15.674,15.674,0,0,1,1.089,5.334H12.444Zm-5.121,0h4.233v5.334H6.234A15.674,15.674,0,0,1,7.323,6.222Zm-4.8,0H6.352a16.69,16.69,0,0,0-1.007,5.334H.911A11.045,11.045,0,0,1,2.521,6.222ZM14.6,1.207a11.088,11.088,0,0,1,6.28,4.126H17.3A14.667,14.667,0,0,0,14.6,1.207Zm-5.2,0A14.683,14.683,0,0,0,6.708,5.333H3.123A11.091,11.091,0,0,1,9.4,1.207Zm3.043-.3c.2.008.4.012.592.03a13.409,13.409,0,0,1,3.275,4.392H12.444Zm-.888,0V5.333H7.7A13.427,13.427,0,0,1,10.965.941C11.16.923,11.358.919,11.556.911ZM12,0a12,12,0,1,0,1.392,23.913l.014.014.016-.017a11.992,11.992,0,0,0,0-23.816C13.409.081,13.4.066,13.38.054v0l-.028.033A12.058,12.058,0,0,0,12,0Z"/></svg>',icon_help_outline:'<svg viewBox="0 0 24 24"><path d="M10.8,19.2h2.4V16.8H10.8ZM12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm0,21.6A9.6,9.6,0,1,1,21.6,12,9.62,9.62,0,0,1,12,21.6ZM12,4.8A4.8,4.8,0,0,0,7.2,9.6H9.6a2.4,2.4,0,0,1,4.8,0c0,2.4-3.6,2.1-3.6,6h2.4c0-2.7,3.6-3,3.6-6A4.8,4.8,0,0,0,12,4.8Z"/></svg>',icon_hubspot:'<svg viewBox="0 0 24 24"><path d="M15.4,6.9V4.4c0.7-0.3,1.1-1,1.1-1.7V2.6c0-1.1-0.9-1.9-1.9-1.9h-0.1c-1.1,0-1.9,0.9-1.9,1.9v0.1\tc0,0.7,0.4,1.4,1.1,1.7v2.5C12.7,7,11.8,7.4,11.1,8L4.2,2.7c0-0.2,0.1-0.4,0.1-0.5C4.3,1,3.4,0,2.2,0C1,0,0,1,0,2.2s1,2.2,2.2,2.2\tc0,0,0,0,0,0c0.4,0,0.7-0.1,1.1-0.3L10,9.3c-1.2,1.9-1.2,4.3,0.1,6.1l-2,2c-0.2-0.1-0.3-0.1-0.5-0.1c-1,0-1.8,0.8-1.8,1.8\tc0,1,0.8,1.8,1.8,1.8c1,0,1.8-0.8,1.8-1.8c0-0.2,0-0.3-0.1-0.5l2-2c1.8,1.4,4.3,1.5,6.2,0.3c1.9-1.2,2.9-3.5,2.4-5.7\tC19.4,8.9,17.6,7.2,15.4,6.9 M14.5,15.1c-1.5,0-2.8-1.2-2.9-2.7c0-1.5,1.2-2.8,2.7-2.9c0.1,0,0.1,0,0.2,0c1.5,0.1,2.7,1.3,2.7,2.8\tC17.2,13.8,16,15,14.5,15.1"/></svg>',icon_import_list:'<svg viewBox="0 0 24 24"><path d="M5,15.92l1.54,1.53L12,12,6.55,6.55,5,8.08l2.81,2.83H0v2.18H7.82ZM21.82,2.18H6.55A2.18,2.18,0,0,0,4.36,4.36H21.82V19.64H4.36a2.18,2.18,0,0,0,2.19,2.18H21.82A2.19,2.19,0,0,0,24,19.64V4.36A2.19,2.19,0,0,0,21.82,2.18ZM13.09,13.09h6.55V10.91H13.09Zm0,4.36h6.55V15.27H13.09Zm0-10.9V8.73h6.55V6.55Z"/></svg>',icon_info_outline:'<svg viewBox="0 0 24 24"><path d="M10.8,6h2.4V8.4H10.8Zm0,4.8h2.4V18H10.8ZM12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm0,21.6A9.6,9.6,0,1,1,21.6,12,9.62,9.62,0,0,1,12,21.6Z"/></svg>',icon_instagram_circle:'<svg viewBox="0 0 24 24"><path d="M15.5,12c0,1.9-1.6,3.5-3.5,3.5S8.5,13.9,8.5,12c0-0.2,0-0.4,0.1-0.6H7.4v4.6c0,0.3,0.3,0.6,0.6,0.6h8.1c0.3,0,0.6-0.3,0.6-0.6v-4.6h-1.2C15.5,11.6,15.5,11.8,15.5,12z M12,14.3c1.3,0,2.3-1,2.3-2.3c0-1.3-1-2.3-2.3-2.3s-2.3,1-2.3,2.3C9.7,13.3,10.7,14.3,12,14.3z M14.8,9.6h1.4c0.2,0,0.3-0.2,0.3-0.3V7.8c0-0.2-0.2-0.3-0.3-0.3h-1.4c-0.2,0-0.3,0.2-0.3,0.3v1.4C14.4,9.4,14.6,9.6,14.8,9.6z M12,0.8C5.8,0.8,0.8,5.8,0.8,12s5,11.2,11.2,11.2s11.2-5,11.2-11.2S18.2,0.8,12,0.8z M17.8,16.5c0,0.7-0.6,1.3-1.3,1.3h-9c-0.7,0-1.3-0.6-1.3-1.3v-9c0-0.7,0.6-1.3,1.3-1.3h9c0.7,0,1.3,0.6,1.3,1.3V16.5z"/></svg>',icon_investment:'<svg viewBox="0 0 24 24"><g><path d="M18.1,7.4l-0.9,0.9l3.4,3.4h-7.4v1.2h7.4l-3.4,3.4l0.9,0.9l4.9-4.9L18.1,7.4z"/><path d="M6.3,11.2C4.1,10.6,3.4,10,3.4,9.1c0-1.1,1-1.8,2.6-1.8c1.7,0,2.4,0.8,2.4,2h2.1c-0.1-1.7-1.1-3.2-3.1-3.7V3.5H4.6v2.1C2.7,6,1.2,7.2,1.2,9.1c0,2.2,1.9,3.4,4.6,4c2.4,0.6,2.9,1.4,2.9,2.3c0,0.7-0.5,1.7-2.6,1.7c-2,0-2.8-0.9-2.9-2H1c0.1,2.1,1.7,3.3,3.6,3.7V21h2.9v-2.1c1.9-0.4,3.4-1.5,3.4-3.4C10.9,12.7,8.5,11.8,6.3,11.2z"/></g></svg>',icon_investment_stroked:'<svg viewBox="0 0 24 24"><path d="M2.8,15.368,8.638,21.2,6.8,23.036.969,17.2ZM7.6,12.8a4.289,4.289,0,0,0-3.144,1.382.4.4,0,1,0,.555.576A3.352,3.352,0,0,1,7.6,13.6H16A1.2,1.2,0,0,1,16,16H11.6a.4.4,0,1,0,0,.8H16a2,2,0,0,0,0-4ZM22.143,10.08a1.888,1.888,0,0,0-1.339.554l-2.345,2.345a.4.4,0,1,0,.566.566L21.37,11.2a1.085,1.085,0,0,1,1.548,0,.915.915,0,0,1,.281.725,1.687,1.687,0,0,1-.325.875c-.765,1.084-2.477,3.562-3.394,4.889A3.089,3.089,0,0,1,16.8,19.2H10a2.3,2.3,0,0,0-1.591.643L3.083,14.517a.4.4,0,0,0-.564,0l-2.4,2.4a.4.4,0,0,0,0,.567l6.4,6.4a.4.4,0,0,0,.564,0l2.4-2.4a.4.4,0,0,0,0-.564l-.514-.514A1.357,1.357,0,0,1,10,20h6.8a3.978,3.978,0,0,0,3.336-1.859c.916-1.327,2.631-3.808,3.389-4.883A2.442,2.442,0,0,0,24,11.953a1.766,1.766,0,0,0-.516-1.319A1.887,1.887,0,0,0,22.143,10.08ZM12,1.6a.385.385,0,0,0-.4.4v.863A1.6,1.6,0,0,0,12,6a.8.8,0,1,1-.8.8.4.4,0,1,0-.8,0,1.6,1.6,0,0,0,1.2,1.543V9.2a.4.4,0,0,0,.8,0V8.348A1.6,1.6,0,0,0,12,5.2a.8.8,0,1,1,.8-.8.4.4,0,1,0,.8,0A1.6,1.6,0,0,0,12.4,2.86V2A.385.385,0,0,0,12,1.6ZM12,0A5.6,5.6,0,0,0,8.427,1.289a.4.4,0,0,0-.143.377.4.4,0,0,0,.654.239,4.8,4.8,0,1,1-.98,1.108.4.4,0,1,0-.673-.432A5.6,5.6,0,1,0,12,0Z"/></svg>',icon_investor:'<svg viewBox="0 0 24 24"><path d="M9,10.71A3.87,3.87,0,1,0,5.15,6.85,3.85,3.85,0,0,0,9,10.71Zm0,2.58c-3,0-9,1.51-9,4.51V21H18V17.8C18,14.8,12,13.29,9,13.29Z"/><path d="M22.26,11a1.46,1.46,0,0,0-.21-.83,2.39,2.39,0,0,0-.78-.6,5,5,0,0,1-1.8-1.08,2.39,2.39,0,0,1-.59-1.73,2.44,2.44,0,0,1,.59-1.68,2.41,2.41,0,0,1,1.59-.77V3H22V4.3a2.3,2.3,0,0,1,1.5.87A2.86,2.86,0,0,1,24,7H22.28a1.89,1.89,0,0,0-.23-1,.72.72,0,0,0-.64-.36.68.68,0,0,0-.62.3,1.65,1.65,0,0,0-.18.83,1.27,1.27,0,0,0,.21.76,2.37,2.37,0,0,0,.8.62A4.75,4.75,0,0,1,23.4,9.2,2.49,2.49,0,0,1,24,11a2.39,2.39,0,0,1-.58,1.69,2.44,2.44,0,0,1-1.58.75V14.6h-.89V13.39a2.46,2.46,0,0,1-2.31-2.76v0h1.68a1.8,1.8,0,0,0,.28,1.14,1,1,0,0,0,.78.34.76.76,0,0,0,.67-.3A1.41,1.41,0,0,0,22.26,11Z"/></svg>',icon_keyboard_return:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"/></svg>',icon_layoff:'<svg viewBox="0 0 24 24"><path d="M7.938 9.934C5.296 9.934 0 11.261 0 13.904v2.834h15.876v-2.835c0-2.642-5.296-3.969-7.938-3.969m5.326-8.516l2.274 3.524 2.285-1.61 2.388 3.694 1.308-.921-.577 2.968-2.85-.554 1.308-.921-1.85-2.866-2.284 1.61-2.807-4.356.805-.568zM7.938.862c1.882 0 3.39 1.52 3.39 3.402a3.388 3.388 0 01-3.39 3.402 3.397 3.397 0 01-3.402-3.402A3.397 3.397 0 017.938.862z"/></svg>',icon_lightbulb:'<svg viewBox="0 0 24 24"><path d="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z" /></svg>',icon_linkedin:'<svg viewBox="0 0 24 24"><path d="M19,19H16V13.7A1.5,1.5 0 0,0 14.5,12.2A1.5,1.5 0 0,0 13,13.7V19H10V10H13V11.2C13.5,10.36 14.59,9.8 15.5,9.8A3.5,3.5 0 0,1 19,13.3M6.5,8.31C5.5,8.31 4.69,7.5 4.69,6.5A1.81,1.81 0 0,1 6.5,4.69C7.5,4.69 8.31,5.5 8.31,6.5A1.81,1.81 0 0,1 6.5,8.31M8,19H5V10H8M20,2H4C2.89,2 2,2.89 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>',icon_linkedin_circle:'<svg viewBox="0 0 24 24"><path d="M 12 0 A 12 12 0 0 0 0 12 A 12 12 0 0 0 12 24 A 12 12 0 0 0 24 12 A 12 12 0 0 0 12 0 z M 7.3339844 6 A 1.3333333 1.3333333 0 0 1 8.6660156 7.3339844 A 1.3333333 1.3333333 0 0 1 7.3339844 8.6660156 A 1.3333333 1.3333333 0 0 1 6 7.3339844 A 1.3333333 1.3333333 0 0 1 7.3339844 6 z M 6 10 L 8.6660156 10 L 8.6660156 18 L 6 18 L 6 10 z M 10 10 L 12.666016 10 L 12.666016 11.333984 C 13.106016 10.620651 14.24 10.160156 15 10.160156 C 16.666667 10.160156 18 11.519349 18 13.166016 L 18 18 L 15.333984 18 L 15.333984 13.5 C 15.333984 12.793333 14.540651 12.207031 13.833984 12.207031 C 13.127318 12.207031 12.666016 12.793333 12.666016 13.5 L 12.666016 18 L 10 18 L 10 10 z" /></svg>',icon_linkedin_nobg:'<svg viewBox="0 0 24 24"><path d="M21.6,1.2 M20.9,22.8v-7.4c0-2.5-2-4.5-4.5-4.5c0,0,0,0,0,0c-1.2,0-2.6,0.7-3.2,1.8v-1.5H9.3v11.7h3.9v-6.9c0-1.1,0.9-2,1.9-2c1.1,0,2,0.9,2,2v6.9H20.9 M4.7,8.9c1.3,0,2.3-1,2.3-2.3v0c0-1.3-1-2.4-2.3-2.4c-1.3,0-2.4,1.1-2.4,2.4l0,0C2.4,7.9,3.4,8.9,4.7,8.9 M6.7,22.8V11.1H2.8v11.7H6.7z"/></svg>',icon_list:'<svg viewBox="0 0 24 24"><path d="M5.33,13.33H8V10.67H5.33Zm0,5.34H8V16H5.33ZM5.33,8H8V5.33H5.33Zm5.34,5.33h8V10.67h-8Zm0,5.34h8V16h-8Zm0-13.34V8h8V5.33Z"/><path d="M21.33,0H2.67A2.67,2.67,0,0,0,0,2.67V21.33A2.67,2.67,0,0,0,2.67,24H21.33A2.68,2.68,0,0,0,24,21.33V2.67A2.68,2.68,0,0,0,21.33,0Zm0,21.33H2.67V2.67H21.33Z"/></svg>',icon_list_borderless:'<svg viewBox="0 0 24 24"><path d="m 0,13.338 2.664,0 0,-2.664 -2.664,0 0,2.664 z m 0,5.328 2.664,0 0,-2.664 -2.664,0 0,2.664 z M 0,8.01 l 2.664,0 0,-2.676 -2.664,0 0,2.676 z m 5.328,5.328 18.672,0 0,-2.664 -18.672,0 0,2.664 z m 0,5.328 18.672,0 0,-2.664 -18.672,0 0,2.664 z m 0,-13.332 0,2.676 18.672,0 0,-2.676 -18.672,0 z" /></svg>',icon_lists:'<svg viewBox="0 0 24 24"><path d="M4,16H6V14H4Zm0,4H6V18H4Zm0-8H6V10H4Zm4,4h6V14H8Zm0,4h6V18H8ZM8,10v2h6V10Z"/><path d="M16,6H2A2,2,0,0,0,0,8V22a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2V8A2,2,0,0,0,16,6Zm0,16H2V8H16Z"/><path d="M22,0H8A2,2,0,0,0,6,2V4H8V2H22V16H20v2h2a2,2,0,0,0,2-2V2A2,2,0,0,0,22,0Z"/></svg>',icon_location:'<svg viewBox="0 0 24 24"><path d="M12,2C8.1,2,5,5.1,5,9c0,5.2,7,13,7,13s7-7.8,7-13C19,5.1,15.9,2,12,2z M12,11.5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S13.4,11.5,12,11.5z"/></svg>',icon_location_stroked:'<svg viewBox="0 0 24 24"><path d="M12,5.713A2.859,2.859,0,1,1,9.054,8.571,2.9,2.9,0,0,1,12,5.713Zm0-4.57A7.54,7.54,0,0,0,4.337,8.571c0,2.705,1.105,4.86,2.7,7.105C8.48,17.714,10.325,19.9,12,22.444c1.675-2.543,3.522-4.73,4.967-6.768,1.593-2.245,2.7-4.4,2.7-7.1A7.541,7.541,0,0,0,12,1.143ZM12,0a8.719,8.719,0,0,1,8.842,8.571,13.14,13.14,0,0,1-2.9,7.753c-1.65,2.325-3.7,4.594-5.433,7.4a.6.6,0,0,1-1.012,0c-1.735-2.8-3.783-5.073-5.433-7.4a13.142,13.142,0,0,1-2.9-7.753A8.719,8.719,0,0,1,12,0Zm0,4.57a4.073,4.073,0,0,0-4.125,4,4.128,4.128,0,0,0,8.252,0A4.075,4.075,0,0,0,12,4.57Z"/></svg>',icon_lock:'<svg viewBox="0 0 24 24"><path d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" /></svg>',icon_lock_circle:'<svg viewBox="0 0 24 24"><path d="M13.12,7.76a1.52,1.52,0,0,0-1.52-.42,1.57,1.57,0,0,0-1.17,1.52v2.35h3.14V8.88a1.55,1.55,0,0,0,0-.22A1.51,1.51,0,0,0,13.12,7.76Z"/><path d="M12,13.57l-.15,0a.77.77,0,0,0-.62.63.75.75,0,0,0,.35.78.06.06,0,0,1,0,.05v1.27a.4.4,0,0,0,.48.38.39.39,0,0,0,.3-.38V15.05s0,0,0-.05a.79.79,0,0,0,.33-.45A.78.78,0,0,0,12,13.57Z"/><path d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm4.71,16.78,0,.19a1.56,1.56,0,0,1-1.21,1.27l-.17,0H8.68A1.57,1.57,0,0,1,7.32,17l0-.19V12.66a1.48,1.48,0,0,1,.44-1,1.46,1.46,0,0,1,.9-.46.86.86,0,0,1,.22,0V9a1.93,1.93,0,0,1,0-.24,3,3,0,0,1,.19-1,3.13,3.13,0,0,1,2.61-2l.19,0h.31a3.45,3.45,0,0,1,.7.13,3.09,3.09,0,0,1,1.54,1,3.13,3.13,0,0,1,.72,2v2.33h0a1.69,1.69,0,0,1,.66.16,1.55,1.55,0,0,1,.85,1.15,1.62,1.62,0,0,1,0,.19Z"/></svg>',icon_log_out:'<svg viewBox="0 0 24 24"><path d="M16.31,16.32,18,18l6-6L18,6,16.31,7.7l3.09,3.08H7.8v2.4H19.4ZM2.4,24H15.6A2.39,2.39,0,0,0,18,21.6V19.2H15.6v2.4H2.4V2.4H15.6V4.8H18V2.4A2.39,2.39,0,0,0,15.6,0H2.4A2.39,2.39,0,0,0,0,2.4V21.6A2.39,2.39,0,0,0,2.4,24Z"/></svg>',icon_loyalty:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"/></svg>',icon_magic:'<svg viewBox="0 0 24 24"><path d="M19.636,0,18.262,3,15.273,4.364l2.989,1.374,1.374,2.989L21,5.738l3-1.374L21,3ZM6,9.273,0,12l6,2.727,2.727,6,2.728-6,6-2.727-6-2.727-2.728-6Zm12.262,8.989-2.989,1.374L18.262,21l1.374,3L21,21l3-1.364-3-1.374-1.364-2.99Z"/></svg>',icon_matrix:'<svg viewBox="0 0 24 24"><path d="M18,6h6V0H18ZM9,6h6V0H9ZM0,6H6V0H0Zm18,9h6V9H18ZM9,15h6V9H9ZM0,15H6V9H0Zm18,9h6V18H18ZM9,24h6V18H9ZM0,24H6V18H0Z"/></svg>',icon_maximize:'<svg viewBox="0 0 24 24"><path d="M0,3H24V5.667H0Z"/></svg>',icon_menu:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',icon_message:'<svg viewBox="0 0 24 24"><path d="M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M6,9H18V11H6M14,14H6V12H14M18,8H6V6H18" /></svg>',icon_message_outline:'<svg viewBox="0 0 24 24"><path d="M2.4,2.4H21.6V16.8H3.8L2.4,18.2V2.4M2.4,0A2.4,2.4,0,0,0,0,2.4V24l4.8-4.8H21.6A2.41,2.41,0,0,0,24,16.8V2.4A2.41,2.41,0,0,0,21.6,0ZM4.8,12H19.2v2.4H4.8Zm0-3.6H19.2v2.4H4.8Zm0-3.6H19.2V7.2H4.8Z"/></svg>',icon_minimize:'<svg viewBox="0 0 24 24"><path d="M.021,18.333h24V21h-24Z"/></svg>',icon_more_horizontal:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>',icon_more_vertical:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>',icon_move:'<svg viewBox="0 0 24 24"><path d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z" /></svg>',icon_multiaccount:'<svg viewBox="0 0 24 24"><path d="M9.6,2.4h12v12H24V2.4A2.4,2.4,0,0,0,21.6,0H9.6ZM4.8,7.2h12v12h2.4V7.2a2.4,2.4,0,0,0-2.4-2.4H4.8ZM0,12v9.6A2.407,2.407,0,0,0,2.4,24H12a2.4,2.4,0,0,0,2.4-2.4V12A2.4,2.4,0,0,0,12,9.6H2.4A2.407,2.407,0,0,0,0,12Z"/></svg>',icon_new:'<svg viewBox="0 0 24 24"><path d="M11.3 11.4c-.4 0-.7.3-.8.7H12c0-.4-.3-.7-.7-.7z"/><path d="M22.5 6.8h-21C.7 6.8 0 7.4 0 8.2v7.5c0 .8.7 1.5 1.5 1.5h21c.8 0 1.5-.7 1.5-1.5V8.2c0-.8-.7-1.4-1.5-1.4zM8.2 15H6.6l-2.3-3.9V15H2.8V8.7h1.6l2.3 3.9V8.7h1.5V15zm5.3-2h-3.1c.1.5.5.8 1 .8.4 0 .8-.2 1-.5l1 .8c-.4.7-1.2 1.1-2 1-1.3.1-2.4-.9-2.5-2.2v-.2c-.1-1.3.9-2.4 2.2-2.5h.1c1.5 0 2.3 1 2.3 2.6.1 0 .1.1 0 .2zm6.3 2h-1.7l-.7-2.7-.6 2.7h-1.7l-1.3-4.7h1.6l.6 3.1.7-3.1h1.4l.7 3.1.6-3.1H21L19.8 15z"/></svg>',icon_new_tab:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>',icon_news:'<svg viewBox="0 0 24 24"><rect x="4" y="6" width="12" height="4"/><rect x="4" y="12" width="4" height="6"/><rect x="10" y="12" width="6" height="2"/><rect x="10" y="16" width="6" height="2"/><path d="M20,4V2H0V20a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V4ZM18,20H2V4H18Z"/></svg>',icon_nodes_four:'<svg viewBox="0 0 24 24"><path d="M20.727,21.818a1.091,1.091,0,1,1,1.091-1.091,1.092,1.092,0,0,1-1.091,1.091M8.727,12A3.273,3.273,0,1,1,12,15.273,3.278,3.278,0,0,1,8.727,12M3.273,21.818a1.091,1.091,0,1,1,1.091-1.091,1.092,1.092,0,0,1-1.091,1.091M2.182,3.273A1.091,1.091,0,1,1,3.273,4.364,1.092,1.092,0,0,1,2.182,3.273M20.727,2.182a1.091,1.091,0,1,1-1.091,1.091,1.092,1.092,0,0,1,1.091-1.091m0,15.273a3.24,3.24,0,0,0-1.4.327L16.547,15a5.423,5.423,0,0,0,0-6.008l2.777-2.778a3.266,3.266,0,1,0-1.869-2.945,3.24,3.24,0,0,0,.327,1.4L15,7.453A5.423,5.423,0,0,0,9,7.453L6.218,4.676A3.266,3.266,0,1,0,3.273,6.545a3.24,3.24,0,0,0,1.4-.327L7.453,9a5.423,5.423,0,0,0,0,6.008L4.676,17.782a3.266,3.266,0,1,0,1.869,2.945,3.24,3.24,0,0,0-.327-1.4L9,16.547a5.423,5.423,0,0,0,6.008,0l2.778,2.777a3.266,3.266,0,1,0,2.945-1.869"/></svg>',icon_nodes_three:'<svg viewBox="0 0 24 24"><path d="m 4,16 c 0.63,0 1.22,0.16 1.74,0.42 0.01,-0.02 0.02,-0.04 0.03,-0.05 l 4.25,-4.25 C 10.02,12.08 10,12.04 10,12 c 0,-0.02 0.01,-0.03 0.01,-0.04 L 5.76,7.71 C 5.73,7.68 5.72,7.65 5.7,7.61 5.18,7.85 4.61,8 4,8 1.79,8 0,6.21 0,4 0,1.79 1.79,0 4,0 6.21,0 8,1.79 8,4 8,4.88 7.71,5.69 7.23,6.35 l 4.51,4.51 c 0.04,0.04 0.06,0.1 0.1,0.15 H 16 c 0.05,0 0.09,0.02 0.13,0.03 C 16.57,9.29 18.13,8 20,8 c 2.21,0 4,1.79 4,4 0,2.21 -1.79,4 -4,4 -1.87,0 -3.43,-1.29 -3.87,-3.03 C 16.09,12.98 16.05,13 16,13 h -4.03 l -4.7,4.7 C 7.73,18.35 8,19.14 8,20 8,22.21 6.21,24 4,24 1.79,24 0,22.21 0,20 0,17.79 1.79,16 4,16 Z m 16,-2 c 1.1,0 2,-0.9 2,-2 0,-1.1 -0.9,-2 -2,-2 -1.1,0 -2,0.9 -2,2 0,1.1 0.9,2 2,2 z M 4,2 C 2.9,2 2,2.9 2,4 2,5.1 2.9,6 4,6 5.1,6 6,5.1 6,4 6,2.9 5.1,2 4,2 Z m 0,20 c 1.1,0 2,-0.9 2,-2 0,-1.1 -0.9,-2 -2,-2 -1.1,0 -2,0.9 -2,2 0,1.1 0.9,2 2,2 z" /></svg>',icon_notifications:'<svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>',icon_notifications_active:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"/></svg>',icon_notifications_off:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 18.69L7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"/></svg>',icon_open_fullscreen:'<svg viewBox="0 0 24 24"><polygon points="24 10.667 24 0 13.333 0 17.72 4.387 4.387 17.72 0 13.333 0 24 10.667 24 6.28 19.613 19.613 6.28 24 10.667"/></svg>',icon_outreach:'<svg viewBox="0 0 24 24"><path d="m10.78 1.18c3.65 0 9.14 1.13 11.71 3.68a5.34 5.34 0 0 1 1.51 3.81c0 3.33-2.68 8.42-5.61 11.4-1.53 1.52-3.94 3.52-7.21 3.52a9.61 9.61 0 0 1 -6.33-2.87 16 16 0 0 1 -4.63-10.66 8.55 8.55 0 0 1 2.43-6.31c1.63-1.64 4.42-2.57 8.13-2.57zm4.52 13.26a5.32 5.32 0 0 0 1.56-3.59 3.11 3.11 0 0 0 -.86-2.26 5 5 0 0 0 -3.89-1.49 5.06 5.06 0 0 0 -3.75 1.35 4.1 4.1 0 0 0 -1.15 3 5.16 5.16 0 0 0 1.51 3.47 4.38 4.38 0 0 0 3 1.27 4.92 4.92 0 0 0 3.58-1.75z"/></svg>',icon_people_connection:'<svg viewBox="0 0 24 24"><path d="M5.5,14.21a2.35,2.35,0,1,0-2.36-2.35A2.35,2.35,0,0,0,5.5,14.21Z"/><path d="M5.5,15.78c-1.83,0-5.5.91-5.5,2.74v2H11v-2C11,16.69,7.33,15.78,5.5,15.78Z"/><path d="M18.5,14.21a2.35,2.35,0,1,0-2.36-2.35A2.35,2.35,0,0,0,18.5,14.21Z"/><path d="M18.5,15.78c-1.83,0-5.5.91-5.5,2.74v2H24v-2C24,16.69,20.33,15.78,18.5,15.78Z"/><path d="M15,6.52H13v-2a1,1,0,1,0-2,0v2H9a1,1,0,0,0,0,2h2v2a1,1,0,0,0,2,0v-2h2a1,1,0,0,0,0-2Z"/></svg>',icon_people_three:'<svg viewBox="0 0 24 24"><path d="M12,11.45A3.27,3.27,0,1,0,8.73,8.18,3.26,3.26,0,0,0,12,11.45Z"/><path d="M12,12.55c-2.54,0-7.64,1.27-7.64,3.82v2.72H19.64V16.37C19.64,13.82,14.54,12.55,12,12.55Z"/><path d="M6.55,8.18a2.19,2.19,0,1,0-2.19,2.18A2.18,2.18,0,0,0,6.55,8.18Z"/><path d="M7.64,11.92a13.81,13.81,0,0,0-3.28-.47C1.82,11.45,0,12.73,0,15.27V18H3.27V15.27C3.27,13.62,5.43,12.5,7.64,11.92Z"/><path d="M19.64,10.36a2.18,2.18,0,1,0-2.19-2.18A2.17,2.17,0,0,0,19.64,10.36Z"/><path d="M16.36,11.92a13.81,13.81,0,0,1,3.28-.47c2.54,0,4.36,1.28,4.36,3.82V18H20.73V15.27C20.73,13.62,18.57,12.5,16.36,11.92Z"/></svg>',icon_people_three_stroked:'<svg viewBox="0 0 24 24"><path d="M4.747,6.8a2.014,2.014,0,1,0,2.01,2.014A2.015,2.015,0,0,0,4.747,6.8Zm0,4.812a2.8,2.8,0,1,1,2.784-2.8A2.794,2.794,0,0,1,4.747,11.613Zm7.118-7.468a2.811,2.811,0,1,0,2.8,2.811A2.811,2.811,0,0,0,11.865,4.145Zm0-.785a3.6,3.6,0,1,1-3.577,3.6A3.591,3.591,0,0,1,11.865,3.36Zm7.388,3.247a2.014,2.014,0,1,0,2.01,2.014A2.014,2.014,0,0,0,19.253,6.607Zm0-.785a2.8,2.8,0,1,1-2.784,2.8A2.795,2.795,0,0,1,19.253,5.822Zm0,6.954a3.979,3.979,0,0,0-2.191.661,6.527,6.527,0,0,1,1.458,4.121v.721h4.469a.237.237,0,0,0,.238-.235V16.76A3.983,3.983,0,0,0,19.253,12.776Zm-14.506.3A3.983,3.983,0,0,0,.774,17.058v1.284a.237.237,0,0,0,.238.235H5.48V17.558a6.533,6.533,0,0,1,1.3-3.921A3.91,3.91,0,0,0,4.747,13.074ZM12,11.8a5.76,5.76,0,0,0-5.745,5.763v1.806a.491.491,0,0,0,.491.49H17.254a.491.491,0,0,0,.491-.49V17.559A5.76,5.76,0,0,0,12,11.8Zm0-.786a6.483,6.483,0,0,1,4.531,1.844A4.742,4.742,0,0,1,24,16.76v1.285a1.017,1.017,0,0,1-1.012,1.02H18.519v.3a1.272,1.272,0,0,1-1.266,1.275H6.746A1.272,1.272,0,0,1,5.48,19.365v0H1.012A1.017,1.017,0,0,1,0,18.342V17.058a4.764,4.764,0,0,1,4.747-4.77,4.69,4.69,0,0,1,2.546.743A6.49,6.49,0,0,1,12,11.01Z"/></svg>',icon_people_two:'<svg viewBox="0 0 24 24"><path d="M16.36,10.91a3.28,3.28,0,1,0-3.27-3.27A3.26,3.26,0,0,0,16.36,10.91Zm-8.72,0A3.28,3.28,0,1,0,4.36,7.64,3.26,3.26,0,0,0,7.64,10.91Zm0,2.18C5.09,13.09,0,14.37,0,16.91v2.73H15.27V16.91C15.27,14.37,10.18,13.09,7.64,13.09Zm8.72,0a10.24,10.24,0,0,0-1,.06,4.59,4.59,0,0,1,2.14,3.76v2.73H24V16.91C24,14.37,18.91,13.09,16.36,13.09Z"/></svg>',icon_person:'<svg viewBox="0 0 24 24"><path d="M12,2c2.8,0,5,2.2,5,5s-2.2,5-5,5S7,9.8,7,7S9.2,2,12,2 M12,14.5c5.5,0,10,2.2,10,5V22H2v-2.5C2,16.7,6.5,14.5,12,14.5z"/></svg>',icon_personal_settings:'<svg viewBox="0 0 24 24"><path d="M8.4,1.5a4.2,4.2,0,1,0,4.2,4.2A4.2,4.2,0,0,0,8.4,1.5M8.4,12C5.6,12,0,13.4,0,16.2v2.1H11.63A7.24,7.24,0,0,1,13,12.84,15.54,15.54,0,0,0,8.4,12m9.45,0a.27.27,0,0,0-.28.22l-.2,1.39a5.15,5.15,0,0,0-.89.49l-1.3-.53a.32.32,0,0,0-.33.14l-1,1.82a.24.24,0,0,0,.06.33l1.11.86a4.71,4.71,0,0,0,0,.53,4.41,4.41,0,0,0,0,.52l-1.11.86a.26.26,0,0,0-.06.34l1,1.82c.07.13.2.13.33.13l1.3-.52a4.28,4.28,0,0,0,.89.49l.2,1.39a.27.27,0,0,0,.28.22H20a.28.28,0,0,0,.25-.22l.2-1.39a5.06,5.06,0,0,0,.88-.49l1.29.52c.14,0,.27,0,.35-.13L24,19a.28.28,0,0,0-.07-.34l-1.12-.86a4.38,4.38,0,0,0,0-.52,3.15,3.15,0,0,0,0-.53l1.11-.86a.26.26,0,0,0,.07-.33l-1.05-1.82c-.07-.14-.2-.14-.34-.14l-1.29.53a4.28,4.28,0,0,0-.89-.49l-.2-1.39A.25.25,0,0,0,20,12M18.9,15.67a1.58,1.58,0,1,1-1.58,1.58A1.57,1.57,0,0,1,18.9,15.67Z"/></svg>',icon_phone:'<svg viewBox="0 0 24 24"><path d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z" /></svg>',icon_plus:'<svg viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',icon_plus_filled_circle:'<svg viewBox="0 0 24 24"><path d="M4.9,4.9C1,8.8,1,15.2,4.9,19.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S8.8,1,4.9,4.9z M18.1,11v2H13v5.1h-2V13H5.9v-2H11V5.9h2 V11H18.1z"/></svg>',icon_press_reference:'<svg viewBox="0 0 24 24"><path d="M3,7H9V13H3V7M3,3H21V5H3V3M21,7V9H11V7H21M21,11V13H11V11H21M3,15H17V17H3V15M3,19H21V21H3V19Z" /></svg>',icon_privacy_settings:'<svg viewBox="0 0 24 24"><path d="M22.51,12.4h-.74V10.91a3.72,3.72,0,0,0-7.43,0V12.4H13.6a1.49,1.49,0,0,0-1.49,1.49v7.42A1.49,1.49,0,0,0,13.6,22.8h8.91A1.49,1.49,0,0,0,24,21.31V13.89A1.49,1.49,0,0,0,22.51,12.4Zm-4.45,6.69a1.49,1.49,0,1,1,1.48-1.49A1.49,1.49,0,0,1,18.06,19.09Zm2.3-6.69H15.75V10.91a2.31,2.31,0,0,1,4.61,0Z"/><rect y="1.2" width="24" height="3.6" rx="1.5"/><rect y="7.1" width="13.2" height="3.6" rx="1.5"/><rect y="13.2" width="9.6" height="3.6" rx="1.5"/><rect y="19.2" width="9.6" height="3.6" rx="1.5"/></svg>',icon_prize_ribbon:'<svg viewBox="0 0 24 24"><path d="M18,8a6,6,0,1,0-9.95,4.51L6.3,21.21l2.36-1.56L10.22,22l1.62-8h.33l1.62,8,1.56-2.36,2.36,1.56-1.76-8.69A6,6,0,0,0,18,8Zm-4.18,2.83L12,9.5l-1.82,1.33.7-2.14L9,7.39h2.24L12,5.17l.71,2.21H15l-1.82,1.3Z"/></svg>',icon_pro_lightning:'<svg viewBox="0 0 24 24"><polygon points="13.24 0 5.74 14.61 10.96 14.61 10.96 24 18.26 9.39 13.24 9.39 13.24 0"/></svg>',icon_pro_lightning_filled_circle:'<svg viewBox="0 0 24 24"><path d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm-.7,20V13.74H7.82l5-9.74v6.26h3.35Z"/></svg>',icon_pro_square:'<svg viewBox="0 0 24 24"><rect fill="white" x="1" y="1" width="22" height="22"/><circle cx="17.24194" cy="12.04204" r="1.65146"/><path d="M8.31211,11.77083a1.64026,1.64026,0,0,0-.04548-0.20149l-0.00154-.00608a1.63325,1.63325,0,0,0-.08-0.20771l-0.01157-.024a1.65835,1.65835,0,0,0-1.1272-.89846l-0.00476-.00125c-0.05083-.01135-0.10283-0.01956-0.15527-0.02607l-0.0219-.0033a1.60805,1.60805,0,0,0-.17813-0.01,1.6522,1.6522,0,0,0-.22258.0167l-0.05229.008a1.63381,1.63381,0,0,0-.41814.12942l-0.03091.01494a1.65214,1.65214,0,0,0-.36995.248l-0.01252.01143a1.662,1.662,0,0,0-.292.34871L5.281,11.181a1.65176,1.65176,0,0,0-.10686.20332H5.17361a1.63978,1.63978,0,0,0,.02,1.35776H5.19412A1.6508,1.6508,0,0,0,6.516,13.68a1.63265,1.63265,0,0,0,.17029.01252,1.65187,1.65187,0,0,0,1.65-1.65V12.04241A1.64357,1.64357,0,0,0,8.32,11.8229Z"/><path d="M21.6,0H2.4A2.407,2.407,0,0,0,0,2.4V21.6A2.407,2.407,0,0,0,2.4,24H21.6A2.40709,2.40709,0,0,0,24,21.6V2.4A2.407,2.407,0,0,0,21.6,0ZM6.68628,14.90435c-0.071,0-.141-0.00388-0.21064-0.009A2.83854,2.83854,0,0,1,5.06858,14.399L5.07,17.61064H3.90344V9.37683H5.07751V9.67705A2.86138,2.86138,0,1,1,6.68628,14.90435Zm6.82009-4.35117a1.188,1.188,0,0,0-1.2657,0,0.90265,0.90265,0,0,0-.43374.53108l-0.0085.02585a4.27253,4.27253,0,0,0-.07214,1.03733V14.709H10.55215V9.37617h1.1666l-0.00154.16143a2.13834,2.13834,0,0,1,1.15635-.3561,2.5755,2.5755,0,0,1,1.15071.244Zm3.73557,4.35037a2.8615,2.8615,0,1,1,2.8615-2.8615A2.86152,2.86152,0,0,1,17.24194,14.90354Z"/></svg>',icon_product:'<svg viewBox="0 0 24 24"><polygon points="11.95 9.56 23.99 4.78 11.96 0 0 4.78 11.95 9.56"/><polygon points="10.76 11.44 0 7.17 0 19.13 10.76 23.97 10.76 11.44"/><polygon points="13.15 11.51 13.15 23.97 24 19.13 24 7.17 13.15 11.51"/></svg>',icon_publish:'<svg viewBox="0 0 24 24"><path d="M5,4V6H19V4H5M5,14H9V20H15V14H19L12,7L5,14Z" /></svg>',icon_query_builder:'<svg viewBox="0 0 24 24"><path d="M19.8040227,0.62 L2.47550284,0.62 C1.10902527,0.62 0,1.72902527 0,3.09550284 L0,17.9485199 C0,19.3149974 1.10902527,20.4240227 2.47550284,20.4240227 L9.66683858,20.4240227 C8.97369778,19.7061269 8.41670964,18.8644559 8.04538422,17.9485199 L2.47550284,17.9485199 L2.47550284,12.9975142 L7.64930376,12.9975142 C7.84734399,12.1187107 8.18153687,11.2770397 8.66425993,10.5220113 L2.47550284,10.5220113 L2.47550284,5.57100567 L9.90201135,5.57100567 L9.90201135,9.04908716 C10.6199072,8.35594636 11.4615781,7.79895823 12.3775142,7.4276328 L12.3775142,5.57100567 L19.8040227,5.57100567 L19.8040227,8.04650851 C20.2991233,8.35594636 20.7570913,8.72727179 21.1655493,9.13572976 C21.5863847,9.55656524 21.9577102,10.0145333 22.2795255,10.5220113 L22.2795255,3.09550284 C22.2795255,1.72902527 21.1705003,0.62 19.8040227,0.62 M17.6998453,17.0449613 C16.4868489,18.2579577 14.5312017,18.2455802 13.3182053,17.0449613 C12.1175864,15.8319649 12.1175864,13.8763177 13.3305828,12.6633213 C14.5312017,11.4627024 16.4868489,11.4627024 17.6998453,12.6633213 C18.8880866,13.8886952 18.8757091,15.8443424 17.6627127,17.0449613 L17.6998453,17.0449613 M20.1753481,17.8123672 C21.80918,15.2130892 21.0417741,11.7597628 18.4301186,10.1259309 C15.8308406,8.49209902 12.3775142,9.28425993 10.7436823,11.8711604 C9.10985044,14.4828159 9.90201135,17.9485199 12.4889118,19.5575967 C14.3084064,20.696328 16.610624,20.696328 18.4301186,19.5575967 L22.2795255,23.3822486 L24,21.6617741 L20.1753481,17.8123672" id="path-1"></path></svg>',icon_radio_empty:'<svg viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>',icon_receipt:'<svg viewBox="0 0 24 24"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_redo:'<svg viewBox="0 0 24 24"><path d="M19.777,10.944A12.283,12.283,0,0,0,0,16.364l2.768.915a9.35,9.35,0,0,1,14.921-4.247l-4.246,4.247H24V6.721Z"/></svg>',icon_remove:'<svg viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>',icon_remove_column:'<svg viewBox="0 0 24 24"><path d="M4,2H11A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M17.59,12L15,9.41L16.41,8L19,10.59L21.59,8L23,9.41L20.41,12L23,14.59L21.59,16L19,13.41L16.41,16L15,14.59L17.59,12Z" /></svg>',icon_revert:'<svg viewBox="0 0 24 24"><path d="M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19C10.5,19 9.09,18.5 7.94,17.7L6.5,19.14C8.04,20.3 9.94,21 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M14,12A2,2 0 0,0 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12Z" /></svg>',icon_rocket:'<svg viewBox="0 0 24 24"><path d="M14.4113 7.4673C13.2389 7.4673 12.2899 8.41768 12.2899 9.58869C12.2899 10.7611 13.2389 11.7101 14.4113 11.7101C15.5837 11.7101 16.5327 10.7611 16.5327 9.58869C16.5327 8.41768 15.5837 7.4673 14.4113 7.4673ZM7.75015 20.2522L7.99057 22.0059L6.29346 23.7313H4.28521L7.75015 20.2522ZM1.99411 16.0094L3.74779 16.2499L0.268709 19.7148V17.7065L1.99411 16.0094ZM4.00236 18.0035L5.99646 19.9976L2.23453 23.7737H0.226282V21.7655L4.00236 18.0035ZM0 14.0012L4.00236 9.99882L7.58044 9.29169C12.1344 3.09723 20.8462 0 24 0C24 3.1538 20.9028 11.8656 14.7083 16.4196L14.0012 19.9976L9.99882 24L8.9947 19.0077C7.00059 19.0077 7.00059 19.0077 5.99646 18.0035C4.99234 16.9994 4.99234 16.9994 4.99234 15.0053L0 14.0012Z"/></svg>',icon_salesforce:'<svg viewBox="0 0 24 24"><path d="M6.366 11.535c.2.003.378.032.378.032v.633l-.01.002c-.041.008-.195.037-.366.047-.283.018-.409-.081-.408-.08a.273.273 0 01-.08-.083.334.334 0 01-.042-.181c0-.122.041-.21.125-.27-.001 0 .12-.104.403-.1zm8.705-.799c.183 0 .314.063.4.193.088.131.132.319.132.557 0 .238-.044.426-.131.558-.087.132-.218.196-.4.196-.183 0-.314-.064-.399-.196-.086-.132-.13-.32-.13-.558 0-.238.044-.426.13-.557.085-.13.216-.193.398-.193zm-5.594-.009c.183 0 .303.072.39.202a.69.69 0 01.092.329h-.992a.81.81 0 01.113-.329.443.443 0 01.397-.202zm11.141 0c.183 0 .303.072.39.202.057.086.082.2.092.329h-.992a.81.81 0 01.112-.329.443.443 0 01.398-.202zm.915.839c-.004.035-.04.036-.04.036l-1.391-.001c.008.211.059.36.161.462.1.1.26.164.476.164.33 0 .472-.066.571-.103 0 0 .039-.014.053.024l.09.255c.019.043.005.058-.011.067-.087.048-.299.137-.7.139a1.39 1.39 0 01-.505-.082.918.918 0 01-.35-.232.917.917 0 01-.202-.353 1.494 1.494 0 01-.063-.444c0-.158.02-.307.061-.444.04-.138.104-.26.188-.361a.916.916 0 01.32-.245c.129-.06.286-.09.46-.09.149 0 .285.033.398.082a.81.81 0 01.265.201c.056.06.142.194.177.326.09.313.044.584.042.599zm-2.06.937a1.675 1.675 0 01-.582.104c-.356 0-.63-.103-.811-.305-.181-.202-.273-.477-.273-.818 0-.158.022-.307.067-.442a.95.95 0 01.53-.597c.132-.059.286-.088.459-.088a1.602 1.602 0 01.582.09c.01.004.036.017.025.048-.038.11-.065.18-.1.28-.016.043-.048.03-.048.03a1.375 1.375 0 00-.435-.063c-.203 0-.356.068-.456.2-.1.134-.157.31-.157.542-.001.256.063.445.176.562.113.117.271.176.47.176.081 0 .157-.006.225-.016a.943.943 0 00.191-.055s.04-.015.053.025l.1.279a.037.037 0 01-.016.048zm-1.74-2.029c-.012.038-.08.229-.104.292-.009.024-.024.04-.05.038 0 0-.08-.019-.153-.019a.676.676 0 00-.187.026.423.423 0 00-.172.104.52.52 0 00-.122.204c-.03.087-.046.226-.046.365v1.037a.042.042 0 01-.042.042h-.365a.042.042 0 01-.043-.042v-2.075c0-.023.017-.042.04-.042h.357c.023 0 .04.019.04.042v.17a.626.626 0 01.235-.174.687.687 0 01.359-.058c.09.006.21.031.233.04.009.003.031.019.02.05zm-1.719 1.453a.993.993 0 01-.187.357c-.084.101-.19.181-.315.238a1.059 1.059 0 01-.44.087 1.06 1.06 0 01-.441-.087.884.884 0 01-.316-.238.992.992 0 01-.187-.357 1.555 1.555 0 01-.06-.441c0-.158.02-.306.06-.442a.991.991 0 01.187-.357c.084-.1.19-.181.316-.24.125-.058.274-.088.44-.088.167 0 .315.03.44.088.127.059.233.14.316.24.084.1.147.22.187.357.04.136.06.284.06.442 0 .157-.02.306-.06.441zm-2.036-1.191c-.008.042-.046.04-.046.04h-.459l-.313 1.774a2.64 2.64 0 01-.122.467.924.924 0 01-.181.311.638.638 0 01-.257.18 1.016 1.016 0 01-.342.052.84.84 0 01-.33-.056c-.018-.006-.032-.028-.022-.056l.103-.282c.014-.037.05-.023.05-.023.025.01.043.018.076.025a.516.516 0 00.275-.011.258.258 0 00.127-.099.708.708 0 00.097-.198 2.19 2.19 0 00.083-.343l.312-1.74h-.307c-.037 0-.049-.018-.045-.046l.051-.289c.009-.042.047-.04.047-.04h.316l.017-.095c.047-.279.141-.491.28-.63.139-.14.337-.212.589-.212a1.077 1.077 0 01.326.047c.01.004.037.018.026.049l-.107.292c-.009.022-.015.035-.06.022a.582.582 0 00-.335-.007.289.289 0 00-.116.072.402.402 0 00-.098.148c-.05.147-.07.304-.073.314h.445c.037 0 .049.017.045.045l-.052.289zm-2.43 1.88c-.241 0-.473-.038-.717-.167-.047-.027-.092-.05-.137-.083-.005-.007-.026-.015-.01-.055l.096-.27c.015-.043.056-.027.065-.021l.081.05c.287.182.551.183.635.183.214 0 .346-.113.346-.266v-.008c0-.167-.204-.23-.44-.302l-.053-.016c-.325-.093-.672-.227-.672-.638v-.008c0-.39.314-.662.765-.662h.049c.265 0 .52.076.705.189.017.01.034.03.024.055l-.1.27c-.017.046-.065.015-.065.015a1.42 1.42 0 00-.625-.16c-.191 0-.314.101-.314.239v.008c0 .16.21.23.454.308l.043.014c.323.102.668.244.668.634v.008c0 .422-.306.683-.798.683zm-1.156-1.05c-.004.035-.04.036-.04.036L8.96 11.6c.008.211.06.36.162.462.1.1.26.164.475.164.33 0 .472-.066.572-.103 0 0 .038-.014.052.024l.091.255c.018.043.004.058-.012.067-.087.048-.299.137-.7.139-.195 0-.365-.028-.505-.082a.917.917 0 01-.35-.232.919.919 0 01-.202-.353 1.488 1.488 0 01-.063-.444c0-.158.02-.307.061-.444.04-.138.104-.26.189-.361a.915.915 0 01.32-.245c.128-.06.286-.09.46-.09.148 0 .284.033.398.082a.81.81 0 01.264.201c.056.06.143.194.178.326.089.313.043.584.041.599zm-2.303.955c0 .023-.017.042-.04.042H7.68c-.023 0-.04-.019-.04-.042V9.552c0-.023.017-.042.04-.042h.369c.023 0 .04.019.04.042v2.969zm-.934-.04l-.098.025c-.046.01-.214.044-.35.068a2.55 2.55 0 01-.423.035c-.135 0-.259-.013-.368-.038a.768.768 0 01-.283-.123.577.577 0 01-.182-.217.726.726 0 01-.064-.318.67.67 0 01.075-.32.673.673 0 01.202-.23.9.9 0 01.29-.135 1.32 1.32 0 01.343-.043c.087 0 .16.002.217.006 0 0 .11.01.23.027v-.059c0-.185-.04-.273-.115-.331-.078-.06-.194-.09-.344-.09 0 0-.339-.005-.606.14-.013.008-.023.012-.023.012s-.034.012-.046-.022l-.098-.265c-.015-.038.012-.055.012-.055.125-.098.429-.157.429-.157.1-.02.268-.034.373-.034.278 0 .493.064.639.192.146.128.22.335.22.614l.002 1.272s.002.037-.032.046zm-2.016-.548c0 .422-.306.683-.798.683-.242 0-.473-.038-.718-.167-.046-.027-.092-.05-.137-.083-.004-.007-.025-.015-.01-.055l.097-.27c.016-.045.05-.03.065-.021l.081.05c.286.182.551.183.634.183.214 0 .347-.113.347-.266v-.008c0-.167-.204-.23-.441-.302l-.052-.016c-.325-.093-.672-.227-.672-.638v-.008c0-.39.314-.662.765-.662h.049c.265 0 .52.076.705.189.017.01.033.03.024.055l-.1.27c-.017.046-.065.015-.065.015a1.42 1.42 0 00-.626-.16c-.19 0-.313.101-.313.239v.008c0 .16.21.23.454.308l.042.014c.324.102.67.244.67.634v.008zm13.687-6.057c-.745 0-1.453.158-2.093.445-.736-1.312-2.118-2.196-3.702-2.196-1.192 0-2.27.5-3.044 1.307A4.655 4.655 0 006.281 3.6a4.658 4.658 0 00-4.278 6.507A4.053 4.053 0 000 13.612c0 2.236 1.793 4.048 4.006 4.048.282 0 .557-.03.823-.086a4.316 4.316 0 008.022.195 3.781 3.781 0 004.956-1.556c.33.066.67.101 1.019.101 2.857 0 5.174-2.336 5.174-5.219 0-2.883-2.317-5.22-5.174-5.22z"/></svg>',icon_save:'<svg viewBox="0 0 24 24"><path d="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z" /></svg>',icon_save_search:'<svg viewBox="0 0 24 24"><path d="M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M5,3H19C20.11,3 21,3.89 21,5V13.03C20.5,12.23 19.81,11.54 19,11V5H5V19H9.5C9.81,19.75 10.26,20.42 10.81,21H5C3.89,21 3,20.11 3,19V5C3,3.89 3.89,3 5,3M7,7H17V9H7V7M7,11H12.03C11.23,11.5 10.54,12.19 10,13H7V11M7,15H9.17C9.06,15.5 9,16 9,16.5V17H7V15Z"/></svg>',icon_saved_search:'<svg viewBox="0 0 24 24"><path d="M18.01176,14.4 L17.05176,14.4 L16.72896,14.076 C17.90376,12.708 18.61176,10.944 18.61176,9 C18.61176,4.692 15.11976,1.2 10.81176,1.2 C6.50376,1.2 3.01176,4.8 3.01176,9 L-0.00024,9 L4.60776,13.8 L9.59976,9 L5.41176,9 C5.41176,6 7.83576,3.6 10.81176,3.6 C13.78776,3.6 16.21176,6.012 16.21176,9 C16.21176,11.976 13.78776,14.4 10.81176,14.4 C10.03176,14.4 9.29976,14.232 8.62776,13.944 L6.85176,15.72 C8.01576,16.404 9.35976,16.8 10.81176,16.8 C12.74376,16.8 14.50776,16.092 15.87696,14.916 L16.19976,15.24 L16.19976,16.188 L22.21176,22.176 L23.99976,20.4 L18.01176,14.4 Z"></path></svg>',icon_school:'<svg viewBox="0 0 24 24"><path d="M4.36,13.29v4.36L12,21.82l7.64-4.17V13.29L12,17.45ZM12,2.18,0,8.73l12,6.54,9.82-5.35v7.53H24V8.73Z"/></svg>',icon_search:'<svg viewBox="0 0 24 24"><path d="M17.15,15.09H16.07l-.39-.37a9,9,0,1,0-1,1l.37.39v1.08L22,24l2-2Zm-8.23,0a6.18,6.18,0,1,1,6.17-6.17A6.16,6.16,0,0,1,8.92,15.09Z"/></svg>',icon_search_menu:'<svg viewBox="0 0 24 24"><g transform="matrix(1.1428571,0,0,1.1428571,-3.4285709,-1.4285709)"><path d="M 18,10 20.85,12.75 24,10 14,10 Z" /><path d="M 9.5,3 A 6.5,6.5 0 0 1 16,9.5 c 0,1.61 -0.59,3.09 -1.56,4.23 l 0.27,0.27 0.79,0 5,5 -1.5,1.5 -5,-5 0,-0.79 -0.27,-0.27 C 12.59,15.41 11.11,16 9.5,16 A 6.5,6.5 0 0 1 3,9.5 6.5,6.5 0 0 1 9.5,3 m 0,2 C 7,5 5,7 5,9.5 5,12 7,14 9.5,14 12,14 14,12 14,9.5 14,7 12,5 9.5,5 Z" /></g></svg>',icon_search_money:'<svg viewBox="0 0 24 24"><path d="M17.15,15.09H16.07l-.39-.37a9,9,0,1,0-1,1l.37.39v1.08L22,24l2-2Zm-8.23,0a6.18,6.18,0,1,1,6.17-6.17A6.16,6.16,0,0,1,8.92,15.09Z"/><path d="M9.13,8.23c-1.2-.31-1.59-.64-1.59-1.14s.54-1,1.43-1,1.28.45,1.32,1.1h1.16a2.1,2.1,0,0,0-1.69-2V4.06H8.18V5.2A2.06,2.06,0,0,0,6.33,7.1c0,1.22,1,1.83,2.48,2.18,1.32.32,1.58.78,1.58,1.27s-.26.95-1.42.95S7.45,11,7.39,10.39H6.23a2.21,2.21,0,0,0,1.95,2v1.15H9.76V12.42c1-.19,1.85-.79,1.85-1.87C11.61,9.05,10.32,8.54,9.13,8.23Z"/></svg>',icon_settings:'<svg viewBox="0 0 24 24"><path d="M 12.000442,16.2 A 4.2,4.2 0 0 1 7.8004417,12 4.2,4.2 0 0 1 12.000442,7.8 a 4.2,4.2 0 0 1 4.2,4.2 4.2,4.2 0 0 1 -4.2,4.2 m 8.916,-3.036 c 0.048,-0.384 0.084,-0.768 0.084,-1.164 0,-0.396 -0.036,-0.792 -0.084,-1.2 l 2.532,-1.956 c 0.228,-0.18 0.288,-0.504 0.144,-0.768 l -2.4,-4.152 c -0.144,-0.264 -0.468,-0.372 -0.732,-0.264 l -2.988,1.2 c -0.624,-0.468 -1.272,-0.876 -2.028,-1.176 l -0.444,-3.18 c -0.048,-0.288 -0.3,-0.504 -0.6,-0.504 L 9.6004417,0 c -0.3,0 -0.552,0.216 -0.6,0.504 l -0.444,3.18 c -0.756,0.3 -1.404,0.708 -2.028,1.176 l -2.988,-1.2 c -0.264,-0.108 -0.588,0 -0.732,0.264 L 0.40844175,8.076 c -0.156,0.264 -0.084,0.588 0.144,0.768 L 3.0844417,10.8 c -0.048,0.408 -0.084,0.804 -0.084,1.2 0,0.396 0.036,0.78 0.084,1.164 l -2.53199995,1.992 c -0.228,0.18 -0.3,0.504 -0.144,0.768 l 2.39999995,4.152 c 0.144,0.264 0.468,0.36 0.732,0.264 l 2.988,-1.212 c 0.624,0.48 1.272,0.888 2.028,1.188 l 0.444,3.18 c 0.048,0.288 0.3,0.504 0.6,0.504 l 4.8000003,0 c 0.3,0 0.552,-0.216 0.6,-0.504 l 0.444,-3.18 c 0.756,-0.312 1.404,-0.708 2.028,-1.188 l 2.988,1.212 c 0.264,0.096 0.588,0 0.732,-0.264 l 2.4,-4.152 c 0.144,-0.264 0.084,-0.588 -0.144,-0.768 l -2.532,-1.992 z" /></svg>',icon_share:'<svg viewBox="0 0 24 24"><path d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" /></svg>',icon_shopping_cart:'<svg viewBox="0 0 24 24"><path d="M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z" /></svg>',icon_similar:'<svg viewBox="0 0 24 24"> <path d="M10.934 19.438C10.024 19.796 9.037 20 8 20C3.582 20 0 16.418 0 12C0 7.581 3.582 4 8 4C8.264 4 8.524 4.014 8.782 4.039C8.98 4.059 9.174 4.092 9.367 4.125C9.38995 4.12897 9.41329 4.13216 9.43658 4.13535C9.46608 4.13939 9.49551 4.14341 9.524 4.149C9.767 4.195 10.003 4.255 10.236 4.323H10.237C10.475 4.392 10.706 4.473 10.933 4.562H10.934C13.486 5.57 15.391 7.85 15.873 10.622C15.884 10.685 15.893 10.747 15.901 10.81C15.96 11.199 16 11.595 16 12C16 13.772 15.412 15.4 14.436 16.725C13.782 16.507 13.191 16.166 12.689 15.718C13.505 14.694 14 13.407 14 12C14 11.674 13.968 11.355 13.916 11.044C13.9139 11.0304 13.9119 11.0168 13.91 11.003C13.9063 10.9773 13.9026 10.9514 13.898 10.926C13.84 10.612 13.76 10.307 13.654 10.012L13.643 9.979C13.417 9.36 13.093 8.788 12.689 8.282C12.6896 8.28142 12.6903 8.28083 12.691 8.28025C12.6927 8.27883 12.6946 8.27742 12.696 8.276C11.828 7.184 10.591 6.398 9.171 6.116C8.792 6.041 8.4 6 8 6C4.691 6 2 8.691 2 12C2 15.309 4.691 18 8 18C8.409 18 8.81 17.958 9.195 17.88C9.706 18.47 10.287 18.996 10.934 19.438ZM13.066 4.562C13.976 4.203 14.963 4 16 4C20.418 4 24 7.581 24 12C24 16.418 20.418 20 16 20C15.735 20 15.475 19.986 15.218 19.96C15.02 19.941 14.826 19.908 14.633 19.875C14.6044 19.8696 14.5759 19.8657 14.5476 19.8618C14.5234 19.8584 14.4995 19.8551 14.476 19.851C14.233 19.804 13.997 19.744 13.764 19.677H13.762C13.525 19.607 13.294 19.527 13.067 19.438H13.066C10.514 18.43 8.609 16.15 8.127 13.378C8.11689 13.3249 8.10962 13.2726 8.10221 13.2192C8.10081 13.2092 8.09942 13.1991 8.098 13.189C8.04 12.801 8 12.405 8 12C8 10.228 8.588 8.6 9.564 7.275C10.218 7.492 10.808 7.834 11.311 8.282C10.495 9.305 10 10.593 10 12C10 12.326 10.032 12.645 10.083 12.956C10.0864 12.9748 10.0893 12.9939 10.0922 13.0129C10.0953 13.0332 10.0984 13.0533 10.102 13.073C10.159 13.388 10.24 13.693 10.346 13.987L10.357 14.02C10.583 14.639 10.907 15.211 11.311 15.718C11.31 15.719 11.3088 15.7197 11.3075 15.7205C11.3062 15.7213 11.305 15.722 11.304 15.723C12.172 16.815 13.409 17.602 14.829 17.883C15.208 17.959 15.599 18 16 18C19.309 18 22 15.309 22 12C22 8.691 19.309 6 16 6C15.591 6 15.19 6.042 14.804 6.12C14.294 5.53 13.712 5.004 13.066 4.562Z" /></svg>',icon_snippet:'<svg viewBox="0 0 24 24"><polygon points="20.572 6.856 21.646 4.502 24 3.428 21.646 2.354 20.572 0 19.498 2.354 17.144 3.428 19.498 4.502 20.572 6.856"/><polygon points="7.431 6.856 8.505 4.502 10.859 3.428 8.505 2.354 7.431 0 6.356 2.354 4.002 3.428 6.356 4.502 7.431 6.856"/><polygon points="20.572 13.141 19.498 15.495 17.144 16.569 19.498 17.644 20.572 19.998 21.646 17.644 24 16.569 21.646 15.495 20.572 13.141"/><path d="M17.955,9.279,14.721,6.045a1.16,1.16,0,0,0-1.623,0L.334,18.809a1.139,1.139,0,0,0,0,1.611l3.234,3.234A1.133,1.133,0,0,0,4.379,24a1.171,1.171,0,0,0,.812-.331L17.955,10.9A1.152,1.152,0,0,0,17.955,9.279Zm-4.045-.8,1.611,1.611-1.337,1.337L12.573,9.816ZM4.379,21.243,2.768,19.632l8.194-8.205,1.611,1.611Z"/></svg>',icon_sort_ascending:'<svg viewBox="0 0 24 24"><path d="M10,11V13H18V11H10M10,5V7H14V5H10M10,17V19H22V17H10M6,7H8.5L5,3.5L1.5,7H4V20H6V7Z" /></svg>',icon_sort_descending:'<svg viewBox="0 0 24 24"><path d="M10,13V11H18V13H10M10,19V17H14V19H10M10,7V5H22V7H10M6,17H8.5L5,20.5L1.5,17H4V4H6V17Z" /></svg>',icon_sort_remove:'<svg viewBox="0 0 24 24"><path d="M10,13V11H18V13H10M10,19V17H14V19H10M10,7V5H22V7H10M6,17H8.5L5,20.5L1.5,17H4V7H1.5L5,3.5L8.5,7H6V17Z M14.76,20.83L17.6,18L14.76,15.17L16.17,13.76L19,16.57L21.83,13.76L23.24,15.17L20.43,18L23.24,20.83L21.83,22.24L19,19.4L16.17,22.24L14.76,20.8" /></svg>',icon_speaker:'<svg viewBox="0 0 24 24"><ellipse cx="12.06" cy="3.98" rx="3" ry="2.99" transform="translate(8.03 16.02) rotate(-89.78)"/><path d="M12,9c-2.33,0-7,1.14-7,3.47V15l6.49,0V12.82A1,1,0,0,1,11,12V11a1,1,0,1,1,2,0v1a1,1,0,0,1-.51.85V15L19,15v-2.5C19,10.18,14.37,9,12,9Z"/><polygon points="22.02 16.02 2.02 15.94 2 19.94 7 19.96 6.99 22.96 16.99 23 17 20 22 20.02 22.02 16.02"/></svg>',icon_stacked_layers:'<svg viewBox="0 0 24 24"><path d="M12,16.71l-8.73-6L1.57,12.05,12,19.35l10.43-7.3-1.7-1.33Zm0,4.65-8.73-6L1.57,16.7,12,24l10.43-7.3-1.7-1.33Zm0-6.76,8.72-6L22.43,7.3,12,0,1.57,7.3Z"/></svg>',icon_star_outline:'<svg viewBox="0 0 24 24"><path d="M 12,16.668 7.488,19.392 8.676,14.256 4.692,10.8 9.948,10.356 12,5.508 l 2.052,4.848 5.256,0.444 -3.984,3.456 1.188,5.136 M 24,9.288 15.372,8.556 12,0.6 8.628,8.556 0,9.288 6.54,14.964 4.584,23.4 12,18.924 19.416,23.4 17.448,14.964 24,9.288 Z" /></svg>',icon_sub_directory:'<svg viewBox="0 0 24 24"><path d="M19,15L13,21L11.58,19.58L15.17,16H4V4H6V14H15.17L11.58,10.42L13,9L19,15Z" /></svg>',icon_sub_org:'<svg viewBox="0 0 24 24"><path d="M21.6,2.4V9.6H2.4V2.4H21.6m0,14.4v4.8H16.8V16.8h4.8m-14.4,0v4.8H2.4V16.8H7.2M21.6,0H2.4A2.39,2.39,0,0,0,0,2.4V9.6A2.39,2.39,0,0,0,2.4,12h8.4v6H9.6V16.8a2.39,2.39,0,0,0-2.4-2.4H2.4A2.39,2.39,0,0,0,0,16.8v4.8A2.39,2.39,0,0,0,2.4,24H7.2a2.39,2.39,0,0,0,2.4-2.4V20.4h4.8v1.2A2.39,2.39,0,0,0,16.8,24h4.8A2.39,2.39,0,0,0,24,21.6V16.8a2.39,2.39,0,0,0-2.4-2.4H16.8a2.39,2.39,0,0,0-2.4,2.4V18H13.2V12h8.4A2.39,2.39,0,0,0,24,9.6V2.4A2.39,2.39,0,0,0,21.6,0Z"/></svg>',icon_summary_event:'<svg viewBox="0 0 24 24"><path d="M7.25272727,20.9454545 L11.0709091,20.9454545 L11.0709091,17.1272727 L7.25272727,17.1272727 L7.25272727,20.9454545 Z M10.3072727,8.72727273 L10.3072727,10.2545455 L4.19818182,10.2545455 L4.19818182,8.72727273 L2.67090909,8.72727273 L2.67090909,10.2545455 L1.90727273,10.2545455 C1.05963636,10.2545455 0.387636364,10.9418182 0.387636364,11.7818182 L0.38,22.4727273 C0.38,23.3127273 1.05963636,24 1.90727273,24 L12.5981818,24 C13.4381818,24 14.1254545,23.3127273 14.1254545,22.4727273 L14.1254545,11.7818182 C14.1254545,10.9418182 13.4381818,10.2545455 12.5981818,10.2545455 L11.8345455,10.2545455 L11.8345455,8.72727273 L10.3072727,8.72727273 Z M12.5981818,14.0738182 L12.5981818,22.4727273 L1.90727273,22.4727273 L1.90727273,14.0738182 L12.5981818,14.0738182 Z M23.6163636,8.72727273 L23.6163636,10.9090909 L14.8890909,10.9090909 L14.8890909,8.72727273 L23.6163636,8.72727273 Z M23.6163636,4.36363636 L23.6163636,6.54545455 L10.5254545,6.54545455 L10.5254545,4.36363636 L23.6163636,4.36363636 Z M23.6163636,0 L23.6163636,2.18181818 L10.5254545,2.18181818 L10.5254545,0 L23.6163636,0 Z"/></svg>',icon_summary_hub:'<svg viewBox="0 0 24 24"><g fill-rule="evenodd"><path d="M4.28571429,18.5785714 L7.02857143,12.75 L12.8571429,10.0071429 L10.1142857,15.8357143 L4.28571429,18.5785714 M8.57142857,13.5214286 C8.14514286,13.5214286 7.8,13.8665714 7.8,14.2928571 C7.8,14.7191429 8.14514286,15.0631429 8.57142857,15.0631429 C8.99771429,15.0631429 9.34285714,14.7191429 9.34285714,14.2928571 C9.34285714,13.8665714 8.99771429,13.5214286 8.57142857,13.5214286 M8.57142857,5.72142857 C13.3062857,5.72142857 17.1428571,9.55914286 17.1428571,14.2928571 C17.1428571,19.0265714 13.3062857,22.8642857 8.57142857,22.8642857 C3.83771429,22.8642857 0,19.0265714 0,14.2928571 C0,9.55914286 3.83771429,5.72142857 8.57142857,5.72142857 M8.57142857,7.43571429 C12.3577143,7.43571429 15.4285714,10.5054286 15.4285714,14.2928571 C15.4285714,18.0791429 12.3577143,21.15 8.57142857,21.15 C4.78514286,21.15 1.71428571,18.0791429 1.71428571,14.2928571 C1.71428571,10.5054286 4.78514286,7.43571429 8.57142857,7.43571429 Z M24,10.2928571 L24,12.5785714 L18.2857143,12.5785714 L18.2857143,10.2928571 L24,10.2928571 Z M24,5.72142857 L24,8.00714286 L16,8.00714286 L16,5.72142857 L24,5.72142857 Z M24,1.15 L24,3.43571429 L10.2857143,3.43571429 L10.2857143,1.15 L24,1.15 Z"/></g></svg>',icon_summary_investor:'<svg viewBox="0 0 24 24"><path d="M8.44679391,9.59786248 L8.44679391,10.7127564 C9.51041577,10.9723892 10.0449539,11.7763782 10.0798625,12.6523663 L8.95515061,12.6523663 C8.92569647,12.016375 8.58861016,11.58329 7.68316796,11.58329 C6.82245242,11.58329 6.30864125,11.9705574 6.30864125,12.5247317 C6.30864125,13.0090887 6.67954528,13.3189027 7.83589315,13.6199895 C8.99115012,13.9199854 10.2282242,14.4141604 10.2282242,15.8595953 C10.2282242,16.903581 9.43950764,17.4784823 8.44679391,17.6661161 L8.44679391,18.7613739 L6.91954201,18.7613739 L6.91954201,17.6573889 C5.94210079,17.4479373 5.10756671,16.821764 5.04647664,15.7068701 L6.16464321,15.7068701 C6.2224606,16.3068619 6.63481862,16.7759464 7.68316796,16.7759464 C8.806789,16.7759464 9.05769467,16.2152268 9.05769467,15.8650497 C9.05769467,15.3916017 8.80351632,14.9432441 7.53044277,14.6377938 C6.1090076,14.2974348 5.13702086,13.7116246 5.13702086,12.5345497 C5.13702086,11.5527449 5.93119185,10.9112991 6.91954201,10.6974839 L6.91954201,9.59786248 L8.44679391,9.59786248 Z M1.5272519,20.2886258 L13.7452671,20.2886258 L13.7452671,8.07061058 L1.5272519,8.07061058 L1.5272519,20.2886258 Z M13.7452671,6.54335868 C14.5863465,6.54335868 15.272519,7.23062204 15.272519,8.07061058 L15.272519,20.2886258 C15.272519,21.1286143 14.5863465,21.8158777 13.7452671,21.8158777 L1.5272519,21.8158777 C0.687263355,21.8158777 -5.68434189e-14,21.1286143 -5.68434189e-14,20.2886258 L-5.68434189e-14,8.07061058 C-5.68434189e-14,7.23062204 0.687263355,6.54335868 1.5272519,6.54335868 L13.7452671,6.54335868 Z M24,13.0889422 L24,15.2707306 L17.4546347,15.2707306 L17.4546347,13.0889422 L24,13.0889422 Z M24,7.63447108 L24,9.81625951 L17.4546347,9.81625951 L17.4546347,7.63447108 L24,7.63447108 Z M24,2.18 L24,4.36178843 L12.0001636,4.36178843 L12.0001636,2.18 L24,2.18 Z"/></svg>',icon_summary_person:'<svg viewBox="0 0 24 24"><path d="M13.2,5.45681818 L24,5.45681818 L24,3.275 L13.2,3.275 L13.2,5.45681818 Z M24,7.63863636 L24,9.82045455 L13.2,9.82045455 L13.2,7.63863636 L24,7.63863636 Z M24,12.0022727 L24,14.1840909 L13.2,14.1840909 L13.2,12.0022727 L24,12.0022727 Z M14.4,20.7295455 L0,20.7295455 L0,18.5477273 C0,16.1368182 3.228,14.1840909 7.2,14.1840909 C11.172,14.1840909 14.4,16.1368182 14.4,18.5477273 L14.4,20.7295455 Z M10.8,8.72954545 C10.8,10.5404545 9.192,12.0022727 7.2,12.0022727 C5.208,12.0022727 3.6,10.5404545 3.6,8.72954545 C3.6,6.91863636 5.208,5.45681818 7.2,5.45681818 C9.192,5.45681818 10.8,6.91863636 10.8,8.72954545 L10.8,8.72954545 Z"/></svg>',icon_summary_school:'<svg viewBox="0 0 24 24"><path d="M0,13.6859455 L8.72727273,18.4466727 L15.8683636,14.5499455 L15.8683636,20.0328545 L17.4545455,20.0328545 L17.4545455,13.6859455 L8.72727273,8.92521818 L0,13.6859455 Z M14.28,17.0023091 L14.28,20.1757636 L8.72727273,23.2063091 L3.17454545,20.1757636 L3.17454545,17.0023091 L8.72727273,20.0328545 L14.28,17.0023091 Z M23.9989091,9.52227273 L23.9989091,11.7040909 L16.3636364,11.7040909 L16.3636364,9.52227273 L23.9989091,9.52227273 Z M24,5.15863636 L24,7.34045455 L10.9090909,7.34045455 L10.9090909,5.15863636 L24,5.15863636 Z M24,0.795 L24,2.97681818 L10.9090909,2.97681818 L10.9090909,0.795 L24,0.795 Z"/></svg>',icon_sync:'<svg viewBox="0 0 24 24"><path d="M12,3.273V0L7.636,4.364,12,8.727V5.455A6.55,6.55,0,0,1,18.545,12a6.406,6.406,0,0,1-.763,3.055l1.593,1.592A8.712,8.712,0,0,0,12,3.273Zm0,15.272A6.55,6.55,0,0,1,5.455,12a6.406,6.406,0,0,1,.763-3.055L4.625,7.353A8.712,8.712,0,0,0,12,20.727V24l4.364-4.364L12,15.273Z"/></svg>',icon_table:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M2.66667 1H21.3333C22.0406 1 22.7189 1.28095 23.219 1.78105C23.719 2.28115 24 2.95942 24 3.66667V19.6667C24 20.3739 23.719 21.0522 23.219 21.5523C22.7189 22.0524 22.0406 22.3333 21.3333 22.3333H2.66667C1.95942 22.3333 1.28115 22.0524 0.781048 21.5523C0.280951 21.0522 0 20.3739 0 19.6667V3.66667C0 2.95942 0.280951 2.28115 0.781048 1.78105C1.28115 1.28095 1.95942 1 2.66667 1ZM2.66667 6.33333V11.6667H10.6667V6.33333H2.66667ZM13.3333 6.33333V11.6667H21.3333V6.33333H13.3333ZM2.66667 14.3333V19.6667H10.6667V14.3333H2.66667ZM13.3333 14.3333V19.6667H21.3333V14.3333H13.3333Z"/></svg>',icon_tag:'<svg viewBox="0 0 24 24"><path d="M7.95156449,7.95236992 C6.9568961,8.94703831 5.34453992,8.94703831 4.34987153,7.95236992 C3.35520314,6.95770153 3.35520314,5.34407176 4.34987153,4.34940337 C5.34453992,3.35600857 6.9568961,3.35600857 7.95156449,4.34940337 C8.94623288,5.34407176 8.94623288,6.95770153 7.95156449,7.95236992 M23.2523917,10.6625547 L13.3553775,0.747710407 C12.7516991,0.144032025 11.9136815,-0.0979487617 11.1304279,0.0357774623 L1.64732822,1.64813365 L0.0362456143,11.1312333 C-0.0987541929,11.9144869 0.144500177,12.7525046 0.746904976,13.3549094 L10.6617493,23.2531971 C11.6525969,24.2427712 13.2649531,24.2529598 14.2558008,23.2621122 L23.2613068,14.2553326 C24.2521544,13.2657586 24.2432393,11.6534024 23.2523917,10.6625547"></path></svg>',icon_text_size:'<svg viewBox="0 0 24 24"><path d="M0,2.526v3.79H6.316V21.474h3.789V6.316h6.316V2.526ZM24,8.842H12.632v3.79h3.789v8.842h3.79V12.632H24Z"/></svg>',icon_thumbs_down:'<svg viewBox="0 0 24 24"><path d="M19,15H23V3H19M15,3H6C5.17,3 4.46,3.5 4.16,4.22L1.14,11.27C1.05,11.5 1,11.74 1,12V14A2,2 0 0,0 3,16H9.31L8.36,20.57C8.34,20.67 8.33,20.77 8.33,20.88C8.33,21.3 8.5,21.67 8.77,21.94L9.83,23L16.41,16.41C16.78,16.05 17,15.55 17,15V5C17,3.89 16.1,3 15,3Z" /></svg>',icon_thumbs_up:'<svg viewBox="0 0 24 24"><path d="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z" /></svg>',icon_timeline:'<svg viewBox="0 0 24 24"><path d="M 12 2 C 11.49586 2 11.089844 2.4060162 11.089844 2.9101562 L 11.089844 6.5390625 L 7.4492188 6.5390625 C 7.4005182 6.5390625 7.359089 6.5591087 7.3125 6.5664062 A 2.73 2.73 0 0 0 2 7.4492188 A 2.73 2.73 0 0 0 4.7304688 10.179688 A 2.73 2.73 0 0 0 7.3105469 8.3320312 C 7.357791 8.3395427 7.3997958 8.359375 7.4492188 8.359375 L 11.089844 8.359375 L 11.089844 15.630859 L 7.4492188 15.630859 C 7.3976531 15.630859 7.3538676 15.651993 7.3046875 15.660156 A 2.73 2.73 0 0 0 1.9882812 16.53125 A 2.73 2.73 0 0 0 4.7089844 19.259766 A 2.73 2.73 0 0 0 7.296875 17.417969 C 7.3485803 17.427027 7.3948406 17.449219 7.4492188 17.449219 L 11.089844 17.449219 L 11.089844 21.089844 C 11.089844 21.593984 11.49586 22 12 22 C 12.50414 22 12.910156 21.593984 12.910156 21.089844 L 12.910156 12.910156 L 16.539062 12.910156 C 16.595227 12.910156 16.643966 12.886602 16.697266 12.876953 A 2.73 2.73 0 0 0 19.269531 14.730469 A 2.73 2.73 0 1 0 16.697266 11.121094 C 16.644086 11.11149 16.595092 11.089844 16.539062 11.089844 L 12.910156 11.089844 L 12.910156 2.9101562 C 12.910156 2.4060162 12.50414 2 12 2 z M 4.7304688 6.0898438 A 1.36 1.36 0 1 1 3.359375 7.4492188 A 1.36 1.36 0 0 1 4.7304688 6.0898438 z M 19.269531 10.640625 A 1.36 1.36 0 1 1 17.910156 12 A 1.36 1.36 0 0 1 19.269531 10.640625 z M 4.7089844 15.169922 A 1.36 1.36 0 1 1 3.3476562 16.53125 A 1.36 1.36 0 0 1 4.7089844 15.169922 z " /></svg>',icon_tool:'<svg viewBox="0 0 24 24"><path d="M23.69,19.5,13.77,9.59a7,7,0,0,0-1.63-7.52A7.21,7.21,0,0,0,4.08.65L8.76,5.34,5.49,8.61.7,3.92A7,7,0,0,0,2.12,12a7,7,0,0,0,7.51,1.64l9.92,9.91a1.06,1.06,0,0,0,1.52,0L23.58,21A1,1,0,0,0,23.69,19.5Z"/></svg>',icon_track:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"/></svg>',icon_trademark:'<svg viewBox="0 0 24 24"><path d="M21.6,0H2.4A2.41,2.41,0,0,0,0,2.4V21.6A2.41,2.41,0,0,0,2.4,24H21.6A2.41,2.41,0,0,0,24,21.6V2.4A2.41,2.41,0,0,0,21.6,0Z"/><path fill="white" d="M9.84,13.42a2.11,2.11,0,1,1,0-1.75H11.5a3.69,3.69,0,1,0,0,1.75Z"/><path fill="white" d="M16,8.85h-.27a3.74,3.74,0,0,0-1.8.63V5.37h-1.5V15.94h1.51v-.38a3.68,3.68,0,0,0,3.39.38,3.55,3.55,0,0,0,1.06-.63A3.67,3.67,0,0,0,16,8.85Zm2.1,4a.17.17,0,0,1,0,.07,1.22,1.22,0,0,1-.06.26h0a2,2,0,0,1-.1.26l0,0a2.07,2.07,0,0,1-1,1,2,2,0,0,1-.41.15h0l-.2,0H16l-.28,0h-.07a2,2,0,0,1-.54-.17l0,0a1.86,1.86,0,0,1-.47-.32h0a2,2,0,0,1-.37-.45h0c0-.09-.1-.17-.14-.26h0a2.19,2.19,0,0,1-.17-.85,2.08,2.08,0,0,1,.2-.9h0a2.13,2.13,0,0,1,1.7-1.2l.21,0h0a2.12,2.12,0,0,1,2.12,2.12h0A2.46,2.46,0,0,1,18.1,12.8Z"/></svg>',icon_trash:'<svg viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_trending_arrow:'<svg viewBox="0 0 24 24"><path d="M16,6L18.29,8.29L13.41,13.17L9.41,9.17L2,16.59L3.41,18L9.41,12L13.41,16L19.71,9.71L22,12V6H16Z" /></svg>',icon_twitter:'<svg viewBox="0 0 24 24"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" /></svg>',icon_twitter_circle:'<svg viewBox="0 0 24 24"><path d="M 12 0 A 12 12 0 0 0 0 12 A 12 12 0 0 0 12 24 A 12 12 0 0 0 24 12 A 12 12 0 0 0 12 0 z M 15.076172 6.515625 C 15.919384 6.515625 16.662725 6.8502553 17.191406 7.4257812 C 17.840546 7.2919383 18.456269 7.0572643 19.011719 6.7226562 C 18.79757 7.3985643 18.342817 7.9597686 17.753906 8.3144531 C 18.329432 8.2408391 18.885095 8.0877416 19.400391 7.8535156 C 19.012246 8.4357341 18.530891 8.9441741 17.96875 9.3457031 C 17.97545 9.4728541 17.974609 9.5935521 17.974609 9.7207031 C 17.974609 13.515158 15.076156 17.892578 9.8027344 17.892578 C 8.1832311 17.892578 6.6719049 17.416049 5.4003906 16.599609 C 5.6279241 16.626379 5.8544978 16.640625 6.0820312 16.640625 C 7.4338477 16.640625 8.6733356 16.184494 9.6503906 15.408203 C 8.3855723 15.388127 7.334033 14.545037 6.9726562 13.414062 C 7.1466524 13.447523 7.3271242 13.46875 7.5078125 13.46875 C 7.7688068 13.46875 8.0227542 13.434107 8.2636719 13.367188 C 6.9520085 13.106192 5.9628906 11.94275 5.9628906 10.550781 L 5.9628906 10.53125 C 6.3510359 10.732015 6.7924347 10.865234 7.2675781 10.865234 C 6.4912875 10.363322 5.9882812 9.4795549 5.9882812 8.4824219 C 5.9882812 7.9604344 6.1293432 7.4645748 6.3769531 7.0429688 C 7.788999 8.7762382 9.9105587 9.9205554 12.292969 10.041016 C 12.246129 9.8335584 12.21875 9.6142508 12.21875 9.3867188 C 12.21875 7.8006763 13.503514 6.515625 15.076172 6.515625 z" /></svg>',icon_twitter_square:'<svg viewBox="0 0 24 24"><path d="M17.71,9.33C17.64,13.95 14.69,17.11 10.28,17.31C8.46,17.39 7.15,16.81 6,16.08C7.34,16.29 9,15.76 9.9,15C8.58,14.86 7.81,14.19 7.44,13.12C7.82,13.18 8.22,13.16 8.58,13.09C7.39,12.69 6.54,11.95 6.5,10.41C6.83,10.57 7.18,10.71 7.64,10.74C6.75,10.23 6.1,8.38 6.85,7.16C8.17,8.61 9.76,9.79 12.37,9.95C11.71,7.15 15.42,5.63 16.97,7.5C17.63,7.38 18.16,7.14 18.68,6.86C18.47,7.5 18.06,7.97 17.56,8.33C18.1,8.26 18.59,8.13 19,7.92C18.75,8.45 18.19,8.93 17.71,9.33M20,2H4A2,2 0 0,0 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>',icon_undo:'<svg viewBox="0 0 24 24"><path d="M12.311,7.894a12.272,12.272,0,0,0-8.09,3.048L0,6.721V17.273H10.552L6.308,13.029a9.345,9.345,0,0,1,14.913,4.244L24,16.359A12.326,12.326,0,0,0,12.311,7.894Z"/></svg>',icon_up_down_arrows:'<svg viewBox="0 0 24 24"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_upload:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></svg>',icon_variables:'<svg viewBox="0 0 24 24"><path d="M7.77,24a7.2,7.2,0,0,1-2.109-.931A5.2,5.2,0,0,1,4.3,21.75a4.807,4.807,0,0,1-.729-1.62,7.721,7.721,0,0,1-.215-1.845V15.8a3,3,0,0,0-.516-1.839,1.95,1.95,0,0,0-1.668-.687V10.731a2.535,2.535,0,0,0,.995-.178,1.689,1.689,0,0,0,.679-.509,2.1,2.1,0,0,0,.387-.8,4.2,4.2,0,0,0,.123-1.056V5.7A7.754,7.754,0,0,1,3.57,3.857,4.8,4.8,0,0,1,4.3,2.238,5.134,5.134,0,0,1,5.661.926,7.3,7.3,0,0,1,7.77,0l.687,1.974a2.636,2.636,0,0,0-.933.57,2.813,2.813,0,0,0-.588.848A3.855,3.855,0,0,0,6.63,4.464,8.626,8.626,0,0,0,6.543,5.7V8.192a4.694,4.694,0,0,1-.521,2.22,3.734,3.734,0,0,1-1.674,1.582,3.762,3.762,0,0,1,1.668,1.589A4.673,4.673,0,0,1,6.543,15.8v2.49a8.616,8.616,0,0,0,.087,1.239A3.881,3.881,0,0,0,6.936,20.6a2.9,2.9,0,0,0,.588.852,2.441,2.441,0,0,0,.933.565Z"/><path d="M15.545,22.014a2.44,2.44,0,0,0,.919-.564,2.933,2.933,0,0,0,.59-.852,4.149,4.149,0,0,0,.312-1.074,8.048,8.048,0,0,0,.091-1.239V15.8a5.325,5.325,0,0,1,.129-1.176,3.944,3.944,0,0,1,.405-1.055,3.654,3.654,0,0,1,.7-.883,4.085,4.085,0,0,1,1.013-.675,3.629,3.629,0,0,1-1.712-1.569,4.724,4.724,0,0,1-.534-2.244V5.7a8.067,8.067,0,0,0-.091-1.239,4.141,4.141,0,0,0-.312-1.073,2.853,2.853,0,0,0-.59-.846,2.584,2.584,0,0,0-.919-.57L16.232,0a7.342,7.342,0,0,1,2.109.925A5.136,5.136,0,0,1,19.7,2.238a4.857,4.857,0,0,1,.729,1.62A7.8,7.8,0,0,1,20.646,5.7v2.49a4.184,4.184,0,0,0,.123,1.054,2.117,2.117,0,0,0,.386.8,1.709,1.709,0,0,0,.681.508,2.51,2.51,0,0,0,.993.179v2.538a2.528,2.528,0,0,0-.993.178,1.721,1.721,0,0,0-.681.509,2.114,2.114,0,0,0-.386.8,4.124,4.124,0,0,0-.123,1.041v2.49a7.8,7.8,0,0,1-.214,1.846A4.861,4.861,0,0,1,19.7,21.75a5.2,5.2,0,0,1-1.362,1.318A7.21,7.21,0,0,1,16.232,24Z"/></svg>',icon_verify:'<svg viewBox="0 0 24 24"><path d="M12,0,2.18,4.36v6.55C2.18,17,6.37,22.63,12,24c5.63-1.37,9.82-7,9.82-13.09V4.36ZM9.82,17.45,5.45,13.09,7,11.55l2.83,2.82L17,7.18l1.54,1.55Z"/></svg>',icon_write:'<svg viewBox="0 0 24 24"><path d="M15.6,21.6H2.4V2.4H15.6v6L18,6V2.4A2.41,2.41,0,0,0,15.6,0H2.4A2.41,2.41,0,0,0,0,2.4V21.6A2.41,2.41,0,0,0,2.4,24H15.6A2.41,2.41,0,0,0,18,21.6V18l-2.4,2.4Z"/><path d="M9.6,17.4v3h3l8.85-8.85-3-3ZM23.77,9.23a.79.79,0,0,0,0-1.12L21.89,6.23a.79.79,0,0,0-1.12,0L19.3,7.7l3,3Z"/><rect x="4.8" y="4.8" width="8.4" height="2.4" rx="1"/><rect x="4.8" y="9.6" width="8.4" height="2.4" rx="1"/></svg>',icon_z_to_a:'<svg viewBox="0 0 24 24"><path style="stroke-width:1.29999995" d="M 0,5.5 V 8.0999999 H 5.2000001 L 0,15.9 v 2.6 H 7.8000001 V 15.9 H 2.6 L 7.8000001,8.0999999 V 5.5 Z" /><path style="stroke-width:1.29999995" d="M 18.8,5.5 A 2.5999999,2.5999999 0 0 0 16.2,8.0999999 V 18.5 h 2.6 v -5.2 h 2.6 v 5.2 H 24 V 8.0999999 A 2.5999999,2.5999999 0 0 0 21.4,5.5 h -2.6 m 0,2.5999999 h 2.6 V 10.7 h -2.6 z" /><path style="stroke-width:1.07692313" d="m 10.25,8.5 3.5,3.5 -3.5,3.5 v -7" /></svg>'}},20757:(ne,b,t)=>{t.d(b,{p:()=>a});var e=t(469),i=t(3184),u=t(36362),c=t(32478),C=t(77500);function _(l,r){if(1&l&&i._UZ(0,"icon",2),2&l){const o=i.oxw();i.Udp("color",o.themeColor?o.themeColor:null),i.Q6J("key",o.iconKey)("color",o.iconColor)("size",o.size)}}function p(l,r){if(1&l&&i._UZ(0,"cb-image",3),2&l){const o=i.oxw();i.Q6J("publicId",o.imageId)("width",o.imgWidth)("height",o.imgHeight)}}const E={default:20,medium:8,large:16,xlarge:20,xxlarge:32,xxxlarge:48};let a=(()=>{class l{constructor(o,d){this.elementRef=o,this.themeService=d,this.color="accent",this.size="default"}ngOnInit(){this.setupClasses()}ngOnChanges(o){this.setup(),o.color&&this.handleClassChange(o.color),o.size&&this.handleClassChange(o.size)}setupClasses(){this.elementRef.nativeElement.classList.add(this.color),this.elementRef.nativeElement.classList.add(this.size)}handleClassChange(o){o.previousValue&&this.elementRef.nativeElement.classList.remove(o.previousValue),o.currentValue&&this.elementRef.nativeElement.classList.add(o.currentValue)}setup(){let o=this.themeService.getThemeData(this.themeId);this.iconKey=o.icon,this.imageId=o.image_id,"theme"===this.color?(this.themeColor=this.themeId&&this.themeService.getColor(this.themeId),this.iconColor="inherit"):(this.themeColor=void 0,this.iconColor=this.color),this.setIconDimensions()}setIconDimensions(){this.imgWidth=this.imgHeight=E[this.size]}}return l.\u0275fac=function(o){return new(o||l)(i.Y36(i.SBq),i.Y36(e.f))},l.\u0275cmp=i.Xpm({type:l,selectors:[["theme-icon"]],inputs:{themeId:"themeId",color:"color",size:"size"},features:[i.TTD],decls:2,vars:2,consts:[[3,"key","color","size",4,"ngIf"],[3,"publicId","width","height",4,"ngIf"],[3,"key","color","size"],[3,"publicId","width","height"]],template:function(o,d){1&o&&(i.YNc(0,_,1,5,"icon",0),i.YNc(1,p,1,3,"cb-image",1)),2&o&&(i.Q6J("ngIf",d.iconKey),i.xp6(1),i.Q6J("ngIf",!d.iconKey))},directives:[u.O5,c.o,C.q],styles:["theme-icon{display:inline-block;line-height:0}theme-icon.small img{height:4px;width:4px;min-width:4px;min-height:4px;line-height:4px}theme-icon.medium img{height:8px;width:8px;min-width:8px;min-height:8px;line-height:8px}theme-icon.large img{height:16px;width:16px;min-width:16px;min-height:16px;line-height:16px}theme-icon.xlarge img{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px}theme-icon.xxlarge img{height:32px;width:32px;min-width:32px;min-height:32px;line-height:32px}theme-icon.xxxlarge img{height:48px;width:48px;min-width:48px;min-height:48px;line-height:48px}theme-icon.text img{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em}theme-icon.default img{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px}@media print{theme-icon{display:none}}.mat-raised-button label-with-icon theme-icon.default,.mat-stroked-button label-with-icon theme-icon.default,.mat-button label-with-icon theme-icon.default{height:16px;width:16px;min-width:16px;min-height:16px;line-height:16px}\n"],encapsulation:2,changeDetection:0}),l})()},15699:(ne,b,t)=>{t.d(b,{l:()=>e});const e=25},61391:(ne,b,t)=>{t.d(b,{p:()=>C});var e=t(15699),i=t(3184),u=t(29637),c=t(20262);let C=(()=>{class _{constructor(){this.showHoverPreview=!1,this.size=e.l,this.linkColor="primary"}}return _.\u0275fac=function(E){return new(E||_)},_.\u0275cmp=i.Xpm({type:_,selectors:[["identifier-image-link"]],inputs:{identifier:"identifier",showHoverPreview:"showHoverPreview",size:"size",linkColor:"linkColor"},decls:5,vars:6,consts:[[3,"identifier","showHoverPreview","color"],[1,"layout-row","layout-align-start-center"],[3,"identifier","size"],[1,"flex-no-grow","cb-overflow-ellipsis","cb-margin-medium-left"]],template:function(E,a){1&E&&(i.TgZ(0,"identifier-link",0)(1,"div",1),i._UZ(2,"identifier-image",2),i.TgZ(3,"div",3),i._uU(4),i.qZA()()()),2&E&&(i.Q6J("identifier",a.identifier)("showHoverPreview",a.showHoverPreview)("color",a.linkColor),i.xp6(2),i.Q6J("identifier",a.identifier)("size",a.size),i.xp6(2),i.hij(" ",a.identifier.value," "))},directives:[u.N,c.J],styles:["identifier-link[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),_})()},20262:(ne,b,t)=>{t.d(b,{J:()=>r});var e=t(97010),i=t(25848),u=t(15699),c=t(3184),C=t(40361),_=t(36362),p=t(74929);const E=function(o){return{entity_name:o}},a=function(o,d){return{width:o,height:d}},l=function(o){return{"provide-styling":o}};let r=(()=>{class o{constructor(n,g){this.imageService=n,this.syntheticMetadataService=g,this.size=u.l,this.provideStyling=!0,this.imgAltLabelKey="CBL.COMMON.IMAGE_ALT_LOGO"}ngOnChanges(){const{image_id:n,entity_def_id:g}=this.identifier;if(this.styleSize=this.styleSize||`${this.size}px`,!n)return void(this.imgSrc="");const f={width:`${this.size}`,height:`${this.size}`,transparent:!1};this.syntheticMetadataService.getHumanEntityDefIds().includes(g)&&(f.crop="thumb",f.gravity="faces",this.imgAltLabelKey="CBL.COMMON.IMAGE_ALT"),this.imgSrc=this.imageService.getPublicImageUrl(n,f)}}return o.\u0275fac=function(n){return new(n||o)(c.Y36(e.AJ),c.Y36(i.Y))},o.\u0275cmp=c.Xpm({type:o,selectors:[["identifier-image"]],inputs:{identifier:"identifier",size:"size",styleSize:"styleSize",provideStyling:"provideStyling"},features:[c.TTD],decls:2,vars:15,consts:[["lazyLoadImage","",3,"placeholderType","imgSrc","imgAlt","ngStyle","ngClass"]],template:function(n,g){1&n&&(c._UZ(0,"div",0),c.ALo(1,"translate")),2&n&&c.Q6J("placeholderType",g.identifier.entity_def_id||"")("imgSrc",g.imgSrc)("imgAlt",c.xi3(1,5,g.imgAltLabelKey,c.VKq(8,E,g.identifier.value)))("ngStyle",c.WLB(10,a,g.styleSize,g.styleSize))("ngClass",c.VKq(13,l,g.provideStyling))},directives:[C.z,_.PC,_.mk],pipes:[p.X],styles:[".provide-styling[_ngcontent-%COMP%]{overflow:hidden;border-radius:4px;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}"],changeDetection:0}),o})()},29637:(ne,b,t)=>{t.d(b,{N:()=>n});var e=t(13074),i=t(4151),u=t(75215),c=t(3184),C=t(36362),_=t(46036),p=t(47367),E=t(45857),a=t(96017);function l(g,f){1&g&&c.GkF(0)}function r(g,f){if(1&g&&(c.TgZ(0,"a",2),c.YNc(1,l,1,0,"ng-container",3),c.qZA()),2&g){const m=c.oxw(),v=c.MAs(2);c.Q6J("cb-link",m.color)("hoverPreview",m.enableHoverPreview)("hoverPayload",m.hoverPayload)("hoverComponent",m.overlayComponent)("hoverOffsetX",30)("routerLink",m.route.path),c.xp6(1),c.Q6J("ngTemplateOutlet",v)}}function o(g,f){1&g&&c.Hsn(0)}const d=["*"];let n=(()=>{class g{constructor(m,v,y){this.overlayComponent=m,this.metadataService=v,this.urlService=y,this.showHoverPreview=!1}ngOnChanges(){this.route=this.urlService.getIdentifierRoute(this.identifier),this.enableHoverPreview=this.showHoverPreview&&this.metadataService.hasPreviewLayouts(this.identifier.entity_def_id),this.hoverPayload={identifier:this.identifier}}}return g.\u0275fac=function(m){return new(m||g)(c.Y36(i.$b),c.Y36(u.Do),c.Y36(e.iO))},g.\u0275cmp=c.Xpm({type:g,selectors:[["identifier-link"]],inputs:{color:"color",identifier:"identifier",showHoverPreview:"showHoverPreview"},features:[c.TTD],ngContentSelectors:d,decls:3,vars:2,consts:[["role","link",3,"cb-link","hoverPreview","hoverPayload","hoverComponent","hoverOffsetX","routerLink",4,"ngIf","ngIfElse"],["content",""],["role","link",3,"cb-link","hoverPreview","hoverPayload","hoverComponent","hoverOffsetX","routerLink"],[4,"ngTemplateOutlet"]],template:function(m,v){if(1&m&&(c.F$t(),c.YNc(0,r,2,7,"a",0),c.YNc(1,o,1,0,"ng-template",null,1,c.W1O)),2&m){const y=c.MAs(2);c.Q6J("ngIf",v.route)("ngIfElse",y)}},directives:[C.O5,_.n,p.I,E.yS,a.a,C.tP],styles:["a[_ngcontent-%COMP%]{min-width:0}"],changeDetection:0}),g})()},51044:(ne,b,t)=>{t.d(b,{X:()=>a});var e=t(36362),i=t(45857),u=t(90898),c=t(35503),C=t(68881),_=t(40577),p=t(19366),E=t(3184);let a=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[[e.ez,c.Dt,u.q,i.Bz,C.N,_.C,p.L]]}),l})()},4105:(ne,b,t)=>{t.d(b,{E:()=>E});var e=t(3184),i=t(36362),u=t(40361);function c(a,l){if(1&a&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.hij(" ",r.title," ")}}const C=[[["","text-content",""]]],_=function(a){return{compact:a}},p=["[text-content]"];let E=(()=>{class a{constructor(){this.compactMode=!1}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["image-with-text-card"]],inputs:{title:"title",imagePlaceholderType:"imagePlaceholderType",imageSrc:"imageSrc",imageAlt:"imageAlt",compactMode:"compactMode"},ngContentSelectors:p,decls:7,vars:8,consts:[[1,"component--image-with-text-card",3,"ngClass"],[4,"ngIf"],[1,"text-card-container"],[1,"text-card-image-container"],["lazyLoadImage","",1,"text-card-image",3,"useIdentifierImgStyle","placeholderType","imgSrc","imgAlt"],[1,"text-content"]],template:function(r,o){1&r&&(e.F$t(C),e.TgZ(0,"div",0),e.YNc(1,c,2,1,"h3",1),e.TgZ(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.qZA(),e.TgZ(5,"div",5),e.Hsn(6),e.qZA()()()),2&r&&(e.Q6J("ngClass",e.VKq(6,_,o.compactMode)),e.xp6(1),e.Q6J("ngIf",o.title),e.xp6(3),e.Q6J("useIdentifierImgStyle",!0)("placeholderType",o.imagePlaceholderType)("imgSrc",o.imageSrc)("imgAlt",o.imageAlt))},directives:[i.mk,i.O5,u.z],styles:[".component--image-with-text-card .text-card-container{box-sizing:border-box;display:flex!important;flex-direction:column}.component--image-with-text-card .text-card-container .text-card-image-container{box-sizing:border-box;display:flex!important;flex-direction:column;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.component--image-with-text-card .text-card-container .text-card-image-container>*{max-width:100%;box-sizing:border-box}.component--image-with-text-card h3{font-weight:500;margin-top:20px;margin-bottom:20px}.component--image-with-text-card .text-card-image{flex:0 0 auto;box-sizing:border-box;margin-bottom:16px;width:120px;height:120px}.component--image-with-text-card .text-content{flex:1;display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--image-with-text-card .text-content>*{max-width:100%;box-sizing:border-box}.component--image-with-text-card .text-content>*{margin-bottom:8px;max-width:100%}.component--image-with-text-card .text-content>:first-child{font-size:20px;font-weight:500;text-align:center}.component--image-with-text-card .text-content>:first-child identifier-formatter .identifier-image{display:none}.component--image-with-text-card .text-content>:first-child identifier-formatter .identifier-label{color:#282828}.component--image-with-text-card .text-content>:last-child{margin-bottom:0}.component--image-with-text-card.compact .text-card-container{box-sizing:border-box;display:flex!important;flex-direction:column}.component--image-with-text-card.compact .text-card-container .text-card-image-container{box-sizing:border-box;display:flex!important;flex-direction:column;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.component--image-with-text-card.compact .text-card-container .text-card-image-container>*{max-width:100%;box-sizing:border-box}.component--image-with-text-card.compact h3{font-weight:500;margin-top:20px;margin-bottom:20px}.component--image-with-text-card.compact .text-card-image{flex:0 0 auto;box-sizing:border-box;margin-bottom:16px;width:80px;height:80px}.component--image-with-text-card.compact .text-content{flex:1;display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--image-with-text-card.compact .text-content>*{max-width:100%;box-sizing:border-box}.component--image-with-text-card.compact .text-content>*{margin-bottom:4px;max-width:100%}.component--image-with-text-card.compact .text-content>:first-child{font-size:14px;font-weight:500;text-align:center}.component--image-with-text-card.compact .text-content>:first-child identifier-formatter .identifier-image{display:none}.component--image-with-text-card.compact .text-content>:first-child identifier-formatter .identifier-label{color:#282828}.component--image-with-text-card.compact .text-content>:last-child{margin-bottom:0}@media (min-width: 960px){.component--image-with-text-card .text-content>:first-child,.component--image-with-text-card.compact .text-content>:first-child{text-align:left}.component--image-with-text-card .text-card-container,.component--image-with-text-card.compact .text-card-container{box-sizing:border-box;display:flex!important;flex-direction:row}.text-content{justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start}.text-card-image{margin-right:16px;margin-bottom:0}}\n"],encapsulation:2}),a})()},4407:(ne,b,t)=>{t.d(b,{d:()=>c});var e=t(36362),i=t(68881),u=t(3184);let c=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({imports:[[e.ez,i.N]]}),C})()},77500:(ne,b,t)=>{t.d(b,{q:()=>p});var e=t(97010),i=t(83910),u=t(3184),c=t(34657),C=t(36362);function _(E,a){if(1&E&&u._UZ(0,"img",1),2&E){const l=u.oxw();u.Q6J("src",l.imageSrc,u.LSH)("srcset",l.imageSrcSet,u.LSH),u.uIk("alt",l.alt)}}let p=(()=>{class E{constructor(l,r,o,d){this.changeDetectorRef=l,this.elementRef=r,this.imageService=o,this.viewportService=d,this.eager=!1,this.imageSrcSet=null}ngOnChanges(){this.eager?this.setImageAttributes():this.viewportService.notifyInViewport(this.elementRef.nativeElement).pipe((0,i.q)(1)).subscribe(()=>{this.setImageAttributes(),this.changeDetectorRef.markForCheck()})}setImageAttributes(){const l=this.resource||this.publicId;if(this.original)return void(this.imageSrc=this.imageService.getOriginalPublicImageUrl(l));if(this.transformationName)return this.imageSrc=this.imageService.getPublicImageNamedSrc(l,this.transformationName),void(this.imageSrcSet=this.imageService.getPublicImageNamedSrcSet(l,this.transformationName));let r={crop:this.crop?this.crop:void 0,x:this.x?this.x:void 0,y:this.y?this.y:void 0,format:this.format?this.format:void 0,radius:this.radius?this.radius:void 0,width:this.width?`${this.width}`:void 0,height:this.height?`${this.height}`:void 0};this.imageSrc=this.imageService.getPublicImageUrl(l,r),this.imageSrcSet=this.imageService.getPublicImageSrcSet(l,r)}}return E.\u0275fac=function(l){return new(l||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(e.AJ),u.Y36(c.v))},E.\u0275cmp=u.Xpm({type:E,selectors:[["cb-image"]],inputs:{resource:"resource",publicId:"publicId",alt:"alt",crop:"crop",x:"x",y:"y",format:"format",width:"width",height:"height",radius:"radius",transformationName:"transformationName",original:"original",eager:"eager"},features:[u.TTD],decls:1,vars:1,consts:[["class","component--cb-image",3,"src","srcset",4,"ngIf"],[1,"component--cb-image",3,"src","srcset"]],template:function(l,r){1&l&&u.YNc(0,_,1,3,"img",0),2&l&&u.Q6J("ngIf",r.imageSrc)},directives:[C.O5],styles:[".component--cb-image{line-height:0}\n"],encapsulation:2,changeDetection:0}),E})()},31156:(ne,b,t)=>{t.d(b,{H:()=>u});var e=t(36362),i=t(3184);let u=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[e.ez]]}),c})()},13186:(ne,b,t)=>{t.d(b,{w:()=>l});var e=t(3184),i=t(90587),u=t(92218),c=t(85921),C=t(36362),_=t(74160);function p(r,o){if(1&r&&(e.TgZ(0,"label-with-icon",7),e._uU(1),e.qZA()),2&r){const d=e.oxw().$implicit;e.Q6J("themeId",d.theme),e.xp6(1),e.hij(" ",d.name," ")}}function E(r,o){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const d=e.oxw().$implicit;e.xp6(1),e.hij(" ",d.name," ")}}function a(r,o){if(1&r&&(e.ynx(0),e._UZ(1,"input",3),e.TgZ(2,"label",4),e.YNc(3,p,2,2,"label-with-icon",5),e.YNc(4,E,2,1,"div",6),e.qZA(),e.BQk()),2&r){const d=o.$implicit;e.xp6(1),e.s9C("id",d.name+"Choice"),e.Q6J("value",d.name),e.xp6(1),e.s9C("for",d.name+"Choice"),e.xp6(1),e.Q6J("ngIf",d.theme),e.xp6(1),e.Q6J("ngIf",!d.theme)}}let l=(()=>{class r{constructor(){this.onDestroy$=new u.xQ,this.onChange=()=>({}),this.onTouched=()=>({}),this.form=new i.cw({option:new i.NI}),this.form.valueChanges.pipe((0,c.R)(this.onDestroy$)).subscribe(d=>{this.onChange(d.option),this.onTouched()})}get value(){return this.form.value.option}get option(){return this.form.controls.option}ngOnDestroy(){this.onDestroy$.next()}writeValue(){}registerOnChange(d){this.onChange=d}registerOnTouched(d){this.onTouched=d}validate(){return this.form.valid?null:{}}}return r.\u0275fac=function(d){return new(d||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["button-select-input"]],inputs:{options:"options"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>r),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>r),multi:!0}])],decls:3,vars:2,consts:[["role","group",3,"formGroup"],[1,"input-container"],[4,"ngFor","ngForOf"],["formControlName","option","type","radio","name","option",3,"id","value"],[3,"for"],["iconColor","theme",3,"themeId",4,"ngIf"],[4,"ngIf"],["iconColor","theme",3,"themeId"]],template:function(d,n){1&d&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,a,5,5,"ng-container",2),e.qZA()()),2&d&&(e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("ngForOf",n.options))},directives:[i.JL,i.sg,C.sg,i.Fj,i._,i.JJ,i.u,C.O5,_.d],styles:["#select-title[_ngcontent-%COMP%]{font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;margin-top:8px}.input-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{opacity:0;position:fixed;width:0}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-weight:500;text-transform:capitalize;line-height:100%;cursor:pointer;width:100%;text-align:center;border-radius:4px;padding:4px;margin-right:8px}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:4px 0}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:last-child{margin-right:0}.input-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#e3edff}.remember-settings-container[_ngcontent-%COMP%]{margin-top:16px}mat-checkbox[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),r})()},31970:(ne,b,t)=>{t.d(b,{C:()=>de});var e=t(3184),i=t(90587),u=t(56589),c=t(38816),C=t(75215),_=t(46179),p=t(84505),E=t(92218),a=t(64139),l=t(53298),r=t(61745),o=t(86942),d=t(88759),n=t(66426),g=t(47418),f=t(80823),m=t(59151),v=t(85921);let S=(()=>{class Ae{constructor(){this.selectionChange=new E.xQ,this.selectedEntities=new Map,this.groupedEntitiesList=[],this.allSelected=!1,this.indeterminate=!1}getGroupedEntitiesList(){return this.groupedEntitiesList}getSelectedGroup(){return this.selectedGroup}getIsAllSelected(){return this.allSelected}getIsIndeterminate(){return this.indeterminate}hasCheckedValues(ae){return this.getEntities(ae).some(Se=>this.getIsEntityChecked(Se))}getIsEntityChecked(ae){return this.selectedEntities.has(ae.uuid)}getSelectedEntities(){return Array.from(this.selectedEntities.values())}setGroupedEntitiesList(ae){this.groupedEntitiesList=(Ae=>{const Ee=new Map;for(const Se of Ae){if(!Se.identifier.value||!Se.parentIdentifier.value)continue;const it=Se.parentIdentifier.uuid,rt=Ee.get(it);rt?rt.items.push(Se.identifier):Ee.set(it,{group:Se.parentIdentifier,items:[Se.identifier]})}const ae=Array.from(Ee.values());for(const Se of ae)Se.items.sort((it,rt)=>(it.value||"").localeCompare(rt.value||""));return ae.sort((Se,it)=>(Se.group.value||"").localeCompare(it.group.value||"")),ae.map(Se=>Object.assign(Object.assign({},Se),{items:["selectDeselectAll",...Se.items]}))})(ae),this.selectedGroup=this.selectedGroup&&this.groupedEntitiesList.find(Se=>{var it;return Se.group.uuid===(null===(it=this.selectedGroup)||void 0===it?void 0:it.group.uuid)}),this.updateState()}setSelectedEntities(ae,Se){const it=new Set(ae),rt=Se.filter(Dt=>it.has(Dt.identifier.uuid));this.selectedEntities=new Map(rt.map(Dt=>[Dt.identifier.uuid,Dt.identifier]))}setSelectedGroup(ae){this.selectedGroup="string"==typeof ae?(this.groupedEntitiesList||[]).find(Se=>Se.group.uuid===ae):ae===this.selectedGroup?void 0:ae,this.updateState()}selectDeselectAll(){const ae=this.getEntities(this.selectedGroup);if(this.allSelected||this.indeterminate)for(const Se of ae)this.selectedEntities.delete(Se.uuid);else for(const Se of ae)this.selectedEntities.set(Se.uuid,Se);this.updateState(),this.emitSelectionChange()}toggleCheckedEntity(ae){this.selectedEntities.get(ae.uuid)?this.selectedEntities.delete(ae.uuid):this.selectedEntities.set(ae.uuid,ae),this.updateState(),this.emitSelectionChange()}isAllSelected(){return!!this.getEntities(this.selectedGroup).every(ae=>this.selectedEntities.has(ae.uuid))}isIndeterminate(){return!(this.isAllSelected()||!this.getEntities(this.selectedGroup).some(ae=>this.selectedEntities.has(ae.uuid)))}getEntities(ae){return ae?ae.items.filter(Se=>"selectDeselectAll"!==Se):[]}emitSelectionChange(){this.selectionChange.next(this.getSelectedEntities())}updateState(){this.allSelected=this.isAllSelected(),this.indeterminate=this.isIndeterminate()}}return Ae.\u0275fac=function(ae){return new(ae||Ae)},Ae.\u0275prov=e.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();var A=t(44770),x=t(54166),R=t(36362),s=t(74742),h=t(32478),H=t(43365),K=t(37075),P=t(90164);class z{constructor(Ee){this.entitiesSelectionService=Ee}getSelectedGroup(){return this.entitiesSelectionService.getSelectedGroup()}getToggleAllCheckedState(){return this.entitiesSelectionService.getIsIndeterminate()?"indeterminate":this.entitiesSelectionService.getIsAllSelected()?"checked":"unchecked"}getEntityCheckedState(Ee){return this.entitiesSelectionService.getIsEntityChecked(Ee)?"checked":"unchecked"}getEntityAriaSelected(Ee){return this.entitiesSelectionService.getIsEntityChecked(Ee)?"true":"false"}getSelectDeselectAllItem(Ee){return Ee[0]}getEntities(Ee){const[,...ae]=Ee;return ae}getEntitiesLength(Ee){return Ee.items.length-1}isEntityChecked(Ee){return this.entitiesSelectionService.getIsEntityChecked(Ee)}hasCheckedValues(Ee){return this.entitiesSelectionService.hasCheckedValues(Ee)}selectGroup(Ee){this.entitiesSelectionService.setSelectedGroup(Ee)}selectGroupItem(Ee){"selectDeselectAll"===Ee?this.entitiesSelectionService.selectDeselectAll():this.entitiesSelectionService.toggleCheckedEntity(Ee)}getToggleLabelKey(){return this.entitiesSelectionService.getIsAllSelected()||this.entitiesSelectionService.getIsIndeterminate()?"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_COLUMN_PICKER.DESELECT_ALL":"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_COLUMN_PICKER.SELECT_ALL"}}var Z=t(75939);class G{constructor(Ee){this.items=Ee,this.activeItemIndex=-1,this.enterSubject=new E.xQ,this.changeSubject=new E.xQ,this.enter$=this.enterSubject.asObservable(),this.change$=this.changeSubject.asObservable()}onKeydown(Ee){switch(Ee.keyCode){case Z.LH:Ee.preventDefault(),this.setActiveItemByIndex(this.getNextIndexByDelta(-1));break;case Z.JH:Ee.preventDefault(),this.setActiveItemByIndex(this.getNextIndexByDelta(1));break;case Z.K5:Ee.preventDefault(),this.enterSubject.next(this.activeItemIndex)}}setActiveItem(Ee){this.activeItemIndex=Ee?this.items.indexOf(Ee):-1,this.activeItem=Ee,this.activeItemIndex<0&&(this.activeItem=void 0),this.changeSubject.next(this.activeItemIndex)}updateItems(Ee){this.items=Ee,this.activeItem&&this.items.indexOf(this.activeItem)>-1?this.setActiveItem(this.activeItem):this.setActiveItemByIndex(this.activeItemIndex)}setActiveItemByIndex(Ee){this.activeItem=this.items[Ee],this.activeItemIndex=this.activeItem?Ee:-1,this.changeSubject.next(this.activeItemIndex)}getNextIndexByDelta(Ee){const ae=this.activeItemIndex+Ee;return ae>=this.items.length?0:ae<0?this.items.length-1:ae}}class J{constructor(Ee,ae){this.entitiesSelectionService=ae,this.activeItem={item:void 0,index:-1,type:"group"},this.changeSubject=new E.xQ,this.groupsKeyManager=new G(Ee),this.groupItemsKeyManager=new G([]),this.change$=this.changeSubject.asObservable();const Se=ae.getSelectedGroup();Se&&this.setGroupActive(Se)}onKeydown(Ee){switch(Ee.keyCode){case Z.oh:Ee.preventDefault(),this.goLeft();break;case Z.SV:Ee.preventDefault(),this.goRight();break;case Z.LH:case Z.JH:this.goUpOrDown(Ee);break;case Z.K5:Ee.preventDefault(),this.onEnter()}}setGroupActive(Ee){this.groupsKeyManager.setActiveItem(Ee),this.activeItem={item:this.groupsKeyManager.activeItem,index:this.groupsKeyManager.activeItemIndex,type:"group"},this.updateGroupItems(Ee),this.changeSubject.next(this.activeItem)}setGroupItemActive(Ee){this.groupItemsKeyManager.setActiveItem(Ee),this.activeItem={item:this.groupItemsKeyManager.activeItem,index:this.groupItemsKeyManager.activeItemIndex,type:"groupItem"},this.changeSubject.next(this.activeItem)}updateGroupItems(Ee){this.groupItemsKeyManager.updateItems(Ee.items)}goLeft(){if("groupItem"===this.activeItem.type){const Ee=this.entitiesSelectionService.getSelectedGroup();Ee&&(this.entitiesSelectionService.setSelectedGroup(Ee),this.setGroupActive(Ee))}}goRight(){if("group"===this.activeItem.type){const Ee=this.activeItem.item;Ee&&(this.isActiveGroupOpen()||this.entitiesSelectionService.setSelectedGroup(Ee),this.setGroupItemActive(Ee.items[0]))}}goUpOrDown(Ee){switch(this.activeItem.type){case"group":this.groupsKeyManager.onKeydown(Ee),this.isActiveGroupOpen()&&this.entitiesSelectionService.setSelectedGroup(void 0),this.groupsKeyManager.activeItem&&this.setGroupActive(this.groupsKeyManager.activeItem);break;case"groupItem":this.groupItemsKeyManager.onKeydown(Ee),this.groupItemsKeyManager.activeItem&&this.setGroupItemActive(this.groupItemsKeyManager.activeItem)}}onEnter(){switch(this.activeItem.type){case"group":this.activeItem.item&&this.entitiesSelectionService.setSelectedGroup(this.activeItem.item);break;case"groupItem":"selectDeselectAll"===this.activeItem.item?this.entitiesSelectionService.selectDeselectAll():this.activeItem.item&&this.entitiesSelectionService.toggleCheckedEntity(this.activeItem.item)}}isActiveGroupOpen(){const Ee=this.entitiesSelectionService.getSelectedGroup();return!(!Ee||Ee!==this.activeItem.item)}}var le=t(26131),V=t(32112);let j=(()=>{class Ae{}return Ae.\u0275fac=function(ae){return new(ae||Ae)},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["entity-picker-group-label"]],inputs:{label:"label",numItems:"numItems",hasSelected:"hasSelected"},decls:3,vars:4,consts:[[1,"label"],[1,"dot"]],template:function(ae,Se){1&ae&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e._UZ(2,"span",1)),2&ae&&(e.xp6(1),e.AsE("",Se.label," (",Se.numItems,")"),e.xp6(1),e.ekj("has-checked-values",Se.hasSelected))},styles:["[_nghost-%COMP%]{display:flex;align-items:center}.label[_ngcontent-%COMP%]{flex:initial}.dot[_ngcontent-%COMP%]{height:6px;width:6px;border-radius:50%;background:#16a660;margin-left:4px;visibility:hidden;flex:none}.dot.has-checked-values[_ngcontent-%COMP%]{visibility:visible}"],changeDetection:0}),Ae})();var M=t(19975),ie=t(1130);const te=["*"];let re=(()=>{class Ae{}return Ae.\u0275fac=function(ae){return new(ae||Ae)},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["entity-picker-label-with-checkbox"]],inputs:{state:"state"},ngContentSelectors:te,decls:2,vars:1,consts:[[3,"state"]],template:function(ae,Se){1&ae&&(e.F$t(),e._UZ(0,"mat-pseudo-checkbox",0),e.Hsn(1)),2&ae&&e.Q6J("state",Se.state)},directives:[ie.nP],styles:["[_nghost-%COMP%]{font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;display:flex;align-items:center}mat-pseudo-checkbox[_ngcontent-%COMP%]{margin-right:8px}mat-pseudo-checkbox[_ngcontent-%COMP%]:not(.mat-pseudo-checkbox-checked):not(.mat-pseudo-checkbox-indeterminate){background-color:#fff}"],changeDetection:0}),Ae})();var q=t(74929);function U(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const rt=e.CHM(ae).$implicit;return e.oxw().selectGroup(rt)}),e.TgZ(1,"span",4),e._UZ(2,"entity-picker-group-label",5)(3,"icon",6),e.qZA()()}if(2&Ae){const ae=Ee.$implicit,Se=Ee.index,it=e.oxw();e.ekj("active-group",ae===it.getActiveItem()||ae===it.getSelectedGroup()),e.Q6J("id",it.getItemId(ae))("scrollToElementInContainer",ae===it.getActiveItem()),e.uIk("aria-setsize",it.groupedEntities.length)("aria-posinset",Se+1)("aria-expanded",ae===it.getSelectedGroup())("aria-owns",it.getGroupId(ae)),e.xp6(2),e.Q6J("label",ae.group.value)("numItems",it.getEntitiesLength(ae))("hasSelected",it.hasCheckedValues(ae))}}function k(Ae,Ee){1&Ae&&e._UZ(0,"mat-divider",7),2&Ae&&e.Q6J("vertical",!0)}function w(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){const rt=e.CHM(ae).ngIf;return e.oxw(2).selectGroupItem(rt)}),e.TgZ(1,"entity-picker-label-with-checkbox",12),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&Ae){const ae=Ee.ngIf,Se=e.oxw().ngIf,it=e.oxw();e.ekj("active-entity",ae===it.getActiveItem()),e.Q6J("id",it.getItemId(ae))("scrollToElementInContainer",ae===it.getActiveItem()),e.uIk("aria-setsize",Se.items.length),e.xp6(1),e.Q6J("state",it.getToggleAllCheckedState()),e.xp6(1),e.AsE(" ",e.lcZ(3,8,it.getToggleLabelKey())," (",it.getEntitiesLength(Se),") ")}}function Q(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"mat-list-item",13),e.NdJ("click",function(){const rt=e.CHM(ae).$implicit;return e.oxw(2).selectGroupItem(rt)}),e.TgZ(1,"entity-picker-label-with-checkbox",12),e._uU(2),e.qZA()()}if(2&Ae){const ae=Ee.$implicit,Se=Ee.index,it=e.oxw().ngIf,rt=e.oxw();e.ekj("active-entity",ae===rt.getActiveItem()),e.Q6J("id",rt.getItemId(ae))("scrollToElementInContainer",ae===rt.getActiveItem()),e.uIk("aria-setsize",it.items.length)("aria-posinset",Se+2)("aria-selected",rt.getEntityAriaSelected(ae)),e.xp6(1),e.Q6J("state",rt.getEntityCheckedState(ae)),e.xp6(1),e.hij(" ",ae.value," ")}}function $(Ae,Ee){if(1&Ae&&(e.TgZ(0,"mat-action-list",8),e.YNc(1,w,4,10,"button",9),e.YNc(2,Q,3,9,"mat-list-item",10),e.qZA()),2&Ae){const ae=Ee.ngIf,Se=e.oxw();e.Q6J("id",Se.getGroupId(ae)),e.xp6(1),e.Q6J("ngIf",Se.getSelectDeselectAllItem(ae.items)),e.xp6(1),e.Q6J("ngForOf",Se.getEntities(ae.items))}}let X=(()=>{class Ae extends z{constructor(ae,Se,it){super(ae),this.connectedOverlay=Se,this.changeDetectorRef=it,this.groupedEntities=this.entitiesSelectionService.getGroupedEntitiesList(),this.activeDescendantChange=new e.vpe,this.onDestroy=new E.xQ}ngOnInit(){this.keyManager=new J(this.groupedEntities||[],this.entitiesSelectionService),this.connectedOverlay.overlayKeydown.pipe((0,v.R)(this.onDestroy)).subscribe(ae=>{this.keyManager.onKeydown(ae),this.changeDetectorRef.markForCheck()}),this.keyManager.change$.pipe((0,v.R)(this.onDestroy)).subscribe(ae=>this.activeDescendantChange.emit(this.getActiveDescendant()))}ngOnDestroy(){this.onDestroy.next()}getActiveItem(){var ae;return null===(ae=this.keyManager.activeItem)||void 0===ae?void 0:ae.item}selectGroup(ae){this.keyManager.setGroupActive(ae),super.selectGroup(ae)}selectGroupItem(ae){this.keyManager.setGroupItemActive(ae),super.selectGroupItem(ae)}getGroupId(ae){return`group-${ae.group.uuid}`}getItemId(ae){const Se="picker-item-";return"selectDeselectAll"===ae?`${Se}${ae}`:(Ae=>Ae&&Ae.hasOwnProperty("group")&&Ae.hasOwnProperty("items"))(ae)?`${Se}${ae.group.uuid}`:`${Se}${ae.uuid}`}getActiveDescendant(){const ae=this.getActiveItem();return ae&&this.getItemId(ae)}}return Ae.\u0275fac=function(ae){return new(ae||Ae)(e.Y36(S),e.Y36(x.pI),e.Y36(e.sBO))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["entity-picker-desktop"]],outputs:{activeDescendantChange:"activeDescendantChange"},features:[e.qOj],decls:5,vars:3,consts:[["mat-list-item","","role","treeitem","aria-level","1",3,"id","scrollToElementInContainer","active-group","click",4,"ngFor","ngForOf"],[3,"vertical",4,"ngIf"],["role","group",3,"id",4,"ngIf"],["mat-list-item","","role","treeitem","aria-level","1",3,"id","scrollToElementInContainer","click"],[1,"group-content"],[3,"label","numItems","hasSelected"],["key","icon_caret_right"],[3,"vertical"],["role","group",3,"id"],["mat-list-item","","role","treeitem","aria-level","2","aria-posinset","1",3,"id","scrollToElementInContainer","active-entity","click",4,"ngIf"],["role","treeitem","aria-level","2",3,"id","scrollToElementInContainer","active-entity","click",4,"ngFor","ngForOf"],["mat-list-item","","role","treeitem","aria-level","2","aria-posinset","1",3,"id","scrollToElementInContainer","click"],[3,"state"],["role","treeitem","aria-level","2",3,"id","scrollToElementInContainer","click"]],template:function(ae,Se){1&ae&&(e.TgZ(0,"div")(1,"mat-action-list"),e.YNc(2,U,4,11,"button",0),e.qZA(),e.YNc(3,k,1,1,"mat-divider",1),e.YNc(4,$,3,3,"mat-action-list",2),e.qZA()),2&ae&&(e.xp6(2),e.Q6J("ngForOf",Se.groupedEntities),e.xp6(1),e.Q6J("ngIf",Se.getSelectedGroup()),e.xp6(1),e.Q6J("ngIf",Se.getSelectedGroup()))},directives:[le.i$,R.sg,le.Tg,V.N,j,h.o,R.O5,M.d,re],pipes:[q.X],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:flex;max-height:256px}mat-action-list[_ngcontent-%COMP%]{overflow-y:auto;position:relative}mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:unset}mat-action-list[_ngcontent-%COMP%]   button.active-group[_ngcontent-%COMP%], mat-action-list[_ngcontent-%COMP%]   button.active-entity[_ngcontent-%COMP%]{background-color:#ebf7fb}mat-action-list[_ngcontent-%COMP%]   .active-entity[_ngcontent-%COMP%]{background-color:#ebf7fb}.group-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}entity-picker-group-label[_ngcontent-%COMP%]{flex:1 1 auto}"],changeDetection:0}),Ae})();var Ce=t(46829),ye=t(71360);function ue(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const rt=e.CHM(ae).$implicit;return e.oxw().selectGroup(rt)}),e.TgZ(1,"span",4),e._UZ(2,"entity-picker-group-label",5)(3,"icon",6),e.qZA()()}if(2&Ae){const ae=Ee.$implicit,Se=e.oxw();e.xp6(2),e.Q6J("label",ae.group.value)("numItems",Se.getEntitiesLength(ae))("hasSelected",Se.hasCheckedValues(ae))}}function Me(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const rt=e.CHM(ae).ngIf;return e.oxw(3).selectGroupItem(rt)}),e.TgZ(1,"entity-picker-label-with-checkbox",13),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&Ae){const ae=e.oxw(2).ngIf,Se=e.oxw();e.xp6(1),e.Q6J("state",Se.getToggleAllCheckedState()),e.xp6(1),e.AsE(" ",e.lcZ(3,3,Se.getToggleLabelKey())," (",Se.getEntitiesLength(ae),") ")}}function me(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"mat-list-item",14),e.NdJ("click",function(){const rt=e.CHM(ae).$implicit;return e.oxw(3).selectGroupItem(rt)}),e.TgZ(1,"entity-picker-label-with-checkbox",13),e._uU(2),e.qZA()()}if(2&Ae){const ae=Ee.$implicit,Se=e.oxw(3);e.uIk("aria-selected",Se.getEntityAriaSelected(ae)),e.xp6(1),e.Q6J("state",Se.getEntityCheckedState(ae)),e.xp6(1),e.hij(" ",ae.value," ")}}function ve(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"mat-action-list",8)(1,"button",3),e.NdJ("click",function(){return e.CHM(ae),e.oxw(2).backToGroups()}),e.TgZ(2,"span",9),e._UZ(3,"icon",10)(4,"entity-picker-group-label",5),e.qZA()(),e._UZ(5,"mat-divider"),e.YNc(6,Me,4,5,"button",11),e.YNc(7,me,3,3,"mat-list-item",12),e.qZA()}if(2&Ae){const ae=e.oxw().ngIf,Se=e.oxw();e.xp6(4),e.Q6J("label",ae.group.value)("numItems",Se.getEntitiesLength(ae))("hasSelected",Se.hasCheckedValues(ae)),e.xp6(2),e.Q6J("ngIf",Se.getSelectDeselectAllItem(ae.items)),e.xp6(1),e.Q6J("ngForOf",Se.getEntities(ae.items))}}function ze(Ae,Ee){if(1&Ae&&(e.ynx(0),e.YNc(1,ve,8,5,"mat-action-list",7),e.BQk()),2&Ae){const ae=Ee.ngIf,Se=e.oxw();e.xp6(1),e.Q6J("ngIf",Se.getEntitiesLength(ae))}}let tt=(()=>{class Ae extends z{constructor(ae){super(ae),this.groupedEntities=this.entitiesSelectionService.getGroupedEntitiesList()}backToGroups(){this.entitiesSelectionService.setSelectedGroup(void 0)}}return Ae.\u0275fac=function(ae){return new(ae||Ae)(e.Y36(S))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["entity-picker-mobile"]],features:[e.qOj],decls:6,vars:3,consts:[[3,"selectedIndex"],["mat-list-item","",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-list-item","",3,"click"],[1,"group-content"],[3,"label","numItems","hasSelected"],["key","icon_caret_right"],["role","listbox",4,"ngIf"],["role","listbox"],[1,"selected-group-header"],["key","icon_caret_left","color","inherit"],["mat-list-item","",3,"click",4,"ngIf"],["role","option",3,"click",4,"ngFor","ngForOf"],[3,"state"],["role","option",3,"click"]],template:function(ae,Se){1&ae&&(e.TgZ(0,"slides",0)(1,"slide")(2,"mat-action-list"),e.YNc(3,ue,4,3,"button",1),e.qZA()(),e.TgZ(4,"slide"),e.YNc(5,ze,2,1,"ng-container",2),e.qZA()()),2&ae&&(e.Q6J("selectedIndex",Se.getSelectedGroup()?1:0),e.xp6(3),e.Q6J("ngForOf",Se.groupedEntities),e.xp6(2),e.Q6J("ngIf",Se.getSelectedGroup()))},directives:[Ce.o,ye.o,le.i$,R.sg,le.Tg,j,h.o,R.O5,M.d,re],pipes:[q.X],styles:["[_nghost-%COMP%]{flex:1 1 auto}slides[_ngcontent-%COMP%]{max-height:256px;height:100%}slides[_ngcontent-%COMP%]    >*{height:100%}mat-action-list[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.group-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}.selected-group-header[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:flex;align-items:center;flex:1 1 auto}entity-picker-group-label[_ngcontent-%COMP%]{flex:1 1 auto}"],changeDetection:0}),Ae})();function ht(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"entity-picker-desktop",2),e.NdJ("activeDescendantChange",function(it){return e.CHM(ae),e.oxw().activeDescendantChange.emit(it)}),e.qZA()}}function xe(Ae,Ee){1&Ae&&e._UZ(0,"entity-picker-mobile")}let Ne=(()=>{class Ae{constructor(){this.activeDescendantChange=new e.vpe}}return Ae.\u0275fac=function(ae){return new(ae||Ae)},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["entity-picker"]],outputs:{activeDescendantChange:"activeDescendantChange"},decls:2,vars:2,consts:[[3,"activeDescendantChange",4,"ifBreakpoint"],[4,"ifBreakpoint"],[3,"activeDescendantChange"]],template:function(ae,Se){1&ae&&(e.YNc(0,ht,1,0,"entity-picker-desktop",0),e.YNc(1,xe,1,0,"entity-picker-mobile",1)),2&ae&&(e.Q6J("ifBreakpoint","desktop"),e.xp6(1),e.Q6J("ifBreakpoint","mobile"))},directives:[P.G,X,tt],styles:["[_nghost-%COMP%]{display:flex;background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;border-radius:3px}"],changeDetection:0}),Ae})();var be=t(55751),se=t(74160);function Oe(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"mat-list-item",11),e.NdJ("click",function(){e.CHM(ae);const it=e.oxw().$implicit;return e.oxw(3).checkboxClick(it.originalObject)}),e.TgZ(1,"entity-picker-label-with-checkbox",12),e._uU(2),e._UZ(3,"icon",13)(4,"span",14),e.qZA()()}if(2&Ae){const ae=e.oxw(),Se=ae.index,it=ae.$implicit,rt=e.oxw(3);e.ekj("active",Se===rt.getActiveItemIndex()),e.Q6J("scrollToElementInContainer",Se===rt.getActiveItemIndex())("id",rt.getOptionId(it.originalObject)),e.uIk("aria-selected",rt.getEntityAriaSelected(it.originalObject.identifier)),e.xp6(1),e.Q6J("state",rt.getEntityCheckedState(it.originalObject.identifier)),e.xp6(1),e.hij(" ",it.originalObject.parentIdentifier.value," "),e.xp6(2),e.Q6J("innerHtml",it.highlighted,e.oJD)}}function Re(Ae,Ee){if(1&Ae&&(e.ynx(0),e.YNc(1,Oe,5,8,"mat-list-item",10),e.BQk()),2&Ae){const ae=Ee.$implicit,Se=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Se.isEntityWithParent(ae.originalObject))}}function ot(Ae,Ee){if(1&Ae&&(e.TgZ(0,"mat-action-list",6)(1,"h6",7),e.SDv(2,8),e.qZA(),e.YNc(3,Re,2,1,"ng-container",9),e.qZA()),2&Ae){const ae=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",ae.sortedOptions)}}function Ge(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(ae);const it=e.oxw().$implicit;return e.oxw(3).groupSelect.emit(it.originalObject.uuid)}),e.TgZ(1,"label-with-icon",18),e._UZ(2,"span",14),e.qZA()()}if(2&Ae){const ae=e.oxw(),Se=ae.index,it=ae.$implicit,rt=e.oxw(3);e.ekj("active",Se===rt.getActiveItemIndex()),e.Q6J("id",rt.getOptionId(it.originalObject))("scrollToElementInContainer",Se===rt.getActiveItemIndex()),e.xp6(1),e.Q6J("iconAfter",!0),e.xp6(1),e.Q6J("innerHtml",it.highlighted,e.oJD)}}function pt(Ae,Ee){if(1&Ae&&(e.ynx(0),e.YNc(1,Ge,3,6,"button",16),e.BQk()),2&Ae){const ae=Ee.$implicit,Se=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!Se.isEntityWithParent(ae.originalObject))}}function We(Ae,Ee){if(1&Ae&&(e.TgZ(0,"mat-action-list")(1,"h6",7),e.SDv(2,15),e.qZA(),e.YNc(3,pt,2,1,"ng-container",9),e.qZA()),2&Ae){const ae=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",ae.sortedOptions)}}function Ze(Ae,Ee){1&Ae&&(e.TgZ(0,"div",19)(1,"span"),e._UZ(2,"icon",20)(3,"icon",21),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span"),e._UZ(7,"icon",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span"),e._UZ(11,"icon",23),e._uU(12),e.ALo(13,"translate"),e.qZA()()),2&Ae&&(e.xp6(4),e.hij(" ",e.lcZ(5,3,"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_TYPEAHEAD_RESULTS.TO_NAVIGATE")," "),e.xp6(4),e.hij(" ",e.lcZ(9,5,"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_TYPEAHEAD_RESULTS.TO_SELECT")," "),e.xp6(4),e.hij(" ",e.lcZ(13,7,"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_TYPEAHEAD_RESULTS.TO_DISMISS")," "))}function De(Ae,Ee){if(1&Ae&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,ot,4,1,"mat-action-list",3),e.YNc(3,We,4,1,"mat-action-list",4),e.qZA(),e.YNc(4,Ze,14,9,"div",5),e.BQk()),2&Ae){const ae=e.oxw();e.xp6(2),e.Q6J("ngIf",ae.hasEntities),e.xp6(1),e.Q6J("ngIf",ae.hasGroups),e.xp6(1),e.Q6J("ifBreakpoint","desktop")}}const we=function(Ae){return{search:Ae}};function Ue(Ae,Ee){if(1&Ae&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&Ae){const ae=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_TYPEAHEAD_RESULTS.NO_RESULTS_FOUND",e.VKq(4,we,ae.search))," ")}}let dt=(()=>{class Ae{constructor(ae,Se,it){this.entitiesSelectionService=ae,this.changeDetectorRef=Se,this.groupSelect=new e.vpe,this.activeDescendantChange=new e.vpe,this.groups=[],this.hasEntities=!1,this.hasGroups=!1,this.sortedOptions=[],this.onDestroy=new E.xQ,this.actionListKeyManager=new G([]),this.setupActionListKeyManager(),it.overlayKeydown.asObservable().pipe((0,v.R)(this.onDestroy)).subscribe(rt=>this.actionListKeyManager.onKeydown(rt)),this.actionListKeyManager.change$.pipe((0,v.R)(this.onDestroy)).subscribe(rt=>this.activeDescendantChange.emit(this.getActiveDescendant()))}ngOnChanges(ae){if(ae.entityList&&(this.groups=this.getGroups()),ae.search){const Se=this.getSortedWithHighlights(this.entityList,"identifier","value"),it=this.getSortedWithHighlights(this.groups,"value");this.hasEntities=!!Se.length,this.hasGroups=!!it.length,this.sortedOptions=[...Se,...it],this.actionListKeyManager.updateItems(this.sortedOptions.map(rt=>rt.originalObject))}}ngOnDestroy(){this.onDestroy.next()}isEntityWithParent(ae){return ae&&ae.hasOwnProperty("identifier")&&ae.hasOwnProperty("parentIdentifier")}getEntityCheckedState(ae){return this.entitiesSelectionService.getIsEntityChecked(ae)?"checked":"unchecked"}getEntityAriaSelected(ae){return this.entitiesSelectionService.getIsEntityChecked(ae)?"true":"false"}checkboxClick(ae){this.actionListKeyManager.setActiveItem(ae),this.toggleChecked(ae.identifier)}getActiveItemIndex(){return this.actionListKeyManager.activeItemIndex}getOptionId(ae){const Se="typeahead-options-";return this.isEntityWithParent(ae)?`${Se}${ae.parentIdentifier.uuid}_${ae.identifier.uuid}`:`${Se}${ae.uuid}`}getActiveDescendant(){const ae=this.actionListKeyManager.activeItem;return ae&&this.getOptionId(ae)}getGroups(){const ae=new Map;for(const Se of this.entityList)ae.has(Se.parentIdentifier.uuid)||ae.set(Se.parentIdentifier.uuid,Se.parentIdentifier);return Array.from(ae.values())}setupActionListKeyManager(){this.actionListKeyManager.enter$.pipe((0,v.R)(this.onDestroy)).subscribe(ae=>{var Se;const it=null===(Se=this.sortedOptions[ae])||void 0===Se?void 0:Se.originalObject;it&&(this.isEntityWithParent(it)?this.toggleChecked(it.identifier):this.groupSelect.emit(it.uuid)),this.changeDetectorRef.markForCheck()}),this.actionListKeyManager.change$.pipe((0,v.R)(this.onDestroy)).subscribe(ae=>this.changeDetectorRef.markForCheck())}getSortedWithHighlights(ae,...Se){return be.go(this.search,ae,{key:Se.join("."),limit:15}).map(it=>({originalObject:it.obj,highlighted:be.highlight(it)||""})).filter(it=>it.highlighted)}toggleChecked(ae){this.entitiesSelectionService.toggleCheckedEntity(ae)}}return Ae.\u0275fac=function(ae){return new(ae||Ae)(e.Y36(S),e.Y36(e.sBO),e.Y36(x.pI))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["entity-typeahead-results"]],inputs:{entityList:"entityList",search:"search"},outputs:{groupSelect:"groupSelect",activeDescendantChange:"activeDescendantChange"},features:[e.TTD],decls:3,vars:2,consts:function(){let Ee,ae;return Ee=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,ae=$localize`:␟c22ba03540aa3217da059f45e7eab138b51a96e2␟5944812089887969249:Groups`,[[4,"ngIf","ngIfElse"],["noResults",""],[1,"scrollable"],["role","listbox",4,"ngIf"],[4,"ngIf"],["class","navigation-info",4,"ifBreakpoint"],["role","listbox"],["matSubheader",""],Ee,[4,"ngFor","ngForOf"],["role","option",3,"scrollToElementInContainer","active","id","click",4,"ngIf"],["role","option",3,"scrollToElementInContainer","id","click"],[3,"state"],["key","icon_caret_right","color","accent"],[3,"innerHtml"],ae,["mat-list-item","",3,"id","scrollToElementInContainer","active","click",4,"ngIf"],["mat-list-item","",3,"id","scrollToElementInContainer","click"],["iconKey","icon_caret_right","iconColor","accent",3,"iconAfter"],[1,"navigation-info"],["key","icon_arrow_up"],["key","icon_arrow_down"],["key","icon_keyboard_return"],["key","icon_esc"],[1,"no-results"]]},template:function(ae,Se){if(1&ae&&(e.YNc(0,De,5,3,"ng-container",0),e.YNc(1,Ue,3,6,"ng-template",null,1,e.W1O)),2&ae){const it=e.MAs(2);e.Q6J("ngIf",Se.sortedOptions.length)("ngIfElse",it)}},directives:[R.O5,le.i$,le.gs,R.sg,le.Tg,V.N,re,h.o,se.d,P.G],pipes:[q.X],styles:["[_nghost-%COMP%]{background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:256px;display:flex;flex-direction:column}.scrollable[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;position:relative}.mat-list-base[_ngcontent-%COMP%]   h6.mat-subheader[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif}entity-picker-label-with-checkbox[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{vertical-align:middle}entity-picker-label-with-checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]  b{font-weight:500}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}.navigation-info[_ngcontent-%COMP%]{border-top-style:solid;border-top-width:1px;border-color:#0000001f;font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;padding:4px 8px;display:flex}.navigation-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.navigation-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){margin-left:48px}.navigation-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{vertical-align:bottom}.no-results[_ngcontent-%COMP%]{padding:16px;font-size:16px;line-height:24px;color:#666;letter-spacing:.3px;font-weight:400;font-family:Roboto,Arial,sans-serif}.active[_ngcontent-%COMP%]{background-color:#ebf7fb}"],changeDetection:0}),Ae})();const st=["formField"];function Tt(Ae,Ee){1&Ae&&e._UZ(0,"mat-spinner",8),2&Ae&&e.Q6J("diameter",16)}function St(Ae,Ee){if(1&Ae&&e._UZ(0,"icon",9),2&Ae){const ae=e.oxw();e.Q6J("key",ae.icon)}}function bt(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"entity-picker",14),e.NdJ("activeDescendantChange",function(it){return e.CHM(ae),e.oxw(3).setActiveDescendant(it)}),e.qZA()}}function kt(Ae,Ee){if(1&Ae){const ae=e.EpF();e.TgZ(0,"entity-typeahead-results",15),e.NdJ("groupSelect",function(it){return e.CHM(ae),e.oxw(3).onGroupSelect(it)})("activeDescendantChange",function(it){return e.CHM(ae),e.oxw(3).setActiveDescendant(it)}),e.qZA()}if(2&Ae){const ae=e.oxw().ngIf,Se=e.oxw(2);e.Q6J("entityList",ae)("search",Se.inputValue)}}function Ut(Ae,Ee){if(1&Ae&&(e.TgZ(0,"div",11),e.ALo(1,"async"),e.YNc(2,bt,1,0,"entity-picker",12),e.ALo(3,"async"),e.YNc(4,kt,1,2,"entity-typeahead-results",13),e.ALo(5,"async"),e.qZA()),2&Ae){const ae=e.oxw(2);e.Q6J("id",ae.entityGroupedByParentId),e.uIk("role",e.lcZ(1,4,ae.overlayRole$)),e.xp6(2),e.Q6J("ngIf","picker"===e.lcZ(3,6,ae.resultsMode$)),e.xp6(2),e.Q6J("ngIf","typeahead"===e.lcZ(5,8,ae.resultsMode$))}}function nn(Ae,Ee){if(1&Ae&&(e.YNc(0,Ut,6,10,"div",10),e.ALo(1,"async")),2&Ae){const ae=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,ae.entityList$))}}let _t=0,de=(()=>{class Ae{constructor(ae,Se,it,rt,Dt,Vt){this.entitiesGroupedByParentService=ae,this.metadataService=Se,this.toastService=it,this.breakpointService=rt,this.entitiesSelectionService=Dt,this.changeDetectorRef=Vt,this.icon="icon_search",this.selectionChange=new e.vpe,this.loading$=new p.X(!1),this.formControl=new i.NI,this.inputValue="",this.entityGroupedByParentId="entity-grouped-by-parent-"+_t++,this.resultsModeSubject=new p.X("none"),this.onDestroy=new E.xQ}ngOnInit(){this.resultsMode$=this.resultsModeSubject.pipe((0,l.x)()),this.overlayWidth$=this.resultsMode$.pipe((0,r.M)(this.breakpointService.isSize$("mobile")),(0,o.U)(([ae,Se])=>Se&&"none"!==ae&&this.formFieldRef?this.formFieldRef.nativeElement.offsetWidth:void 0)),this.entityList$=(0,a.of)(void 0).pipe((0,d.b)(ae=>this.loading$.next(!0)),(0,n.c)(this.entitiesGroupedByParentService.getEntitiesWithParentField$(this.collectionId,this.parentFieldId)),(0,d.b)(ae=>this.initSelectionService(ae)),(0,g.K)(ae=>(0,a.of)(void 0)),(0,d.b)(ae=>!ae&&this.showErrorToast()),(0,d.b)(ae=>this.loading$.next(!1))),this.formControl.valueChanges.pipe((0,f.b)(400),(0,r.M)(this.resultsMode$),(0,m.h)(([ae,Se])=>"none"!==Se),(0,d.b)(([ae,Se])=>this.resultsModeSubject.next(ae?"typeahead":"picker")),(0,o.U)(([ae,Se])=>ae),(0,v.R)(this.onDestroy)).subscribe(ae=>{this.inputValue=ae,this.changeDetectorRef.markForCheck()}),this.entitiesSelectionService.selectionChange.asObservable().pipe((0,v.R)(this.onDestroy)).subscribe(ae=>this.selectionChange.emit(ae)),this.overlayRole$=this.resultsMode$.pipe((0,m.h)(ae=>"none"!==ae),(0,o.U)(ae=>"picker"===ae?"tree":"listbox"))}ngOnDestroy(){this.onDestroy.next()}onFocus(){this.resultsModeSubject.next(this.formControl.value?"typeahead":"picker")}onOverlayDetach(){this.setActiveDescendant(void 0),this.formControl.reset(),this.loading$.next(!1),this.resultsModeSubject.next("none")}onGroupSelect(ae){this.entitiesSelectionService.setSelectedGroup(ae),this.resultsModeSubject.next("picker")}setActiveDescendant(ae){this.activeDescendant=ae}initSelectionService(ae){this.entitiesSelectionService.setSelectedEntities(this.selectedValues,ae),this.entitiesSelectionService.setGroupedEntitiesList(ae)}showErrorToast(){const ae=this.metadataService.getEntityDef(this.collectionId);this.toastService.showSimpleToast("CBL.ENTITY_GROUPED_BY_PARENT.NO_RESULTS_FOUND",{entityLabel:(null==ae?void 0:ae.labels.plural)||""})}}return Ae.\u0275fac=function(ae){return new(ae||Ae)(e.Y36(c.Y),e.Y36(C.Do),e.Y36(_.k),e.Y36(u.r),e.Y36(S),e.Y36(e.sBO))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["entity-grouped-by-parent-input"]],viewQuery:function(ae,Se){if(1&ae&&e.Gf(st,5,e.SBq),2&ae){let it;e.iGM(it=e.CRH())&&(Se.formFieldRef=it.first)}},inputs:{collectionId:"collectionId",parentFieldId:"parentFieldId",selectedValues:"selectedValues",placeholder:"placeholder",appearance:"appearance",icon:"icon"},outputs:{selectionChange:"selectionChange"},features:[e._Bn([S])],decls:16,vars:29,consts:[["role","combobox"],["cdkOverlayOrigin","","floatLabel","never",3,"appearance"],["formField","","overlayOrigin","cdkOverlayOrigin"],["matPrefix",""],[3,"diameter",4,"ngIf"],["size","large",3,"key",4,"ngIf"],["matInput","","type","text","role","searchbox","autocomplete","off",3,"formControl","placeholder","focus"],["overlayAutoClose","","cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","detach"],[3,"diameter"],["size","large",3,"key"],["aria-multiselectable","true",3,"id",4,"ngIf"],["aria-multiselectable","true",3,"id"],[3,"activeDescendantChange",4,"ngIf"],[3,"entityList","search","groupSelect","activeDescendantChange",4,"ngIf"],[3,"activeDescendantChange"],[3,"entityList","search","groupSelect","activeDescendantChange"]],template:function(ae,Se){if(1&ae&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.ALo(2,"async"),e.TgZ(3,"mat-form-field",1,2)(6,"div",3),e.YNc(7,Tt,1,1,"mat-spinner",4),e.ALo(8,"async"),e.YNc(9,St,1,1,"icon",5),e.ALo(10,"async"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("focus",function(){return Se.onFocus()}),e.ALo(12,"async"),e.qZA()()(),e.YNc(13,nn,2,3,"ng-template",7),e.ALo(14,"async"),e.ALo(15,"async"),e.NdJ("detach",function(){return Se.onOverlayDetach()})),2&ae){const it=e.MAs(5);e.uIk("aria-haspopup",e.lcZ(1,15,Se.overlayRole$))("aria-expanded","none"!==e.lcZ(2,17,Se.resultsMode$))("aria-owns",Se.entityGroupedByParentId),e.xp6(3),e.ekj("cb-form-field-outlined","outline"===Se.appearance),e.Q6J("appearance",Se.appearance),e.xp6(4),e.Q6J("ngIf",e.lcZ(8,19,Se.loading$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(10,21,Se.loading$)),e.xp6(2),e.Q6J("formControl",Se.formControl)("placeholder",Se.placeholder),e.uIk("aria-controls","none"!==e.lcZ(12,23,Se.resultsMode$)?Se.entityGroupedByParentId:void 0)("aria-activedescendant",Se.activeDescendant),e.xp6(2),e.Q6J("cdkConnectedOverlayOrigin",it)("cdkConnectedOverlayWidth",e.lcZ(14,25,Se.overlayWidth$))("cdkConnectedOverlayOpen","none"!==e.lcZ(15,27,Se.resultsMode$))}},directives:[A.KE,x.xu,A.qo,R.O5,s.Ou,h.o,H.Nt,i.Fj,i.JJ,i.oH,K.K,x.pI,Ne,dt],pipes:[R.Ov],styles:["[_nghost-%COMP%]  .mat-form-field-prefix{height:18px;width:18px;transform:translateY(2px);margin-right:8px}mat-form-field[_ngcontent-%COMP%]{width:100%}entity-picker[_ngcontent-%COMP%], entity-typeahead-results[_ngcontent-%COMP%]{min-width:100%}"],changeDetection:0}),Ae})()},3542:(ne,b,t)=>{t.d(b,{j:()=>k});var e=t(3184),i=t(90587),u=t(92218),c=t(45398),C=t(64139),_=t(59151),p=t(88759),E=t(12972),a=t(53298),l=t(59095),r=t(86942),o=t(85921),d=t(47418),n=t(50767),g=t(97010),f=t(46179),m=t(44770),v=t(36362),y=t(84647),S=t(74742),A=t(32478),x=t(43365),R=t(43188),s=t(87317),h=t(1130),H=t(40361),K=t(74929);const P=["input"];function z(w,Q){if(1&w&&e._UZ(0,"field-label",13),2&w){const $=e.oxw();e.Q6J("label",$.label)("isSubfield",$.isSubfield)("isRequired",$.isRequired)("isDisabled",$.isDisabled)("disabledTooltip",$.disabledTooltip)}}function ee(w,Q){1&w&&e._UZ(0,"mat-spinner",14),2&w&&e.Q6J("diameter",16)}function Z(w,Q){if(1&w&&e._UZ(0,"icon",15),2&w){const $=e.oxw();e.Q6J("key",$.icon)}}const G=function(w){return{"entity-input-clear-hide":w}};function J(w,Q){if(1&w){const $=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(Ce){return e.CHM($),e.oxw().clearInput(Ce)}),e.ALo(2,"translate"),e._UZ(3,"icon",18),e.qZA()()}if(2&w){const $=e.oxw();e.Q6J("ngClass",e.VKq(4,G,!$.userInput||!$.userInput.length)),e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"CBL.EDIT.REVERT.REVERT_FIELDS"))}}function le(w,Q){if(1&w&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&w){const $=Q.$implicit;e.xp6(1),e.hij(" ",$," ")}}function V(w,Q){if(1&w&&e._UZ(0,"div",25),2&w){const $=e.oxw().$implicit;e.Q6J("useIdentifierImgStyle",!0)("imgSrc",$.imageSrc)}}function j(w,Q){if(1&w&&(e.TgZ(0,"span")(1,"span",26),e._uU(2),e.qZA()()),2&w){const $=e.oxw().$implicit;e.xp6(2),e.hij(" ",$.description," ")}}function M(w,Q){1&w&&(e.TgZ(0,"div",27)(1,"button",28),e.ALo(2,"translate"),e._UZ(3,"icon",29),e.qZA()()),2&w&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,1,"CBL.COMMON.ADD")))}const ie=function(w){return{singleRowNoIcons:w}};function te(w,Q){if(1&w&&(e.TgZ(0,"mat-option",19)(1,"div",20),e.YNc(2,V,1,2,"div",21),e.TgZ(3,"div",22)(4,"span"),e._uU(5),e.qZA(),e.YNc(6,j,3,1,"span",23),e.qZA(),e.YNc(7,M,4,3,"div",24),e.qZA()()),2&w){const $=Q.$implicit,X=e.oxw();e.Q6J("ngClass",e.VKq(6,ie,!(X.showImage||X.showDescription&&$.description||X.showAdd)))("value",$),e.xp6(2),e.Q6J("ngIf",X.showImage),e.xp6(3),e.hij(" ",$.label," "),e.xp6(1),e.Q6J("ngIf",X.showDescription&&$.description),e.xp6(1),e.Q6J("ngIf",X.showAdd)}}const re=function(w){return{search:w}};function q(w,Q){if(1&w&&(e.TgZ(0,"mat-option",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w){const $=e.oxw();e.Q6J("disabled",!0),e.xp6(1),e.hij(" ",e.xi3(2,2,"CBL.INPUTS.NO_RESULTS_MATCHING",e.VKq(5,re,$.userInput))," ")}}const U=function(w){return{"cb-form-field-outlined":w}};let k=(()=>{class w{constructor($,X,Ce,ye){this.autocompleteService=$,this.changeDetectorRef=X,this.imageService=Ce,this.toastService=ye,this.icon="icon_search",this.showImage=!0,this.showAdd=!0,this.showDescriptionEntityDef=!0,this.showDescription=!0,this.clearButton=!0,this.disableDefaultResults=!1,this.isSubfield=!1,this.isRequired=!1,this.isDisabled=!1,this.disabledTooltip="",this.errors=[],this.chosenEntity=new e.vpe,this.entityInput=new i.NI,this.loading=!1,this.hasNewInput=!1,this.onDestroy=new u.xQ}ngOnInit(){this.listenForInputChanges()}ngOnChanges($){$.isDisabled&&this.setIsDisabled(),($.parentId||$.collectionIds)&&(this.results=void 0,this.defaultResults=void 0,this.entityInput.setValue(w.EMPTY_STRING))}ngOnDestroy(){this.onDestroy.next()}focus(){this.input.nativeElement.focus()}onFocus($){this.entityInput.setValue(w.EMPTY_STRING)}clearInput($){this.entityInput.setValue(w.EMPTY_STRING)}getImageSrc($){return this.imageService.getPublicImageUrl($,{width:"30",height:"30",transparent:!1})}chooseEntity($){const X=$.option.value;this.autocompleteService.cacheEntity(X.model),this.chosenEntity.emit(X.model),this.entityInput.setValue(w.EMPTY_STRING),this.input.nativeElement.blur()}getDescription($){const X=[];if(this.showDescriptionEntityDef){const ye=this.autocompleteService.getEntityDefLabel($.identifier.entity_def_id);X.push(ye)}$.short_description&&X.push($.short_description);const Ce=X.join(" \u2022 ");return Ce.length?Ce:void 0}displayWith($){return(null==$?void 0:$.label)||""}listenForInputChanges(){this.entityInput.valueChanges.pipe((0,_.h)($=>"string"==typeof $),(0,p.b)($=>{this.hasNewInput=!0,this.userInput=$}),(0,E.D)($=>(0,c.H)($===w.EMPTY_STRING?0:w.INPUT_DEBOUNCE_TIME)),(0,a.x)(($,X)=>X!==w.EMPTY_STRING&&$===X),(0,p.b)($=>{this.loading=!0,this.changeDetectorRef.markForCheck()}),(0,l.w)($=>this.autocompleteResults$($)),(0,r.U)($=>$.filter(X=>!this.entityIsExcluded(X))),(0,o.R)(this.onDestroy)).subscribe($=>{this.loading=!1,this.hasNewInput=!1,this.results=$,this.changeDetectorRef.markForCheck()})}autocompleteResults$($){var X;const Ce=$===w.EMPTY_STRING,ue=Ce&&!this.disableDefaultResults&&(null===(X=this.defaultResults)||void 0===X?void 0:X.length),Me=Ce&&!this.disableDefaultResults;return Ce&&this.disableDefaultResults?(0,C.of)([]):ue&&this.defaultResults?(0,C.of)(this.defaultResults):this.querySearch($).pipe((0,p.b)(me=>this.defaultResults=Me?me:this.defaultResults))}querySearch($){return this.autocompleteService.query$({inputValue:$,collectionIds:this.collectionIds,parentId:this.parentId,limit:n.y.QUERY_LIMIT}).pipe((0,r.U)(X=>(X.entities||[]).map(Ce=>({label:Ce.identifier.value||"",description:this.getDescription(Ce),imageSrc:this.getImageSrc(Ce.identifier.image_id),uuid:Ce.identifier.uuid,model:Ce}))),(0,d.K)(X=>(this.toastService.showSimpleToast("CBL.COMMON.FAILURE"),(0,C.of)([]))))}setIsDisabled(){this.isDisabled?this.entityInput.disable():this.entityInput.enable()}entityIsExcluded($){var X;return!!(null===(X=this.excludedUuids)||void 0===X?void 0:X.includes($.uuid))}}return w.EMPTY_STRING="",w.INPUT_DEBOUNCE_TIME=400,w.\u0275fac=function($){return new($||w)(e.Y36(n.y),e.Y36(e.sBO),e.Y36(g.AJ),e.Y36(f.k))},w.\u0275cmp=e.Xpm({type:w,selectors:[["entity-input"]],viewQuery:function($,X){if(1&$&&e.Gf(P,7),2&$){let Ce;e.iGM(Ce=e.CRH())&&(X.input=Ce.first)}},inputs:{floatLabel:"floatLabel",label:"label",ariaLabel:"ariaLabel",placeholder:"placeholder",collectionIds:"collectionIds",parentId:"parentId",icon:"icon",showImage:"showImage",showAdd:"showAdd",showDescriptionEntityDef:"showDescriptionEntityDef",showDescription:"showDescription",appearance:"appearance",clearButton:"clearButton",disableDefaultResults:"disableDefaultResults",dropdownOrigin:"dropdownOrigin",isSubfield:"isSubfield",isRequired:"isRequired",isDisabled:"isDisabled",disabledTooltip:"disabledTooltip",excludedUuids:"excludedUuids",errors:"errors"},outputs:{chosenEntity:"chosenEntity"},features:[e.TTD],decls:13,vars:19,consts:[[3,"floatLabel","appearance","ngClass"],[3,"label","isSubfield","isRequired","isDisabled","disabledTooltip",4,"ngIf"],["matPrefix",""],[3,"diameter",4,"ngIf"],["size","large",3,"key",4,"ngIf"],["type","search","autocomplete","off","matInput","",3,"formControl","matAutocomplete","matAutocompleteConnectedTo","placeholder","required","focus"],["input",""],["matSuffix","",3,"ngClass",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"entity-input-autocomplete-panel",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","entityInputMenuOption input-autocomplete",3,"ngClass","value",4,"ngFor","ngForOf"],["class","entity-input-no-results",3,"disabled",4,"ngIf"],[3,"label","isSubfield","isRequired","isDisabled","disabledTooltip"],[3,"diameter"],["size","large",3,"key"],["matSuffix","",3,"ngClass"],["mat-icon-button","","type","button",3,"click"],["key","icon_close_knockout_round","size","large"],[1,"entityInputMenuOption","input-autocomplete",3,"ngClass","value"],[1,"autocomplete-item","entity-ui-model-content"],["class","entity-ui-model-image","lazyLoadImage","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"entityInfo","entity-ui-model-label"],[4,"ngIf"],["class","add",4,"ngIf"],["lazyLoadImage","",1,"entity-ui-model-image",3,"useIdentifierImgStyle","imgSrc"],[1,"contextual-info"],[1,"add"],["mat-button","",1,"mat-icon-button"],["key","icon_add_circle"],[1,"entity-input-no-results",3,"disabled"]],template:function($,X){if(1&$&&(e.TgZ(0,"mat-form-field",0),e.YNc(1,z,1,5,"field-label",1),e.TgZ(2,"div",2),e.YNc(3,ee,1,1,"mat-spinner",3),e.YNc(4,Z,1,1,"icon",4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("focus",function(ye){return X.onFocus(ye)}),e.qZA(),e.YNc(7,J,4,6,"div",7),e.YNc(8,le,2,1,"mat-error",8),e.qZA(),e.TgZ(9,"mat-autocomplete",9,10),e.NdJ("optionSelected",function(ye){return X.chooseEntity(ye)}),e.YNc(11,te,8,8,"mat-option",11),e.YNc(12,q,3,7,"mat-option",12),e.qZA()),2&$){const Ce=e.MAs(10);e.Q6J("floatLabel",X.floatLabel)("appearance",X.appearance)("ngClass",e.VKq(17,U,"outline"===X.appearance)),e.xp6(1),e.Q6J("ngIf",X.label),e.xp6(2),e.Q6J("ngIf",X.loading),e.xp6(1),e.Q6J("ngIf",!X.loading),e.xp6(1),e.Q6J("formControl",X.entityInput)("matAutocomplete",Ce)("matAutocompleteConnectedTo",X.dropdownOrigin)("placeholder",X.placeholder)("required",X.isRequired),e.uIk("aria-label",X.ariaLabel),e.xp6(2),e.Q6J("ngIf",X.clearButton),e.xp6(1),e.Q6J("ngForOf",X.errors),e.xp6(1),e.Q6J("displayWith",X.displayWith),e.xp6(2),e.Q6J("ngForOf",X.results),e.xp6(1),e.Q6J("ngIf",!X.hasNewInput&&!X.loading&&X.userInput&&0===(null==X.results?null:X.results.length))}},directives:[m.KE,v.mk,v.O5,y.t,m.qo,S.Ou,A.o,x.Nt,i.Fj,R.ZL,i.JJ,i.oH,i.Q7,m.R9,s.lW,v.sg,m.TO,R.XC,h.ey,H.z],pipes:[K.X],styles:["entity-input{display:inline-block}entity-input .mat-form-field{display:block}entity-input .mat-form-field-prefix{margin-right:8px;height:18px;width:18px;transform:translateY(2px)}entity-input .entity-input-clear-hide{visibility:hidden}.entity-ui-model-content{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.entity-ui-model-content>*{max-width:100%;box-sizing:border-box}.entity-ui-model-content .entity-ui-model-image{flex:0 0 auto;box-sizing:border-box}.entity-ui-model-content .entity-ui-model-label{flex:1;box-sizing:border-box}.entity-ui-model-content .entity-ui-model-label>span{display:block}.entity-ui-model-content .entity-ui-model-label>span>span{flex:1;box-sizing:border-box}.entity-input-no-results{font-size:14px}.entityInputMenuOption.singleRowNoIcons{font-size:14px!important;line-height:24px!important;height:24px!important}.mat-autocomplete-panel.entity-input-autocomplete-panel{flex:0 0 auto}@media (min-width: 960px){.mat-autocomplete-panel.entity-input-autocomplete-panel{width:500px}}\n"],encapsulation:2,changeDetection:0}),w})()},84647:(ne,b,t)=>{t.d(b,{t:()=>E});var e=t(3184),i=t(36362),u=t(32478),c=t(40089);function C(a,l){1&a&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function _(a,l){if(1&a&&e._UZ(0,"icon",4),2&a){const r=e.oxw();e.Q6J("matTooltip",r.disabledTooltip)}}const p=function(a){return{isFocused:a}};let E=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["field-label"]],inputs:{label:"label",isRequired:"isRequired",isDisabled:"isDisabled",isFocused:"isFocused",isSubfield:"isSubfield",disabledTooltip:"disabledTooltip"},decls:4,vars:6,consts:[[1,"component--field-label",3,"ngClass"],["class","isRequired",4,"ngIf"],["key","icon_lock","size","large","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],[1,"isRequired"],["key","icon_lock","size","large","matTooltipPosition","above",3,"matTooltip"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0),e._uU(1),e.YNc(2,C,2,0,"span",1),e.YNc(3,_,1,1,"icon",2),e.qZA()),2&r&&(e.Q6J("ngClass",e.VKq(4,p,o.isFocused)),e.xp6(1),e.hij(" ",o.label," "),e.xp6(1),e.Q6J("ngIf",o.isRequired),e.xp6(1),e.Q6J("ngIf",o.isDisabled&&o.disabledTooltip))},directives:[i.mk,i.O5,u.o,c.gM],styles:[".component--field-label{color:#0000008a;transition:color .1s;font-size:12px;margin-bottom:4px}.component--field-label .isRequired{font-weight:500;color:#c73636}.component--field-label.isFocused,.mat-focused .component--field-label{color:#146aff}.mat-form-field-invalid .component--field-label{color:#c73636}\n"],encapsulation:2}),a})()},48611:(ne,b,t)=>{t.d(b,{y:()=>y});var e=t(36362),i=t(90587),u=t(90898),c=t(35503),C=t(68881),_=t(89250),p=t(32519),E=t(40577),a=t(32313),l=t(20902),r=t(85495),o=t(89248),d=t(54596),n=t(20715),g=t(3184);let f=(()=>{class S{}return S.\u0275fac=function(x){return new(x||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({imports:[[e.ez,u.q,p.n,c.Dt,i.UX,a.H,r.E,o.S,d.p,n.W]]}),S})();var m=t(3259),v=t(83447);let y=(()=>{class S{}return S.\u0275fac=function(x){return new(x||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({imports:[[e.ez,u.q,i.u5,i.UX,c.Dt,_.S,C.N,p.n,E.C,a.H,l.n,f,m.u,v.E],f,m.u]}),S})()},72994:(ne,b,t)=>{t.d(b,{H:()=>j});var e=t(3184),i=t(90587),u=t(45398),c=t(64139),C=t(53298),_=t(59151),p=t(88759),E=t(12972),a=t(59095),l=t(86942),r=t(93443),o=t(35560),d=t(55751),g=t(44770),f=t(36362),m=t(84647),v=t(74742),y=t(32478),S=t(43365),A=t(43188),x=t(1130),R=t(87317),s=t(74929);const h=["input"];function H(M,ie){if(1&M&&e._UZ(0,"field-label",13),2&M){const te=e.oxw();e.Q6J("label",te.label)("isRequired",te.isRequired)("isDisabled",te.isDisabled)("disabledTooltip",te.disabledTooltip)}}function K(M,ie){1&M&&e._UZ(0,"mat-spinner",14),2&M&&e.Q6J("diameter",16)}function P(M,ie){if(1&M&&e._UZ(0,"icon",15),2&M){const te=e.oxw();e.Q6J("key",te.icon)}}function z(M,ie){if(1&M&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&M){const te=ie.$implicit;e.xp6(1),e.hij(" ",te," ")}}function ee(M,ie){1&M&&(e.TgZ(0,"button",20),e.ALo(1,"translate"),e._UZ(2,"icon",21),e.qZA()),2&M&&e.uIk("aria-label",e.lcZ(1,1,"CBL.COMMON.ADD"))}function Z(M,ie){if(1&M&&(e.TgZ(0,"mat-option",16)(1,"div",17)(2,"div",18),e._uU(3),e.qZA(),e.YNc(4,ee,3,3,"button",19),e.qZA()()),2&M){const te=ie.$implicit,re=e.oxw();e.ekj("has-designation",te.designation),e.Q6J("value",te),e.xp6(2),e.uIk("title",te.name),e.xp6(1),e.hij(" ",te.name," "),e.xp6(1),e.Q6J("ngIf",re.showAdd)}}const G=function(M){return{search:M}};function J(M,ie){if(1&M&&(e.TgZ(0,"mat-option",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&M){const te=e.oxw();e.Q6J("disabled",!0),e.xp6(1),e.hij(" ",e.xi3(2,2,"CBL.INPUTS.NO_RESULTS_MATCHING",e.VKq(5,G,te.userInput))," ")}}const le=function(M){return{"cb-form-field-outlined":M}},V=M=>M.designation?-1:1;let j=(()=>{class M{constructor(te,re){this.changeDetectorRef=te,this.listService=re,this.icon="icon_search",this.showAdd=!0,this.isRequired=!1,this.isDisabled=!1,this.disabledTooltip="",this.errors=[],this.chosenList=new e.vpe,this.listInput=new i.NI,this.loading=!1,this.hasNewInput=!1}ngOnInit(){this.listenForInputChanges()}ngOnChanges(te){te.isDisabled&&this.setIsDisabled()}focus(){this.input.nativeElement.focus()}onFocus(te){this.listInput.setValue(M.EMPTY_STRING)}clearInput(te){this.listInput.setValue(M.EMPTY_STRING)}chooseList(te){const re=te.option.value;(null==re?void 0:re.id)&&(this.chosenList.emit(re),this.listInput.setValue(M.EMPTY_STRING),this.input.nativeElement.blur())}displayWith(te){return(null==te?void 0:te.name)||""}getFilteredResults(){return this.filterExcludedUuids(this.results)}listenForInputChanges(){this.listInput.valueChanges.pipe((0,C.x)(),(0,_.h)(te=>"string"==typeof te),(0,p.b)(te=>{this.hasNewInput=!0,this.userInput=te}),(0,E.D)(te=>(0,u.H)(te===M.EMPTY_STRING?0:M.INPUT_DEBOUNCE_TIME)),(0,p.b)(te=>{this.loading=!0,this.changeDetectorRef.markForCheck()}),(0,a.w)(te=>{if(te!==M.EMPTY_STRING&&this.defaultResults){const q=d.go(te,this.defaultResults,{key:"name"});return(0,c.of)(q.map(U=>U.obj))}return this.defaultResults?(0,c.of)(this.defaultResults):this.getLists$().pipe((0,l.U)(q=>[...q].sort((U,k)=>V(U)-V(k))))})).subscribe(te=>{this.defaultResults=this.defaultResults||te,this.handleResultsSuccess(te)},te=>{this.handleResultsError()})}filterExcludedUuids(te){return this.excludedUuids&&this.excludedUuids.length>0&&te?te.filter(re=>{var q;return!(null===(q=this.excludedUuids)||void 0===q?void 0:q.includes(re.id))}):te}getLists$(){return this.listService.getLists$(r.BW.ListTypeEnum.static)}setIsDisabled(){this.isDisabled?this.listInput.disable():this.listInput.enable()}handleResultsSuccess(te){this.loading=!1,this.hasNewInput=!1,this.results=te,this.changeDetectorRef.markForCheck()}handleResultsError(){this.loading=!1,this.hasNewInput=!1,this.results=[],this.changeDetectorRef.markForCheck()}}return M.EMPTY_STRING="",M.INPUT_DEBOUNCE_TIME=400,M.\u0275fac=function(te){return new(te||M)(e.Y36(e.sBO),e.Y36(o.XN))},M.\u0275cmp=e.Xpm({type:M,selectors:[["list-input"]],viewQuery:function(te,re){if(1&te&&e.Gf(h,7),2&te){let q;e.iGM(q=e.CRH())&&(re.input=q.first)}},inputs:{floatLabel:"floatLabel",label:"label",placeholder:"placeholder",icon:"icon",showAdd:"showAdd",appearance:"appearance",isRequired:"isRequired",isDisabled:"isDisabled",disabledTooltip:"disabledTooltip",excludedUuids:"excludedUuids",errors:"errors"},outputs:{chosenList:"chosenList"},features:[e.TTD],decls:13,vars:18,consts:[[3,"floatLabel","appearance","ngClass"],[3,"label","isRequired","isDisabled","disabledTooltip",4,"ngIf"],["matPrefix",""],[3,"diameter",4,"ngIf"],["size","large",3,"key",4,"ngIf"],["type","search","autocomplete","off","matInput","",3,"formControl","matAutocomplete","placeholder","required","focus"],["input",""],[4,"ngFor","ngForOf"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[1,"list-option-container"],["class","list-option",3,"has-designation","value",4,"ngFor","ngForOf"],["class","cb-font-size-default",3,"disabled",4,"ngIf"],[3,"label","isRequired","isDisabled","disabledTooltip"],[3,"diameter"],["size","large",3,"key"],[1,"list-option",3,"value"],[1,"option-content"],[1,"entityInfo"],["mat-button","","class","mat-icon-button",4,"ngIf"],["mat-button","",1,"mat-icon-button"],["key","icon_add_circle"],[1,"cb-font-size-default",3,"disabled"]],template:function(te,re){if(1&te&&(e.TgZ(0,"mat-form-field",0),e.YNc(1,H,1,4,"field-label",1),e.TgZ(2,"div",2),e.YNc(3,K,1,1,"mat-spinner",3),e.YNc(4,P,1,1,"icon",4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("focus",function(U){return re.onFocus(U)}),e.qZA(),e.YNc(7,z,2,1,"mat-error",7),e.qZA(),e.TgZ(8,"mat-autocomplete",8,9),e.NdJ("optionSelected",function(U){return re.chooseList(U)}),e.TgZ(10,"div",10),e.YNc(11,Z,5,6,"mat-option",11),e.YNc(12,J,3,7,"mat-option",12),e.qZA()()),2&te){const q=e.MAs(9);e.ekj("cb-form-field-outlined","outline"===re.appearance),e.Q6J("floatLabel",re.floatLabel)("appearance",re.appearance)("ngClass",e.VKq(16,le,"outline"===re.appearance)),e.xp6(1),e.Q6J("ngIf",re.label),e.xp6(2),e.Q6J("ngIf",re.loading),e.xp6(1),e.Q6J("ngIf",!re.loading),e.xp6(1),e.Q6J("formControl",re.listInput)("matAutocomplete",q)("placeholder",re.placeholder)("required",re.isRequired),e.xp6(2),e.Q6J("ngForOf",re.errors),e.xp6(1),e.Q6J("displayWith",re.displayWith),e.xp6(3),e.Q6J("ngForOf",re.getFilteredResults()),e.xp6(1),e.Q6J("ngIf",!re.hasNewInput&&!re.loading&&re.userInput&&0===(null==re.results?null:re.results.length))}},directives:[g.KE,f.mk,f.O5,m.t,g.qo,v.Ou,y.o,S.Nt,i.Fj,A.ZL,i.JJ,i.oH,i.Q7,f.sg,g.TO,A.XC,x.ey,R.lW],pipes:[s.X],styles:["[_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]  .mat-form-field-prefix{margin-right:8px;height:18px;width:18px;transform:translateY(2px)}.list-option-container[_ngcontent-%COMP%]{margin:8px 0}.mat-form-field[_ngcontent-%COMP%]{display:block}mat-option[_ngcontent-%COMP%]{padding:0;font-size:14px;height:24px}mat-option.has-designation[_ngcontent-%COMP%]{background-color:#ebf7fb}.option-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.option-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0 8px;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),M})()},3259:(ne,b,t)=>{t.d(b,{u:()=>E});var e=t(20715),i=t(90898),u=t(90587),c=t(35503),C=t(32313),_=t(36362),p=t(3184);let E=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=p.oAB({type:a}),a.\u0275inj=p.cJS({imports:[[_.ez,u.UX,i.q,c.Dt,e.W,C.H]]}),a})()},66281:(ne,b,t)=>{t.d(b,{e:()=>R});var e=t(3184),i=t(90587),u=t(92938),C=t(36362),_=t(84647),p=t(69489),E=t(44770),a=t(32478),l=t(43365),r=t(43188),o=t(1130),d=t(74929);function n(s,h){if(1&s&&e._UZ(0,"field-label",13),2&s){const H=e.oxw();e.Q6J("label",H.label)("isSubfield",H.isSubfield)("isFocused",H.isFocused)("isRequired",H.isRequired)("isDisabled",H.isDisabled)("disabledTooltip",H.disabledTooltip)}}function g(s,h){if(1&s){const H=e.EpF();e.TgZ(0,"chip",14),e.NdJ("remove",function(){const z=e.CHM(H).$implicit;return e.oxw().deselectOption(z)}),e._uU(1),e.qZA()}if(2&s){const H=h.$implicit,K=e.oxw();e.Q6J("removable",!K.isDisabled),e.xp6(1),e.hij(" ",H.label," ")}}function f(s,h){if(1&s&&(e.TgZ(0,"div",15),e._UZ(1,"icon",16),e.qZA()),2&s){const H=e.oxw();e.xp6(1),e.Q6J("key",H.icon)}}function m(s,h){if(1&s&&(e.TgZ(0,"mat-hint"),e._uU(1),e.qZA()),2&s){const H=e.oxw();e.xp6(1),e.hij(" ",H.placeholder," ")}}function v(s,h){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&s){const H=h.$implicit;e.xp6(1),e.hij(" ",H," ")}}function y(s,h){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&s){const H=h.$implicit;e.xp6(1),e.hij(" ",H," ")}}function S(s,h){if(1&s){const H=e.EpF();e.TgZ(0,"mat-option",17),e.NdJ("onSelectionChange",function(P){const ee=e.CHM(H).$implicit;return e.oxw().selectOption(ee,P.source.selected)}),e._uU(1),e.qZA()}if(2&s){const H=h.$implicit,K=e.oxw();e.Q6J("value",H.value)("disabled",K.isOptionSelected(H)),e.xp6(1),e.hij(" ",H.label," ")}}const A=function(s){return{search:s}};function x(s,h){if(1&s&&(e.TgZ(0,"mat-option",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const H=e.oxw();e.Q6J("disabled",!0),e.xp6(1),e.hij(" ",e.xi3(2,2,"CBL.INPUTS.NO_RESULTS_MATCHING",e.VKq(5,A,H.textInput))," ")}}let R=(()=>{class s{constructor(){this.selectedOptions=[],this.wrapChips=!0,this.isSubfield=!1,this.isRequired=!1,this.isDisabled=!1,this.disabledTooltip="",this.errors=[],this.valueChange=new e.vpe,this.filteredOptions=[],this.multiSelectInput=new i.NI}ngOnInit(){this.inputSubscription=this.multiSelectInput.valueChanges.subscribe(H=>this.setTextAndFilter(H)),this.selectedOptions=this.selectedOptions||[],this.filterOptions()}ngOnDestroy(){this.inputSubscription&&this.inputSubscription.unsubscribe()}ngOnChanges(H){H.isDisabled&&this.setIsDisabled()}onFocus(){this.isFocused=!0,this.setTextAndFilter("")}onBlur(){this.isFocused=!1}selectOption(H,K){if(H){let P=this.isOptionSelected(H);K&&!P&&(this.selectedOptions||(this.selectedOptions=[]),this.selectedOptions.push(H),this.valueChange.emit(this.selectedOptions),this.filterOptions())}}deselectOption(H){H&&this.isOptionSelected(H)&&((0,u.remove)(this.selectedOptions,K=>(0,u.isEqual)(K,H)),this.valueChange.emit(this.selectedOptions),this.filterOptions())}isOptionSelected(H){return(0,u.includes)(this.selectedOptions,H)}getOptionName(H){return(null==H?void 0:H.label)?H.label:""}setIsDisabled(){this.isDisabled?this.multiSelectInput.disable():this.multiSelectInput.enable()}setTextAndFilter(H){this.textInput=H,this.filterOptions()}filterOptions(){let H=(0,u.map)(this.selectedOptions,K=>K.value);this.filteredOptions=(0,u.filter)(this.options,K=>{let P=!(0,u.includes)(H,K.value),z=!0;return this.textInput&&(z=(0,u.includes)((0,u.toLower)(K.label),(0,u.toLower)(this.textInput))),P&&z})}}return s.\u0275fac=function(H){return new(H||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["multi-select-input"]],inputs:{label:"label",placeholder:"placeholder",selectedOptions:"selectedOptions",options:"options",icon:"icon",dropdownOrigin:"dropdownOrigin",wrapChips:"wrapChips",isSubfield:"isSubfield",isRequired:"isRequired",isDisabled:"isDisabled",disabledTooltip:"disabledTooltip",errors:"errors"},outputs:{valueChange:"valueChange"},features:[e.TTD],decls:14,vars:16,consts:[[1,"component--input","component--multi-select-input"],[3,"label","isSubfield","isFocused","isRequired","isDisabled","disabledTooltip",4,"ngIf"],[1,"chips-container"],[3,"removable","remove",4,"ngFor","ngForOf"],["floatLabel","never"],["matPrefix","","class","icon",4,"ngIf"],["type","search","autocomplete","off","matInput","",3,"formControl","matAutocomplete","matAutocompleteConnectedTo","placeholder","required","focus","blur"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"input-autocomplete",3,"displayWith"],["auto","matAutocomplete"],["class","text-autocomplete-item",3,"value","disabled","onSelectionChange",4,"ngFor","ngForOf"],[3,"disabled",4,"ngIf"],[3,"label","isSubfield","isFocused","isRequired","isDisabled","disabledTooltip"],[3,"removable","remove"],["matPrefix","",1,"icon"],["size","large",3,"key"],[1,"text-autocomplete-item",3,"value","disabled","onSelectionChange"],[3,"disabled"]],template:function(H,K){if(1&H&&(e.TgZ(0,"form",0),e.YNc(1,n,1,6,"field-label",1),e.TgZ(2,"div",2),e.YNc(3,g,2,2,"chip",3),e.TgZ(4,"mat-form-field",4),e.YNc(5,f,2,1,"div",5),e.TgZ(6,"input",6),e.NdJ("focus",function(){return K.onFocus()})("blur",function(){return K.onBlur()}),e.qZA(),e.YNc(7,m,2,1,"mat-hint",7),e.YNc(8,v,2,1,"mat-error",8),e.qZA()(),e.YNc(9,y,2,1,"mat-error",8),e.TgZ(10,"mat-autocomplete",9,10),e.YNc(12,S,2,3,"mat-option",11),e.YNc(13,x,3,7,"mat-option",12),e.qZA()()),2&H){const P=e.MAs(11);e.xp6(1),e.Q6J("ngIf",K.label),e.xp6(1),e.ekj("wrap-chips",K.wrapChips),e.xp6(1),e.Q6J("ngForOf",K.selectedOptions),e.xp6(2),e.Q6J("ngIf",K.icon),e.xp6(1),e.Q6J("formControl",K.multiSelectInput)("matAutocomplete",P)("matAutocompleteConnectedTo",K.dropdownOrigin)("placeholder",K.label&&K.placeholder?"":K.placeholder)("required",K.isRequired),e.xp6(1),e.Q6J("ngIf",K.label&&K.placeholder),e.xp6(1),e.Q6J("ngForOf",K.errors),e.xp6(1),e.Q6J("ngForOf",K.errors),e.xp6(1),e.Q6J("displayWith",K.getOptionName),e.xp6(2),e.Q6J("ngForOf",K.filteredOptions),e.xp6(1),e.Q6J("ngIf",K.textInput&&!K.filteredOptions.length)}},directives:[i._Y,i.JL,i.F,C.O5,_.t,C.sg,p.Y,E.KE,E.qo,a.o,l.Nt,i.Fj,r.ZL,i.JJ,i.oH,i.Q7,E.bx,E.TO,r.XC,o.ey],pipes:[d.X],styles:[".component--multi-select-input .chips-container{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.component--multi-select-input .chips-container>*{max-width:100%;box-sizing:border-box}.component--multi-select-input .chips-container.wrap-chips{flex-wrap:wrap}.component--multi-select-input .chips-container chip{margin-right:8px;white-space:nowrap}.component--multi-select-input .chips-container mat-form-field{flex:1;box-sizing:border-box}.component--multi-select-input input.mat-input-element{min-width:300px}.component--multi-select-input .icon{margin-right:8px}edit .component--multi-select-input>div{flex-wrap:wrap}\n"],encapsulation:2}),s})()},98916:(ne,b,t)=>{t.d(b,{u:()=>u});var e=t(2529),i=t.n(e);class u{constructor(C){this.precision=(C=C||{}).precision||10,this.isPercentage=C.isPercentage||!1,this.formatString=this.getFormatString()}format(C){return null==C?"":(C=this.isPercentage?100*C:C,i()(C).format(this.formatString,Math.floor))}parse(C){if("number"==typeof C)return C;C=(C||"").toLowerCase().trim();let _=i()(C).value();return _=this.isPercentage?_/100:_,null!=_&&(_=Number(_.toFixed(this.precision))),null===_&&C&&(_=0),null==_?void 0:_}getFormatString(){let C="0,0";if(0===this.precision)return C;C+=".[";for(let _=0;_<this.precision;_++)C+="0";return C+="]",C}}},48212:(ne,b,t)=>{t.d(b,{x:()=>p});var e=t(36362),i=t(45857),u=t(90898),c=t(35503),C=t(32519),_=t(3184);let p=(()=>{class E{}return E.\u0275fac=function(l){return new(l||E)},E.\u0275mod=_.oAB({type:E}),E.\u0275inj=_.cJS({imports:[[e.ez,i.Bz,u.q,c.Dt,C.n]]}),E})()},38860:(ne,b,t)=>{t.d(b,{q:()=>E});var e=t(469),i=t(3184),u=t(19946),c=t(36362),C=t(32478);function _(a,l){if(1&a&&(i.TgZ(0,"div",2),i._UZ(1,"icon",3),i.qZA()),2&a){const r=i.oxw();i.Udp("background-color",r.themeColor),i.xp6(1),i.Q6J("key",r.themeIconId)}}const p=["*"];let E=(()=>{class a{constructor(r){this.themeService=r,this.themeId=a.DEFAULT_THEME_ID,this.showIcon=!1}ngOnChanges(){this.themeId=this.themeId||a.DEFAULT_THEME_ID,this.themeColor=this.themeService.getColor(this.themeId),this.themeIconId=this.showIcon?this.themeService.getIcon(this.themeId):void 0}}return a.DEFAULT_THEME_ID="default",a.\u0275fac=function(r){return new(r||a)(i.Y36(e.f))},a.\u0275cmp=i.Xpm({type:a,selectors:[["page-header"]],inputs:{themeId:"themeId",showIcon:"showIcon"},features:[i.TTD],ngContentSelectors:p,decls:3,vars:4,consts:[[1,"mat-elevation-z5","layout-row",3,"ngClass"],["class","hide-print icon-container flex-none cb-margin-large-right layout-row layout-align-center-center",3,"background-color",4,"ngIf"],[1,"hide-print","icon-container","flex-none","cb-margin-large-right","layout-row","layout-align-center-center"],["color","light",3,"key"]],template:function(r,o){1&r&&(i.F$t(),i.TgZ(0,"mat-toolbar",0),i.YNc(1,_,2,3,"div",1),i.Hsn(2),i.qZA()),2&r&&(i.Udp("border-left-color",o.themeColor),i.Q6J("ngClass",o.themeIconId?"has-icon":"has-accent"),i.xp6(1),i.Q6J("ngIf",o.themeIconId))},directives:[u.Ye,c.mk,c.O5,C.o],styles:["page-header{display:block;background:white!important;color:#282828!important}page-header h1{font-size:20px}page-header .has-accent{border-left-width:8px;border-left-style:solid}page-header .has-icon{padding:0 8px 0 0}page-header .icon-container{height:55px;width:55px;transition:background-color .1s}page-header .mat-button{min-width:0}@media print{page-header{padding-left:20px!important}page-header h1{font-size:36px!important;font-weight:500!important}}\n"],encapsulation:2,changeDetection:0}),a})()},58798:(ne,b,t)=>{t.d(b,{w:()=>S});var e=t(70397),i=t(85921),u=t(92218),c=t(3184),C=t(36362),_=t(13074),p=t(97010),E=t(67681),a=t(25458),l=t(32478),r=t(45857),o=t(74929);const d=function(){return{editNotifications:"true"}},n=function(A){return{year:A}};let g=(()=>{class A{constructor(R,s,h){this.urlService=R,this.bootstrapService=s,this.imageService=h,this.aboutLinks={aboutUs:this.urlService.getAboutCrunchbaseUrl("about-us"),careers:this.urlService.getAboutCrunchbaseUrl("about-us/careers"),partners:this.urlService.getAboutCrunchbaseUrl("partners"),press:this.urlService.getAboutCrunchbaseUrl("pressroom"),blog:this.urlService.getAboutCrunchbaseUrl("blog"),contactUs:this.urlService.getAboutCrunchbaseUrl("about-us/contact-us"),products:{crunchbasePro:this.urlService.getAboutCrunchbaseUrl("products/crunchbase-pro"),marketplace:this.urlService.getMarketplaceUrl(),crunchbaseEnterprise:this.urlService.getAboutCrunchbaseUrl("products/crunchbase-enterprise"),crunchbaseForApplications:this.urlService.getAboutCrunchbaseUrl("products/crunchbase-for-applications"),pricing:"/buy/select-product",theCrunchbaseDifference:this.urlService.getAboutCrunchbaseUrl("products/the-crunchbase-difference")},resources:{customerStories:this.urlService.getAboutCrunchbaseUrl("customers"),knowledgeCenter:this.urlService.getKnowledgeUrl()},privacy:this.urlService.getPrivacyPolicyUrl(),doNotSellMyInfo:this.urlService.getPreferencesUrl("dont_sell")},this.currentYear=(new Date).getFullYear(),this.appVersion=E.k.sha,this.runId=this.bootstrapService.getRunId(),this.appRevision=this.bootstrapService.getAppRevision(),this.setupNavLinks()}setupNavLinks(){this.cbLogoUrl=this.imageService.getOriginalPublicImageUrl(p.Wh.logos.white),this.newsUrl=this.urlService.getNewsCrunchbaseUrl(),this.termsUrl=this.urlService.getTermsOfServiceUrl(),this.privacyPolicyUrl=this.urlService.getPrivacyPolicyUrl()}}return A.\u0275fac=function(R){return new(R||A)(c.Y36(_.iO),c.Y36(a.Qn),c.Y36(p.AJ))},A.\u0275cmp=c.Xpm({type:A,selectors:[["page-footer"]],decls:180,vars:210,consts:function(){let x,R,s,h,H;return x=$localize`:␟82af80ed135d5df6bca24e949362731dc41a3f53␟6292663472472461751:Stay Connected`,R=$localize`:␟83d05ca31c9517d34be1cf874457b73ceca2cc7d␟4428615029049824725:Who We Are`,s=$localize`:␟4dffd4060d7c73518d68029c44ecd2ca3fe3a619␟3807104224559976092:What We Do`,h=$localize`:␟1d44092910da3ace281acb597d76de9eaca3e7ba␟4691338358949046254:Helpful Links`,H=$localize`:␟3dd2c3dc51c08f6ef7ecb12339836ed05c23b5a2␟3167508675629672152: Sitemap `,[[1,"hide-print","layout-row","layout-align-center-stretch"],[1,"footer-wrapper","layout-row","flex-gt-sm-noshrink"],["key","icon_trademark","color","primary","size","xxlarge",1,"cb-margin-medium-right"],[1,"logo",3,"src","alt"],[1,"hide-print","cb-margin-large-vertical","cb-overflow-y-only","layout-row","layout-align-center-stretch"],[1,"footer-wrapper","layout-row","layout-wrap","flex-gt-sm-noshrink"],[1,"flex-100","flex-gt-sm-33","flex-order-gt-sm-0","flex-order-2"],[1,"footer-links-label"],x,[1,"cb-margin-medium-right"],["rel","noopener","target","_blank",3,"href"],["routerLink","/account",3,"queryParams"],[1,"cb-margin-medium-top"],["href","https://twitter.com/crunchbase","rel","noopener","target","_blank",1,"cb-margin-medium-right","cb-text-color-white",3,"title"],["key","icon_twitter_circle","color","light",1,"cb-margin-xxsmall-right"],["href","https://www.facebook.com/crunchbase/","rel","noopener","target","_blank",1,"cb-margin-medium-right","cb-text-color-white",3,"title"],["key","icon_facebook","color","light",1,"cb-margin-xxsmall-right"],["href","https://www.linkedin.com/company/crunchbase","rel","noopener","target","_blank",1,"cb-margin-medium-right","cb-text-color-white",3,"title"],["key","icon_linkedin_circle","color","light",1,"cb-margin-xxsmall-right"],["href","https://instagram.com/crunchbase","rel","noopener","target","_blank",1,"cb-margin-medium-right","cb-text-color-white",3,"title"],["key","icon_instagram_circle","color","light",1,"cb-margin-xxsmall-right"],[1,"flex-100","flex-gt-sm-66","layout-row","layout-align-end-stretch","flex-order-gt-sm-0","flex-order-1"],[1,"flex-33"],R,s,["rel","noopener",3,"routerLink"],h,["routerLink","/add-new"],["routerLink","/featured"],[1,"hide-print"],[1,"hide-print","cb-margin-large-top","cb-margin-large-bottom","cb-text-align-center"],[1,"cb-font-weight-bold"],["routerLink","/sitemap/organizations",1,"cb-font-weight-bold"],["routerLink","/sitemap/people",1,"cb-font-weight-bold"],["routerLink","/sitemap/events",1,"cb-font-weight-bold"],[1,"cb-margin-large-top","cb-text-align-center"],["target","_blank",1,"hide-print",3,"href"],["routerLink","/sitemap",1,"hide-print"],H,[1,"hide-print","version","cb-nowrap"]]},template:function(R,s){1&R&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"icon",2)(3,"img",3),c.ALo(4,"translate"),c.qZA()(),c.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),c.SDv(9,8),c.qZA(),c.TgZ(10,"ul",9)(11,"li")(12,"a",10),c.ALo(13,"translate"),c._uU(14),c.ALo(15,"translate"),c.qZA()(),c.TgZ(16,"li")(17,"a",11),c.ALo(18,"translate"),c._uU(19),c.ALo(20,"translate"),c.qZA()(),c.TgZ(21,"li",12)(22,"a",13),c.ALo(23,"translate"),c.ALo(24,"translate"),c._UZ(25,"icon",14),c.qZA(),c.TgZ(26,"a",15),c.ALo(27,"translate"),c.ALo(28,"translate"),c._UZ(29,"icon",16),c.qZA(),c.TgZ(30,"a",17),c.ALo(31,"translate"),c.ALo(32,"translate"),c._UZ(33,"icon",18),c.qZA(),c.TgZ(34,"a",19),c.ALo(35,"translate"),c.ALo(36,"translate"),c._UZ(37,"icon",20),c.qZA()()()(),c.TgZ(38,"div",21)(39,"div",22)(40,"div",7),c.SDv(41,23),c.qZA(),c.TgZ(42,"ul",9)(43,"li")(44,"a",10),c.ALo(45,"translate"),c._uU(46),c.ALo(47,"translate"),c.qZA()(),c.TgZ(48,"li")(49,"a",10),c.ALo(50,"translate"),c._uU(51),c.ALo(52,"translate"),c.qZA()(),c.TgZ(53,"li")(54,"a",10),c.ALo(55,"translate"),c._uU(56),c.ALo(57,"translate"),c.qZA()(),c.TgZ(58,"li")(59,"a",10),c.ALo(60,"translate"),c._uU(61),c.ALo(62,"translate"),c.qZA()(),c.TgZ(63,"li")(64,"a",10),c.ALo(65,"translate"),c._uU(66),c.ALo(67,"translate"),c.qZA()(),c.TgZ(68,"li")(69,"a",10),c.ALo(70,"translate"),c._uU(71),c.ALo(72,"translate"),c.qZA()()()(),c.TgZ(73,"div",22)(74,"div",7),c.SDv(75,24),c.qZA(),c.TgZ(76,"ul",9)(77,"li")(78,"a",10),c.ALo(79,"translate"),c._uU(80),c.ALo(81,"translate"),c.qZA()(),c.TgZ(82,"li")(83,"a",10),c.ALo(84,"translate"),c._uU(85),c.ALo(86,"translate"),c.qZA()(),c.TgZ(87,"li")(88,"a",10),c.ALo(89,"translate"),c._uU(90),c.ALo(91,"translate"),c.qZA()(),c.TgZ(92,"li")(93,"a",10),c.ALo(94,"translate"),c._uU(95),c.ALo(96,"translate"),c.qZA()(),c.TgZ(97,"li")(98,"a",10),c.ALo(99,"translate"),c._uU(100),c.ALo(101,"translate"),c.qZA()(),c.TgZ(102,"li")(103,"a",25),c.ALo(104,"translate"),c._uU(105),c.ALo(106,"translate"),c.qZA()()()(),c.TgZ(107,"div",22)(108,"div",7),c.SDv(109,26),c.qZA(),c.TgZ(110,"ul",9)(111,"li")(112,"a",27),c.ALo(113,"translate"),c._uU(114),c.ALo(115,"translate"),c.qZA()(),c.TgZ(116,"li")(117,"a",28),c.ALo(118,"translate"),c._uU(119),c.ALo(120,"translate"),c.qZA()(),c.TgZ(121,"li")(122,"a",10),c.ALo(123,"translate"),c._uU(124),c.ALo(125,"translate"),c.qZA()(),c.TgZ(126,"li")(127,"a",10),c.ALo(128,"translate"),c._uU(129),c.ALo(130,"translate"),c.qZA()(),c.TgZ(131,"li")(132,"a",10),c.ALo(133,"translate"),c._uU(134),c.ALo(135,"translate"),c.qZA()(),c.TgZ(136,"li")(137,"a",10),c.ALo(138,"translate"),c._uU(139),c.ALo(140,"translate"),c.qZA()()()()()()(),c._UZ(141,"hr",29),c.TgZ(142,"div",30)(143,"span",31),c._uU(144),c.ALo(145,"translate"),c.qZA(),c.TgZ(146,"a",32),c.ALo(147,"translate"),c._uU(148),c.ALo(149,"translate"),c.qZA(),c.TgZ(150,"a",33),c.ALo(151,"translate"),c._uU(152),c.ALo(153,"translate"),c.qZA(),c.TgZ(154,"a",34),c.ALo(155,"translate"),c._uU(156),c.ALo(157,"translate"),c.qZA()(),c._UZ(158,"hr"),c.TgZ(159,"div",35)(160,"a",36),c.ALo(161,"translate"),c._uU(162),c.ALo(163,"translate"),c.qZA(),c.TgZ(164,"span",29),c._uU(165,"|"),c.qZA(),c.TgZ(166,"a",36),c.ALo(167,"translate"),c._uU(168),c.ALo(169,"translate"),c.qZA(),c.TgZ(170,"span",29),c._uU(171,"|"),c.qZA(),c.TgZ(172,"a",37),c.SDv(173,38),c.qZA(),c.TgZ(174,"span",29),c._uU(175,"|"),c.qZA(),c._uU(176),c.ALo(177,"translate"),c.TgZ(178,"span",39),c._uU(179),c.qZA()()),2&R&&(c.xp6(3),c.Q6J("src",s.cbLogoUrl,c.LSH)("alt",c.lcZ(4,84,"CBL.COMMON.CRUNCHBASE")),c.xp6(9),c.Q6J("href",s.newsUrl,c.LSH),c.uIk("aria-label",c.lcZ(13,86,"CBL.NAV.FOOTER.NEWS")),c.xp6(2),c.hij(" ",c.lcZ(15,88,"CBL.NAV.FOOTER.NEWS")," "),c.xp6(3),c.Q6J("queryParams",c.DdM(207,d)),c.uIk("aria-label",c.lcZ(18,90,"CBL.NAV.FOOTER.SUBSCRIBE")),c.xp6(2),c.hij(" ",c.lcZ(20,92,"CBL.NAV.FOOTER.SUBSCRIBE")," "),c.xp6(3),c.Q6J("title",c.lcZ(23,94,"CBL.COMMON.CB_TWITTER")),c.uIk("aria-label",c.lcZ(24,96,"CBL.COMMON.CB_TWITTER")),c.xp6(4),c.Q6J("title",c.lcZ(27,98,"CBL.COMMON.CB_FACEBOOK")),c.uIk("aria-label",c.lcZ(28,100,"CBL.COMMON.CB_FACEBOOK")),c.xp6(4),c.Q6J("title",c.lcZ(31,102,"CBL.COMMON.CB_LINKEDIN")),c.uIk("aria-label",c.lcZ(32,104,"CBL.COMMON.CB_LINKEDIN")),c.xp6(4),c.Q6J("title",c.lcZ(35,106,"CBL.COMMON.CB_INSTAGRAM")),c.uIk("aria-label",c.lcZ(36,108,"CBL.COMMON.CB_INSTAGRAM")),c.xp6(10),c.Q6J("href",s.aboutLinks.aboutUs,c.LSH),c.uIk("aria-label",c.lcZ(45,110,"CBL.NAV.FOOTER.COMPANY")),c.xp6(2),c.hij(" ",c.lcZ(47,112,"CBL.NAV.FOOTER.COMPANY")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.careers,c.LSH),c.uIk("aria-label",c.lcZ(50,114,"CBL.NAV.FOOTER.CAREERS")),c.xp6(2),c.hij(" ",c.lcZ(52,116,"CBL.NAV.FOOTER.CAREERS")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.partners,c.LSH),c.uIk("aria-label",c.lcZ(55,118,"CBL.NAV.FOOTER.PARTNERS")),c.xp6(2),c.hij(" ",c.lcZ(57,120,"CBL.NAV.FOOTER.PARTNERS")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.blog,c.LSH),c.uIk("aria-label",c.lcZ(60,122,"CBL.NAV.FOOTER.BLOG")),c.xp6(2),c.hij(" ",c.lcZ(62,124,"CBL.NAV.FOOTER.BLOG")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.press,c.LSH),c.uIk("aria-label",c.lcZ(65,126,"CBL.NAV.FOOTER.PRESS")),c.xp6(2),c.hij(" ",c.lcZ(67,128,"CBL.NAV.FOOTER.PRESS")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.contactUs,c.LSH),c.uIk("aria-label",c.lcZ(70,130,"CBL.NAV.FOOTER.CONTACT_US")),c.xp6(2),c.hij(" ",c.lcZ(72,132,"CBL.NAV.FOOTER.CONTACT_US")," "),c.xp6(7),c.Q6J("href",s.aboutLinks.products.crunchbasePro,c.LSH),c.uIk("aria-label",c.lcZ(79,134,"CBL.NAV.FOOTER.PRO")),c.xp6(2),c.hij(" ",c.lcZ(81,136,"CBL.NAV.FOOTER.PRO")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.products.marketplace,c.LSH),c.uIk("aria-label",c.lcZ(84,138,"CBL.NAV.FOOTER.MARKETPLACE")),c.xp6(2),c.hij(" ",c.lcZ(86,140,"CBL.NAV.FOOTER.MARKETPLACE")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.products.crunchbaseEnterprise,c.LSH),c.uIk("aria-label",c.lcZ(89,142,"CBL.NAV.FOOTER.ENTERPRISE")),c.xp6(2),c.hij(" ",c.lcZ(91,144,"CBL.NAV.FOOTER.ENTERPRISE")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.products.crunchbaseForApplications,c.LSH),c.uIk("aria-label",c.lcZ(94,146,"CBL.NAV.FOOTER.FOR_APPS")),c.xp6(2),c.hij(" ",c.lcZ(96,148,"CBL.NAV.FOOTER.FOR_APPS")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.resources.customerStories,c.LSH),c.uIk("aria-label",c.lcZ(99,150,"CBL.NAV.FOOTER.CUSTOMER_STORIES")),c.xp6(2),c.hij(" ",c.lcZ(101,152,"CBL.NAV.FOOTER.CUSTOMER_STORIES")," "),c.xp6(3),c.Q6J("routerLink",s.aboutLinks.products.pricing),c.uIk("aria-label",c.lcZ(104,154,"CBL.NAV.FOOTER.PRICING")),c.xp6(2),c.hij(" ",c.lcZ(106,156,"CBL.NAV.FOOTER.PRICING")," "),c.xp6(7),c.uIk("aria-label",c.lcZ(113,158,"CBL.NAV.FOOTER.CREATE_A_PROFILE")),c.xp6(2),c.hij(" ",c.lcZ(115,160,"CBL.NAV.FOOTER.CREATE_A_PROFILE")," "),c.xp6(3),c.uIk("aria-label",c.lcZ(118,162,"CBL.NAV.FOOTER.FEATURED_LISTS")),c.xp6(2),c.hij(" ",c.lcZ(120,164,"CBL.NAV.FOOTER.FEATURED_LISTS")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.products.theCrunchbaseDifference,c.LSH),c.uIk("aria-label",c.lcZ(123,166,"CBL.NAV.FOOTER.DIFFERENCE")),c.xp6(2),c.hij(" ",c.lcZ(125,168,"CBL.NAV.FOOTER.DIFFERENCE")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.resources.knowledgeCenter,c.LSH),c.uIk("aria-label",c.lcZ(128,170,"CBL.NAV.FOOTER.KNOWLEDGE_CENTER")),c.xp6(2),c.hij(" ",c.lcZ(130,172,"CBL.NAV.FOOTER.KNOWLEDGE_CENTER")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.privacy,c.LSH),c.uIk("aria-label",c.lcZ(133,174,"CBL.COMMON.PRIVACY")),c.xp6(2),c.hij(" ",c.lcZ(135,176,"CBL.COMMON.PRIVACY")," "),c.xp6(3),c.Q6J("href",s.aboutLinks.doNotSellMyInfo,c.LSH),c.uIk("aria-label",c.lcZ(138,178,"CBL.NAV.FOOTER.DO_NOT_SELL_MY_INFO")),c.xp6(2),c.hij(" ",c.lcZ(140,180,"CBL.NAV.FOOTER.DO_NOT_SELL_MY_INFO")," "),c.xp6(5),c.hij(" ",c.lcZ(145,182,"CBL.NAV.FOOTER.BROWSE_BY"),": "),c.xp6(2),c.uIk("aria-label",c.lcZ(147,184,"CBL.NAV.FOOTER.DIRECTORY_ORGANIZATIONS")),c.xp6(2),c.hij(" ",c.lcZ(149,186,"CBL.NAV.FOOTER.DIRECTORY_ORGANIZATIONS"),", "),c.xp6(2),c.uIk("aria-label",c.lcZ(151,188,"CBL.NAV.FOOTER.DIRECTORY_PEOPLE")),c.xp6(2),c.hij(" ",c.lcZ(153,190,"CBL.NAV.FOOTER.DIRECTORY_PEOPLE"),", "),c.xp6(2),c.uIk("aria-label",c.lcZ(155,192,"CBL.NAV.FOOTER.DIRECTORY_EVENTS")),c.xp6(2),c.hij(" ",c.lcZ(157,194,"CBL.NAV.FOOTER.DIRECTORY_EVENTS")," "),c.xp6(4),c.Q6J("href",s.termsUrl,c.LSH),c.uIk("aria-label",c.lcZ(161,196,"CBL.NAV.FOOTER.TERMS_OF_SERVICE")),c.xp6(2),c.hij(" ",c.lcZ(163,198,"CBL.NAV.FOOTER.TERMS_OF_SERVICE")," "),c.xp6(4),c.Q6J("href",s.privacyPolicyUrl,c.LSH),c.uIk("aria-label",c.lcZ(167,200,"CBL.NAV.FOOTER.PRIVACY_POLICY")),c.xp6(2),c.hij(" ",c.lcZ(169,202,"CBL.NAV.FOOTER.PRIVACY_POLICY")," "),c.xp6(8),c.hij(" ",c.xi3(177,204,"CBL.NAV.FOOTER.ALL_RIGHTS_RESERVED",c.VKq(208,n,s.currentYear))," "),c.xp6(3),c.AsE("(",s.appRevision||s.appVersion," ",s.runId,")"))},directives:[l.o,r.yS],pipes:[o.X],styles:["page-footer{display:block;padding:32px 20px;background-color:#183444;color:#fff}page-footer .footer-wrapper{max-width:900px;width:100%}page-footer .footer-wrapper ul{line-height:1.5}page-footer .logo{margin-bottom:16px;width:175px;height:26px}page-footer .footer-links-label{font-weight:500}page-footer a{color:#fff;text-decoration:none}page-footer a:hover{text-decoration:underline}page-footer hr{border-bottom-width:0;border-left-width:0;border-right-width:0;border-top:1px solid rgba(0,0,0,.12);margin:0 -20px;opacity:.3}page-footer li{padding-bottom:4px}page-footer .version{opacity:.5}\n"],encapsulation:2}),A})();function f(A,x){1&A&&c._UZ(0,"page-footer")}const m=[[["","page-layout-header",""]],[["","page-layout-header-v2",""]],[["","page-layout-body",""]]],v=function(A,x,R,s,h,H){return{"feedback-button-padding":A,"layout-column layout-align-space-between":x,"cb-relative body-fill":R,"layout-row cb-overflow-y-only":s,"layout-align-center-center":h,"layout-align-center-start":H}},y=["[page-layout-header]","[page-layout-header-v2]","[page-layout-body]"];let S=(()=>{class A{constructor(R){this.chromeService=R,this.showPageFooter=!1,this.addFeedbackSpacer=!1,this.bodyFill=!1,this.centerContent=!1,this.horizCenterContent=!1,this.chromeless=!1,this.onDestroy=new u.xQ,this.chromeService.chromeConfigurationObservable().pipe((0,i.R)(this.onDestroy)).subscribe(s=>{this.chromeless=!1===s.header})}}return A.\u0275fac=function(R){return new(R||A)(c.Y36(e.P))},A.\u0275cmp=c.Xpm({type:A,selectors:[["page-layout"]],hostVars:2,hostBindings:function(R,s){2&R&&c.ekj("chromeless",s.chromeless)},inputs:{showPageFooter:"showPageFooter",addFeedbackSpacer:"addFeedbackSpacer",bodyFill:"bodyFill",centerContent:"centerContent",horizCenterContent:"horizCenterContent"},ngContentSelectors:y,decls:5,vars:9,consts:[[1,"page-layout-body",3,"ngClass"],[4,"ngIf"]],template:function(R,s){1&R&&(c.F$t(m),c.Hsn(0),c.Hsn(1,1),c.TgZ(2,"div",0),c.Hsn(3,2),c.YNc(4,f,1,0,"page-footer",1),c.qZA()),2&R&&(c.xp6(2),c.Q6J("ngClass",c.HTZ(2,v,s.addFeedbackSpacer,s.showPageFooter,s.bodyFill,s.centerContent||s.horizCenterContent,s.centerContent,s.horizCenterContent)),c.xp6(2),c.Q6J("ngIf",s.showPageFooter))},directives:[C.mk,C.O5,g],styles:["page-layout{display:block;padding-top:60px}page-layout [page-layout-header]{position:fixed;top:60px;left:0;right:0;z-index:2}page-layout .page-layout-body{box-sizing:border-box;min-height:calc(100vh - 60px);max-width:100vw}page-layout [page-layout-header-v2]+.page-layout-body{min-height:calc(100vh - 142px)}page-layout [page-layout-header]+.page-layout-body{padding-top:55px}page-layout [page-layout-header]+.page-layout-body.body-fill [page-layout-body]{top:55px}page-layout .page-layout-body.feedback-button-padding{padding-bottom:93px}page-layout .page-layout-body.body-fill [page-layout-body]{position:absolute;top:0;left:0;right:0;bottom:0}page-layout.chromeless{padding-top:0}page-layout.chromeless [page-layout-header]{top:0}page-layout.chromeless .page-layout-body{min-height:100vh}page-layout.chromeless .page-layout-body.body-fill [page-layout-body]{top:0;overflow:auto}@media print{page-layout{padding-top:0}page-layout [page-layout-header]{left:unset;top:unset;right:unset;position:relative}page-layout [page-layout-header].mat-elevation-z5{box-shadow:none!important}page-layout [page-layout-header]+.page-layout-body{padding-top:0}}\n"],encapsulation:2,changeDetection:0}),A})()},61783:(ne,b,t)=>{t.d(b,{s:()=>d,n:()=>n});var e=t(469),i=t(3184),u=t(11961),c=t(36362),C=t(20757),_=t(32478);function p(g,f){if(1&g&&i._UZ(0,"theme-icon",10),2&g){const m=i.oxw(2);i.Q6J("themeId",m.themeId)("color",m.useColoredIcon?"theme":"light")}}function E(g,f){if(1&g&&i._UZ(0,"icon",11),2&g){const m=i.oxw(2);i.Q6J("key",m.iconOverride)}}function a(g,f){if(1&g&&(i.TgZ(0,"div",3)(1,"div",4),i.YNc(2,p,1,2,"theme-icon",5),i.YNc(3,E,1,1,"icon",6),i.qZA(),i.TgZ(4,"div",7)(5,"h2",8),i.Hsn(6,1),i.qZA(),i.TgZ(7,"div",9),i.Hsn(8,2),i.qZA()()()),2&g){const m=i.oxw();i.ekj("with-bg-color",!!m.backgroundColor)("has-subheader",!!m.subtitles.length&&!m.backgroundColor),i.xp6(1),i.Udp("background-color",m.backgroundColor),i.xp6(1),i.Q6J("ngIf",!m.iconOverride),i.xp6(1),i.Q6J("ngIf",m.iconOverride)}}function l(g,f){1&g&&(i.TgZ(0,"div",12)(1,"h2",13),i.Hsn(2,3),i.qZA()())}const r=[[["","section-layout-content",""]],[["","section-title",""]],[["","section-actions",""]],[["","section-subtitle",""]]],o=["[section-layout-content]","[section-title]","[section-actions]","[section-subtitle]"];let d=(()=>{class g{}return g.\u0275fac=function(m){return new(m||g)},g.\u0275dir=i.lG2({type:g,selectors:[["","section-subtitle",""]]}),g})(),n=(()=>{class g{constructor(m,v){this.themeService=m,this.changeDetectorRef=v,this.themeId="default",this.showHeader=!0,this.useColoredIcon=!1}ngAfterContentInit(){this.subtitles.changes.subscribe(m=>{this.changeDetectorRef.markForCheck()})}ngOnChanges(){let m=this.themeService.getThemeData(this.themeId);(!this.useColoredIcon||m.image_id&&m.color)&&(this.backgroundColor=m.color)}}return g.\u0275fac=function(m){return new(m||g)(i.Y36(e.f),i.Y36(i.sBO))},g.\u0275cmp=i.Xpm({type:g,selectors:[["section-layout"]],contentQueries:function(m,v,y){if(1&m&&i.Suo(y,d,4),2&m){let S;i.iGM(S=i.CRH())&&(v.subtitles=S)}},inputs:{themeId:"themeId",showHeader:"showHeader",iconOverride:"iconOverride",useColoredIcon:"useColoredIcon"},features:[i.TTD],ngContentSelectors:o,decls:4,vars:2,consts:[[1,"component--section-layout"],["class","section-header",3,"with-bg-color","has-subheader",4,"ngIf"],["class","section-subheader",4,"ngIf"],[1,"section-header"],[1,"theme-icon-wrapper"],[3,"themeId","color",4,"ngIf"],["color","light",3,"key",4,"ngIf"],[1,"header-content-wrapper"],[1,"section-title-wrapper"],[1,"section-actions-wrapper"],[3,"themeId","color"],["color","light",3,"key"],[1,"section-subheader"],[1,"section-subtitle-wrapper"]],template:function(m,v){1&m&&(i.F$t(r),i.TgZ(0,"mat-card",0),i.YNc(1,a,9,8,"div",1),i.YNc(2,l,3,0,"div",2),i.Hsn(3),i.qZA()),2&m&&(i.xp6(1),i.Q6J("ngIf",v.showHeader),i.xp6(1),i.Q6J("ngIf",!!v.subtitles.length&&!v.backgroundColor))},directives:[u.a8,c.O5,C.p,_.o],styles:[".component--section-layout{display:block}.component--section-layout.mat-card{padding:0}.component--section-layout .section-header{display:flex}.component--section-layout .section-header:not(.with-bg-color):not(.has-subheader){border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f}.component--section-layout .section-header .header-content-wrapper{padding-right:8px;flex:1;min-width:0;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:space-between;align-items:center;align-content:center;max-width:100%}.component--section-layout .section-header .header-content-wrapper>*{max-width:100%;box-sizing:border-box}.component--section-layout .section-header.with-bg-color .header-content-wrapper{border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f;padding-left:8px}.component--section-layout .section-header .section-title-wrapper{flex:0 0 auto;margin-top:4px;margin-bottom:4px;font-weight:500;font-size:16px;display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--section-layout .section-header .section-title-wrapper>*{max-width:100%;box-sizing:border-box}.component--section-layout .section-header .section-actions-wrapper{flex:0 0 auto;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-end;align-items:center;align-content:center;max-width:100%}.component--section-layout .section-header .section-actions-wrapper>*{max-width:100%;box-sizing:border-box}.component--section-layout .section-header .theme-icon-wrapper{border-top-left-radius:4px;height:46px;width:46px;line-height:0;flex:0 0 auto;display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--section-layout .section-header .theme-icon-wrapper>*{max-width:100%;box-sizing:border-box}.component--section-layout .section-header .theme-icon-wrapper theme-icon{color:#fff}.component--section-layout .section-subheader{position:relative;top:-9px;padding-left:13px;padding-bottom:8px;border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f}.component--section-layout .section-subheader h2{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif}@media print{.component--section-layout .theme-icon-wrapper{width:auto}}\n"],encapsulation:2,changeDetection:0}),g})()},76908:(ne,b,t)=>{t.d(b,{h:()=>f});var e=t(3184),i=t(86942),u=t(78845),c=t(75215),C=t(25848),_=t(843),p=t(36362),E=t(40089),a=t(32478),l=t(87317),r=t(22972),o=t(74929);function d(m,v){if(1&m){const y=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){return e.CHM(y),e.oxw(2).linkClick.emit()}),e._UZ(1,"icon",4),e.qZA()}if(2&m){const y=e.oxw(2);e.Q6J("href",y.href,e.LSH)("matTooltip",y.tooltip),e.uIk("aria-label",y.ariaLabel)}}function n(m,v){if(1&m&&(e.TgZ(0,"button",5),e.ALo(1,"translate"),e._UZ(2,"icon",4),e.qZA()),2&m){const y=e.oxw(2);e.Q6J("upsellShowDetails",!0)("matTooltip",e.lcZ(1,3,"CBL.UPSELL.PREMIUM_FEATURE")),e.uIk("aria-label",y.ariaLabel)}}function g(m,v){if(1&m&&(e.ynx(0),e.YNc(1,d,2,3,"a",1),e.YNc(2,n,3,5,"button",2),e.BQk()),2&m){const y=v.ngIf;e.xp6(1),e.Q6J("ngIf","link"===y),e.xp6(1),e.Q6J("ngIf","upsell"===y)}}let f=(()=>{class m{constructor(y,S,A){this.metadataService=y,this.syntheticMetadataService=S,this.permissionService=A,this.linkClick=new e.vpe,this.href="",this.tooltip="",this.ariaLabel="",this.mode$=this.getMode$()}ngOnChanges(y){(y.username||y.url)&&(this.href=this.getHref())}ngOnInit(){var y,S,A,x;const R=this.syntheticMetadataService.getContactsSearchProperties().contactCollectionId;R&&(this.tooltip=(null===(S=null===(y=this.metadataService.getField(R,"linkedin"))||void 0===y?void 0:y.labels)||void 0===S?void 0:S.value)||"",this.ariaLabel=(null===(x=null===(A=this.metadataService.getField(R,"linkedin"))||void 0===A?void 0:A.labels)||void 0===x?void 0:x.value)||"")}getHref(){return this.url?this.url:this.username?(0,u.F)(this.username):""}getMode$(){return this.permissionService.getPermissions().pipe((0,i.U)(S=>S.canViewContactLinkedIn())).pipe((0,i.U)(S=>S?"link":"upsell"))}}return m.\u0275fac=function(y){return new(y||m)(e.Y36(c.Do),e.Y36(C.Y),e.Y36(_.$))},m.\u0275cmp=e.Xpm({type:m,selectors:[["linkedin-link"]],inputs:{username:"username",url:"url"},outputs:{linkClick:"linkClick"},features:[e.TTD],decls:2,vars:3,consts:[[4,"ngIf"],["target","_blank","rel","nofollow noopener noreferrer",3,"href","matTooltip","click",4,"ngIf"],["mat-icon-button","","upsellTrigger","contacts_unlock_button_upgrade_from_non_pro","upsellTriggerLocation","linked-in-button","matTooltipClass","linked-in-upsell-tooltip",3,"upsellShowDetails","matTooltip",4,"ngIf"],["target","_blank","rel","nofollow noopener noreferrer",3,"href","matTooltip","click"],["key","icon_linkedin","color","inherit"],["mat-icon-button","","upsellTrigger","contacts_unlock_button_upgrade_from_non_pro","upsellTriggerLocation","linked-in-button","matTooltipClass","linked-in-upsell-tooltip",3,"upsellShowDetails","matTooltip"]],template:function(y,S){1&y&&(e.YNc(0,g,3,2,"ng-container",0),e.ALo(1,"async")),2&y&&e.Q6J("ngIf",e.lcZ(1,1,S.mode$))},directives:[p.O5,E.gM,a.o,l.lW,r.k],pipes:[p.Ov,o.X],styles:['@charset "UTF-8";a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#0077b5;cursor:pointer;display:block;height:20px!important;width:20px!important}  .mat-tooltip.linked-in-upsell-tooltip:before{content:"\\26a1";font-size:14px;line-height:12px}'],changeDetection:0}),m})()},40989:(ne,b,t)=>{t.d(b,{R:()=>p});var e=t(36362),i=t(32519),u=t(90898),c=t(83e3),C=t(35503),_=t(3184);let p=(()=>{class E{}return E.\u0275fac=function(l){return new(l||E)},E.\u0275mod=_.oAB({type:E}),E.\u0275inj=_.cJS({imports:[[e.ez,i.n,u.q,c.S,C.Dt]]}),E})()},52974:(ne,b,t)=>{t.d(b,{R:()=>c});const e={crunchbase:'<svg viewBox="0 0 370 52.8"><path d="M27 38.7c-2.4 5.1-8.4 7.3-13.5 4.9S6.2 35.1 8.6 30s8.4-7.3 13.5-4.9c2.2 1.1 4 2.9 5 5.1H35c-2.3-9.5-11.9-15.4-21.4-13S-1.8 29.1.6 38.6 12.5 54 22 51.6c6.4-1.6 11.5-6.6 13-13h-8z" /><path d="M63 18.2c-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.2v32.9h7.3V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0l3-6.9z" /><path d="M90.6 17.9v15.8c.1 2.1 0 4.3-.5 6.4v.2c-.4 1.4-1.4 2.6-2.7 3.3C85 45 82 45 79.5 43.5c-1.3-.7-2.3-1.9-2.7-3.3V40c-.4-2.1-.6-4.3-.5-6.4V17.9H69v17.9c-.2 2.9.3 5.9 1.2 8.6 1.1 2.7 3.2 4.8 5.9 5.9 2.2 1 4.6 1.6 7.1 1.5 2.5 0 5-.8 7.1-2.2v1.1h7.2V17.9h-6.9z" /><path d="M114 50.8V35c-.1-2.2.1-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0 1.3.7 2.3 1.9 2.7 3.3v.2c.4 2.1.5 4.3.4 6.4v15.8h7.2v-18c.2-2.9-.2-5.9-1.2-8.6-1.1-2.7-3.2-4.8-5.9-5.9-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.3v32.8h7.2z" /><path d="M168.9 38.7c-2.4 5.1-8.4 7.3-13.5 4.9-5.1-2.4-7.3-8.4-4.9-13.5 2.4-5.1 8.4-7.3 13.5-4.9 2.2 1.1 4 2.9 5 5.1h7.9c-2.3-9.5-11.9-15.4-21.4-13s-15.4 11.9-13 21.4 11.9 15.4 21.4 13c6.4-1.6 11.5-6.6 13-13h-8z" /><path d="M190.8 50.8V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0 1.3.7 2.3 1.9 2.7 3.3v.2c.4 2.1.6 4.3.5 6.4v15.8h7.2v-18c.2-2.9-.3-5.9-1.2-8.6-1.1-2.7-3.2-4.8-5.9-5.9-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2V0h-7.3v50.8h7.1z" /><path d="M238.3 16.7H237c-3.1.2-6.1 1.3-8.7 3.1V0h-7.2v50.8h7.2v-1.9c8 5.6 19.1 3.7 24.7-4.3 5.6-8 3.7-19.1-4.3-24.7-3-2.1-6.7-3.3-10.4-3.2zm10.1 19v.3l-.3 1.2c-.1.4-.3.9-.5 1.3v.2c-1.4 2.9-4 4.9-7.1 5.6l-1 .2h-1.3c-.5 0-.9 0-1.4-.1h-.3c-.9-.1-1.8-.4-2.6-.8h-.2c-.8-.4-1.6-.9-2.3-1.5-.7-.6-1.3-1.4-1.8-2.1-.2-.4-.5-.8-.7-1.3-1.2-2.7-1.1-5.7.1-8.4 1.5-3.2 4.6-5.4 8.2-5.8h1c5.5.1 9.9 4.4 10 9.9.3.4.3.8.2 1.3z" /><path d="M261.8 34.3c.1 9.8 8.1 17.7 17.9 17.6 3.5 0 6.8-1.1 9.7-3v1.9h7.2V17.9h-7.2v2c-2.6-1.8-5.6-2.8-8.7-3.1h-1.3c-9.6 0-17.5 7.8-17.6 17.5zm7.5 0c0-5.6 4.6-10.2 10.2-10.2h1c3.5.4 6.6 2.6 8.2 5.8 1.2 2.6 1.3 5.7.1 8.4-.2.4-.4.9-.7 1.3-.5.8-1.1 1.5-1.8 2.1-.7.6-1.5 1.1-2.3 1.5h-.2c-.8.4-1.7.6-2.6.8h-.2c-.5.1-.9.1-1.4.1H278.4l-1-.2c-3-.7-5.6-2.7-7-5.5v-.2c-.2-.4-.4-.8-.5-1.3l-.3-1.2v-.3c-.1-.3-.2-.7-.3-1.1z" /><path d="M329.9 27.7v-.2c0-5.4-4.1-10.8-13.3-10.9-9.2-.1-13.2 5.4-13.3 10.7v.4c.2 3.1 2 7 8.8 8.6l6.1 1.4c1.6.4 4.3 1.2 4.5 3.3 0 2.8-3.6 4.2-6.1 4.2-3 0-6.1-1.6-6.1-4.3v-.2h-7.2v.1c0 5.4 4.1 10.8 13.3 10.9 9.2.1 13.3-5.5 13.3-10.9v-.1c-.2-3.1-1.9-7.1-8.8-8.7l-6.1-1.4c-1.3-.3-4.5-1.2-4.5-3.2 0-3.1 3.2-4.2 6.1-4.2 3 0 6.1 1.6 6.1 4.3v.2h7.2z" /><path d="M370.1 33.6c0-10.7-7.3-17-16.9-17-9.3-.3-17.1 6.9-17.4 16.2v1.3c-.4 9.4 6.9 17.3 16.3 17.7h1.1c3.5 0 7-.8 10.1-2.6 3.2-1.8 5.6-4.9 6.5-8.5h-7.1c-1.7 3.1-4.8 4.6-9.2 4.6-5.9 0-10.3-4.6-10.3-9H370c.1-1.1.1-1.8.1-2.7zm-27-3.3c1-4.5 5.1-7.6 9.7-7.3 5.1 0 9.2 3 9.9 7.3h-19.6z" /></svg>',pro:'<svg viewBox="0 0 494.1 52.8"><g class="crunchbase"><path d="M27 38.7c-2.4 5.1-8.4 7.3-13.5 4.9S6.2 35.1 8.6 30s8.4-7.3 13.5-4.9c2.2 1.1 4 2.9 5 5.1H35c-2.3-9.5-11.9-15.4-21.4-13S-1.8 29.1.6 38.6 12.5 54 22 51.6c6.4-1.6 11.5-6.6 13-13h-8z" /><path d="M63 18.2c-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.2v32.9h7.3V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0l3-6.9z" /><path d="M90.6 17.9v15.8c.1 2.1 0 4.3-.5 6.4v.2c-.4 1.4-1.4 2.6-2.7 3.3C85 45 82 45 79.5 43.5c-1.3-.7-2.3-1.9-2.7-3.3V40c-.4-2.1-.6-4.3-.5-6.4V17.9H69v17.9c-.2 2.9.3 5.9 1.2 8.6 1.1 2.7 3.2 4.8 5.9 5.9 2.2 1 4.6 1.6 7.1 1.5 2.5 0 5-.8 7.1-2.2v1.1h7.2V17.9h-6.9z" /><path d="M114 50.8V35c-.1-2.2.1-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0 1.3.7 2.3 1.9 2.7 3.3v.2c.4 2.1.5 4.3.4 6.4v15.8h7.2v-18c.2-2.9-.2-5.9-1.2-8.6-1.1-2.7-3.2-4.8-5.9-5.9-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.3v32.8h7.2z" /><path d="M168.9 38.7c-2.4 5.1-8.4 7.3-13.5 4.9-5.1-2.4-7.3-8.4-4.9-13.5 2.4-5.1 8.4-7.3 13.5-4.9 2.2 1.1 4 2.9 5 5.1h7.9c-2.3-9.5-11.9-15.4-21.4-13s-15.4 11.9-13 21.4 11.9 15.4 21.4 13c6.4-1.6 11.5-6.6 13-13h-8z" /><path d="M190.8 50.8V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0 1.3.7 2.3 1.9 2.7 3.3v.2c.4 2.1.6 4.3.5 6.4v15.8h7.2v-18c.2-2.9-.3-5.9-1.2-8.6-1.1-2.7-3.2-4.8-5.9-5.9-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2V0h-7.3v50.8h7.1z" /><path d="M238.3 16.7H237c-3.1.2-6.1 1.3-8.7 3.1V0h-7.2v50.8h7.2v-1.9c8 5.6 19.1 3.7 24.7-4.3 5.6-8 3.7-19.1-4.3-24.7-3-2.1-6.7-3.3-10.4-3.2zm10.1 19v.3l-.3 1.2c-.1.4-.3.9-.5 1.3v.2c-1.4 2.9-4 4.9-7.1 5.6l-1 .2h-1.3c-.5 0-.9 0-1.4-.1h-.3c-.9-.1-1.8-.4-2.6-.8h-.2c-.8-.4-1.6-.9-2.3-1.5-.7-.6-1.3-1.4-1.8-2.1-.2-.4-.5-.8-.7-1.3-1.2-2.7-1.1-5.7.1-8.4 1.5-3.2 4.6-5.4 8.2-5.8h1c5.5.1 9.9 4.4 10 9.9.3.4.3.8.2 1.3z" /><path d="M261.8 34.3c.1 9.8 8.1 17.7 17.9 17.6 3.5 0 6.8-1.1 9.7-3v1.9h7.2V17.9h-7.2v2c-2.6-1.8-5.6-2.8-8.7-3.1h-1.3c-9.6 0-17.5 7.8-17.6 17.5zm7.5 0c0-5.6 4.6-10.2 10.2-10.2h1c3.5.4 6.6 2.6 8.2 5.8 1.2 2.6 1.3 5.7.1 8.4-.2.4-.4.9-.7 1.3-.5.8-1.1 1.5-1.8 2.1-.7.6-1.5 1.1-2.3 1.5h-.2c-.8.4-1.7.6-2.6.8h-.2c-.5.1-.9.1-1.4.1H278.4l-1-.2c-3-.7-5.6-2.7-7-5.5v-.2c-.2-.4-.4-.8-.5-1.3l-.3-1.2v-.3c-.1-.3-.2-.7-.3-1.1z" /><path d="M329.9 27.7v-.2c0-5.4-4.1-10.8-13.3-10.9-9.2-.1-13.2 5.4-13.3 10.7v.4c.2 3.1 2 7 8.8 8.6l6.1 1.4c1.6.4 4.3 1.2 4.5 3.3 0 2.8-3.6 4.2-6.1 4.2-3 0-6.1-1.6-6.1-4.3v-.2h-7.2v.1c0 5.4 4.1 10.8 13.3 10.9 9.2.1 13.3-5.5 13.3-10.9v-.1c-.2-3.1-1.9-7.1-8.8-8.7l-6.1-1.4c-1.3-.3-4.5-1.2-4.5-3.2 0-3.1 3.2-4.2 6.1-4.2 3 0 6.1 1.6 6.1 4.3v.2h7.2z" /><path d="M370.1 33.6c0-10.7-7.3-17-16.9-17-9.3-.3-17.1 6.9-17.4 16.2v1.3c-.4 9.4 6.9 17.3 16.3 17.7h1.1c3.5 0 7-.8 10.1-2.6 3.2-1.8 5.6-4.9 6.5-8.5h-7.1c-1.7 3.1-4.8 4.6-9.2 4.6-5.9 0-10.3-4.6-10.3-9H370c.1-1.1.1-1.8.1-2.7zm-27-3.3c1-4.5 5.1-7.6 9.7-7.3 5.1 0 9.2 3 9.9 7.3h-19.6z" /></g><g class="pro"><path d="M428.9 34.3c-.1-9.8-8.1-17.7-17.9-17.6-3.5 0-6.8 1.1-9.7 3v-1.9h-7.2v50.8h7.2V48.8c2.6 1.8 5.6 2.8 8.7 3.1h1.3c9.6-.1 17.5-7.9 17.6-17.6zm-7.5 0c0 5.6-4.6 10.2-10.2 10.2h-1c-3.5-.4-6.6-2.6-8.1-5.9-1.2-2.6-1.3-5.7-.1-8.4.2-.4.4-.9.7-1.3.5-.8 1.1-1.5 1.8-2.1.7-.6 1.5-1.1 2.3-1.5h.2c.8-.4 1.7-.6 2.6-.8h.3c.5-.1.9-.1 1.4-.1H412.5l1 .2c3 .7 5.6 2.7 7 5.5v.2c.2.4.4.8.5 1.3l.3 1.2v.3c-.1.4 0 .8.1 1.2z" /><path d="M456.5 18.2c-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.2v32.9h7.2V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0l3.1-6.9z" /><path d="M476.3 24.1c5.6 0 10.2 4.6 10.2 10.2s-4.6 10.2-10.2 10.2-10.2-4.6-10.2-10.2 4.6-10.2 10.2-10.2m0-7.4c-9.8 0-17.7 7.9-17.7 17.7s7.9 17.7 17.7 17.7c9.8 0 17.7-7.9 17.7-17.7.1-9.8-7.9-17.7-17.7-17.7z" /></g></svg>'};var i=t(3184),u=t(50318);let c=(()=>{class C{constructor(p){this.domSanitizer=p,this.color="white"}get classes(){return[this.class,this.color].join(" ")}get html(){return this.domSanitizer.bypassSecurityTrustHtml(e[this.key])}}return C.\u0275fac=function(p){return new(p||C)(i.Y36(u.H7))},C.\u0275cmp=i.Xpm({type:C,selectors:[["cb-logo"]],hostVars:3,hostBindings:function(p,E){2&p&&(i.Ikx("innerHTML",E.html,i.oJD),i.Tol(E.classes))},inputs:{key:"key",color:"color",class:"class"},decls:0,vars:0,template:function(p,E){},styles:["cb-logo.inherit{fill:currentColor}cb-logo.white{fill:#fff}cb-logo.primary{fill:#146aff}cb-logo>svg{height:1em;max-width:9.35em;overflow:visible}\n"],encapsulation:2,changeDetection:0}),C})()},4079:(ne,b,t)=>{t.d(b,{h:()=>u});var e=t(36362),i=t(3184);let u=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[e.ez]]}),c})()},26365:(ne,b,t)=>{t.d(b,{b:()=>g,S:()=>m});var e=t(20605),i=t(97010),u=t(94882),c=t(1638),C=t(83910),_=t(86942),p=t(3184),E=t(36362),a=t(77500),l=t(47367),r=t(74929);function o(v,y){if(1&v&&(p._UZ(0,"cb-image",2),p.ALo(1,"translate")),2&v){const S=p.oxw();p.Q6J("resource",S.errorImage)("alt",p.lcZ(1,2,"CBL.MAINTENANCE_MODE.TITLE"))}}function d(v,y){if(1&v&&(p.TgZ(0,"a",5),p._uU(1),p.qZA()),2&v){const S=p.oxw().ngIf;p.Q6J("href",S.knowledgeCenterUrl,p.LSH),p.xp6(1),p.hij(" ",S.knowledgeCenterUrlLabel," ")}}function n(v,y){if(1&v&&(p.TgZ(0,"div",3),p._uU(1),p.YNc(2,d,2,2,"a",4),p.qZA()),2&v){const S=y.ngIf;p.xp6(1),p.hij(" ",S.message," "),p.xp6(1),p.Q6J("ngIf",S.knowledgeCenterUrl)}}var g=(()=>((g||(g={})).BILLING="billing",g))();const f={billing:e.TT.MAINTENANCE_MODE_BILLING};let m=(()=>{class v{constructor(S,A){this.featureService=S,this.labelService=A,this.showImage=!0,this.errorImage=i.Wh.rocket_doggo}ngOnInit(){this.setupMaintenanceModeMessage$()}setupMaintenanceModeMessage$(){this.maintenanceModeMessageConfig$=this.featureService.getTreatmentWithConfig(f[this.outageType],{treatment:e.UZ,config:{message:$localize`Due to scheduled maintenance, this is currently unavailable. Please try again later.`}}).pipe((0,C.q)(1),(0,_.U)(S=>{const{treatment:A,config:x}=S;if(A!==c.xc&&A!==e.UZ)return x}))}}return v.\u0275fac=function(S){return new(S||v)(p.Y36(e.Bz),p.Y36(u.Q))},v.\u0275cmp=p.Xpm({type:v,selectors:[["maintenance-mode"]],inputs:{messageLabelKey:"messageLabelKey",outageType:"outageType",showImage:"showImage"},decls:3,vars:4,consts:[[3,"resource","alt",4,"ngIf"],["class","maintenance-mode-message",4,"ngIf"],[3,"resource","alt"],[1,"maintenance-mode-message"],["cb-link","primary","target","_blank",3,"href",4,"ngIf"],["cb-link","primary","target","_blank",3,"href"]],template:function(S,A){1&S&&(p.YNc(0,o,2,4,"cb-image",0),p.YNc(1,n,3,2,"div",1),p.ALo(2,"async")),2&S&&(p.Q6J("ngIf",A.showImage),p.xp6(1),p.Q6J("ngIf",p.lcZ(2,2,A.maintenanceModeMessageConfig$)))},directives:[E.O5,a.q,l.I],pipes:[r.X,E.Ov],styles:["[_nghost-%COMP%]{display:block;line-height:20px;display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;max-width:600px;margin:auto}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.maintenance-mode-message[_ngcontent-%COMP%]{text-align:center;line-height:20px}"],changeDetection:0}),v})()},68453:(ne,b,t)=>{t.d(b,{N:()=>a});var e=t(36362),i=t(35503),u=t(90898),c=t(32519),C=t(31156),_=t(48212),p=t(19366),E=t(3184);let a=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[[e.ez,i.Dt,u.q,c.n,C.H,_.x,p.L]]}),l})()},78890:(ne,b,t)=>{t.d(b,{M:()=>P});var e=t(19639),i=t(75215),u=t(71263),c=t(3184),C=t(36362),_=t(46036),p=t(47367),E=t(45857),a=t(57984),l=t(74929);function r(z,ee){if(1&z&&(c.ynx(0),c._UZ(1,"field-formatter",4),c.BQk()),2&z){const Z=c.oxw(2);c.xp6(1),c.Q6J("collectionId",Z.collectionId)("field",Z.field)("fieldData",Z.listMarkupBlock.items[0].data)("queryData",Z.listMarkupBlock.items[0].queryData)("contextType",Z.contextType)("linkColor",Z.linkColor)}}function o(z,ee){if(1&z&&(c.ynx(0),c._UZ(1,"field-formatter",5),c.ynx(2),c._uU(3),c.ALo(4,"lowercase"),c.ALo(5,"translate"),c.BQk(),c._UZ(6,"field-formatter",5),c.BQk()),2&z){const Z=c.oxw(2);c.xp6(1),c.Q6J("collectionId",Z.collectionId)("field",Z.field)("fieldData",Z.listMarkupBlock.items[0].data)("queryData",Z.listMarkupBlock.items[0].queryData)("linkColor",Z.linkColor)("contextType",Z.contextType),c.xp6(2),c.hij("\xa0",c.lcZ(4,13,c.lcZ(5,15,"CBL.COMMON.AND")),"\xa0"),c.xp6(3),c.Q6J("collectionId",Z.collectionId)("field",Z.field)("fieldData",Z.listMarkupBlock.items[1].data)("queryData",Z.listMarkupBlock.items[1].queryData)("linkColor",Z.linkColor)("contextType",Z.contextType)}}function d(z,ee){1&z&&(c.ynx(0),c._uU(1),c.ALo(2,"lowercase"),c.ALo(3,"translate"),c.BQk()),2&z&&(c.xp6(1),c.hij("",c.lcZ(2,1,c.lcZ(3,3,"CBL.COMMON.AND")),"\xa0"))}function n(z,ee){1&z&&(c.ynx(0),c._uU(1,",\xa0"),c.BQk())}function g(z,ee){if(1&z&&(c.ynx(0),c.YNc(1,d,4,5,"ng-container",7),c._UZ(2,"field-formatter",5),c.YNc(3,n,2,0,"ng-container",7),c.BQk()),2&z){const Z=ee.$implicit,G=ee.last,J=c.oxw(3);c.xp6(1),c.Q6J("ngIf",G),c.xp6(1),c.Q6J("collectionId",J.collectionId)("field",J.field)("fieldData",Z.data)("queryData",Z.queryData)("linkColor",J.linkColor)("contextType",J.contextType),c.xp6(1),c.Q6J("ngIf",!G)}}function f(z,ee){if(1&z&&(c.ynx(0),c.YNc(1,g,4,8,"ng-container",6),c.BQk()),2&z){const Z=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",Z.listMarkupBlock.items)}}function m(z,ee){if(1&z&&(c.ynx(0,1),c.YNc(1,r,2,6,"ng-container",2),c.YNc(2,o,7,17,"ng-container",2),c.YNc(3,f,2,1,"ng-container",3),c.BQk()),2&z){const Z=c.oxw();c.Q6J("ngSwitch",Z.listMarkupBlock.items.length),c.xp6(1),c.Q6J("ngSwitchCase",1),c.xp6(1),c.Q6J("ngSwitchCase",2)}}let v=(()=>{class z{constructor(Z){this.metadataService=Z,this.contextType=u.Qy.markup}ngOnChanges(){const Z=this.metadataService.getCard(this.listMarkupBlock.collectionId,this.listMarkupBlock.cardId);this.collectionId=Z&&Z.lookup.collection_id,this.field=this.collectionId&&this.metadataService.getField(this.collectionId,this.listMarkupBlock.fieldId)||void 0}}return z.\u0275fac=function(Z){return new(Z||z)(c.Y36(i.Do))},z.\u0275cmp=c.Xpm({type:z,selectors:[["list-markup-block"]],inputs:{listMarkupBlock:"listMarkupBlock",linkColor:"linkColor"},features:[c.TTD],decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"collectionId","field","fieldData","queryData","contextType","linkColor"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(Z,G){1&Z&&c.YNc(0,m,4,3,"ng-container",0),2&Z&&c.Q6J("ngIf",G.collectionId&&G.field)},directives:[C.O5,C.RF,C.n9,a.N,C.ED,C.sg],pipes:[C.i8,l.X],encapsulation:2,changeDetection:0}),z})();function y(z,ee){if(1&z&&(c.ynx(0),c.TgZ(1,"a",4),c._uU(2),c.qZA(),c.BQk()),2&z){const Z=c.oxw().ngIf,G=c.oxw(2);c.xp6(1),c.Q6J("cb-link",G.linkColor)("routerLink",Z.route.path)("queryParams",Z.route.queryParams)("title",Z.value),c.uIk("aria-label",Z.value),c.xp6(1),c.Oqu(Z.value)}}function S(z,ee){if(1&z&&(c.ynx(0),c.TgZ(1,"a",5),c._uU(2),c.qZA(),c.BQk()),2&z){const Z=c.oxw().ngIf,G=c.oxw(2);c.xp6(1),c.Q6J("cb-link",G.linkColor)("href",Z.href,c.LSH)("title",Z.value),c.uIk("aria-label",Z.value),c.xp6(1),c.Oqu(Z.value)}}function A(z,ee){if(1&z&&(c.ynx(0),c.YNc(1,y,3,6,"ng-container",1),c.YNc(2,S,3,5,"ng-container",1),c.BQk()),2&z){const Z=ee.ngIf;c.xp6(1),c.Q6J("ngIf",Z.route&&Z.route.path),c.xp6(1),c.Q6J("ngIf",Z.href)}}function x(z,ee){if(1&z&&c._UZ(0,"field-formatter",6),2&z){const Z=ee.ngIf,G=c.oxw(2);c.Q6J("collectionId",Z.collectionId)("field",G.getField(Z.collectionId,Z.fieldId))("fieldData",Z.data)("queryData",Z.queryData)("linkColor",G.linkColor)("contextType",G.contextType)}}function R(z,ee){if(1&z&&c._UZ(0,"list-markup-block",7),2&z){const Z=c.oxw().$implicit,G=c.oxw();c.Q6J("listMarkupBlock",G.asList(Z))("linkColor",G.linkColor)}}function s(z,ee){if(1&z&&(c.TgZ(0,"strong"),c._uU(1),c.qZA()),2&z){const Z=c.oxw().$implicit,G=c.oxw();c.xp6(1),c.Oqu(G.asStrong(Z).value)}}function h(z,ee){if(1&z&&(c.ynx(0),c._uU(1),c.BQk()),2&z){const Z=c.oxw().$implicit,G=c.oxw();c.xp6(1),c.Oqu(G.asText(Z).value)}}function H(z,ee){if(1&z&&(c.ynx(0),c.YNc(1,A,3,2,"ng-container",1),c.YNc(2,x,1,6,"field-formatter",2),c.YNc(3,R,1,2,"list-markup-block",3),c.YNc(4,s,2,1,"strong",1),c.YNc(5,h,2,1,"ng-container",1),c.BQk()),2&z){const Z=ee.$implicit,G=c.oxw();c.xp6(1),c.Q6J("ngIf",Z.type===G.BlockType.anchor&&G.asAnchor(Z)),c.xp6(1),c.Q6J("ngIf",Z.type===G.BlockType.field&&G.asField(Z)),c.xp6(1),c.Q6J("ngIf",Z.type===G.BlockType.list),c.xp6(1),c.Q6J("ngIf",Z.type===G.BlockType.strong),c.xp6(1),c.Q6J("ngIf",Z.type===G.BlockType.text)}}let P=(()=>{class z{constructor(Z){this.metadataService=Z,this.contextType=u.Qy.markup,this.BlockType=e.k,this.asAnchor=z=>z,this.asField=z=>z,this.asList=z=>z,this.asStrong=z=>z,this.asText=z=>z}getField(Z,G){return this.metadataService.getField(Z,G)}}return z.\u0275fac=function(Z){return new(Z||z)(c.Y36(i.Do))},z.\u0275cmp=c.Xpm({type:z,selectors:[["markup-block"]],inputs:{markupBlocks:"markupBlocks",linkColor:"linkColor"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType",4,"ngIf"],[3,"listMarkupBlock","linkColor",4,"ngIf"],["role","link",3,"cb-link","routerLink","queryParams","title"],["role","link","target","_blank","rel","nofollow noopener noreferrer",3,"cb-link","href","title"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType"],[3,"listMarkupBlock","linkColor"]],template:function(Z,G){1&Z&&c.YNc(0,H,6,5,"ng-container",0),2&Z&&c.Q6J("ngForOf",G.markupBlocks)},directives:[C.sg,C.O5,_.n,p.I,E.yS,a.N,v],encapsulation:2,changeDetection:0}),z})()},40337:(ne,b,t)=>{t.d(b,{r:()=>a});var e=t(36362),i=t(90587),u=t(45857),c=t(90898),C=t(35503),_=t(93293),p=t(19366),E=t(3184);let a=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[[e.ez,c.q,i.u5,u.Bz,C.Dt,_.I,p.L]]}),l})()},29641:(ne,b,t)=>{t.d(b,{x:()=>p});var e=t(94882),i=t(19639),u=t(3184),c=t(36362),C=t(78890);function _(E,a){if(1&E&&u._UZ(0,"markup-block",1),2&E){const l=u.oxw();u.Q6J("markupBlocks",l.markupBlocks)}}let p=(()=>{class E{constructor(l,r){this.labelService=l,this.markupService=r}ngOnChanges(){if(!this.key)return;let l;l=this.values?this.labelService.getInterpolatedLabel(this.key,this.values):this.labelService.getLabel(this.key),l&&(this.markupBlocks=this.markupService.phraseToMarkupBlocks(l))}}return E.\u0275fac=function(l){return new(l||E)(u.Y36(e.Q),u.Y36(i.l))},E.\u0275cmp=u.Xpm({type:E,selectors:[["markup-label"]],inputs:{key:"key",values:"values"},features:[u.TTD],decls:1,vars:1,consts:[[3,"markupBlocks",4,"ngIf"],[3,"markupBlocks"]],template:function(l,r){1&l&&u.YNc(0,_,1,1,"markup-block",0),2&l&&u.Q6J("ngIf",r.markupBlocks)},directives:[c.O5,C.M],encapsulation:2,changeDetection:0}),E})()},39276:(ne,b,t)=>{t.d(b,{L:()=>E});var e=t(3184),i=t(87317),u=t(45857),c=t(74160),C=t(20757);function _(a,l){if(1&a&&e._UZ(0,"theme-icon",3),2&a){const r=e.oxw();e.Q6J("themeId",null==r.entityDef.display?null:r.entityDef.display.theme_id)}}const p=function(a){return["/discover",a]};let E=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["multi-search-collection-search-link"]],inputs:{entityDef:"entityDef"},decls:5,vars:5,consts:[["mat-raised-button","",1,"mat-elevation-z2",3,"routerLink"],[3,"iconTemplate"],["icon",""],["color","primary",3,"themeId"]],template:function(r,o){if(1&r&&(e.TgZ(0,"a",0)(1,"label-with-icon",1),e._uU(2),e.qZA(),e.YNc(3,_,1,1,"ng-template",null,2,e.W1O),e.qZA()),2&r){const d=e.MAs(4);e.Q6J("routerLink",e.VKq(3,p,o.entityDef.collection_id)),e.xp6(1),e.Q6J("iconTemplate",d),e.xp6(1),e.Oqu(null==o.entityDef.labels?null:o.entityDef.labels.plural)}},directives:[i.zs,u.yS,c.d,C.p],styles:["a[_ngcontent-%COMP%]{border-radius:9999px;text-transform:initial;letter-spacing:initial}a[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{margin:0 -4px}"],changeDetection:0}),a})()},74463:(ne,b,t)=>{t.d(b,{r:()=>_});var e=t(32519),i=t(32313),u=t(45857),c=t(90898),C=t(3184);let _=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[[e.n,i.H,u.Bz,c.q]]}),p})()},6162:(ne,b,t)=>{t.d(b,{y:()=>P});var e=t(98789),i=t(64139),u=t(47418),c=t(97160),C=t(3184),_=t(36362),p=t(713),E=t(46036),a=t(61276),l=t(35886),r=t(77500),o=t(74160),d=t(82973);function n(z,ee){if(1&z&&C._UZ(0,"img",8),2&z){const Z=C.oxw();C.Q6J("src",Z.ad.tracking_pixel_url,C.LSH)}}let g=(()=>{class z{getTriggerLocation(){return"registration"===this.placement?"free-registration-upsell":"profile-rail-upsell"}}return z.\u0275fac=function(Z){return new(Z||z)},z.\u0275cmp=C.Xpm({type:z,selectors:[["native-magic-card"]],inputs:{ad:"ad",placement:"placement"},decls:12,vars:10,consts:[["cb-external-link","",3,"href"],[3,"showHeader"],[1,"image-container"],["format","webp","alt","",3,"publicId","width"],[1,"cta-container"],[1,"mat-raised-button"],["iconKey","icon_pro_lightning","iconColor","inherit"],["style","display: none","width","1","height","1","alt","",3,"src",4,"ifPlatformBrowser"],["width","1","height","1","alt","",2,"display","none",3,"src"]],template:function(Z,G){1&Z&&(C.TgZ(0,"a",0)(1,"section-card",1)(2,"div",2),C._UZ(3,"cb-image",3),C.qZA(),C.TgZ(4,"div")(5,"h2"),C._uU(6),C.qZA(),C.TgZ(7,"div",4)(8,"div",5)(9,"label-with-icon",6),C._uU(10),C.qZA()()()(),C.YNc(11,n,1,1,"img",7),C.qZA()()),2&Z&&(C.Q6J("href",G.ad.click_url,C.LSH),C.xp6(1),C.Q6J("showHeader",!1),C.xp6(2),C.Q6J("publicId",G.ad.image_url)("width",416),C.xp6(1),C.Udp("background-color","#"+G.ad.color_background_hex),C.xp6(1),C.Udp("color","#"+G.ad.color_headline_hex),C.xp6(1),C.hij(" ",G.ad.headline_text," "),C.xp6(4),C.hij(" ",G.ad.cta_text," "))},directives:[E.n,a.V,l.j,r.q,o.d,d.W],styles:["[_nghost-%COMP%]  .mat-card{overflow:hidden}[_nghost-%COMP%]  img{display:block}section-card[_ngcontent-%COMP%]{margin-bottom:20px}@media (min-width: 600px){.image-container[_ngcontent-%COMP%]{min-height:340px}}h2[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;padding:20px 32px}.cta-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 32px 32px}a[_ngcontent-%COMP%]{text-decoration:none}.mat-raised-button[_ngcontent-%COMP%]{background-color:#f5a623}"],changeDetection:0}),z})();var f=t(11961),m=t(32478);function v(z,ee){1&z&&(C.TgZ(0,"div",11)(1,"a",12),C.SDv(2,13),C.qZA()())}function y(z,ee){1&z&&(C.TgZ(0,"div",11)(1,"a",12),C.SDv(2,14),C.qZA()())}function S(z,ee){if(1&z&&(C.TgZ(0,"div",15),C._UZ(1,"img",16),C.qZA()),2&z){const Z=C.oxw();C.xp6(1),C.Q6J("src",Z.ad.image_url,C.LSH)}}function A(z,ee){if(1&z&&C._UZ(0,"img",17),2&z){const Z=C.oxw();C.Q6J("src",Z.ad.tracking_pixel_url,C.LSH)}}let x=(()=>{class z{}return z.\u0275fac=function(Z){return new(Z||z)},z.\u0275cmp=C.Xpm({type:z,selectors:[["native-magic-tile"]],inputs:{ad:"ad"},decls:18,vars:15,consts:function(){let ee,Z;return ee=$localize`:␟c13214c828e19e6bcaa06ae062f6580c136e7563␟7238181635567116744: Advertise on Crunchbase `,Z=$localize`:␟85494d33c50468884bee03f6c5a5aaa11aaf8e13␟1542732706944028280: Sponsored Ad `,[["class","cb-display-block cb-margin-small-bottom",4,"ngIf"],["target","_blank","rel","nofollow",1,"cb-display-block",3,"href"],[1,"layout-row","layout-align-start-stretch"],["class","image-wrapper flex-none",4,"ngIf"],[1,"cb-padding-large-left","flex","layout-row","layout-align-start-center"],[1,"flex-none"],[1,"cb-font-weight-bold","cb-margin-medium-bottom"],[1,"cb-margin-large-top","layout-row","layout-align-space-between-end"],[1,"flex","cb-font-weight-bold","cb-text-transform-capitalize"],["key","icon_arrow_top_right"],["style","display: none","width","1","height","1","alt","",3,"src",4,"ifPlatformBrowser"],[1,"cb-display-block","cb-margin-small-bottom"],["href","https://about.crunchbase.com/partners/advertising-partners/","target","_blank",1,"link-primary"],ee,Z,[1,"image-wrapper","flex-none"],["alt","",3,"src"],["width","1","height","1","alt","",2,"display","none",3,"src"]]},template:function(Z,G){1&Z&&(C.TgZ(0,"div"),C.YNc(1,v,3,0,"div",0),C.YNc(2,y,3,0,"div",0),C.TgZ(3,"a",1)(4,"mat-card")(5,"div",2),C.YNc(6,S,2,1,"div",3),C.TgZ(7,"div",4)(8,"div",5)(9,"div",6),C._uU(10),C.qZA(),C.TgZ(11,"div"),C._uU(12),C.qZA()()()(),C.TgZ(13,"div",7)(14,"div",8),C._uU(15),C.qZA(),C._UZ(16,"icon",9),C.qZA()(),C.YNc(17,A,1,1,"img",10),C.qZA()()),2&Z&&(C.xp6(1),C.Q6J("ngIf",G.ad.content_house_ad),C.xp6(1),C.Q6J("ngIf",G.ad.content_customer),C.xp6(1),C.Q6J("href",G.ad.click_url,C.LSH),C.xp6(1),C.Udp("background-color","#"+G.ad.color_background_hex),C.xp6(2),C.Q6J("ngIf",G.ad.image_url),C.xp6(3),C.Udp("color","#"+G.ad.color_headline_hex),C.xp6(1),C.hij(" ",G.ad.headline_text," "),C.xp6(1),C.Udp("color","#"+G.ad.color_body_hex),C.xp6(1),C.hij(" ",G.ad.body_text," "),C.xp6(2),C.Udp("color","#"+G.ad.color_cta_hex),C.xp6(1),C.hij(" ",G.ad.cta_text," "))},directives:[_.O5,f.a8,m.o,d.W],styles:["[_nghost-%COMP%]{display:block}a[_ngcontent-%COMP%]{text-decoration:none}.image-wrapper[_ngcontent-%COMP%]{flex:0 0 20%;max-width:50px}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;border-radius:4px}.external-link-icon[_ngcontent-%COMP%]{align-self:flex-end}"],changeDetection:0}),z})();function R(z,ee){if(1&z&&C._UZ(0,"native-magic-card",6),2&z){const Z=C.oxw().ngIf,G=C.oxw();C.Q6J("placement",G.placement)("ad",Z)}}function s(z,ee){if(1&z&&C._UZ(0,"native-magic-tile",7),2&z){const Z=C.oxw().ngIf;C.Q6J("ad",Z)}}function h(z,ee){if(1&z&&C._UZ(0,"native-magic-tile",7),2&z){const Z=C.oxw().ngIf;C.Q6J("ad",Z)}}function H(z,ee){if(1&z){const Z=C.EpF();C.ynx(0,1),C.TgZ(1,"div",2),C.NdJ("inViewport",function(){const le=C.CHM(Z).ngIf;return C.oxw().adEvent("impression",le)})("click",function(){const le=C.CHM(Z).ngIf;return C.oxw().adEvent("click",le)}),C.YNc(2,R,1,2,"native-magic-card",3),C.YNc(3,s,1,1,"native-magic-tile",4),C.YNc(4,h,1,1,"native-magic-tile",5),C.qZA(),C.BQk()}if(2&z){const Z=C.oxw();C.Q6J("ngSwitch",Z.adLayout),C.xp6(2),C.Q6J("ngSwitchCase",Z.adLayoutTypes.CARD),C.xp6(1),C.Q6J("ngSwitchCase",Z.adLayoutTypes.TILE)}}var K=(()=>{return(z=K||(K={})).CARD="card",z.TILE="tile",K;var z})();let P=(()=>{class z{constructor(Z,G){this.nativeAdService=Z,this.usageEventsService=G,this.adLayoutTypes=K}ngOnInit(){this.adLayout=this.getLayoutForAdPlacement(this.placement),this.ad$=this.nativeAdService.get$(this.placement).pipe((0,u.K)(Z=>(0,i.of)(void 0)))}getLayoutForAdPlacement(Z){return"rail"===Z||"registration"===Z?K.CARD:K.TILE}adEvent(Z,G){this.usageEventsService.logUsageEvent("native_ad",{trigger:Z,ad_name:G.customer_name,placement:this.placement})}}return z.\u0275fac=function(Z){return new(Z||z)(C.Y36(c.c),C.Y36(e.N))},z.\u0275cmp=C.Xpm({type:z,selectors:[["native-magic"]],inputs:{placement:"placement"},decls:2,vars:3,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["inViewportNotifier","",3,"inViewport","click"],[3,"placement","ad",4,"ngSwitchCase"],[3,"ad",4,"ngSwitchCase"],[3,"ad",4,"ngSwitchDefault"],[3,"placement","ad"],[3,"ad"]],template:function(Z,G){1&Z&&(C.YNc(0,H,5,3,"ng-container",0),C.ALo(1,"async")),2&Z&&C.Q6J("ngIf",C.lcZ(1,1,G.ad$))},directives:[_.O5,_.RF,p.z,_.n9,g,x,_.ED],pipes:[_.Ov],encapsulation:2,changeDetection:0}),z})()},80910:(ne,b,t)=>{t.d(b,{a:()=>o});var e=t(36362),i=t(35503),u=t(90898),c=t(32519),C=t(33863),_=t(31156),p=t(19366),E=t(79215),a=t(4745),l=t(32313),r=t(3184);let o=(()=>{class d{}return d.\u0275fac=function(g){return new(g||d)},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({imports:[[e.ez,i.Dt,u.q,c.n,C.f,_.H,E.u,a.Y,p.L,l.H]]}),d})()},40114:(ne,b,t)=>{t.d(b,{B:()=>o});var e=t(54166),i=t(24476),u=t(92218),c=t(86942),C=t(53298),_=t(85921),p=t(18052),E=t(3184);const a=["wrapper"];function l(d,n){}function r(d,n){if(1&d&&E._UZ(0,"overlay-arrow",5),2&d){const g=E.oxw();E.Q6J("arrowDirection",g.arrowDirection)("overlayElement",g.overlayWrapper)("originElement",g.config.connectedElement)("arrowOffset",g.arrowOffset)}}let o=(()=>{class d{constructor(g,f,m,v,y,S,A){this.overlayRef=g,this.elementRef=f,this.overlayService=m,this.changeDetectorRef=v,this.injector=y,this.config=S,this.positionStrategy=A,this.arrowOffset=this.config.arrowOffset||0,this.onDestroy$=new u.xQ,this.resizeObserver="undefined"!=typeof ResizeObserver?new ResizeObserver(()=>{this.repositionOverlay()}):{observe:()=>{},disconnect:()=>{}},A instanceof e._G&&!this.config.noArrow&&A.positionChanges.pipe((0,c.U)(x=>this.overlayService.getArrowDirection(x.connectionPair)),(0,C.x)(),(0,_.R)(this.onDestroy$)).subscribe(x=>{this.arrowDirection=x,this.changeDetectorRef.detectChanges()})}ngOnInit(){this.overlayPortal=new i.C5(this.config.component,null,this.injector)}ngAfterViewInit(){this.resizeObserver.observe(this.overlayWrapper.nativeElement)}ngOnDestroy(){this.onDestroy$.next(),this.resizeObserver.disconnect()}repositionOverlay(){this.overlayRef.updatePosition()}}return d.\u0275fac=function(g){return new(g||d)(E.Y36(e.Iu),E.Y36(E.SBq),E.Y36(p.F0),E.Y36(E.sBO),E.Y36(E.zs3),E.Y36(p.A3),E.Y36(p.kU))},d.\u0275cmp=E.Xpm({type:d,selectors:[["overlay"]],viewQuery:function(g,f){if(1&g&&E.Gf(a,7),2&g){let m;E.iGM(m=E.CRH())&&(f.overlayWrapper=m.first)}},decls:5,vars:4,consts:[[1,"mat-elevation-z3","overlay-wrapper"],["wrapper",""],[1,"overlay-inner"],[3,"cdkPortalOutlet"],[3,"arrowDirection","overlayElement","originElement","arrowOffset",4,"ngIf"],[3,"arrowDirection","overlayElement","originElement","arrowOffset"]],template:function(g,f){1&g&&(E.TgZ(0,"div",0,1)(2,"div",2),E.YNc(3,l,0,0,"ng-template",3),E.qZA(),E.YNc(4,r,1,4,"overlay-arrow",4),E.qZA()),2&g&&(E.xp6(2),E.ekj("padded-border",f.config.connectedElement),E.xp6(1),E.Q6J("cdkPortalOutlet",f.overlayPortal),E.xp6(1),E.Q6J("ngIf",f.config.connectedElement&&!f.config.noArrow))},styles:[".overlay-inner[_ngcontent-%COMP%]{background-color:#fff;border-radius:3px;box-sizing:border-box;max-width:100vw;max-height:80vh;display:flex;overflow:auto}.overlay-inner.padded-border[_ngcontent-%COMP%]{border:1px solid #cbcbcb;padding:2px}.overlay-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:3px}"],changeDetection:0}),d})()},7856:(ne,b,t)=>{t.d(b,{G:()=>S});var e=t(3184),i=t(90587),u=t(85921),c=t(92218);let C=(()=>{class A{static valuesMatch(R,s){return function(h){if(!(h instanceof i.cw))throw Error("PasswordValidators#valuesMatch validator requires FormGroup");return h.controls[R].value!==h.controls[s].value?{missmatch:!0}:null}}}return A.hasLowercaseLetter=x=>/[a-z]/.test(x.value)?null:{passwordLowercase:!0},A.hasUppercaseLetter=x=>/[A-Z]/.test(x.value)?null:{passwordUppercase:!0},A.hasNumber=x=>/[0-9]/.test(x.value)?null:{passwordNumber:!0},A})();var _=t(44770),p=t(43365),E=t(59543),a=t(50450),l=t(36362),r=t(29847),o=t(32478),d=t(74929);const n=function(A,x,R){return{requirement:!0,clean:A,valid:x,error:R}};let g=(()=>{class A{constructor(R){this.changeDetectorRef=R,this.isTouched=!1,this.styleClass="clean",this.icon=null,this.ariaHidden=!1}ngOnChanges(R){(R.error||R.isTouched)&&this.setAttributes()}setAttributes(){this.isTouched?this.error&&this.isTouched?(this.styleClass="error",this.ariaHidden=!1,this.icon="icon_close"):(this.styleClass="valid",this.ariaHidden=!0,this.icon="icon_check"):(this.styleClass="clean",this.ariaHidden=!1,this.icon=null),this.changeDetectorRef.markForCheck()}}return A.\u0275fac=function(R){return new(R||A)(e.Y36(e.sBO))},A.\u0275cmp=e.Xpm({type:A,selectors:[["password-requirement"]],inputs:{error:"error",labelKey:"labelKey",isTouched:"isTouched"},features:[e.TTD],decls:5,vars:12,consts:[[3,"ngClass"],[1,"icon-container"],["color","inherit","size","custom",3,"key"]],template:function(R,s){1&R&&(e.TgZ(0,"div",0)(1,"span",1),e._UZ(2,"icon",2),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&R&&(e.Q6J("ngClass",e.kEZ(8,n,"clean"===s.styleClass,"valid"===s.styleClass,"error"===s.styleClass)),e.uIk("aria-hidden",s.ariaHidden?"true":null),e.xp6(2),e.Tol(s.icon?null:"bullet"),e.Q6J("key",s.icon?s.icon:"icon_bullet"),e.xp6(1),e.hij(" ",e.lcZ(4,6,s.labelKey),"\n"))},directives:[l.mk,o.o],pipes:[d.X],styles:[".requirement[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0000008a;font-size:12px}.icon-container[_ngcontent-%COMP%]{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em;margin-right:4px;display:flex;align-items:center;justify-content:space-around}.icon-container[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em}.icon-container[_ngcontent-%COMP%]   icon.bullet[_ngcontent-%COMP%]{height:.5em;width:.5em;min-width:.5em;min-height:.5em;line-height:.5em}.error[_ngcontent-%COMP%]{color:#c73636}.valid[_ngcontent-%COMP%]{color:#36c78f}"],changeDetection:0}),A})();function f(A,x){if(1&A&&(e.TgZ(0,"mat-form-field",1)(1,"mat-label"),e.SDv(2,13),e.qZA(),e._UZ(3,"input",14),e.TgZ(4,"mat-error"),e._UZ(5,"form-error",15)(6,"server-error",16),e.qZA()()),2&A){const R=e.oxw();e.Q6J("floatLabel",R.floatLabel),e.xp6(3),e.Q6J("serverError",R.apiError),e.xp6(2),e.Q6J("error",null==R.newPasswordConfirm||null==R.newPasswordConfirm.errors?null:R.newPasswordConfirm.errors.required)("isTouched",R.newPasswordConfirm.touched),e.xp6(1),e.Q6J("error",R.apiError)}}function m(A,x){if(1&A&&e._UZ(0,"password-requirement",17),2&A){const R=e.oxw();e.Q6J("error",null==R.form.errors?null:R.form.errors.missmatch)("isTouched",R.newPasswordConfirm.dirty)}}let S=(()=>{class A{constructor(R){this.formBuilder=R,this.disableConfirmation=!1,this.floatLabel=null,this.MAX_PASSWORD_LENGTH=99,this.onDestroy$=new c.xQ,this.onChange=()=>({}),this.onTouched=()=>({}),this.form=this.formBuilder.group({newPassword:new i.NI("",[i.kI.required,i.kI.minLength(8),i.kI.maxLength(99),C.hasLowercaseLetter,C.hasUppercaseLetter,C.hasNumber])}),this.form.valueChanges.pipe((0,u.R)(this.onDestroy$)).subscribe(s=>{this.onChange(s),this.onTouched()})}get value(){return this.form.value}set value(R){this.form.setValue(R),this.onChange(R),this.onTouched()}ngOnInit(){this.disableConfirmation||(this.form.addControl("newPasswordConfirm",new i.NI("",[i.kI.required])),this.form.clearValidators(),this.form.setValidators(C.valuesMatch("newPassword","newPasswordConfirm")))}get newPassword(){return this.form.controls.newPassword}get newPasswordConfirm(){return this.form.controls.newPasswordConfirm}ngOnDestroy(){this.onDestroy$.next()}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouched=R}writeValue(R){R&&(this.value=R),null===R&&this.form.reset()}validate(){return this.form.valid?null:{newPassword:!1}}}return A.\u0275fac=function(R){return new(R||A)(e.Y36(i.qu))},A.\u0275cmp=e.Xpm({type:A,selectors:[["password-form"]],inputs:{apiError:"apiError",disableConfirmation:"disableConfirmation",floatLabel:"floatLabel"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>A),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>A),multi:!0}])],decls:17,vars:16,consts:function(){let x,R;return x=$localize`:␟c7014c6360e94b236286b869c3fe0ea9911c0387␟1221596867309460035:New Password`,R=$localize`:␟95b8c38cdfc865bcf8964d8f1ee61ddd12f3ce57␟8063656610167434338:New Password (Again)`,[[3,"formGroup"],[3,"floatLabel"],x,["formControlName","newPassword","matInput","","required","","fieldName","password","autocomplete","new-password","type","password","name","newPassword",3,"maxlength","serverError"],["fieldName","password",3,"error"],[3,"floatLabel",4,"ngIf"],[1,"requirements"],["id","password-requirements"],["labelKey","CBL.CHANGE_PASSWORD.TOO_SHORT",3,"error","isTouched"],["labelKey","CBL.CHANGE_PASSWORD.NO_NUMBER",3,"error","isTouched"],["labelKey","CBL.CHANGE_PASSWORD.NO_MATCH",3,"error","isTouched",4,"ngIf"],["labelKey","CBL.CHANGE_PASSWORD.NO_LOWERCASE",3,"error","isTouched"],["labelKey","CBL.CHANGE_PASSWORD.NO_UPPERCASE",3,"error","isTouched"],R,["formControlName","newPasswordConfirm","matInput","","required","","autocomplete","off","fieldName","password_confirmation","type","password","name","newPasswordConfirm","aria-describedby","password-requirements",3,"serverError"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["fieldName","password_confirmation",3,"error"],["labelKey","CBL.CHANGE_PASSWORD.NO_MATCH",3,"error","isTouched"]]},template:function(R,s){1&R&&(e.TgZ(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),e.SDv(3,2),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"mat-error"),e._UZ(6,"server-error",4),e.qZA()(),e.YNc(7,f,7,5,"mat-form-field",5),e.TgZ(8,"div",6)(9,"div",7)(10,"div"),e._UZ(11,"password-requirement",8)(12,"password-requirement",9),e.YNc(13,m,1,2,"password-requirement",10),e.qZA(),e.TgZ(14,"div"),e._UZ(15,"password-requirement",11)(16,"password-requirement",12),e.qZA()()()()),2&R&&(e.Q6J("formGroup",s.form),e.xp6(1),e.Q6J("floatLabel",s.floatLabel),e.xp6(3),e.Q6J("maxlength",s.MAX_PASSWORD_LENGTH)("serverError",s.apiError),e.xp6(2),e.Q6J("error",s.apiError),e.xp6(1),e.Q6J("ngIf",!s.disableConfirmation),e.xp6(2),e.uIk("role",s.newPassword.invalid&&s.newPassword.dirty?"alert":null),e.xp6(2),e.Q6J("error",(null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.minlength)||(null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.required))("isTouched",s.newPassword.dirty),e.xp6(1),e.Q6J("error",null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.passwordNumber)("isTouched",s.newPassword.dirty),e.xp6(1),e.Q6J("ngIf",!s.disableConfirmation),e.xp6(2),e.Q6J("error",null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.passwordLowercase)("isTouched",s.newPassword.dirty),e.xp6(1),e.Q6J("error",null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.passwordUppercase)("isTouched",s.newPassword.dirty))},directives:[i._Y,i.JL,i.sg,_.KE,_.hX,i.Fj,p.Nt,i.JJ,i.u,i.Q7,i.nD,E._,_.TO,a.k,l.O5,r.A,g],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (min-width: 600px){form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%]{justify-content:normal}}form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:8px}@media (min-width: 600px){form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:48px}}form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-right:0}form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%]   password-requirement[_ngcontent-%COMP%]{display:block;margin-top:8px}"],changeDetection:0}),A})()},75012:(ne,b,t)=>{t.d(b,{M:()=>a});var e=t(36362),i=t(90587),u=t(35503),c=t(90898),C=t(65852),_=t(32519),p=t(33706),E=t(3184);let a=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[[e.ez,i.UX,u.Dt,c.q,C.C,_.n,p.T]]}),l})()},85903:(ne,b,t)=>{t.d(b,{M:()=>p}),t(93443);var i=t(14021),u=t(3184),c=t(36362);function C(E,a){if(1&E&&(u.TgZ(0,"span"),u.SDv(1,4),u.qZA()),2&E){const l=u.oxw();u.xp6(1),u.pQV(l.paymentSource.expiration_month)(l.paymentSource.expiration_year),u.QtT(1)}}function _(E,a){if(1&E&&(u.TgZ(0,"span",5),u.SDv(1,6),u.qZA()),2&E){const l=u.oxw();u.xp6(1),u.pQV(l.paymentSource.expiration_month)(l.paymentSource.expiration_year),u.QtT(1)}}let p=(()=>{class E{constructor(l){this.billingService=l}ngOnChanges(){this.isExpired=this.billingService.isCardExpired(this.paymentSource)}}return E.\u0275fac=function(l){return new(l||E)(u.Y36(i.jM))},E.\u0275cmp=u.Xpm({type:E,selectors:[["payment-method-text"]],inputs:{paymentSource:"paymentSource"},features:[u.TTD],decls:5,vars:4,consts:function(){let a,l;return a=$localize`:␟9608d66f3f80feb3fa4e0e02eeacb57204b7d6b1␟2631568858072121366: Expires ${"\ufffd0\ufffd"}:INTERPOLATION:/${"\ufffd1\ufffd"}:INTERPOLATION_1: `,l=$localize`:␟d108c7dc6d96e9fef8e266805b198ec88403b958␟8973210063696396398: Expired ${"\ufffd0\ufffd"}:INTERPOLATION:/${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"name"],[1,"expiration-text"],[4,"ngIf"],["class","expired",4,"ngIf"],a,[1,"expired"],l]},template:function(l,r){1&l&&(u.TgZ(0,"div",0),u._uU(1),u.qZA(),u.TgZ(2,"div",1),u.YNc(3,C,2,2,"span",2),u.YNc(4,_,2,2,"span",3),u.qZA()),2&l&&(u.xp6(1),u.AsE(" ",r.paymentSource.brand," ****",r.paymentSource.last4,"\n"),u.xp6(2),u.Q6J("ngIf",!r.isExpired),u.xp6(1),u.Q6J("ngIf",r.isExpired))},directives:[c.O5],styles:["[_nghost-%COMP%]{display:block}.name[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.expiration-text[_ngcontent-%COMP%]{margin-top:4px}.expired[_ngcontent-%COMP%]{color:#c73636}"],changeDetection:0}),E})()},81450:(ne,b,t)=>{t.d(b,{U:()=>u});var e=t(36362),i=t(3184);let u=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[e.ez]]}),c})()},83485:(ne,b,t)=>{t.d(b,{s:()=>d});var e=t(36362),i=t(45857),u=t(35503),c=t(48212),C=t(32519),_=t(51044),p=t(30412),E=t(33863),a=t(32313),l=t(5076),r=t(74742),o=t(3184);let d=(()=>{class n{}return n.\u0275fac=function(f){return new(f||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[e.ez,i.Bz,u.Dt,c.x,C.n,_.X,r.Cq,E.f,a.H,l.V,p.l]]}),n})()},30703:(ne,b,t)=>{t.d(b,{O:()=>$});var e=t(2384),i=t(7323),u=t(83910),c=t(85129),C=t(46179),_=t(46829),p=t(3184),E=t(95758),a=t(71360),l=t(84505),r=t(92218),o=t(19193),d=t(89479),n=t(86942),g=t(85921),f=t(843),m=t(97010),v=t(93443),y=t(25848),S=t(75215),A=t(94882),x=t(73729),R=t(36362),s=t(20605),h=t(61531),H=t(43652),K=t(74929);function P(X,Ce){1&X&&(p.TgZ(0,"div",1)(1,"span",2),p.SDv(2,3),p.qZA(),p.TgZ(3,"upsell-modal-button",4),p._uU(4),p.ALo(5,"translate"),p.qZA()()),2&X&&(p.xp6(4),p.hij(" ",p.lcZ(5,1,"CBL.LOGIN.TRY_PRO_FOR_FREE")," "))}let z=(()=>{class X{constructor(){this.maintenanceModeBillingFlag=s.TT.MAINTENANCE_MODE_BILLING}}return X.\u0275fac=function(ye){return new(ye||X)},X.\u0275cmp=p.Xpm({type:X,selectors:[["list-pro-upsell-banner"]],decls:1,vars:1,consts:function(){let Ce;return Ce=$localize`:␟8ce7a8e8b136411c04e4d6052d8d9962e558c39a␟7550697103014691127:Unlock unlimited lists with Pro subscription`,[["class","banner",4,"ifNotFeatureFlagBoolean"],[1,"banner"],[1,"upsell-copy"],Ce,["featureSet","list_membership","triggerLocation","save-to-list-upsell-banner"]]},template:function(ye,ue){1&ye&&p.YNc(0,P,6,3,"div",0),2&ye&&p.Q6J("ifNotFeatureFlagBoolean",ue.maintenanceModeBillingFlag)},directives:[h.l,H.J],pipes:[K.X],styles:[".banner[_ngcontent-%COMP%]{background-color:#fef4e5;color:#282828;padding:16px;display:flex;align-items:center;justify-content:space-between;max-width:100%}"]}),X})();var ee=t(77500),Z=t(44822),G=t(40089);let J=(()=>{class X{constructor(){this.onSaveAction=new p.vpe}handleClick(){this.onSaveAction.emit(this.list)}}return X.\u0275fac=function(ye){return new(ye||X)},X.\u0275cmp=p.Xpm({type:X,selectors:[["save-to-list-item"]],inputs:{list:"list"},outputs:{onSaveAction:"onSaveAction"},decls:5,vars:10,consts:[[3,"label","color","iconKey","isDisabled","isLoading","onClick"]],template:function(ye,ue){1&ye&&(p.TgZ(0,"span"),p._uU(1),p.qZA(),p.TgZ(2,"progress-button",0),p.NdJ("onClick",function(){return ue.handleClick()}),p.ALo(3,"translate"),p.ALo(4,"translate"),p.qZA()),2&ye&&(p.xp6(1),p.Oqu(ue.list.name),p.xp6(1),p.Q6J("label",ue.list.saved?p.lcZ(3,6,"CBL.SAVE_TO_LIST.BUTTON.SAVED"):p.lcZ(4,8,"CBL.SAVE_TO_LIST.BUTTON.SAVE"))("color",ue.list.saved?"accent":"primary")("iconKey",ue.list.saved?"icon_check":"icon_add_circle")("isDisabled",ue.list.loading)("isLoading",ue.list.loading))},directives:[Z.l],pipes:[K.X],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}icon[_ngcontent-%COMP%]{margin-right:4px}"],changeDetection:0}),X})();var le=t(87317);function V(X,Ce){1&X&&p._UZ(0,"list-pro-upsell-banner")}function j(X,Ce){if(1&X&&(p.TgZ(0,"li")(1,"div",8)(2,"div",9),p._UZ(3,"cb-image",10),p.TgZ(4,"span",11),p.SDv(5,12),p.qZA()(),p.TgZ(6,"div"),p._UZ(7,"progress-button",13),p.ALo(8,"translate"),p.ALo(9,"translate"),p.qZA()()()),2&X){const ye=p.oxw(3);p.xp6(3),p.Q6J("resource",ye.crmLogoUrl)("width",64)("height",64)("original",!0),p.xp6(4),p.Q6J("label",p.lcZ(8,7,"CBL.SAVE_TO_LIST.BUTTON.SAVED"))("isDisabled",!0)("matTooltip",p.lcZ(9,9,"CBL.SAVE_TO_LIST.LIST_FORM.CRM_LIST_TOOLTIP"))}}function M(X,Ce){if(1&X){const ye=p.EpF();p.TgZ(0,"li")(1,"save-to-list-item",14),p.NdJ("onSaveAction",function(Me){return p.CHM(ye),p.oxw(3).handleItemChange(Me)}),p.qZA()()}if(2&X){const ye=Ce.$implicit;p.xp6(1),p.Q6J("list",ye)}}function ie(X,Ce){if(1&X&&(p.TgZ(0,"ul"),p.YNc(1,j,10,11,"li",2),p.YNc(2,M,2,1,"li",7),p.qZA()),2&X){const ye=p.oxw(2);p.xp6(1),p.Q6J("ngIf",ye.isSavedToMyCrm),p.xp6(1),p.Q6J("ngForOf",ye.lists)}}function te(X,Ce){if(1&X&&(p.TgZ(0,"div",15),p._uU(1),p.qZA()),2&X){const ye=p.oxw(2);p.xp6(1),p.hij(" ",ye.noListsLabel," ")}}function re(X,Ce){if(1&X&&(p.ynx(0),p.YNc(1,ie,3,2,"ul",2),p.YNc(2,te,2,1,"div",6),p.BQk()),2&X){const ye=p.oxw();p.xp6(1),p.Q6J("ngIf",ye.listsAvailable),p.xp6(1),p.Q6J("ngIf",!ye.listsAvailable)}}function q(X,Ce){if(1&X){const ye=p.EpF();p.TgZ(0,"button",16),p.NdJ("click",function(){return p.CHM(ye),p.oxw().createList()}),p.ALo(1,"async"),p._uU(2),p.ALo(3,"uppercase"),p.ALo(4,"translate"),p.qZA()}if(2&X){const ye=p.oxw();p.Q6J("disabled",p.lcZ(1,2,ye.processing$)),p.xp6(2),p.hij(" ",p.lcZ(3,4,p.lcZ(4,6,"CBL.SAVE_TO_LIST.LIST_FORM.CREATE_LIST"))," ")}}function U(X,Ce){1&X&&(p.TgZ(0,"upsell-modal-button",17),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&X&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"CBL.LISTS.CREATE_NEW_LIST")," "))}let k=(()=>{class X{constructor(ye,ue,Me,me,ve,ze,tt){this.saveToListService=ye,this.toastService=ue,this.changeDetectorRef=Me,this.permissionService=me,this.syntheticMetadataService=ve,this.metadataService=ze,this.labelService=tt,this.completed=new p.vpe,this.goToCreateList=new p.vpe,this.loading$=new l.X(!0),this.saving$=new l.X(!1),this.crmLogoUrl=m.Wh.crm.salesforce,this.canCreateNewList=this.permissionService.canCreateNewList(),this.isSavedToMyCrm=!1,this.onDestroy=new r.xQ}ngOnInit(){this.setLoadingStreams(),this.loadLists()}ngOnChanges(ye){var ue;if(ye.entityDefId){const Me=this.syntheticMetadataService.getEntityDefsWithSingleCollectionLists().includes(this.entityDefId),me=(null===(ue=this.metadataService.getEntityDef(this.entityDefId))||void 0===ue?void 0:ue.labels.singular)||"";this.noListsLabel=Me?this.labelService.getInterpolatedLabel("CBL.SAVE_TO_LIST.LIST_FORM.NO_SINGLE_COLLECTION_LISTS",{entityDefLabel:me}):$localize`You don't have any lists`}}ngOnDestroy(){this.onDestroy.next()}handleItemChange(ye){ye.saved?this.saveToListService.removeFromStaticList(this.entityId,ye).catch(()=>this.toastService.showSimpleToast("CBL.COMMON.FAILURE")):this.saveToListService.saveToStaticList(this.entityId,ye).catch(()=>this.toastService.showSimpleToast("CBL.COMMON.FAILURE"))}createList(){this.goToCreateList.emit()}setLoadingStreams(){this.processing$=(0,o.aj)([this.loading$,this.saving$]).pipe((0,n.U)(ye=>ye.some(ue=>!!ue)))}loadLists(){this.saveToListService.loadListsForEntity$(this.entityId,this.entityDefId).pipe((0,g.R)(this.onDestroy)).subscribe({next:ye=>{this.isSavedToMyCrm=ye.some(ue=>ue.designation===v.BW.DesignationEnum.crm_accounts&&ue.saved),this.lists=ye.filter(ue=>ue.designation!==v.BW.DesignationEnum.crm_accounts),this.listsAvailable=this.isSavedToMyCrm||this.lists.length>0,this.loading$.next(!1),this.changeDetectorRef.markForCheck()},error:()=>{this.toastService.showSimpleToast("CBL.COMMON.FAILURE"),this.completed.emit()}})}}return X.\u0275fac=function(ye){return new(ye||X)(p.Y36(d.n),p.Y36(C.k),p.Y36(p.sBO),p.Y36(f.$),p.Y36(y.Y),p.Y36(S.Do),p.Y36(A.Q))},X.\u0275cmp=p.Xpm({type:X,selectors:[["save-to-list"]],inputs:{entityId:"entityId",entityDefId:"entityDefId"},outputs:{completed:"completed",goToCreateList:"goToCreateList"},features:[p.TTD],decls:11,vars:13,consts:function(){let Ce;return Ce=$localize`:␟8de1c526961d16b1056bd0c4f8a047c114c2a742␟1288997680693189395: Salesforce CRM `,[[3,"title","processing","fullBleed"],["dialog-content",""],[4,"ngIf"],["dialog-actions","",1,"layout-row"],["mat-stroked-button","","color","primary","class","create-list-button",3,"disabled","click",4,"ngIf","ngIfElse"],["upsellButton",""],["class","no-lists",4,"ngIf"],[4,"ngFor","ngForOf"],["data-heap-save-to-list-checkbox","",1,"layout-row","layout-align-start-center","crm-container"],[1,"logo-and-title"],["alt","",1,"crm-logo",3,"resource","width","height","original"],[1,"cb-margin-small-right","cb-overflow-ellipsis","flex-nogrow"],Ce,["color","accent","iconKey","icon_check",3,"label","isDisabled","matTooltip"],[3,"list","onSaveAction"],[1,"no-lists"],["mat-stroked-button","","color","primary",1,"create-list-button",3,"disabled","click"],["triggerLocation","profile-create-new-list","featureSet","list_membership","buttonType","basic"]]},template:function(ye,ue){if(1&ye&&(p.TgZ(0,"dialog-layout",0),p.ALo(1,"translate"),p.ALo(2,"async"),p.TgZ(3,"div",1),p.YNc(4,V,1,0,"list-pro-upsell-banner",2),p.YNc(5,re,3,2,"ng-container",2),p.ALo(6,"async"),p.qZA(),p.TgZ(7,"div",3),p.YNc(8,q,5,8,"button",4),p.YNc(9,U,3,3,"ng-template",null,5,p.W1O),p.qZA()()),2&ye){const Me=p.MAs(10);p.Q6J("title",p.lcZ(1,7,"CBL.SAVE_TO_LIST.LIST_FORM.TITLE"))("processing",p.lcZ(2,9,ue.processing$))("fullBleed",!0),p.xp6(4),p.Q6J("ngIf",!ue.canCreateNewList),p.xp6(1),p.Q6J("ngIf",!p.lcZ(6,11,ue.loading$)),p.xp6(3),p.Q6J("ngIf",ue.canCreateNewList)("ngIfElse",Me)}},directives:[x.I,R.O5,z,ee.q,Z.l,G.gM,R.sg,J,le.lW,H.J],pipes:[K.X,R.Ov,R.gd],styles:[".crm-container[_ngcontent-%COMP%]{padding:16px 8px;justify-content:space-between}.crm-container[_ngcontent-%COMP%]   .logo-and-title[_ngcontent-%COMP%]{display:flex;align-items:center}.crm-container[_ngcontent-%COMP%]   .logo-and-title[_ngcontent-%COMP%]   .crm-logo[_ngcontent-%COMP%]{width:32px;margin-right:8px;flex-shrink:0}ul[_ngcontent-%COMP%]{margin:0;padding:8px}@media (min-width: 960px){ul[_ngcontent-%COMP%]{padding:32px}}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:16px 0;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0000000d}.no-lists[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:48px}.create-list-button[_ngcontent-%COMP%]:not([disabled]){border-color:#146aff}"],changeDetection:0}),X})();var w=t(30988);let Q=(()=>{class X extends e.V{constructor(ye,ue){super(),this.dialogRef=ye,this.toastService=ue}ngOnInit(){if(this.entityId=this.payload&&this.payload.entityId,!this.entityId)return this.toastService.showSimpleToast("CBL.COMMON.FAILURE"),void this.closeDialog()}closeDialog(){this.dialogRef.close()}showCreateListForm(){this.slides.next()}navFromCreateToSave(){this.slides.previous()}}return X.\u0275fac=function(ye){return new(ye||X)(p.Y36(E.so),p.Y36(C.k))},X.\u0275cmp=p.Xpm({type:X,selectors:[["ng-component"]],viewQuery:function(ye,ue){if(1&ye&&p.Gf(_.o,7),2&ye){let Me;p.iGM(Me=p.CRH())&&(ue.slides=Me.first)}},features:[p.qOj],decls:5,vars:3,consts:[[3,"entityId","entityDefId","completed","goToCreateList"],[3,"entityDefId","completed"]],template:function(ye,ue){1&ye&&(p.TgZ(0,"slides")(1,"slide")(2,"save-to-list",0),p.NdJ("completed",function(){return ue.closeDialog()})("goToCreateList",function(){return ue.showCreateListForm()}),p.qZA()(),p.TgZ(3,"slide")(4,"create-list-form",1),p.NdJ("completed",function(){return ue.navFromCreateToSave()}),p.qZA()()()),2&ye&&(p.xp6(2),p.Q6J("entityId",ue.entityId)("entityDefId",ue.payload.entityDefId),p.xp6(2),p.Q6J("entityDefId",ue.payload.entityDefId))},directives:[_.o,a.o,k,w.I],styles:["[_nghost-%COMP%]     .mat-dialog-content{height:35vh;margin:0;padding:0}slides[_ngcontent-%COMP%]{min-width:200px}@media (min-width: 960px){slides[_ngcontent-%COMP%]{width:450px}}"],changeDetection:0}),X})(),$=(()=>{class X{constructor(ye,ue){this.dialogService=ye,this.userService=ue}openSaveDialog(ye,ue){return this.userService.getIsLoggedIn$().pipe((0,u.q)(1)).toPromise().then(Me=>Me?this.dialogService.showDialog(Q,{entityId:ye,entityDefId:ue}):this.dialogService.showDialog(c.j,{featureSet:"register"}))}}return X.\u0275fac=function(ye){return new(ye||X)(p.LFG(e.x),p.LFG(i.KD))},X.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},24993:(ne,b,t)=>{t.d(b,{z:()=>h});var e=t(3184),i=t(35560),u=t(30703),c=t(61555),C=t(59095),_=t(79128),p=t(83910),E=t(36362),a=t(87317),l=t(74160),r=t(32478),o=t(74929);function d(H,K){1&H&&(e.ynx(0),e.TgZ(1,"label-with-icon",7),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&H&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.SAVE_TO_LIST.BUTTON.SAVED")," "))}function n(H,K){1&H&&(e.TgZ(0,"label-with-icon",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&H&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.COMMON.SAVE")," "))}function g(H,K){if(1&H){const P=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(P),e.oxw().openDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"translate"),e.ALo(4,"async"),e.YNc(5,d,4,3,"ng-container",5),e.ALo(6,"async"),e.YNc(7,n,3,3,"ng-template",null,6,e.W1O),e.qZA()}if(2&H){const P=e.MAs(8),z=e.oxw();e.Q6J("color",e.lcZ(1,5,z.isSaved$)?"accent":"primary")("disabled",!e.lcZ(2,7,z.entityId$)),e.uIk("aria-label",e.lcZ(3,9,e.lcZ(4,11,z.isSaved$)?"CBL.SAVE_TO_LIST.BUTTON.SAVED":"CBL.COMMON.SAVE")),e.xp6(5),e.Q6J("ngIf",e.lcZ(6,13,z.isSaved$))("ngIfElse",P)}}function f(H,K){1&H&&(e.ynx(0),e._UZ(1,"icon",10),e.BQk())}function m(H,K){1&H&&e._UZ(0,"icon",11)}function v(H,K){if(1&H){const P=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(P),e.oxw().openDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"translate"),e.ALo(4,"async"),e.YNc(5,f,2,0,"ng-container",5),e.ALo(6,"async"),e.YNc(7,m,1,0,"ng-template",null,6,e.W1O),e.qZA()}if(2&H){const P=e.MAs(8),z=e.oxw();e.Q6J("color",e.lcZ(1,5,z.isSaved$)?"accent":"primary")("disabled",!e.lcZ(2,7,z.entityId$)),e.uIk("aria-label",e.lcZ(3,9,e.lcZ(4,11,z.isSaved$)?"CBL.SAVE_TO_LIST.BUTTON.SAVED":"CBL.COMMON.SAVE")),e.xp6(5),e.Q6J("ngIf",e.lcZ(6,13,z.isSaved$))("ngIfElse",P)}}function y(H,K){1&H&&(e.ynx(0),e.TgZ(1,"label-with-icon",7),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&H&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.SAVE_TO_LIST.BUTTON.SAVED")," "))}function S(H,K){1&H&&(e.TgZ(0,"label-with-icon",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&H&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.COMMON.SAVE")," "))}function A(H,K){if(1&H){const P=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(P),e.oxw().openDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"translate"),e.ALo(4,"async"),e.YNc(5,y,4,3,"ng-container",5),e.ALo(6,"async"),e.YNc(7,S,3,3,"ng-template",null,6,e.W1O),e.qZA()}if(2&H){const P=e.MAs(8),z=e.oxw();e.Q6J("color",e.lcZ(1,5,z.isSaved$)?"accent":"primary")("disabled",!e.lcZ(2,7,z.entityId$)),e.uIk("aria-label",e.lcZ(3,9,e.lcZ(4,11,z.isSaved$)?"CBL.SAVE_TO_LIST.BUTTON.SAVED":"CBL.COMMON.SAVE")),e.xp6(5),e.Q6J("ngIf",e.lcZ(6,13,z.isSaved$))("ngIfElse",P)}}function x(H,K){1&H&&(e.ynx(0),e._UZ(1,"icon",10),e.BQk())}function R(H,K){1&H&&e._UZ(0,"icon",11)}function s(H,K){if(1&H){const P=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(P),e.oxw().openDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"translate"),e.ALo(4,"async"),e.YNc(5,x,2,0,"ng-container",5),e.ALo(6,"async"),e.YNc(7,R,1,0,"ng-template",null,6,e.W1O),e.qZA()}if(2&H){const P=e.MAs(8),z=e.oxw();e.Q6J("color",e.lcZ(1,5,z.isSaved$)?"accent":"primary")("disabled",!e.lcZ(2,7,z.entityId$)),e.uIk("aria-label",e.lcZ(3,9,e.lcZ(4,11,z.isSaved$)?"CBL.SAVE_TO_LIST.BUTTON.SAVED":"CBL.COMMON.SAVE")),e.xp6(5),e.Q6J("ngIf",e.lcZ(6,13,z.isSaved$))("ngIfElse",P)}}let h=(()=>{class H{constructor(P,z){this.openSaveToListService=P,this.entityListDetectionService=z,this.raisedButton=!0,this.dialogView=!0,this.hideLabel=!1,this.clickSave=new e.vpe,this.entityId$=new c.t(1),this.isSaved$=this.entityId$.pipe((0,C.w)(ee=>this.entityListDetectionService.isEntityInList$(ee)),(0,_.d)(1))}set entityId(P){this.entityId$.next(P)}openDialog(){this.clickSave.emit(),this.dialogView&&this.entityId$.pipe((0,p.q)(1)).subscribe(P=>{this.openSaveToListService.openSaveDialog(P,this.entityDefId)})}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(u.O),e.Y36(i.$r))},H.\u0275cmp=e.Xpm({type:H,selectors:[["save-to-list-button"]],inputs:{entityId:"entityId",entityDefId:"entityDefId",raisedButton:"raisedButton",dialogView:"dialogView",hideLabel:"hideLabel"},outputs:{clickSave:"clickSave"},decls:4,vars:4,consts:[["mat-raised-button","","color","primary",3,"color","disabled","click",4,"ngIf"],["class","compact","mat-raised-button","","color","primary",3,"color","disabled","click",4,"ngIf"],["mat-button","","color","primary",3,"color","disabled","click",4,"ngIf"],["class","compact","mat-button","","color","primary",3,"color","disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"color","disabled","click"],[4,"ngIf","ngIfElse"],["saved",""],["iconKey","icon_check","iconSize","xlarge"],["iconKey","icon_add_circle","iconSize","xlarge"],["mat-raised-button","","color","primary",1,"compact",3,"color","disabled","click"],["key","icon_check","color","inherit","size","xlarge"],["key","icon_add_circle","color","inherit","size","xlarge"],["mat-button","","color","primary",3,"color","disabled","click"],["mat-button","","color","primary",1,"compact",3,"color","disabled","click"]],template:function(P,z){1&P&&(e.YNc(0,g,9,15,"button",0),e.YNc(1,v,9,15,"button",1),e.YNc(2,A,9,15,"button",2),e.YNc(3,s,9,15,"button",3)),2&P&&(e.Q6J("ngIf",z.raisedButton&&!z.hideLabel),e.xp6(1),e.Q6J("ngIf",z.raisedButton&&z.hideLabel),e.xp6(1),e.Q6J("ngIf",!z.raisedButton&&!z.hideLabel),e.xp6(1),e.Q6J("ngIf",!z.raisedButton&&z.hideLabel))},directives:[E.O5,a.lW,l.d,r.o],pipes:[E.Ov,o.X],styles:["button.compact[_ngcontent-%COMP%]{padding:0 8px}"],changeDetection:0}),H})()},30988:(ne,b,t)=>{t.d(b,{I:()=>G});var e=t(3184),i=t(93443),u=t(46179),c=t(14296),C=t(90587),_=t(35560),p=t(64139),E=t(80522),a=t(47418);let l=(()=>{class J{constructor(V){this.listService=V}createSimpleStaticList$(V,j,M){return this.listService.createStaticList({name:V,isPublic:!1,entries:[],entityDefOrCollectionId:j}).pipe((0,E.zg)(te=>this.listService.setListNotificationPolicies(te,re=>this.policyMap(re,M)).pipe((0,a.K)(()=>(0,p.of)(te)))))}policyMap(V,j){V.active=!!j,j&&(V.frequency=j)}}return J.\u0275fac=function(V){return new(V||J)(e.LFG(_.XN))},J.\u0275prov=e.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();var r=t(44661),o=t(36362),d=t(73729),n=t(44770),g=t(43365),f=t(91434),m=t(1130),v=t(87317),y=t(44822),S=t(74929);function A(J,le){1&J&&e.GkF(0)}function x(J,le){1&J&&e.GkF(0)}function R(J,le){if(1&J&&(e.TgZ(0,"dialog-layout",4),e.ALo(1,"translate"),e.TgZ(2,"div",5),e.YNc(3,A,1,0,"ng-container",6),e.qZA(),e.TgZ(4,"div",7),e.YNc(5,x,1,0,"ng-container",6),e.qZA()()),2&J){const V=e.oxw(),j=e.MAs(3),M=e.MAs(5);e.Q6J("title",e.lcZ(1,4,"CBL.SAVE_TO_LIST.CREATE_FORM.TITLE"))("processing",V.isProcessing),e.xp6(3),e.Q6J("ngTemplateOutlet",j),e.xp6(2),e.Q6J("ngTemplateOutlet",M)}}function s(J,le){1&J&&e.GkF(0)}function h(J,le){1&J&&e.GkF(0)}function H(J,le){if(1&J&&(e.ynx(0),e.YNc(1,s,1,0,"ng-container",6),e.TgZ(2,"div",8),e.YNc(3,h,1,0,"ng-container",6),e.qZA(),e.BQk()),2&J){e.oxw();const V=e.MAs(3),j=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",V),e.xp6(2),e.Q6J("ngTemplateOutlet",j)}}function K(J,le){if(1&J&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&J){const V=le.$implicit;e.Q6J("value",V.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,V.labelKey)," ")}}function P(J,le){if(1&J&&(e.TgZ(0,"mat-form-field",10)(1,"mat-select",13),e.ALo(2,"translate"),e.YNc(3,K,3,4,"mat-option",14),e.qZA()()),2&J){const V=e.oxw(2);e.xp6(1),e.Q6J("placeholder",e.lcZ(2,2,"CBL.SAVE_TO_LIST.CREATE_FORM.EMAIL_FREQUENCY")),e.xp6(2),e.Q6J("ngForOf",V.frequencyOptions)}}function z(J,le){if(1&J&&(e.TgZ(0,"form",9)(1,"mat-form-field",10),e._UZ(2,"input",11),e.ALo(3,"translate"),e.qZA(),e.YNc(4,P,4,4,"mat-form-field",12),e.qZA()),2&J){const V=e.oxw();e.Q6J("formGroup",V.formGroup),e.xp6(2),e.Q6J("placeholder",e.lcZ(3,3,"CBL.LISTS.LIST_NAME")),e.xp6(2),e.Q6J("ngIf",V.entityDefSupportsListNotifications)}}function ee(J,le){if(1&J){const V=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(V),e.oxw().goBack()}),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"progress-button",17),e.NdJ("onClick",function(){return e.CHM(V),e.oxw().createList()}),e.ALo(4,"translate"),e.qZA()}if(2&J){const V=e.oxw();e.Q6J("disabled",V.isProcessing),e.xp6(1),e.hij(" ",e.lcZ(2,7,V.closeLabelKey)," "),e.xp6(2),e.Q6J("raisedButton",!0)("hideLabelOnMobile",!1)("label",e.lcZ(4,9,"CBL.SAVE_TO_LIST.CREATE_FORM.CREATE"))("isDisabled",V.isProcessing||V.formGroup.invalid)("isLoading",V.isProcessing)}}const Z=Symbol("NO_NOTIFICATIONS");let G=(()=>{class J{constructor(V,j,M,ie,te){this.toastService=V,this.errorService=j,this.createListFormService=M,this.formBuilder=ie,this.listService=te,this.dialogView=!0,this.closeLabelKey="CBL.SAVE_TO_LIST.CREATE_FORM.GO_BACK",this.completed=new e.vpe,this.isProcessing=!1,this.frequencyOptions=[{labelKey:"CBL.SAVE_TO_LIST.CREATE_FORM.NONE",value:Z},{labelKey:"CBL.LISTS.DAILY",value:i.OF.FrequencyEnum.daily},{labelKey:"CBL.LISTS.WEEKLY",value:i.OF.FrequencyEnum.weekly}],this.defaultFormState={listName:void 0,notificationFrequency:i.OF.FrequencyEnum.weekly},this.formGroup=this.getDefaultForm()}ngOnChanges(V){V.entityDefId&&(this.entityDefSupportsListNotifications=this.listService.entityDefSupportsListNotifications(this.entityDefId))}createList(){this.isProcessing=!0;const V=this.formGroup.get("listName").value,j=this.getNotificationFrequency();this.createListFormService.createSimpleStaticList$(V,this.entityDefId,j).pipe((0,r.x)(()=>{this.isProcessing=!1})).subscribe({next:M=>{this.toastService.showSimpleToast("CBL.SAVE_TO_LIST.CREATE_FORM.LIST_CREATED"),this.goBack(M)},error:M=>{this.errorService.showToast(M),this.goBack()}})}goBack(V){this.completed.emit(V),this.resetForm()}getDefaultForm(){const V=this.formBuilder.control(this.defaultFormState.listName,[C.kI.required]),j=this.formBuilder.control(this.defaultFormState.notificationFrequency);return this.formBuilder.group({listName:V,notificationFrequency:j})}resetForm(){this.formGroup.reset(this.defaultFormState)}getNotificationFrequency(){const V=this.formGroup.get("notificationFrequency").value;return V===Z?void 0:V}}return J.\u0275fac=function(V){return new(V||J)(e.Y36(u.k),e.Y36(c.T),e.Y36(l),e.Y36(C.qu),e.Y36(_.XN))},J.\u0275cmp=e.Xpm({type:J,selectors:[["create-list-form"]],inputs:{entityDefId:"entityDefId",dialogView:"dialogView",closeLabelKey:"closeLabelKey"},outputs:{completed:"completed"},features:[e.TTD],decls:6,vars:2,consts:[[3,"title","processing",4,"ngIf"],[4,"ngIf"],["listForm",""],["buttons",""],[3,"title","processing"],["dialog-content",""],[4,"ngTemplateOutlet"],["dialog-actions",""],[1,"buttons"],[1,"layout-column",3,"formGroup"],["floatLabel","always"],["matInput","","formControlName","listName","autocomplete","off",3,"placeholder"],["floatLabel","always",4,"ngIf"],["formControlName","notificationFrequency",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-button","","color","primary",3,"disabled","click"],["color","primary",3,"raisedButton","hideLabelOnMobile","label","isDisabled","isLoading","onClick"]],template:function(V,j){1&V&&(e.YNc(0,R,6,6,"dialog-layout",0),e.YNc(1,H,4,2,"ng-container",1),e.YNc(2,z,5,5,"ng-template",null,2,e.W1O),e.YNc(4,ee,5,11,"ng-template",null,3,e.W1O)),2&V&&(e.Q6J("ngIf",j.dialogView),e.xp6(1),e.Q6J("ngIf",!j.dialogView))},directives:[o.O5,d.I,o.tP,C._Y,C.JL,C.sg,n.KE,g.Nt,C.Fj,C.JJ,C.u,f.gD,o.sg,m.ey,v.lW,y.l],pipes:[S.X],styles:[".buttons[_ngcontent-%COMP%]   progress-button[_ngcontent-%COMP%]{margin-left:16px}"],changeDetection:0}),J})()},89479:(ne,b,t)=>{t.d(b,{n:()=>n});var e=t(86942),i=t(59095),u=t(25722),c=t(59151),C=t(92218),_=t(19193),p=t(88623),E=t(52160),a=t(35560),l=t(78559),r=t(3184);class o{constructor(f){this.listId=f}}function d(g){return g.map(f=>Object.assign({},f))}let n=(()=>{class g{constructor(m){this.listService=m,this.saveErrors$=new C.xQ}loadListsForEntity$(m,v,y=!1){const S=this.listService.getStaticListsForEntityDef$(v);return(0,_.aj)([S,this.getListsContainingEntity(m)]).pipe((0,e.U)(([A,x=[]])=>{const R=new Set(A.map(H=>H.id)),s=new Set(x.map(H=>H.id)),h=A.filter(H=>!s.has(H.id));return[...x.filter(H=>R.has(H.id)).map(H=>this.getListItem(H,!0)),...h.map(H=>this.getListItem(H,!1))]}),(0,e.U)(A=>y?A:A.slice().sort((x,R)=>x.name.localeCompare(R.name))),(0,i.w)(A=>{let x=A;return(0,p.T)(this.listCreationEvents$,this.getlistItemChangeEvents$(m),this.saveErrors$).pipe((0,e.U)(R=>(R instanceof l.ge?x=this.handleListCreation(m,v,R,x):R instanceof l.e?x=this.handleListItemsChangeEvent(R,x):R instanceof o&&(x=this.handleError(R,x)),x)),(0,u.O)(x))}))}getListItem(m,v){return{id:m.id,name:m.name,saved:v,designation:m.designation,loading:!1}}saveToStaticList(m,v){return this.listService.addEntryToList(v.id,m).catch(y=>{throw this.saveErrors$.next(new o(v.id)),y})}removeFromStaticList(m,v){return this.listService.removeEntryFromList(v.id,m).catch(y=>{throw this.saveErrors$.next(new o(v.id)),y})}get listCreationEvents$(){return this.listService.getListsChangeSubjectObservable().pipe((0,c.h)(m=>m.eventType===l.OF.CREATE))}handleListCreation(m,v,y,S){if(!this.listService.isListEligibleForEntityDef(y.model,v))return S;const A=d(S),x=this.getListItem(y.model,!1);return this.saveToStaticList(m,x),[...A,x]}getlistItemChangeEvents$(m){return this.listService.getListItemsChangeSubjectObservable().pipe((0,c.h)(({entityIds:v})=>v.includes(m)))}handleListItemsChangeEvent(m,v){const{listId:y,eventType:S}=m,A=d(v),x=A.find(R=>R.id===y);return x&&(x.loading=!!this.isPreUpdate(S),S===l.eN.ADD?x.saved=!0:S===l.eN.REMOVE&&(x.saved=!1)),A}handleError(m,v){const y=d(v),S=y.find(A=>A.id===m.listId);return S&&(S.loading=!1),y}isPreUpdate(m){return m===l.eN.PRE_ADD||m===l.eN.PRE_REMOVE}getListsContainingEntity(m){return(0,E.P)(()=>this.listService.getStaticListsContainingEntity(m))}}return g.\u0275fac=function(m){return new(m||g)(r.LFG(a.XN))},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},30412:(ne,b,t)=>{t.d(b,{l:()=>g});var e=t(36362),i=t(32313),u=t(35503),c=t(89250),C=t(90898),_=t(83e3),p=t(31156),E=t(32519),a=t(40337),l=t(54596),r=t(90587),o=t(99072),d=t(5076),n=t(3184);let g=(()=>{class f{}return f.\u0275fac=function(v){return new(v||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({imports:[[e.ez,i.H,u.Dt,e.ez,c.S,C.q,_.S,p.H,E.n,a.r,l.p,r.UX,o.V,d.V]]}),f})()},35886:(ne,b,t)=>{t.d(b,{j:()=>E});var e=t(3184),i=t(11961),u=t(36362);function c(a,l){1&a&&(e.TgZ(0,"div",3)(1,"div",4),e.Hsn(2,1),e.qZA(),e.TgZ(3,"div",5),e.Hsn(4,2),e.qZA(),e.TgZ(5,"div",6),e.Hsn(6,3),e.qZA()())}const C=["*",[["icon"],["theme-icon"]],[["h1"],["h2"],["h3"],["h4"]],[["","section-actions",""]]],_=function(a){return{"premium-accent":a}},p=["*","icon, theme-icon","h1, h2, h3, h4","[section-actions]"];let E=(()=>{class a{constructor(){this.showHeader=!0,this.isPremium=!1}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["section-card"]],inputs:{showHeader:"showHeader",isPremium:"isPremium"},ngContentSelectors:p,decls:4,vars:4,consts:[[1,"mat-elevation-z3",3,"ngClass"],["class","section-header-wrapper",4,"ngIf"],[1,"section-content-wrapper"],[1,"section-header-wrapper"],[1,"section-icon-wrapper"],[1,"section-title-wrapper"],[1,"section-actions-wrapper"]],template:function(r,o){1&r&&(e.F$t(C),e.TgZ(0,"mat-card",0),e.YNc(1,c,7,0,"div",1),e.TgZ(2,"div",2),e.Hsn(3),e.qZA()()),2&r&&(e.Q6J("ngClass",e.VKq(2,_,o.isPremium&&o.showHeader)),e.xp6(1),e.Q6J("ngIf",o.showHeader))},directives:[i.a8,u.mk,u.O5],styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .premium-accent[_ngcontent-%COMP%]:before{content:"";height:5px;background-color:#f5a623;border-radius:2px 2px 0 0;display:block;width:100%}mat-card[_ngcontent-%COMP%]{padding:0}tabs-card[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], tabs-card   [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], entity-overlay[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], entity-overlay   [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{box-shadow:none;border-radius:0}.section-header-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:flex-start;padding:20px 20px 0;margin-bottom:20px}.section-icon-wrapper[_ngcontent-%COMP%]{line-height:0;flex-grow:0;flex-shrink:0;margin-right:16px}.section-icon-wrapper[_ngcontent-%COMP%]  theme-icon svg, .section-icon-wrapper[_ngcontent-%COMP%]  theme-icon img, .section-icon-wrapper[_ngcontent-%COMP%]  icon svg, .section-icon-wrapper[_ngcontent-%COMP%]  icon img{height:24px;width:24px;min-width:24px;min-height:24px;line-height:24px}.section-icon-wrapper[_ngcontent-%COMP%]:empty{display:none}.section-title-wrapper[_ngcontent-%COMP%]{flex-grow:1;display:flex;min-width:0}.section-title-wrapper[_ngcontent-%COMP%]  h1, .section-title-wrapper[_ngcontent-%COMP%]  h2, .section-title-wrapper[_ngcontent-%COMP%]  h3, .section-title-wrapper[_ngcontent-%COMP%]  h4{font-size:20px;line-height:28px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;line-height:unset}.section-actions-wrapper[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;margin-left:16px}@media (min-width: 600px){.section-title-wrapper[_ngcontent-%COMP%]  h1, .section-title-wrapper[_ngcontent-%COMP%]  h2, .section-title-wrapper[_ngcontent-%COMP%]  h3, .section-title-wrapper[_ngcontent-%COMP%]  h4{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;line-height:unset}}'],changeDetection:0}),a})()},33863:(ne,b,t)=>{t.d(b,{f:()=>C});var e=t(36362),i=t(90898),u=t(32519),c=t(3184);let C=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({imports:[[e.ez,i.q,u.n]]}),_})()},71360:(ne,b,t)=>{t.d(b,{o:()=>C});var e=t(21780),i=t(3184);function u(_,p){1&_&&i.Hsn(0)}const c=["*"];let C=(()=>{class _ extends e.be{}return _.\u0275fac=function(){let p;return function(a){return(p||(p=i.n5z(_)))(a||_)}}(),_.\u0275cmp=i.Xpm({type:_,selectors:[["slide"]],features:[i._Bn([{provide:e.be,useExisting:_}]),i.qOj],ngContentSelectors:c,decls:1,vars:0,template:function(E,a){1&E&&(i.F$t(),i.YNc(0,u,1,0,"ng-template"))},encapsulation:2}),_})()},46829:(ne,b,t)=>{t.d(b,{o:()=>p});var e=t(21780),i=t(31631);const u=(0,i.X$)("stepTransition",[(0,i.SB)("previous",(0,i.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,i.SB)("current",(0,i.oB)({transform:"translate3d(0, 0, 0)",visibility:"visible"})),(0,i.SB)("next",(0,i.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,i.eR)((E,a)=>"void"!==E&&"void"!==a,(0,i.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]);var c=t(3184),C=t(36362);function _(E,a){if(1&E&&(c.TgZ(0,"div",1),c.GkF(1,2),c.qZA()),2&E){const l=a.$implicit,r=a.index,o=c.oxw();c.Q6J("@stepTransition",o._getAnimationDirection(r))("id",o._getStepContentId(r)),c.uIk("tabindex",o.selectedIndex===r?0:null)("aria-labelledby",o._getStepLabelId(r))("aria-expanded",o.selectedIndex===r),c.xp6(1),c.Q6J("ngTemplateOutlet",l.content)}}let p=(()=>{class E extends e.B8{}return E.\u0275fac=function(){let a;return function(r){return(a||(a=c.n5z(E)))(r||E)}}(),E.\u0275cmp=c.Xpm({type:E,selectors:[["slides"]],features:[c._Bn([{provide:e.B8,useExisting:E}]),c.qOj],decls:1,vars:1,consts:[["class","slide-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["role","tabpanel",1,"slide-content",3,"id"],[3,"ngTemplateOutlet"]],template:function(l,r){1&l&&c.YNc(0,_,2,6,"div",0),2&l&&c.Q6J("ngForOf",r.steps)},directives:[C.sg,C.tP],styles:['slides{display:block;overflow:hidden}slides:after{content:"";display:table;clear:both}slides .slide-content{outline:0;margin-right:-100%;width:100%;float:left}slides .slide-content[aria-expanded=false]{overflow:hidden;visibility:hidden}\n'],encapsulation:2,data:{animation:[u]},changeDetection:0}),E})()},54596:(ne,b,t)=>{t.d(b,{p:()=>c});var e=t(36362),i=t(90898),u=t(3184);let c=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({imports:[[e.ez,i.q]]}),C})()},59156:(ne,b,t)=>{t.d(b,{h:()=>s});var e=t(94596),i=t(42958),u=t(92218),c=t(66426),C=t(85921),_=t(59151),p=t(88759),E=t(83910),a=t(25848),l=t(3591),r=t(20648),o=t(66917),d=t(2384),n=t(3184),g=t(35585),f=t(95758),m=t(73729),v=t(29641),y=t(36362),S=t(65782),A=t(44822),x=t(74929);function R(h,H){if(1&h){const K=n.EpF();n.TgZ(0,"div",6)(1,"advanced-filter",7),n.NdJ("valuesChange",function(z){return n.CHM(K).$implicit.values=z})("clear",function(){const ee=n.CHM(K).$implicit;return n.oxw().clearFilter(ee)}),n.qZA()()}if(2&h){const K=H.$implicit;n.xp6(1),n.Q6J("filterModel",K.filterModel)("field",K.field)("values",K.values)}}let s=(()=>{class h extends d.V{constructor(K,P,z,ee,Z,G,J){super(),this.changeDetectorRef=K,this.store=P,this.advancedSearchMetadataService=z,this.syntheticMetadataService=ee,this.queryToAdvancedService=Z,this.advancedSearchConverterService=G,this.dialogRef=J,this.advancedFilters=[],this.territoryPrefsSaving$=this.store.select(i.y3),this.onDestroy=new u.xQ,this.territoryPrefsState$=this.store.select(i.os),this.territoryPrefsQueryItems$=this.store.select(i.nA)}ngOnInit(){this.store.dispatch((0,i.cd)());const K=this.syntheticMetadataService.getTerritoryPreferences(),P=new Set(K.filterIds);this.dialogRef.afterOpened().pipe((0,c.c)(this.territoryPrefsState$),(0,C.R)(this.onDestroy),(0,_.h)(z=>z.loaded&&!z.saving),(0,p.b)(z=>{this.collectionId=z.collectionId}),(0,c.c)(this.territoryPrefsQueryItems$),(0,E.q)(1)).subscribe(z=>{const Z=this.advancedSearchMetadataService.getFilters(this.collectionId).filter(G=>P.has(G.filter_id));this.advancedFilters=this.queryToAdvancedService.convert(z||[],Z,this.collectionId)||[],this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.onDestroy.next()}clearFilter(K){this.advancedFilters=this.advancedFilters.map(P=>P===K?Object.assign(Object.assign({},P),{values:void 0}):P)}savePreferences(){const K=this.advancedSearchConverterService.toQuery(this.advancedFilters);this.store.dispatch((0,l.zu)({queryItems:K})),this.territoryPrefsSaving$.pipe((0,_.h)(P=>!P),(0,E.q)(1)).subscribe(()=>{this.dialogRef.close(!0)})}}return h.\u0275fac=function(K){return new(K||h)(n.Y36(n.sBO),n.Y36(g.yh),n.Y36(e.A),n.Y36(a.Y),n.Y36(r.c),n.Y36(o.t),n.Y36(f.so))},h.\u0275cmp=n.Xpm({type:h,selectors:[["territory-preferences-dialog"]],features:[n.qOj],decls:10,vars:16,consts:[[3,"title","processing"],["dialog-content",""],["key","CBL.TERRITORY.MODAL_COPY"],["class","filter",4,"ngFor","ngForOf"],["dialog-actions",""],["mat-raised-button","",3,"label","raisedButton","isLoading","isDisabled","hideLabelOnMobile","onClick"],[1,"filter"],[3,"filterModel","field","values","valuesChange","clear"]],template:function(K,P){1&K&&(n.TgZ(0,"dialog-layout",0),n.ALo(1,"translate"),n.TgZ(2,"div",1),n._UZ(3,"markup-label",2),n.YNc(4,R,2,3,"div",3),n.qZA(),n.TgZ(5,"div",4)(6,"progress-button",5),n.NdJ("onClick",function(){return P.savePreferences()}),n.ALo(7,"translate"),n.ALo(8,"async"),n.ALo(9,"async"),n.qZA()()()),2&K&&(n.Q6J("title",n.lcZ(1,8,"CBL.TERRITORY.EDIT"))("processing",!P.advancedFilters.length),n.xp6(4),n.Q6J("ngForOf",P.advancedFilters),n.xp6(2),n.s9C("label",n.lcZ(7,10,"CBL.TERRITORY.SAVE")),n.Q6J("raisedButton",!0)("isLoading",n.lcZ(8,12,P.territoryPrefsSaving$))("isDisabled",n.lcZ(9,14,P.territoryPrefsSaving$))("hideLabelOnMobile",!1))},directives:[m.I,v.x,y.sg,S.W,A.l],pipes:[x.X,y.Ov],styles:["@media (min-width: 960px){[dialog-content][_ngcontent-%COMP%]{max-width:30vw}}.filter[_ngcontent-%COMP%]{margin-top:20px;position:relative}markup-label[_ngcontent-%COMP%]{display:block;font-weight:500}"],changeDetection:0}),h})()},32837:(ne,b,t)=>{t.d(b,{e:()=>l});var e=t(36362),i=t(35503),u=t(89250),c=t(42958),C=t(40337),_=t(32313),p=t(90898),E=t(66378),a=t(3184);let l=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[e.ez,p.q,i.Dt,u.S,c.w4,C.r,_.H,E.w]]}),r})()},27367:(ne,b,t)=>{t.d(b,{q:()=>C});var e=t(3184),i=t(87317),u=t(40089),c=t(74160);let C=(()=>{class _{constructor(){this.thumbsUpTooltip=$localize`Thumbs up`,this.thumbsDownTooltip=$localize`Thumbs down`,this.disabled=!1,this.clickThumbsUp=new e.vpe,this.clickThumbsDown=new e.vpe}}return _.\u0275fac=function(E){return new(E||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["thumbs-feedback"]],inputs:{thumbsUpTooltip:"thumbsUpTooltip",thumbsDownTooltip:"thumbsDownTooltip",feedback:"feedback",disabled:"disabled"},outputs:{clickThumbsUp:"clickThumbsUp",clickThumbsDown:"clickThumbsDown"},decls:4,vars:8,consts:[["mat-stroked-button","","matTooltipShowDelay","500",3,"color","disabled","matTooltip","click"],["iconKey","icon_thumbs_up"],["iconKey","icon_thumbs_down"]],template:function(E,a){1&E&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return a.clickThumbsUp.emit()}),e._UZ(1,"label-with-icon",1),e.qZA(),e.TgZ(2,"button",0),e.NdJ("click",function(){return a.clickThumbsDown.emit()}),e._UZ(3,"label-with-icon",2),e.qZA()),2&E&&(e.Q6J("color","thumbs_up"===a.feedback?"primary":"accent")("disabled",a.disabled)("matTooltip",a.thumbsUpTooltip),e.uIk("aria-label",a.thumbsUpTooltip),e.xp6(2),e.Q6J("color","thumbs_down"===a.feedback?"primary":"accent")("disabled",a.disabled)("matTooltip",a.thumbsDownTooltip),e.uIk("aria-label",a.thumbsDownTooltip))},directives:[i.lW,u.gM,c.d],styles:["[_nghost-%COMP%]{display:flex;align-items:center}button[_ngcontent-%COMP%]{border-radius:50%;height:34px;padding:0 16px}button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{min-height:unset}button[_ngcontent-%COMP%]:not(:first-child){margin-left:16px}"],changeDetection:0}),_})()},63304:(ne,b,t)=>{t.d(b,{v:()=>_});var e=t(36362),i=t(87317),u=t(40089),c=t(32313),C=t(3184);let _=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[[e.ez,i.ot,u.AV,c.H]]}),p})()},44472:(ne,b,t)=>{t.d(b,{t:()=>n});var e=t(469),i=t(3184),u=t(20757),c=t(36362),C=t(47320),_=t(87317),p=t(74160),E=t(74929);function a(g,f){1&g&&i._UZ(0,"activity-row",8),2&g&&i.Q6J("activity",f.$implicit)}function l(g,f){if(1&g&&i._UZ(0,"activity-row",9),2&g){const m=f.$implicit,v=i.oxw();i.Q6J("hidden",!v.showExtraActivities)("activity",m)}}function r(g,f){if(1&g){const m=i.EpF();i.TgZ(0,"div",11)(1,"button",12),i.NdJ("click",function(){return i.CHM(m),i.oxw(2).showExtraActivityRows()}),i.ALo(2,"translate"),i.TgZ(3,"label-with-icon",13),i._uU(4),i.ALo(5,"translate"),i.qZA()()()}2&g&&(i.xp6(1),i.uIk("aria-label",i.lcZ(2,2,"CBL.TIMELINE.SHOW_ALL")),i.xp6(3),i.Oqu(i.lcZ(5,4,"CBL.TIMELINE.SHOW_ALL")))}function o(g,f){if(1&g){const m=i.EpF();i.TgZ(0,"div",11)(1,"button",12),i.NdJ("click",function(){return i.CHM(m),i.oxw(2).hideExtraActivityRows()}),i.ALo(2,"translate"),i.TgZ(3,"label-with-icon",14),i._uU(4),i.ALo(5,"translate"),i.qZA()()()}2&g&&(i.xp6(1),i.uIk("aria-label",i.lcZ(2,2,"CBL.TIMELINE.HIDE")),i.xp6(3),i.Oqu(i.lcZ(5,4,"CBL.TIMELINE.HIDE")))}function d(g,f){if(1&g&&(i.ynx(0),i.YNc(1,r,6,6,"div",10),i.YNc(2,o,6,6,"div",10),i.BQk()),2&g){const m=i.oxw();i.xp6(1),i.Q6J("ngIf",!m.showExtraActivities),i.xp6(1),i.Q6J("ngIf",m.showExtraActivities)}}let n=(()=>{class g{constructor(m){this.themeService=m,this.visibleActivities=[],this.extraActivities=[],this.showExtraActivities=!1}ngOnInit(){this.sortActivities(this.activityGroup.activities),this.iconBackgroundColor=this.activityGroup.themeId&&this.themeService.getColor(this.activityGroup.themeId)}showExtraActivityRows(){this.showExtraActivities=!0}hideExtraActivityRows(){this.showExtraActivities=!1}sortActivities(m){for(let y=0;y<m.length;y++)y<5?this.visibleActivities.push(m[y]):this.extraActivities.push(m[y])}}return g.\u0275fac=function(m){return new(m||g)(i.Y36(e.f))},g.\u0275cmp=i.Xpm({type:g,selectors:[["activity-group-card"]],inputs:{activityGroup:"activityGroup"},decls:11,vars:12,consts:[[1,"activity-group-card"],[1,"activity-name"],[1,"activity-group-icon"],["color","light",3,"themeId"],[1,"activity-name-label"],[3,"activity",4,"ngFor","ngForOf"],[3,"hidden","activity",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"activity"],[3,"hidden","activity"],["class","extra-activities",4,"ngIf"],[1,"extra-activities"],["mat-button","","color","primary",1,"cb-text-transform-upper",3,"click"],["iconKey","icon_caret_down"],["iconKey","icon_caret_up"]],template:function(m,v){1&m&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"theme-icon",3),i.qZA(),i.TgZ(4,"span",4),i._uU(5),i.ALo(6,"translate"),i.ALo(7,"uppercase"),i.qZA()(),i.YNc(8,a,1,1,"activity-row",5),i.YNc(9,l,1,2,"activity-row",6),i.YNc(10,d,3,2,"ng-container",7),i.qZA()),2&m&&(i.xp6(2),i.Udp("background-color",v.iconBackgroundColor),i.xp6(1),i.Q6J("themeId",v.activityGroup.themeId),i.xp6(2),i.AsE(" ",i.lcZ(6,8,"CBL.TIMELINE.ACTIVITY_NAMES."+i.lcZ(7,10,v.activityGroup.entityDefId))," (",v.activityGroup.activities.length,") "),i.xp6(3),i.Q6J("ngForOf",v.visibleActivities),i.xp6(1),i.Q6J("ngForOf",v.extraActivities),i.xp6(1),i.Q6J("ngIf",!!v.extraActivities.length))},directives:[u.p,c.sg,C.k,c.O5,_.lW,p.d],pipes:[E.X,c.gd],styles:[".activity-group-card[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;margin-bottom:16px;background-color:#fff}.activity-name[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.activity-name[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.activity-group-icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;padding:8px;line-height:0}.activity-name-label[_ngcontent-%COMP%]{padding-left:8px}.extra-activities[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;border-top-style:solid;border-top-width:1px}.extra-activities[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}"]}),g})()},47320:(ne,b,t)=>{t.d(b,{k:()=>d});var e=t(3184),i=t(36362),u=t(86378),c=t(88670),C=t(97810),_=t(40757),p=t(52727);function E(n,g){if(1&n&&e._UZ(0,"funding-round",3),2&n){const f=e.oxw();e.Q6J("activity",f.asActivity(f.activity))}}function a(n,g){if(1&n&&e._UZ(0,"acquisition",3),2&n){const f=e.oxw();e.Q6J("activity",f.asActivity(f.activity))}}function l(n,g){if(1&n&&e._UZ(0,"ipo",3),2&n){const f=e.oxw();e.Q6J("activity",f.asActivity(f.activity))}}function r(n,g){if(1&n&&e._UZ(0,"fund-raise",3),2&n){const f=e.oxw();e.Q6J("activity",f.asActivity(f.activity))}}function o(n,g){if(1&n&&e._UZ(0,"press-reference",4),2&n){const f=e.oxw();e.Q6J("pressReferenceSet",f.asPressReference(f.activity))}}let d=(()=>{class n{asActivity(f){return f}asPressReference(f){return f}}return n.\u0275fac=function(f){return new(f||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["activity-row"]],inputs:{activity:"activity"},decls:6,vars:5,consts:[[1,"component--activity-row"],[3,"activity",4,"ngIf"],[3,"pressReferenceSet",4,"ngIf"],[3,"activity"],[3,"pressReferenceSet"]],template:function(f,m){1&f&&(e.TgZ(0,"div",0),e.YNc(1,E,1,1,"funding-round",1),e.YNc(2,a,1,1,"acquisition",1),e.YNc(3,l,1,1,"ipo",1),e.YNc(4,r,1,1,"fund-raise",1),e.YNc(5,o,1,1,"press-reference",2),e.qZA()),2&f&&(e.xp6(1),e.Q6J("ngIf","funding_round"==m.activity.entity_def_id),e.xp6(1),e.Q6J("ngIf","acquisition"==m.activity.entity_def_id),e.xp6(1),e.Q6J("ngIf","ipo"==m.activity.entity_def_id),e.xp6(1),e.Q6J("ngIf","fund"==m.activity.entity_def_id),e.xp6(1),e.Q6J("ngIf","press_reference"==m.activity.entity_def_id))},directives:[i.O5,u.d,c.T,C.z,_.H,p.e],styles:[".component--activity-row{border-top-style:solid;border-top-width:1px;padding:8px}.component--activity-row .lazyLoadImage{margin-right:8px;max-width:30px;max-height:30px;border:1px solid rgba(0,0,0,.12)}\n"],encapsulation:2}),n})()},88670:(ne,b,t)=>{t.d(b,{T:()=>ee});var e=t(92938),u=t(97010),c=t(13074),C=t(94882),_=t(3184),p=t(36362),E=t(40361),a=t(46036),l=t(47367),r=t(45857),o=t(74929);function d(Z,G){if(1&Z&&_._UZ(0,"div",3),2&Z){const J=_.oxw();_.Q6J("useIdentifierImgStyle",!0)("imgSrc",J.acquirerImage)}}function n(Z,G){if(1&Z&&(_.TgZ(0,"span")(1,"a",6),_._uU(2),_.qZA()()),2&Z){const J=_.oxw(2);_.xp6(1),_.Q6J("routerLink",J.acquirerRoute.path),_.uIk("aria-label",J.acquirerName),_.xp6(1),_.Oqu(J.acquirerName)}}function g(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&Z){const J=_.oxw(2);_.xp6(1),_.Oqu(J.acquirerName)}}function f(Z,G){if(1&Z&&(_.TgZ(0,"span")(1,"a",6),_._uU(2),_.qZA()()),2&Z){const J=_.oxw(2);_.xp6(1),_.Q6J("routerLink",J.acquireeRoute.path),_.uIk("aria-label",J.acquireeName),_.xp6(1),_.Oqu(J.acquireeName)}}function m(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&Z){const J=_.oxw(2);_.xp6(1),_.Oqu(J.acquireeName)}}function v(Z,G){if(1&Z&&(_.TgZ(0,"span")(1,"a",6),_.ALo(2,"currency"),_._uU(3),_.ALo(4,"currency"),_.qZA()()),2&Z){const J=_.oxw(3);_.xp6(1),_.Q6J("routerLink",J.acquisitionRoute.path),_.uIk("aria-label",_.gM2(2,3,J.acquisitionPrice,J.acquisitionCurrency,"symbol","1.0-0")),_.xp6(2),_.hij("",_.gM2(4,8,J.acquisitionPrice,J.acquisitionCurrency,"symbol","1.0-0")," ")}}function y(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"currency"),_.qZA()),2&Z){const J=_.oxw(3);_.xp6(1),_.Oqu(_.gM2(2,1,J.acquisitionPrice,J.acquisitionCurrency,"symbol","1.0-0"))}}function S(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"lowercase"),_.ALo(3,"translate"),_.YNc(4,v,5,13,"span",5),_.YNc(5,y,3,6,"span",5),_.qZA()),2&Z){const J=_.oxw(2);_.xp6(1),_.hij(" ",_.lcZ(2,3,_.lcZ(3,5,"CBL.COMMON.FOR"))," "),_.xp6(3),_.Q6J("ngIf",J.acquisitionRoute),_.xp6(1),_.Q6J("ngIf",!J.acquisitionRoute)}}function A(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"lowercase"),_.ALo(3,"translate"),_.TgZ(4,"a",6),_.ALo(5,"lowercase"),_.ALo(6,"translate"),_._uU(7),_.ALo(8,"lowercase"),_.ALo(9,"translate"),_.qZA()()),2&Z){const J=_.oxw(2);_.xp6(1),_.hij(" ",_.lcZ(2,4,_.lcZ(3,6,"CBL.COMMON.FOR_AN"))," "),_.xp6(3),_.Q6J("routerLink",J.acquisitionRoute.path),_.uIk("aria-label",_.lcZ(5,8,_.lcZ(6,10,"CBL.TIMELINE.UNDISCLOSED_AMOUNT"))),_.xp6(3),_.hij("",_.lcZ(8,12,_.lcZ(9,14,"CBL.TIMELINE.UNDISCLOSED_AMOUNT"))," ")}}function x(Z,G){if(1&Z&&(_.TgZ(0,"span",4),_.YNc(1,n,3,3,"span",5),_.YNc(2,g,2,1,"span",5),_._uU(3),_.ALo(4,"lowercase"),_.ALo(5,"translate"),_.YNc(6,f,3,3,"span",5),_.YNc(7,m,2,1,"span",5),_.YNc(8,S,6,7,"span",5),_.YNc(9,A,10,16,"span",5),_.qZA()),2&Z){const J=_.oxw();_.Q6J("title",J.acquirerNameAndAquireeNameTitle),_.xp6(1),_.Q6J("ngIf",J.acquirerRoute),_.xp6(1),_.Q6J("ngIf",!J.acquirerRoute),_.xp6(1),_.hij(" ",_.lcZ(4,8,_.lcZ(5,10,"CBL.TIMELINE.ACQUIRED"))," "),_.xp6(3),_.Q6J("ngIf",J.acquireeRoute),_.xp6(1),_.Q6J("ngIf",!J.acquireeRoute),_.xp6(1),_.Q6J("ngIf",J.acquisitionPrice),_.xp6(1),_.Q6J("ngIf",!J.acquisitionPrice)}}function R(Z,G){if(1&Z&&(_.TgZ(0,"span")(1,"a",6),_._uU(2),_.qZA()()),2&Z){const J=_.oxw(2);_.xp6(1),_.Q6J("routerLink",J.acquireeRoute.path),_.uIk("aria-label",J.acquireeName),_.xp6(1),_.Oqu(J.acquireeName)}}function s(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&Z){const J=_.oxw(2);_.xp6(1),_.Oqu(J.acquireeName)}}function h(Z,G){if(1&Z&&(_.TgZ(0,"span")(1,"a",6),_.ALo(2,"currency"),_._uU(3),_.ALo(4,"currency"),_.qZA()()),2&Z){const J=_.oxw(3);_.xp6(1),_.Q6J("routerLink",J.acquisitionRoute.path),_.uIk("aria-label",_.gM2(2,3,J.acquisitionPrice,J.acquisitionCurrency,"symbol","1.0-0")),_.xp6(2),_.hij("",_.gM2(4,8,J.acquisitionPrice,J.acquisitionCurrency,"symbol","1.0-0")," ")}}function H(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"currency"),_.qZA()),2&Z){const J=_.oxw(3);_.xp6(1),_.Oqu(_.gM2(2,1,J.acquisitionPrice,J.acquisitionCurrency,"symbol","1.0-0"))}}function K(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"lowercase"),_.ALo(3,"translate"),_.YNc(4,h,5,13,"span",5),_.YNc(5,H,3,6,"span",5),_.qZA()),2&Z){const J=_.oxw(2);_.xp6(1),_.hij(" ",_.lcZ(2,3,_.lcZ(3,5,"CBL.COMMON.FOR"))," "),_.xp6(3),_.Q6J("ngIf",J.acquisitionRoute),_.xp6(1),_.Q6J("ngIf",!J.acquisitionRoute)}}function P(Z,G){if(1&Z&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"lowercase"),_.ALo(3,"translate"),_.TgZ(4,"a",6),_.ALo(5,"lowercase"),_.ALo(6,"translate"),_._uU(7),_.ALo(8,"lowercase"),_.ALo(9,"translate"),_.qZA()()),2&Z){const J=_.oxw(2);_.xp6(1),_.hij(" ",_.lcZ(2,4,_.lcZ(3,6,"CBL.COMMON.FOR_AN"))," "),_.xp6(3),_.Q6J("routerLink",J.acquisitionRoute.path),_.uIk("aria-label",_.lcZ(5,8,_.lcZ(6,10,"CBL.TIMELINE.UNDISCLOSED_AMOUNT"))),_.xp6(3),_.hij("",_.lcZ(8,12,_.lcZ(9,14,"CBL.TIMELINE.UNDISCLOSED_AMOUNT"))," ")}}function z(Z,G){if(1&Z&&(_.TgZ(0,"span",4),_.YNc(1,R,3,3,"span",5),_.YNc(2,s,2,1,"span",5),_._uU(3),_.ALo(4,"lowercase"),_.ALo(5,"translate"),_.YNc(6,K,6,7,"span",5),_.YNc(7,P,10,16,"span",5),_.qZA()),2&Z){const J=_.oxw();_.Q6J("title",J.acquirerNameAndNotAquireeNameTitle),_.xp6(1),_.Q6J("ngIf",J.acquireeRoute),_.xp6(1),_.Q6J("ngIf",!J.acquireeRoute),_.xp6(1),_.hij(" ",_.lcZ(4,6,_.lcZ(5,8,"CBL.TIMELINE.WAS_ACQUIRED"))," "),_.xp6(3),_.Q6J("ngIf",J.acquisitionPrice),_.xp6(1),_.Q6J("ngIf",!J.acquisitionPrice)}}let ee=(()=>{class Z{constructor(J,le,V,j){this.currencyPipe=J,this.imageService=le,this.labelService=V,this.urlService=j,this.acquisitionCurrency="usd"}ngOnInit(){this.getProperties()}getProperties(){this.getAcquirerProperties(),this.getAcquireeProperties(),this.getAcquisitionPrice(),this.getAcquisitionRoute(),this.buildTitles()}getAcquisitionRoute(){this.acquisitionRoute=this.urlService.getIdentifierRoute(this.activity.identifier)}getAcquisitionPrice(){this.activity.activity_properties&&(this.acquisitionPrice=this.activity.activity_properties.price&&this.activity.activity_properties.price.value,this.acquisitionCurrency=this.activity.activity_properties.price&&this.activity.activity_properties.price.currency)}getAcquirerProperties(){let J=(0,e.find)(this.activity.activity_entities,le=>"acquirer"===le.role);J&&(this.acquirerName=J.value,this.acquirerRoute=this.urlService.getIdentifierRoute(J),this.acquirerImage=this.getEntityImage(J.image_id))}getAcquireeProperties(){let J=(0,e.find)(this.activity.activity_entities,le=>"acquiree"===le.role);J&&(this.acquireeName=J.value,this.acquireeRoute=this.urlService.getIdentifierRoute(J))}buildTitles(){let j,{acquirerName:J,acquireeName:le,acquisitionPrice:V}=this,M="";V?(M=this.getLabel("CBL.COMMON.FOR"),M+=` ${this.formatMoney(V)}`):(M=this.getLabel("CBL.COMMON.FOR_AN"),M+=" "+this.getLabel("CBL.TIMELINE.UNDISCLOSED_AMOUNT")),J&&le?(j=J,j+=` ${this.getLabel("CBL.TIMELINE.ACQUIRED")}`,j+=` ${le} ${M}`,this.acquirerNameAndAquireeNameTitle=j):!J&&le&&(j=le,j+=` ${this.getLabel("CBL.TIMELINE.WAS_ACQUIRED")}`,j+=` ${M}`,this.acquirerNameAndNotAquireeNameTitle=j)}getLabel(J){return this.labelService.getLabel(J).toLowerCase()}getEntityImage(J){return this.imageService.getPublicImageUrl(J,Z.IMAGE_OPTIONS)}formatMoney(J){return J&&this.acquisitionCurrency&&this.currencyPipe.transform(J,(0,e.toUpper)(this.acquisitionCurrency),"symbol","1.0-0")||""}}return Z.IMAGE_OPTIONS={width:"30",height:"30"},Z.\u0275fac=function(J){return new(J||Z)(_.Y36(p.H9),_.Y36(u.AJ),_.Y36(C.Q),_.Y36(c.iO))},Z.\u0275cmp=_.Xpm({type:Z,selectors:[["acquisition"]],inputs:{activity:"activity",isEntityCard:"isEntityCard"},decls:4,vars:3,consts:[["class","acquirer-image","lazyLoadImage","","placeholderType","acquisition","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"acquisition-content"],[3,"title",4,"ngIf"],["lazyLoadImage","","placeholderType","acquisition","imgAlt","",1,"acquirer-image",3,"useIdentifierImgStyle","imgSrc"],[3,"title"],[4,"ngIf"],["cb-link","accent",3,"routerLink"]],template:function(J,le){1&J&&(_.YNc(0,d,1,2,"div",0),_.TgZ(1,"div",1),_.YNc(2,x,10,12,"span",2),_.YNc(3,z,8,10,"span",2),_.qZA()),2&J&&(_.Q6J("ngIf",!le.isEntityCard),_.xp6(2),_.Q6J("ngIf",le.acquirerName&&le.acquireeName),_.xp6(1),_.Q6J("ngIf",le.acquireeName&&!le.acquirerName))},directives:[p.O5,E.z,a.n,l.I,r.yS],pipes:[p.i8,o.X,p.H9],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}[_nghost-%COMP%]   .acquirer-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .acquisition-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%]   .acquisition-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .acquisition-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}"]}),Z})()},40757:(ne,b,t)=>{t.d(b,{H:()=>y});var e=t(92938),u=t(13074),c=t(97010),C=t(94882),_=t(3184),p=t(36362),E=t(40361),a=t(46036),l=t(47367),r=t(45857),o=t(74929);function d(S,A){if(1&S&&_._UZ(0,"div",4),2&S){const x=_.oxw();_.Q6J("useIdentifierImgStyle",!0)("imgSrc",x.entityImage)}}function n(S,A){if(1&S&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA()()),2&S){const x=_.oxw();_.xp6(1),_.Q6J("routerLink",x.entityRoute.path),_.uIk("aria-label",x.entityName),_.xp6(1),_.Oqu(x.entityName)}}function g(S,A){if(1&S&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&S){const x=_.oxw();_.xp6(1),_.Oqu(x.entityName)}}function f(S,A){if(1&S&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA()()),2&S){const x=_.oxw();_.xp6(1),_.Q6J("routerLink",x.fundRoute.path),_.uIk("aria-label",x.fundName),_.xp6(1),_.Oqu(x.fundName)}}function m(S,A){if(1&S&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&S){const x=_.oxw();_.xp6(1),_.Oqu(x.fundName)}}function v(S,A){if(1&S&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"currency"),_.qZA()),2&S){const x=_.oxw();_.xp6(1),_.hij(" (",_.gM2(2,1,x.fundingAmount,x.fundingCurrency,"symbol","1.0-0"),") ")}}let y=(()=>{class S{constructor(x,R,s,h){this.currencyPipe=x,this.imageService=R,this.labelService=s,this.urlService=h,this.fundingCurrency="usd"}ngOnInit(){this.getProperties(),this.buildTitle()}getProperties(){let x=this.activity.activity_entities&&this.activity.activity_entities[0];x&&(this.entityImage=this.getEntityImage(x.image_id),this.entityName=x.value,this.entityRoute=this.urlService.getIdentifierRoute(x)),this.fundRoute=this.urlService.getIdentifierRoute(this.activity.identifier),this.fundName=this.activity.identifier.value||"",this.activity.activity_properties&&(this.fundingAmount=this.activity.activity_properties.money_raised&&this.activity.activity_properties.money_raised.value,this.fundingCurrency=this.activity.activity_properties.money_raised&&this.activity.activity_properties.money_raised.currency)}buildTitle(){let{entityName:x,fundName:R,fundingAmount:s}=this,h=x||"";h+=` ${this.getLabel("CBL.TIMELINE.RAISED_NEW_FUND")}:`,h+=` ${R}`,s&&(h+=` (${this.formatMoney(s)})`),this.fundRaiseTitle=h}getLabel(x){return this.labelService.getLabel(x).toLowerCase()}getEntityImage(x){return this.imageService.getPublicImageUrl(x,S.IMAGE_OPTIONS)}formatMoney(x){return x&&this.fundingCurrency&&this.currencyPipe.transform(x,(0,e.toUpper)(this.fundingCurrency),"symbol","1.0-0")||""}}return S.IMAGE_OPTIONS={width:"30",height:"30"},S.\u0275fac=function(x){return new(x||S)(_.Y36(p.H9),_.Y36(c.AJ),_.Y36(C.Q),_.Y36(u.iO))},S.\u0275cmp=_.Xpm({type:S,selectors:[["fund-raise"]],inputs:{activity:"activity",isEntityCard:"isEntityCard"},decls:11,vars:12,consts:[["class","fund-raise-image","lazyLoadImage","","placeholderType","funding-round","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"fund-raise-content"],[3,"title"],[4,"ngIf"],["lazyLoadImage","","placeholderType","funding-round","imgAlt","",1,"fund-raise-image",3,"useIdentifierImgStyle","imgSrc"],["cb-link","accent",3,"routerLink"]],template:function(x,R){1&x&&(_.YNc(0,d,1,2,"div",0),_.TgZ(1,"div",1)(2,"span",2),_.YNc(3,n,3,3,"span",3),_.YNc(4,g,2,1,"span",3),_._uU(5),_.ALo(6,"lowercase"),_.ALo(7,"translate"),_.YNc(8,f,3,3,"span",3),_.YNc(9,m,2,1,"span",3),_.YNc(10,v,3,6,"span",3),_.qZA()()),2&x&&(_.Q6J("ngIf",!R.isEntityCard),_.xp6(2),_.Q6J("title",R.fundRaiseTitle),_.xp6(1),_.Q6J("ngIf",R.entityRoute&&!R.isEntityCard),_.xp6(1),_.Q6J("ngIf",!R.entityRoute||R.isEntityCard),_.xp6(1),_.hij(" ",_.lcZ(6,8,_.lcZ(7,10,"CBL.TIMELINE.RAISED_NEW_FUND")),": "),_.xp6(3),_.Q6J("ngIf",R.fundRoute),_.xp6(1),_.Q6J("ngIf",!R.fundRoute),_.xp6(1),_.Q6J("ngIf",R.fundingAmount))},directives:[p.O5,E.z,a.n,l.I,r.yS],pipes:[p.i8,o.X,p.H9],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}[_nghost-%COMP%]   .fund-raise-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .fund-raise-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%]   .fund-raise-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .fund-raise-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{flex:0 0 auto;box-sizing:border-box}"]}),S})()},86378:(ne,b,t)=>{t.d(b,{d:()=>J});var e=t(92938),u=t(13074),c=t(97010),C=t(94882),_=t(3184),p=t(36362),E=t(40361),a=t(46036),l=t(47367),r=t(45857),o=t(74929);function d(le,V){if(1&le&&_._UZ(0,"div",4),2&le){const j=_.oxw();_.Q6J("useIdentifierImgStyle",!0)("imgSrc",j.entityImageSource)}}function n(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA()()),2&le){const j=_.oxw();_.xp6(1),_.Q6J("routerLink",j.investeeRoute.path),_.uIk("aria-label",j.investeeName),_.xp6(1),_.Oqu(j.investeeName)}}function g(le,V){if(1&le&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&le){const j=_.oxw();_.xp6(1),_.Oqu(j.investeeName)}}function f(le,V){if(1&le&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"lowercase"),_.ALo(3,"translate"),_.ALo(4,"currency"),_.qZA()),2&le){const j=_.oxw();_.xp6(1),_.AsE(" ",_.lcZ(2,2,_.lcZ(3,4,"CBL.TIMELINE.RAISED"))," ",_.gM2(4,6,j.investmentAmount,j.investmentCurrency,"symbol","1.0-0")," ")}}function m(le,V){1&le&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"lowercase"),_.ALo(3,"translate"),_.ALo(4,"lowercase"),_.ALo(5,"translate"),_.qZA()),2&le&&(_.xp6(1),_.AsE(" ",_.lcZ(2,2,_.lcZ(3,4,"CBL.TIMELINE.RAISED"))," ",_.lcZ(4,6,_.lcZ(5,8,"CBL.TIMELINE.AN_UNDISCLOSED_AMOUNT"))," "))}function v(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA()()),2&le){const j=_.oxw(2);_.xp6(1),_.Q6J("routerLink",j.investmentRoute.path),_.uIk("aria-label",j.investmentType),_.xp6(1),_.Oqu(j.investmentType)}}function y(le,V){if(1&le&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&le){const j=_.oxw(2);_.xp6(1),_.Oqu(j.investmentType)}}function S(le,V){if(1&le&&(_.TgZ(0,"span"),_._uU(1," / "),_.YNc(2,v,3,3,"span",3),_.YNc(3,y,2,1,"span",3),_.qZA()),2&le){const j=_.oxw();_.xp6(2),_.Q6J("ngIf",j.investmentRoute),_.xp6(1),_.Q6J("ngIf",!j.investmentRoute)}}function A(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&le){const j=_.oxw(2);_.xp6(1),_.Q6J("routerLink",j.investmentRoute.path),_.uIk("aria-label",j.investmentType),_.xp6(1),_.Oqu(_.lcZ(3,3,"CBL.TIMELINE.FUNDING_ROUND"))}}function x(le,V){1&le&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&le&&(_.xp6(1),_.Oqu(_.lcZ(2,1,"CBL.TIMELINE.FUNDING_ROUND")))}function R(le,V){if(1&le&&(_.TgZ(0,"span"),_._uU(1," / "),_.YNc(2,A,4,5,"span",3),_.YNc(3,x,3,3,"span",3),_.qZA()),2&le){const j=_.oxw();_.xp6(2),_.Q6J("ngIf",j.investmentRoute),_.xp6(1),_.Q6J("ngIf",!j.investmentRoute)}}function s(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA()()),2&le){const j=_.oxw(2);_.xp6(1),_.Q6J("routerLink",j.investor.path),_.xp6(1),_.Oqu(j.investor.name)}}function h(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA(),_._uU(3),_.ALo(4,"lowercase"),_.ALo(5,"translate"),_.qZA()),2&le){const j=_.oxw(2);_.xp6(1),_.Q6J("routerLink",j.leadInvestor.path),_.xp6(1),_.Oqu(j.leadInvestor.name),_.xp6(1),_.hij(" (",_.lcZ(4,3,_.lcZ(5,5,"CBL.TIMELINE.LEAD")),") ")}}function H(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA(),_._uU(3),_.ALo(4,"lowercase"),_.ALo(5,"translate"),_.qZA()),2&le){const j=_.oxw(3);_.xp6(1),_.Q6J("routerLink",j.investmentRoute.path),_.xp6(1),_.Oqu(j.numberOfInvestors),_.xp6(1),_.hij(" ",_.lcZ(4,3,_.lcZ(5,5,"CBL.TIMELINE.OTHER_INVESTORS"))," ")}}function K(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA()()),2&le){const j=_.oxw(3);_.xp6(1),_.Q6J("routerLink",j.secondaryInvestor.path),_.xp6(1),_.Oqu(j.secondaryInvestor.name)}}function P(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA(),_._uU(3),_.ALo(4,"lowercase"),_.ALo(5,"translate"),_.ALo(6,"lowercase"),_.ALo(7,"translate"),_.YNc(8,H,6,7,"span",3),_.YNc(9,K,3,2,"span",3),_.qZA()),2&le){const j=_.oxw(2);_.xp6(1),_.Q6J("routerLink",j.leadInvestor.path),_.xp6(1),_.Oqu(j.leadInvestor.name),_.xp6(1),_.AsE(" (",_.lcZ(4,6,_.lcZ(5,8,"CBL.TIMELINE.LEAD")),") ",_.lcZ(6,10,_.lcZ(7,12,"CBL.COMMON.AND"))," "),_.xp6(5),_.Q6J("ngIf",!j.secondaryInvestor),_.xp6(1),_.Q6J("ngIf",j.secondaryInvestor)}}function z(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA(),_._uU(3),_.ALo(4,"lowercase"),_.ALo(5,"translate"),_.qZA()),2&le){const j=_.oxw(3);_.xp6(1),_.Q6J("routerLink",j.investmentRoute.path),_.xp6(1),_.Oqu(j.numberOfInvestors),_.xp6(1),_.hij(" ",_.lcZ(4,3,_.lcZ(5,5,"CBL.TIMELINE.OTHER_INVESTORS"))," ")}}function ee(le,V){if(1&le&&(_.TgZ(0,"span")(1,"a",5),_._uU(2),_.qZA()()),2&le){const j=_.oxw(3);_.xp6(1),_.Q6J("routerLink",j.secondaryInvestor.path),_.xp6(1),_.Oqu(j.secondaryInvestor.name)}}function Z(le,V){if(1&le&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"lowercase"),_.ALo(3,"translate"),_.YNc(4,z,6,7,"span",3),_.YNc(5,ee,3,2,"span",3),_.qZA()),2&le){const j=_.oxw(2);_.xp6(1),_.hij(" ",_.lcZ(2,3,_.lcZ(3,5,"CBL.COMMON.AND"))," "),_.xp6(3),_.Q6J("ngIf",!j.secondaryInvestor),_.xp6(1),_.Q6J("ngIf",j.secondaryInvestor)}}function G(le,V){if(1&le&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"lowercase"),_.ALo(3,"translate"),_.YNc(4,s,3,2,"span",3),_.YNc(5,h,6,7,"span",3),_.YNc(6,P,10,14,"span",3),_.YNc(7,Z,6,7,"span",3),_.qZA()),2&le){const j=_.oxw();_.xp6(1),_.hij(" ",_.lcZ(2,5,_.lcZ(3,7,"CBL.COMMON.FROM"))," "),_.xp6(3),_.Q6J("ngIf",!j.leadInvestor&&j.investor),_.xp6(1),_.Q6J("ngIf",j.leadInvestor&&!j.numberOfInvestors),_.xp6(1),_.Q6J("ngIf",j.leadInvestor&&j.numberOfInvestors),_.xp6(1),_.Q6J("ngIf",!j.leadInvestor&&j.numberOfInvestors)}}let J=(()=>{class le{constructor(j,M,ie,te){this.currencyPipe=j,this.imageService=M,this.labelService=ie,this.urlService=te,this.investmentCurrency="usd"}ngOnInit(){this.setProperties(this.activity),this.buildTitle()}setProperties(j){var M,ie,te,re,q;let U=(0,e.filter)(j.activity_entities,Q=>"investor"===Q.role),k=(0,e.find)(j.activity_entities,Q=>"investee"===Q.role),w=(0,e.find)(j.activity_entities,Q=>"lead_investor"===Q.role);w?(this.leadInvestor=this.makeInvestorDetails(w),U.length&&(this.numberOfInvestors=U.length),1===U.length&&(this.secondaryInvestor=this.makeInvestorDetails(U[0]))):(this.investor=this.makeInvestorDetails(U[0]),U.length>=2&&(this.numberOfInvestors=U.length-1),2===U.length&&(this.secondaryInvestor=this.makeInvestorDetails(U[1]))),k||(k=j.activity_entities[0]),this.investeeName=k.value||"",this.investmentAmount=null===(ie=null===(M=j.activity_properties)||void 0===M?void 0:M.money_raised)||void 0===ie?void 0:ie.value,this.investmentCurrency=null===(re=null===(te=j.activity_properties)||void 0===te?void 0:te.money_raised)||void 0===re?void 0:re.currency,this.entityImageSource=this.getEntityImage(k),this.investeeRoute=this.urlService.getIdentifierRoute(k),this.investmentType=(0,e.startCase)(null===(q=j.activity_properties)||void 0===q?void 0:q.investment_type),this.investmentRoute=this.urlService.getIdentifierRoute(j.identifier)}makeInvestorDetails(j){if(j&&j.value)return{name:j.value,path:this.urlService.getIdentifierRoute(j).path}}buildTitle(){var j,M,ie;let{investeeName:te,investmentAmount:re,investmentType:q,numberOfInvestors:U}=this;const k=null===(j=this.investor)||void 0===j?void 0:j.name,w=null===(M=this.leadInvestor)||void 0===M?void 0:M.name,Q=null===(ie=this.secondaryInvestor)||void 0===ie?void 0:ie.name;let $=te;$+=` ${this.getLabel("CBL.TIMELINE.RAISED")}`,$+=re?` ${this.formatMoney(re)}`:` ${this.getLabel("CBL.TIMELINE.AN_UNDISCLOSED_AMOUNT")}`,q&&"Undisclosed"!==q&&($+=` / ${q}`),(!q||"Undisclosed"===q)&&($+=` / ${this.getLabel("CBL.TIMELINE.FUNDING_ROUND")}`),(k||w||U)&&($+=` ${this.getLabel("CBL.COMMON.FROM")}`,!w&&k&&($+=` ${k}`),w&&!U&&($+=` ${w}`,$+=` ${this.getLabel("CBL.TIMELINE.LEAD")}`),w&&U&&($+=` ${w}`,$+=` ${this.getLabel("CBL.TIMELINE.LEAD")}`,$+=` ${this.getLabel("CBL.COMMON.AND")}`,Q?$+=` ${Q}`:($+=` ${U}`,$+=` ${this.getLabel("CBL.TIMELINE.OTHER_INVESTORS")}`)),!w&&U&&($+=` ${this.getLabel("CBL.COMMON.AND")}`,Q?$+=` ${Q}`:($+=` ${U}`,$+=` ${this.getLabel("CBL.TIMELINE.OTHER_INVESTORS")}`))),this.foundingRoundTitle=$}getLabel(j){return this.labelService.getLabel(j).toLowerCase()}getEntityImage(j){let M=null==j?void 0:j.image_id;return M||(M=this.activity.activity_entities[0].image_id),this.imageService.getPublicImageUrl(M,le.IMAGE_OPTIONS)}formatMoney(j){return j&&this.investmentCurrency&&this.currencyPipe.transform(j,(0,e.toUpper)(this.investmentCurrency),"symbol","1.0-0")||""}}return le.IMAGE_OPTIONS={width:"30",height:"30"},le.\u0275fac=function(j){return new(j||le)(_.Y36(p.H9),_.Y36(c.AJ),_.Y36(C.Q),_.Y36(u.iO))},le.\u0275cmp=_.Xpm({type:le,selectors:[["funding-round"]],inputs:{activity:"activity",isEntityCard:"isEntityCard"},decls:10,vars:9,consts:[["class","funding-round-image","lazyLoadImage","","placeholderType","funding-round","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"funding-round-content"],[3,"title"],[4,"ngIf"],["lazyLoadImage","","placeholderType","funding-round","imgAlt","",1,"funding-round-image",3,"useIdentifierImgStyle","imgSrc"],["cb-link","accent",3,"routerLink"]],template:function(j,M){1&j&&(_.YNc(0,d,1,2,"div",0),_.TgZ(1,"div",1)(2,"span",2),_.YNc(3,n,3,3,"span",3),_.YNc(4,g,2,1,"span",3),_.YNc(5,f,5,11,"span",3),_.YNc(6,m,6,10,"span",3),_.YNc(7,S,4,2,"span",3),_.YNc(8,R,4,2,"span",3),_.YNc(9,G,8,9,"span",3),_.qZA()()),2&j&&(_.Q6J("ngIf",!M.isEntityCard),_.xp6(2),_.Q6J("title",M.foundingRoundTitle),_.xp6(1),_.Q6J("ngIf",M.investeeRoute),_.xp6(1),_.Q6J("ngIf",!M.investeeRoute),_.xp6(1),_.Q6J("ngIf",M.investmentAmount),_.xp6(1),_.Q6J("ngIf",!M.investmentAmount),_.xp6(1),_.Q6J("ngIf",M.investmentType&&"Undisclosed"!==M.investmentType),_.xp6(1),_.Q6J("ngIf",!M.investmentType||"Undisclosed"===M.investmentType),_.xp6(1),_.Q6J("ngIf",M.investor||M.leadInvestor||M.numberOfInvestors))},directives:[p.O5,E.z,a.n,l.I,r.yS],pipes:[p.i8,o.X,p.H9],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}[_nghost-%COMP%]   .funding-round-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .funding-round-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%]   .funding-round-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .funding-round-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}"]}),le})()},97810:(ne,b,t)=>{t.d(b,{z:()=>v});var e=t(13074),i=t(97010),u=t(94882),c=t(3184),C=t(36362),_=t(40361),p=t(46036),E=t(47367),a=t(45857),l=t(74929);function r(y,S){if(1&y&&c._UZ(0,"div",4),2&y){const A=c.oxw();c.Q6J("useIdentifierImgStyle",!0)("imgSrc",A.entityImage)}}function o(y,S){if(1&y&&(c.TgZ(0,"span")(1,"a",5),c._uU(2),c.qZA()()),2&y){const A=c.oxw();c.xp6(1),c.Q6J("routerLink",A.entityRoute.path),c.uIk("aria-label",A.entityName),c.xp6(1),c.Oqu(A.entityName)}}function d(y,S){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&y){const A=c.oxw();c.xp6(1),c.Oqu(A.entityName)}}function n(y,S){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&y){const A=c.oxw(2);c.xp6(1),c.hij("",A.exchangeSymbol,":")}}function g(y,S){if(1&y&&(c.TgZ(0,"span")(1,"a",5),c._uU(2),c.qZA()()),2&y){const A=c.oxw(2);c.xp6(1),c.Q6J("routerLink",A.ipoRoute.path),c.uIk("aria-label",A.companyTicker),c.xp6(1),c.Oqu(A.companyTicker)}}function f(y,S){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&y){const A=c.oxw(2);c.xp6(1),c.Oqu(A.companyTicker)}}function m(y,S){if(1&y&&(c.TgZ(0,"span"),c._uU(1," ("),c.YNc(2,n,2,1,"span",3),c.YNc(3,g,3,3,"span",3),c.YNc(4,f,2,1,"span",3),c._uU(5,") "),c.qZA()),2&y){const A=c.oxw();c.xp6(2),c.Q6J("ngIf",A.exchangeSymbol),c.xp6(1),c.Q6J("ngIf",A.ipoRoute),c.xp6(1),c.Q6J("ngIf",!A.ipoRoute)}}let v=(()=>{class y{constructor(A,x,R){this.urlService=A,this.labelService=x,this.imageService=R}ngOnInit(){this.getProperties(),this.buildTitle()}getProperties(){let A=this.activity.activity_entities&&this.activity.activity_entities[0];A&&(this.entityImage=this.getEntityImage(A.image_id),this.entityName=A.value||"",this.entityRoute=this.urlService.getIdentifierRoute(A)),this.ipoRoute=this.urlService.getIdentifierRoute(this.activity.identifier),this.exchangeSymbol=this.activity.activity_properties&&this.activity.activity_properties.stock_exchange_symbol,this.companyTicker=this.activity.identifier.value}buildTitle(){let{entityName:A,exchangeSymbol:x,companyTicker:R}=this,s=A;s+=` ${this.getLabel("CBL.TIMELINE.WENT_PUBLIC")}`,R&&(s+=" (",s+=x?`${x}: ${R}`:R,s+=")"),this.ipoTitle=s}getLabel(A){return this.labelService.getLabel(A).toLowerCase()}getEntityImage(A){return this.imageService.getPublicImageUrl(A,y.IMAGE_OPTIONS)}}return y.IMAGE_OPTIONS={width:"30",height:"30"},y.\u0275fac=function(A){return new(A||y)(c.Y36(e.iO),c.Y36(u.Q),c.Y36(i.AJ))},y.\u0275cmp=c.Xpm({type:y,selectors:[["ipo"]],inputs:{activity:"activity",isEntityCard:"isEntityCard"},decls:9,vars:10,consts:[["class","ipo-image","lazyLoadImage","","placeholderType","ipo","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"ipo-content"],[3,"title"],[4,"ngIf"],["lazyLoadImage","","placeholderType","ipo","imgAlt","",1,"ipo-image",3,"useIdentifierImgStyle","imgSrc"],["cb-link","accent",3,"routerLink"]],template:function(A,x){1&A&&(c.YNc(0,r,1,2,"div",0),c.TgZ(1,"div",1)(2,"span",2),c.YNc(3,o,3,3,"span",3),c.YNc(4,d,2,1,"span",3),c._uU(5),c.ALo(6,"lowercase"),c.ALo(7,"translate"),c.YNc(8,m,6,3,"span",3),c.qZA()()),2&A&&(c.Q6J("ngIf",!x.isEntityCard),c.xp6(2),c.Q6J("title",x.ipoTitle),c.xp6(1),c.Q6J("ngIf",x.entityRoute&&!x.isEntityCard),c.xp6(1),c.Q6J("ngIf",!x.entityRoute||x.isEntityCard),c.xp6(1),c.hij(" ",c.lcZ(6,6,c.lcZ(7,8,"CBL.TIMELINE.WENT_PUBLIC"))," "),c.xp6(3),c.Q6J("ngIf",x.companyTicker))},directives:[C.O5,_.z,p.n,E.I,a.yS],pipes:[C.i8,l.X],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}[_nghost-%COMP%]   .ipo-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .ipo-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%]   .ipo-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .ipo-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}"]}),y})()},52727:(ne,b,t)=>{t.d(b,{e:()=>re});var e=t(13074),i=t(97010),u=t(3184),c=t(36362),C=t(47367),_=t(40361),p=t(46036),E=t(45857),a=t(87317),l=t(32478),r=t(74929);function o(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw(3);u.xp6(1),u.hij(" ",k.activity.activity_properties.publisher||k.activity.activity_properties.author," \u2014 ")}}function d(q,U){if(1&q&&(u.TgZ(0,"span"),u.YNc(1,o,2,1,"span",4),u.qZA()),2&q){const k=u.oxw(2);u.xp6(1),u.Q6J("ngIf",k.activity.activity_properties.publisher||k.activity.activity_properties.author)}}function n(q,U){if(1&q&&(u.TgZ(0,"span")(1,"a",5),u._uU(2),u.qZA()()),2&q){const k=u.oxw(2);u.xp6(1),u.Q6J("href",k.activity.activity_properties.url.value,u.LSH),u.xp6(1),u.hij(" ",k.activity.activity_properties.title," ")}}function g(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw(2);u.xp6(1),u.Oqu(k.activity.activity_properties.title)}}function f(q,U){if(1&q&&(u.TgZ(0,"div",3),u.YNc(1,d,2,1,"span",4),u.YNc(2,n,3,2,"span",4),u.YNc(3,g,2,1,"span",4),u.qZA()),2&q){const k=u.oxw();u.Q6J("title",k.entityTitle),u.xp6(1),u.Q6J("ngIf",k.entityRoute&&k.activity.activity_entities[0].value),u.xp6(1),u.Q6J("ngIf",null==k.activity.activity_properties.url?null:k.activity.activity_properties.url.value),u.xp6(1),u.Q6J("ngIf",!(null!=k.activity.activity_properties.url&&k.activity.activity_properties.url.value))}}function m(q,U){if(1&q&&u._UZ(0,"div",9),2&q){const k=u.oxw(2);u.Q6J("useIdentifierImgStyle",!0)("imgSrc",k.entityImageSource)}}function v(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw(2).ngIf;u.xp6(1),u.hij(" ",k.publisher||k.author," \u2014 ")}}function y(q,U){if(1&q&&(u.TgZ(0,"span")(1,"a",11),u._uU(2),u.qZA(),u._uU(3,": "),u.YNc(4,v,2,1,"span",4),u.qZA()),2&q){const k=u.oxw().ngIf,w=u.oxw(2);u.xp6(1),u.Q6J("routerLink",w.entityRoute.path),u.xp6(1),u.hij(" ",w.pressReferenceSet.entity.value,""),u.xp6(2),u.Q6J("ngIf",k.publisher||k.author)}}function S(q,U){if(1&q&&(u.TgZ(0,"span")(1,"a",5),u._uU(2),u.qZA()()),2&q){const k=u.oxw().ngIf;u.xp6(1),u.Q6J("href",k.url.value,u.LSH),u.xp6(1),u.hij(" ",k.title," ")}}function A(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw().ngIf;u.xp6(1),u.Oqu(k.title)}}function x(q,U){if(1&q&&(u.TgZ(0,"div",10)(1,"span"),u.YNc(2,y,5,3,"span",4),u.YNc(3,S,3,2,"span",4),u.YNc(4,A,2,1,"span",4),u.qZA()()),2&q){const k=U.ngIf,w=u.oxw(2);u.xp6(2),u.Q6J("ngIf",w.entityRoute&&w.pressReferenceSet.entity.value),u.xp6(1),u.Q6J("ngIf",null==k.url?null:k.url.value),u.xp6(1),u.Q6J("ngIf",!(null!=k.url&&k.url.value))}}function R(q,U){if(1&q&&(u.TgZ(0,"div",6),u.YNc(1,m,1,2,"div",7),u.YNc(2,x,5,3,"div",8),u.qZA()),2&q){const k=u.oxw();u.Q6J("title",k.pressReferenceSetTitle),u.xp6(1),u.Q6J("ngIf",!k.isEntityCard),u.xp6(1),u.Q6J("ngIf",k.pressReferenceSet.activities[0].activity_properties)}}function s(q,U){if(1&q&&u._UZ(0,"div",17),2&q){const k=u.oxw(2);u.Q6J("useIdentifierImgStyle",!0)("imgSrc",k.entityImageSource)}}function h(q,U){if(1&q&&(u.TgZ(0,"span")(1,"a",18),u._uU(2),u.qZA()()),2&q){const k=u.oxw(2);u.xp6(1),u.Q6J("routerLink",k.entityRoute.path),u.uIk("aria-label",k.pressReferenceSet.entity.value),u.xp6(1),u.hij(" ",k.pressReferenceSet.entity.value," ")}}function H(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw(2);u.xp6(1),u.Oqu(k.pressReferenceSet.entity.value)}}function K(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw(2).$implicit;u.xp6(1),u.hij(" ",k.activity_properties.publisher||k.activity_properties.author," \u2014 ")}}function P(q,U){if(1&q&&(u.TgZ(0,"span")(1,"a",20),u._uU(2),u.qZA()()),2&q){const k=u.oxw(2).$implicit;u.xp6(1),u.Q6J("href",k.activity_properties.url.value,u.LSH),u.xp6(1),u.hij(" ",k.activity_properties.title," ")}}function z(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw(2).$implicit;u.xp6(1),u.Oqu(k.activity_properties.title)}}function ee(q,U){if(1&q&&(u.ynx(0),u.YNc(1,K,2,1,"span",4),u.YNc(2,P,3,2,"span",4),u.YNc(3,z,2,1,"span",4),u.BQk()),2&q){const k=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",k.activity_properties.publisher||k.activity_properties.author),u.xp6(1),u.Q6J("ngIf",null==k.activity_properties.url?null:k.activity_properties.url.value),u.xp6(1),u.Q6J("ngIf",!(null!=k.activity_properties.url&&k.activity_properties.url.value))}}function Z(q,U){if(1&q&&(u.TgZ(0,"div",19),u.YNc(1,ee,4,3,"ng-container",4),u.qZA()),2&q){const k=U.$implicit;u.xp6(1),u.Q6J("ngIf",k.activity_properties)}}function G(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw(2).$implicit;u.xp6(1),u.hij(" ",k.activity_properties.publisher||k.activity_properties.author," \u2014 ")}}function J(q,U){if(1&q&&(u.TgZ(0,"span")(1,"a",20),u._uU(2),u.qZA()()),2&q){const k=u.oxw(2).$implicit;u.xp6(1),u.Q6J("href",k.activity_properties.url.value,u.LSH),u.xp6(1),u.hij(" ",k.activity_properties.title,"")}}function le(q,U){if(1&q&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&q){const k=u.oxw(2).$implicit;u.xp6(1),u.Oqu(k.activity_properties.title)}}function V(q,U){if(1&q&&(u.ynx(0),u.YNc(1,G,2,1,"span",4),u.YNc(2,J,3,2,"span",4),u.YNc(3,le,2,1,"span",4),u.BQk()),2&q){const k=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",k.activity_properties.publisher||k.activity_properties.author),u.xp6(1),u.Q6J("ngIf",null==k.activity_properties.url?null:k.activity_properties.url.value),u.xp6(1),u.Q6J("ngIf",!(null!=k.activity_properties.url&&k.activity_properties.url.value))}}function j(q,U){if(1&q&&(u.TgZ(0,"div",21),u.YNc(1,V,4,3,"ng-container",4),u.qZA()),2&q){const k=U.$implicit,w=u.oxw(2);u.Q6J("hidden",!w.showingHiddenActivities),u.xp6(1),u.Q6J("ngIf",k.activity_properties)}}function M(q,U){if(1&q){const k=u.EpF();u.TgZ(0,"div")(1,"button",22),u.NdJ("click",function(){return u.CHM(k),u.oxw(2).showHiddenActivities()}),u.ALo(2,"translate"),u._UZ(3,"icon",23),u._uU(4),u.ALo(5,"translate"),u.qZA()()}if(2&q){const k=u.oxw(2);u.xp6(1),u.uIk("aria-label",u.lcZ(2,3,k.hiddenActivities.length>1?"CBL.TIMELINE.MORE_ARTICLES":"CBL.TIMELINE.MORE_ARTICLE")),u.xp6(3),u.AsE(" ",k.hiddenActivities.length," ",u.lcZ(5,5,k.hiddenActivities.length>1?"CBL.TIMELINE.MORE_ARTICLES":"CBL.TIMELINE.MORE_ARTICLE")," ")}}function ie(q,U){if(1&q){const k=u.EpF();u.TgZ(0,"div")(1,"button",22),u.NdJ("click",function(){return u.CHM(k),u.oxw(2).hideExtraActivities()}),u.ALo(2,"translate"),u._UZ(3,"icon",24),u._uU(4),u.ALo(5,"translate"),u.qZA()()}2&q&&(u.xp6(1),u.uIk("aria-label",u.lcZ(2,2,"CBL.TIMELINE.HIDE")),u.xp6(3),u.hij(" ",u.lcZ(5,4,"CBL.TIMELINE.HIDE")," "))}function te(q,U){if(1&q&&(u.TgZ(0,"div",12),u.YNc(1,s,1,2,"div",13),u.TgZ(2,"div",14),u.YNc(3,h,3,3,"span",4),u.YNc(4,H,2,1,"span",4),u.YNc(5,Z,2,1,"div",15),u.YNc(6,j,2,2,"div",16),u.YNc(7,M,6,7,"div",4),u.YNc(8,ie,6,6,"div",4),u.qZA()()),2&q){const k=u.oxw();u.Q6J("title",k.pressReferenceSetTitle),u.xp6(1),u.Q6J("ngIf",!k.isEntityCard),u.xp6(2),u.Q6J("ngIf",k.entityRoute),u.xp6(1),u.Q6J("ngIf",!k.entityRoute),u.xp6(1),u.Q6J("ngForOf",k.visibleActivities),u.xp6(1),u.Q6J("ngForOf",k.hiddenActivities),u.xp6(1),u.Q6J("ngIf",!k.showingHiddenActivities&&k.hiddenActivities.length>0),u.xp6(1),u.Q6J("ngIf",k.showingHiddenActivities&&k.hiddenActivities.length>0)}}let re=(()=>{class q{constructor(k,w){this.imageService=k,this.urlService=w,this.visibleActivities=[],this.hiddenActivities=[],this.showingHiddenActivities=!1}ngOnInit(){if(this.isEntityCard){let k=this.activity.activity_entities&&this.activity.activity_entities[0];k&&(this.entityImageSource=this.getEntityImage(k.image_id),this.entityRoute=this.urlService.getIdentifierRoute(k))}else{let k=this.pressReferenceSet.entity;k&&(this.entityImageSource=this.getEntityImage(k.image_id),this.entityRoute=this.urlService.getIdentifierRoute(k)),this.sortActivities(this.pressReferenceSet.activities)}this.buildTitle()}showHiddenActivities(){this.showingHiddenActivities=!0}hideExtraActivities(){this.showingHiddenActivities=!1}sortActivities(k){for(let Q=0;Q<k.length;Q++)Q<3?this.visibleActivities.push(k[Q]):this.hiddenActivities.push(k[Q])}buildTitle(){var k;let{isEntityCard:w,activity:Q,entityRoute:$,pressReferenceSet:X,visibleActivities:Ce,hiddenActivities:ye,showingHiddenActivities:ue}=this;if(w&&Q){let Me="";$&&Q.activity_entities[0].value&&(Me+=`${Q.activity_entities[0].value}:`,Me+=this.getActivityPropertiesTitle(Q.activity_properties)),Me+=` ${(null===(k=Q.activity_properties)||void 0===k?void 0:k.title)||""}`,this.entityTitle=Me}if(X&&1===X.activities.length){let Me="",{activity_properties:me}=X.activities[0];$&&X.entity.value&&(Me+=`${X.entity.value}:`,Me+=this.getActivityPropertiesTitle(me)),Me+=` ${(null==me?void 0:me.title)||""}`,this.pressReferenceSetTitle=Me}if(X&&X.activities.length>1){let Me=X.entity.value||"";Ce.forEach(me=>{let ve=me.activity_properties;Me+=this.getActivityPropertiesTitle(ve),Me+=` ${(null==ve?void 0:ve.title)||""}`}),ue&&ye.forEach(me=>{let ve=me.activity_properties;Me+=this.getActivityPropertiesTitle(ve),Me+=` ${(null==ve?void 0:ve.title)||""}`}),this.pressReferenceSetTitle=Me}}getActivityPropertiesTitle(k){if(!k)return"";let w="";return(k.publisher||k.author)&&(w+=k.publisher?` ${k.publisher}`:` ${k.author}`,w+=" \u2014"),w}getEntityImage(k){return this.imageService.getPublicImageUrl(k,q.IMAGE_OPTIONS)}}return q.IMAGE_OPTIONS={width:"30",height:"30"},q.\u0275fac=function(k){return new(k||q)(u.Y36(i.AJ),u.Y36(e.iO))},q.\u0275cmp=u.Xpm({type:q,selectors:[["press-reference"]],inputs:{pressReferenceSet:"pressReferenceSet",isEntityCard:"isEntityCard",activity:"activity"},decls:3,vars:3,consts:[[3,"title",4,"ngIf"],["class","single-press-reference",3,"title",4,"ngIf"],["class","multi-press-reference",3,"title",4,"ngIf"],[3,"title"],[4,"ngIf"],["cb-link","accent","target","_blank","rel","nofollow noopener noreferrer",1,"activity-url-title",3,"href"],[1,"single-press-reference",3,"title"],["class","single-press-reference-image","lazyLoadImage","","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],["class","single-press-reference-content",4,"ngIf"],["lazyLoadImage","","imgAlt","",1,"single-press-reference-image",3,"useIdentifierImgStyle","imgSrc"],[1,"single-press-reference-content"],["cb-link","accent",3,"routerLink"],[1,"multi-press-reference",3,"title"],["class","multi-press-reference-image","lazyLoadImage","","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"multi-press-reference-content"],["class","activity",4,"ngFor","ngForOf"],["class","activity",3,"hidden",4,"ngFor","ngForOf"],["lazyLoadImage","","imgAlt","",1,"multi-press-reference-image",3,"useIdentifierImgStyle","imgSrc"],["cb-link","accent",1,"entity-route-link",3,"routerLink"],[1,"activity"],["cb-link","accent","target","_blank","rel","nofollow noopener noreferrer",3,"href"],[1,"activity",3,"hidden"],["mat-button","",1,"action-button",3,"click"],["key","icon_caret_down"],["key","icon_caret_up"]],template:function(k,w){1&k&&(u.YNc(0,f,4,4,"div",0),u.YNc(1,R,3,3,"div",1),u.YNc(2,te,9,8,"div",2)),2&k&&(u.Q6J("ngIf",w.isEntityCard&&w.activity&&w.activity.activity_properties),u.xp6(1),u.Q6J("ngIf",w.pressReferenceSet&&1===w.pressReferenceSet.activities.length),u.xp6(1),u.Q6J("ngIf",w.pressReferenceSet&&w.pressReferenceSet.activities.length>1))},directives:[c.O5,C.I,_.z,p.n,E.yS,c.sg,a.lW,l.o],pipes:[r.X],styles:[".single-press-reference[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}.single-press-reference[_ngcontent-%COMP%]   .single-press-reference-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.single-press-reference[_ngcontent-%COMP%]   .single-press-reference-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.single-press-reference[_ngcontent-%COMP%]   .single-press-reference-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.single-press-reference[_ngcontent-%COMP%]   .single-press-reference-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.multi-press-reference[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}.multi-press-reference[_ngcontent-%COMP%]   .multi-press-reference-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.multi-press-reference[_ngcontent-%COMP%]   .multi-press-reference-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:column}.multi-press-reference[_ngcontent-%COMP%]   .activity[_ngcontent-%COMP%], .multi-press-reference[_ngcontent-%COMP%]   .entity-route-link[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:4px}.action-button[_ngcontent-%COMP%]{padding-left:0;margin:0}.activity-url-title[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}"]}),q})()},57556:(ne,b,t)=>{t.d(b,{HC:()=>S});var e=t(45857),i=t(36362),u=t(90587),c=t(90898),C=t(35503),_=t(85495),p=t(68881),E=t(32519),a=t(32313),l=t(19366),r=t(3184);t(44983),t(88670),t(40757),t(86378),t(97810),t(52727),t(44472),t(47320);let S=(()=>{class A{}return A.\u0275fac=function(R){return new(R||A)},A.\u0275mod=r.oAB({type:A}),A.\u0275inj=r.cJS({imports:[[i.ez,e.Bz,u.u5,c.q,C.Dt,_.E,p.N,E.n,a.H,l.L]]}),A})()},44983:(ne,b,t)=>{t.d(b,{z:()=>Q});var e=t(92938),i=t(3184),u=t(18277),c=t(41825),C=t(2384),_=t(75215),p=t(843),E=t(85129),a=t(45857),l=t(49837),r=t(44770),o=t(91434),d=t(90587),n=t(36362),g=t(1130),f=t(20757),m=t(32478),v=t(252);let y=(()=>{class ${constructor(Ce,ye,ue){this.platformService=Ce,this.ngZone=ye,this.elementRef=ue,this.onScroll=new i.vpe}ngAfterContentInit(){this.platformService.isBrowser()&&(this.nativeElem=this.elementRef.nativeElement,this.addEventListener())}ngOnDestroy(){this.platformService.isBrowser()&&this.ngZone.runOutsideAngular(()=>{this.nativeElem.removeEventListener("scroll",this.regulatedOnScroll)})}addEventListener(){this.ngZone.runOutsideAngular(()=>{let Ce=()=>{let ye=this.nativeElem.scrollTop;this.ngZone.run(()=>{this.onScroll.emit(ye)})};this.regulatedOnScroll="throttle"===this.regulateExecutionBy?(0,e.throttle)(Ce,this.wait):"debounce"===this.regulateExecutionBy?(0,e.debounce)(Ce,this.wait):Ce,this.nativeElem.addEventListener("scroll",this.regulatedOnScroll)})}}return $.\u0275fac=function(Ce){return new(Ce||$)(i.Y36(l.m),i.Y36(i.R0b),i.Y36(i.SBq))},$.\u0275dir=i.lG2({type:$,selectors:[["","scrollNotifier",""]],inputs:{regulateExecutionBy:"regulateExecutionBy",wait:"wait"},outputs:{onScroll:"onScroll"}}),$})();var S=t(44472),A=t(74929);const x=["activitiesContainer"],R=["activitiesContent"];function s($,X){1&$&&i.GkF(0)}function h($,X){1&$&&i.GkF(0)}function H($,X){1&$&&i.GkF(0)}const K=function($,X){return{canUserSelectActivityEntityDefId:$,activityEntityDefId:X}};function P($,X){if(1&$&&(i.TgZ(0,"mat-option",17),i.YNc(1,H,1,0,"ng-container",6),i.qZA()),2&$){const Ce=X.$implicit,ye=i.oxw(),ue=i.MAs(14);i.Q6J("value",Ce),i.xp6(1),i.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",i.WLB(3,K,ye.canUserSelectActivityEntityDefId,Ce))}}function z($,X){if(1&$&&i._UZ(0,"theme-icon",22),2&$){const Ce=i.oxw().activityEntityDefId,ye=i.oxw();i.Q6J("themeId",ye.activityEntityDefThemes[Ce])}}function ee($,X){1&$&&i._UZ(0,"icon",23)}function Z($,X){1&$&&i._UZ(0,"icon",24)}function G($,X){if(1&$&&(i.TgZ(0,"div",18),i.YNc(1,z,1,1,"theme-icon",19),i.YNc(2,ee,1,0,"icon",20),i.YNc(3,Z,1,0,"icon",21),i.TgZ(4,"span"),i._uU(5),i.ALo(6,"translate"),i.ALo(7,"uppercase"),i.qZA()()),2&$){const Ce=X.canUserSelectActivityEntityDefId,ye=X.activityEntityDefId;i.xp6(1),i.Q6J("ngIf",Ce&&"all"!==ye),i.xp6(1),i.Q6J("ngIf","all"===ye),i.xp6(1),i.Q6J("ngIf",!Ce&&"all"!==ye),i.xp6(2),i.Oqu(i.lcZ(6,4,"CBL.TIMELINE.ACTIVITY_NAMES."+i.lcZ(7,6,ye||"all")))}}function J($,X){1&$&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&$&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"CBL.COMMON.OOPS")," "))}function le($,X){1&$&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&$&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"CBL.COMMON.PROBLEM")," "))}function V($,X){1&$&&(i.TgZ(0,"p"),i.SDv(1,25),i.qZA())}function j($,X){if(1&$&&i._UZ(0,"activity-group-card",34),2&$){const Ce=i.oxw().$implicit,ye=i.oxw(2).$implicit;i.Q6J("activityGroup",ye.activityGroups[Ce])}}function M($,X){if(1&$&&(i.ynx(0),i.YNc(1,j,1,1,"activity-group-card",33),i.BQk()),2&$){const Ce=X.$implicit,ye=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",ye.activityGroups[Ce])}}function ie($,X){if(1&$&&(i.ynx(0),i.YNc(1,M,2,1,"ng-container",32),i.BQk()),2&$){const Ce=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",Ce.activityEntityDefIds)}}function te($,X){if(1&$&&i._UZ(0,"activity-group-card",34),2&$){const Ce=i.oxw(2).$implicit,ye=i.oxw();i.Q6J("activityGroup",Ce.activityGroups[ye.selectedActivityEntityDefId])}}function re($,X){if(1&$&&(i.ynx(0),i.YNc(1,te,1,1,"activity-group-card",33),i.BQk()),2&$){const Ce=i.oxw().$implicit,ye=i.oxw();i.xp6(1),i.Q6J("ngIf",Ce.activityGroups[ye.selectedActivityEntityDefId])}}function q($,X){if(1&$&&(i.TgZ(0,"div",26)(1,"div",27)(2,"div",28),i._UZ(3,"div",29),i.TgZ(4,"span",30),i._uU(5),i.ALo(6,"date"),i.qZA(),i._UZ(7,"div",29),i.qZA(),i.TgZ(8,"div",31),i.YNc(9,ie,2,1,"ng-container",11),i.YNc(10,re,2,1,"ng-container",11),i.qZA()()()),2&$){const Ce=X.$implicit,ye=i.oxw();i.xp6(5),i.hij(" ",i.xi3(6,3,Ce.datetime,"fullDate")," "),i.xp6(4),i.Q6J("ngIf","all"===ye.selectedActivityEntityDefId||!ye.canUserSelectActivityEntityDefId),i.xp6(1),i.Q6J("ngIf","all"!==ye.selectedActivityEntityDefId&&ye.canUserSelectActivityEntityDefId)}}const U=[[["","timeline-header-left",""]],[["","timeline-header-right",""]]],k=function($){return{canUserSelectActivityEntityDefId:$,activityEntityDefId:"all"}},w=["[timeline-header-left]","[timeline-header-right]"];let Q=(()=>{class ${constructor(Ce,ye,ue,Me,me,ve,ze){this.timelineService=Ce,this.searchResultService=ye,this.dialogService=ue,this.metadataService=Me,this.route=me,this.permissionService=ve,this.platformService=ze,this.changes=new i.vpe,this.activityDays=[],this.isLoading=!1,this.hasLoadedResultsAtLeastOnce=!1,this.hasErrorOnInitialLoad=!1,this.hasReachedEndOfActivities=!1,this.lastScrollTop=0,this.trackByLastActivityTime=(tt,ht)=>(null==ht?void 0:ht.lastActivityTime)||void 0}ngOnInit(){this.activityEntityDefIds=this.timelineService.getActivityEntityDefIds(),this.activityEntityDefThemes=this.getActivityEntityDefThemes(),this.resultsSubscription=this.searchResultService.getSearchResultsObservable().subscribe(Ce=>this.resetAndGetNewActivities()),this.paramsSubscription||(this.paramsSubscription=this.route.params.subscribe(()=>this.triggerAutomaticSearch())),this.metadataSubscription=this.metadataService.getMetadataChangeObservable().subscribe(()=>this.setCanUserSelectActivityEntityDefId()),this.setCanUserSelectActivityEntityDefId(),this.selectedActivityEntityDefId=this.canUserSelectActivityEntityDefId&&this.selectedActivityEntityDefId||"all",this.getActivities()}ngOnDestroy(){this.resultsSubscription.unsubscribe(),this.metadataSubscription.unsubscribe(),this.paramsSubscription&&this.paramsSubscription.unsubscribe()}changeSelectedActivityEntityDefId(){this.canUserSelectActivityEntityDefId?this.resetAndGetNewActivities():this.showUpsellDialog()}showMoreActivities(Ce){if(this.platformService.isBrowser()){let ye=Ce>this.lastScrollTop;if(this.lastScrollTop=Ce,!this.isLoading&&!this.hasReachedEndOfActivities&&ye){let ue=this.activitiesContainer.nativeElement.getBoundingClientRect().height;Ce>=this.activitiesContent.nativeElement.getBoundingClientRect().height-2*ue&&this.getActivities()}}}setCanUserSelectActivityEntityDefId(){this.canUserSelectActivityEntityDefId=this.permissionService.canSelectTimelineActivityEntityDefId()}triggerAutomaticSearch(){this.resetAndGetNewActivities()}getActivities(){if(this.isLoading)return;this.isLoading=!0;const Ce=(0,e.last)(this.activityDays);this.timelineService.getSearchActivities(this.search.id,"all"===this.selectedActivityEntityDefId?void 0:this.selectedActivityEntityDefId,Ce&&Ce.lastActivityTime-1).then(ue=>this.handleActivities(ue),ue=>this.handleError(ue))}handleActivities(Ce){Ce.length>0?this.activityDays=(0,e.concat)(this.activityDays,Ce):this.hasReachedEndOfActivities=!0,this.hasLoadedResultsAtLeastOnce=!0,this.isLoading=!1,this.notifyChangeHandlers(this.selectedActivityEntityDefId),this.hasReachedEndOfActivities||this.loadMoreToFillView()}handleError(Ce){this.hasLoadedResultsAtLeastOnce||(this.hasErrorOnInitialLoad=!0),this.isLoading=!1}resetAndGetNewActivities(){this.isLoading||(this.hasErrorOnInitialLoad=!1,this.hasLoadedResultsAtLeastOnce=!1,this.hasReachedEndOfActivities=!1,this.activityDays=[],this.getActivities())}showUpsellDialog(){this.dialogService.showDialog(E.j,{featureSet:"activities"}).then(()=>this.selectedActivityEntityDefId="all")}notifyChangeHandlers(Ce){this.changes&&this.changes.emit(Ce)}loadMoreToFillView(){if(this.platformService.isBrowser()){let Ce=this.getElementHeight(this.activitiesContainer.nativeElement);this.getElementHeight(this.activitiesContent.nativeElement)<Ce&&this.getActivities()}}getElementHeight(Ce){let ye=window.getComputedStyle(Ce),ue=parseFloat(ye.paddingTop)+parseFloat(ye.paddingBottom);return Ce.clientHeight-ue}getActivityEntityDefThemes(){return this.activityEntityDefIds.reduce((Ce,ye)=>{let ue=this.metadataService.getEntityDefTheme(ye);return Ce[ye]=ue?ue.id:"default",Ce},{})}}return $.\u0275fac=function(Ce){return new(Ce||$)(i.Y36(u.u),i.Y36(c.Jt),i.Y36(C.x),i.Y36(_.Do),i.Y36(a.gz),i.Y36(p.$),i.Y36(l.m))},$.\u0275cmp=i.Xpm({type:$,selectors:[["timeline"]],viewQuery:function(Ce,ye){if(1&Ce&&(i.Gf(x,7),i.Gf(R,7)),2&Ce){let ue;i.iGM(ue=i.CRH())&&(ye.activitiesContainer=ue.first),i.iGM(ue=i.CRH())&&(ye.activitiesContent=ue.first)}},inputs:{search:"search",selectedActivityEntityDefId:"selectedActivityEntityDefId"},outputs:{changes:"changes"},ngContentSelectors:w,decls:26,vars:23,consts:function(){let X;return X=$localize`:␟d8b353498b9f476b4fdde225dc11df6d7f247510␟6646560567174435974: There are no matching activities `,[[1,"component--timeline"],[1,"mat-elevation-z2","timeline-header"],[1,"timeline-header-left"],[1,"timeline-header-right"],[1,"timeline-field"],[1,"timeline-selecter",3,"disabled","ngModel","ngModelChange","selectionChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["optionLayout",""],[3,"showLoading","showEmpty"],[4,"ngIf"],[1,"timeline-container"],["scrollNotifier","","regulateExecutionBy","throttle",1,"timeline-activities-container",3,"wait","onScroll"],["activitiesContainer",""],["activitiesContent",""],["class","timeline-activities",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[1,"activity-option"],["size","large","class","activity-icon",3,"themeId",4,"ngIf"],["key","icon_all","size","large","class","activity-icon",4,"ngIf"],["key","icon_pro_square","color","pro","size","large","class","activity-icon",4,"ngIf"],["size","large",1,"activity-icon",3,"themeId"],["key","icon_all","size","large",1,"activity-icon"],["key","icon_pro_square","color","pro","size","large",1,"activity-icon"],X,[1,"timeline-activities"],[1,"timeline-activity"],[1,"activity-date-container"],[1,"activity-border"],[1,"activity-date"],[1,"activity-group-card-container"],[4,"ngFor","ngForOf"],[3,"activityGroup",4,"ngIf"],[3,"activityGroup"]]},template:function(Ce,ye){if(1&Ce&&(i.F$t(U),i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i.Hsn(3),i.qZA(),i.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-select",5),i.NdJ("ngModelChange",function(Me){return ye.selectedActivityEntityDefId=Me})("selectionChange",function(){return ye.changeSelectedActivityEntityDefId()}),i.ALo(7,"translate"),i.TgZ(8,"mat-select-trigger"),i.YNc(9,s,1,0,"ng-container",6),i.qZA(),i.TgZ(10,"mat-option",7),i.YNc(11,h,1,0,"ng-container",6),i.qZA(),i.YNc(12,P,2,6,"mat-option",8),i.YNc(13,G,8,8,"ng-template",null,9,i.W1O),i.qZA()(),i.Hsn(15,1),i.qZA()(),i.TgZ(16,"no-content",10),i.YNc(17,J,3,3,"p",11),i.YNc(18,le,3,3,"p",11),i.YNc(19,V,2,0,"p",11),i.qZA(),i.TgZ(20,"div",12)(21,"div",13,14),i.NdJ("onScroll",function(Me){return ye.showMoreActivities(Me)}),i.TgZ(23,"div",null,15),i.YNc(25,q,11,6,"div",16),i.qZA()()()()),2&Ce){const ue=i.MAs(14);i.xp6(6),i.Q6J("disabled",ye.isLoading)("ngModel",ye.selectedActivityEntityDefId),i.uIk("aria-label",i.lcZ(7,16,"CBL.TIMELINE.SELECT_ACTIVITY_TYPE")),i.xp6(3),i.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",i.WLB(18,K,ye.canUserSelectActivityEntityDefId,ye.selectedActivityEntityDefId)),i.xp6(2),i.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",i.VKq(21,k,ye.canUserSelectActivityEntityDefId)),i.xp6(1),i.Q6J("ngForOf",ye.activityEntityDefIds),i.xp6(4),i.Q6J("showLoading",ye.isLoading)("showEmpty",!ye.isLoading&&(0==ye.activityDays.length&&ye.hasLoadedResultsAtLeastOnce||ye.hasErrorOnInitialLoad)),i.xp6(1),i.Q6J("ngIf",ye.hasErrorOnInitialLoad),i.xp6(1),i.Q6J("ngIf",ye.hasErrorOnInitialLoad),i.xp6(1),i.Q6J("ngIf",ye.hasLoadedResultsAtLeastOnce),i.xp6(2),i.Q6J("wait",300),i.xp6(4),i.Q6J("ngForOf",ye.activityDays)("ngForTrackBy",ye.trackByLastActivityTime)}},directives:[r.KE,o.gD,d.JJ,d.On,o.$L,n.tP,g.ey,n.sg,n.O5,f.p,m.o,v.z,y,S.t],pipes:[A.X,n.gd,n.uU],styles:[".component--activity-row{border-top-style:solid;border-top-width:1px;padding:8px}.component--activity-row .lazyLoadImage{margin-right:8px;max-width:30px;max-height:30px;border:1px solid rgba(0,0,0,.12)}.component--timeline{flex:1;box-sizing:border-box;display:flex!important;flex-direction:column;position:relative}.component--timeline .timeline-header{display:flex!important;flex-direction:row;flex-wrap:wrap;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;flex:0 0 auto;box-sizing:border-box;justify-content:space-between;align-items:center;align-content:center;max-width:100%;padding:4px 8px;z-index:1;background-color:#fff}.component--timeline .timeline-header>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-header-left,.component--timeline .timeline-header-right{display:flex!important;flex-direction:row;flex:1 0 auto;box-sizing:border-box}@media (min-width: 960px){.component--timeline .timeline-header-left,.component--timeline .timeline-header-right{flex:1 1 33.33%;max-width:33.33%;max-height:100%;box-sizing:border-box}}.component--timeline .timeline-header-left{justify-content:flex-start;align-items:center;align-content:center;max-width:100%;order:1}.component--timeline .timeline-header-left>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-header-right{justify-content:flex-end;align-items:center;align-content:center;max-width:100%;order:3}.component--timeline .timeline-header-right>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-header-right .timeline-field{padding-right:16px}.component--timeline .timeline-header-right .timeline-field .timeline-selecter{font-size:14px;font-weight:500;margin-left:8px;margin-right:8px}.component--timeline .timeline-container{flex:1;box-sizing:border-box;position:relative}.component--timeline .timeline-container .timeline-activities-container{position:absolute;top:0;right:0;bottom:0;left:0;padding:20px;overflow-x:hidden;overflow-y:auto}.component--timeline .timeline-container .timeline-activities-container .timeline-activities{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--timeline .timeline-container .timeline-activities-container .timeline-activities>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity{flex:1 1 100%;max-width:100%;max-height:100%;box-sizing:border-box}@media (min-width: 1280px){.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity{flex:1 1 75%;max-width:75%;max-height:100%;box-sizing:border-box}}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-date-container{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-date-container>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-date-container .activity-border{border-color:#0000001f;border-bottom-style:solid;border-bottom-width:1px;flex:1 1 100%;box-sizing:border-box}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-date-container .activity-date{font-weight:500;color:#0000008a;flex:0 0 auto;box-sizing:border-box;padding-right:8px;padding-left:8px}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-group-card-container{padding-top:20px;padding-bottom:20px}.component--timeline no-content{position:absolute;top:50px;left:0;right:0;z-index:1}.component--timeline .cb-image-with-placeholder{margin-right:8px;width:30px;height:30px}.component--timeline .mat-select .mat-select-value-text{font-size:14px}.component--timeline .mat-form-field-wrapper{margin-top:-10px;margin-bottom:-10px}.activity-option{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.activity-option>*{max-width:100%;box-sizing:border-box}.activity-option .activity-icon{flex:0 0 auto;box-sizing:border-box;margin-right:8px}\n"],encapsulation:2}),$})()},76994:(ne,b,t)=>{t.d(b,{K:()=>S});var e=t(92218),i=t(19193),u=t(64139),c=t(47418),C=t(85921),_=t(68338),p=t(14021),E=t(94882),a=t(23580),l=t(20605),r=t(82589),o=t(3184),d=t(49837),n=t(61531),g=t(36362);function f(A,x){if(1&A&&(o.TgZ(0,"div")(1,"span"),o._uU(2),o.qZA()()),2&A){const R=x.$implicit;o.xp6(2),o.Oqu(R)}}function m(A,x){if(1&A&&(o.TgZ(0,"div",4),o.YNc(1,f,3,1,"div",5),o.qZA()),2&A){const R=x.$implicit;o.xp6(1),o.Q6J("ngForOf",R)}}function v(A,x){if(1&A&&(o.ynx(0),o.TgZ(1,"div",2),o.YNc(2,m,2,1,"div",3),o.qZA(),o.BQk()),2&A){const R=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",R.trialMessagesBySubscription)}}function y(A,x){if(1&A&&(o.ynx(0),o.YNc(1,v,3,1,"ng-container",1),o.BQk()),2&A){const R=o.oxw();o.xp6(1),o.Q6J("ngIf",R.showMessage)}}let S=(()=>{class A{constructor(R,s,h,H,K,P){this.requestWarmer=R,this.displayProductsService=s,this.billingService=h,this.labelService=H,this.platformService=K,this.ref=P,this.maintenanceModeBillingFlag=l.TT.MAINTENANCE_MODE_BILLING,this.showMessage=!1,this.trialMessagesBySubscription=[],this.onDestroy$=new e.xQ}ngOnInit(){const R=this.billingService.isInProTrial(),s=this.billingService.isInStarterTrial();this.platformService.isServer()||!R&&!s||this.showTrialMessage()}ngOnDestroy(){this.onDestroy$.next()}showTrialMessage(){(0,i.aj)([this.requestWarmer.getWarmedData(_.y).pipe((0,c.K)(()=>(0,u.of)([]))),this.displayProductsService.getProducts().pipe((0,c.K)(()=>(0,u.of)([])))]).pipe((0,C.R)(this.onDestroy$)).subscribe(([R,s])=>{const h=new Set,H=s.reduce((P,z)=>(z&&(P[z.id]=z),P),{}),K=null==R?void 0:R.map(P=>{var z;const ee=null===(z=null==P?void 0:P.subscription)||void 0===z?void 0:z.id;if(ee&&!h.has(ee))return h.add(ee),P.subscription}).filter(a.K);this.trialMessagesBySubscription=(K||[]).map(P=>P.plans.filter(z=>z.is_trial).map(z=>{var ee;const Z=(null===(ee=H[null==z?void 0:z.product_id])||void 0===ee?void 0:ee.name)||"",G=this.billingService.getHoursLeftInProductTerm(z.term_start,z.term_end),J=G?Math.floor(G/24):0;return J>1?this.labelService.getInterpolatedLabel("CBL.PRO_ONBOARDING.STATUS_MESSAGE.TRIAL_REMAINING.MULTIPLE_DAYS",{daysRemaining:J,productName:Z}):this.labelService.getInterpolatedLabel(1===J?"CBL.PRO_ONBOARDING.STATUS_MESSAGE.TRIAL_REMAINING.ONE_DAY":"CBL.PRO_ONBOARDING.STATUS_MESSAGE.TRIAL_REMAINING.LESS_THAN_ONE_DAY",{productName:Z})})).filter(P=>P.length),this.showMessage=this.trialMessagesBySubscription.length>0,this.ref.markForCheck()})}}return A.\u0275fac=function(R){return new(R||A)(o.Y36(_.q),o.Y36(r.C),o.Y36(p.jM),o.Y36(E.Q),o.Y36(d.m),o.Y36(o.sBO))},A.\u0275cmp=o.Xpm({type:A,selectors:[["trial-status-message"]],decls:1,vars:1,consts:[[4,"ifNotFeatureFlagBoolean"],[4,"ngIf"],[1,"container"],["class","message",4,"ngFor","ngForOf"],[1,"message"],[4,"ngFor","ngForOf"]],template:function(R,s){1&R&&o.YNc(0,y,2,1,"ng-container",0),2&R&&o.Q6J("ifNotFeatureFlagBoolean",s.maintenanceModeBillingFlag)},directives:[n.l,g.O5,g.sg],styles:["trial-status-message{display:block}trial-status-message .container{background-color:#cbddff;border-radius:2px;padding:16px 20px;margin-bottom:8px}trial-status-message .message{border-bottom:1px solid #cbcbcb;padding:8px 0}trial-status-message .message:first-child{padding-top:unset}trial-status-message .message:last-child{border-bottom:none;padding-bottom:unset}\n"],encapsulation:2}),A})()},60557:(ne,b,t)=>{t.d(b,{u:()=>C});var e=t(36362),i=t(35503),u=t(5076),c=t(3184);let C=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({imports:[[e.ez,i.Dt,u.V]]}),_})()},85129:(ne,b,t)=>{t.d(b,{j:()=>e.j});var e=t(99516)},15232:(ne,b,t)=>{t.d(b,{H:()=>S});var e=t(3184),i=t(53967),u=t(43630),c=t(35585),C=t(36362),_=t(87317),p=t(46036),E=t(47367),a=t(53247),l=t(74929);function r(A,x){if(1&A){const R=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(R),e.oxw(2).cancel.emit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&A&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.COMMON.CANCEL")," "))}function o(A,x){1&A&&e.GkF(0)}const d=function(A){return{buttonAttributes:A}};function n(A,x){if(1&A&&(e.TgZ(0,"div",7),e.YNc(1,o,1,0,"ng-container",8),e.qZA()),2&A){const R=e.oxw(2),s=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(2,d,R.primaryButtonAttributes))}}function g(A,x){1&A&&e.GkF(0)}function f(A,x){if(1&A&&(e.TgZ(0,"div",7),e.YNc(1,g,1,0,"ng-container",8),e.qZA()),2&A){const R=e.oxw(2),s=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(2,d,R.secondaryButtonAttributes))}}function m(A,x){if(1&A&&(e.TgZ(0,"div",3),e.YNc(1,r,3,3,"button",4),e.YNc(2,n,2,4,"div",5),e.YNc(3,f,2,4,"div",5),e.qZA()),2&A){const R=e.oxw();e.Q6J("ngClass","template-"+R.templateNumber),e.xp6(1),e.Q6J("ngIf",R.showCancel),e.xp6(1),e.Q6J("ngIf",R.primaryButtonAttributes),e.xp6(1),e.Q6J("ngIf",R.secondaryButtonAttributes)}}function v(A,x){1&A&&(e.TgZ(0,"div",9)(1,"a",10),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&A&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.UPSELL.ALREADY_HAVE_ACCOUNT")," "))}function y(A,x){if(1&A&&(e.TgZ(0,"upsell-link",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A){const R=x.buttonAttributes,s=e.oxw();e.Q6J("bypassProductSelectionFlow",s.bypassProductSelectionFlow)("internalRoutePath",R.linkTo)("internalRouteParams",null==R.navigationExtras?null:R.navigationExtras.queryParams)("featureSet",s.featureSet),e.xp6(1),e.hij(" ",e.lcZ(2,5,"CBL.UPSELL."+R.buttonLabel)," ")}}let S=(()=>{class A{constructor(R,s){this.upsellTemplateService=R,this.store=s,this.showLogin=!1,this.showCancel=!1,this.cancel=new e.vpe,this.isLoggedIn$=this.store.select(u.Ts)}ngOnInit(){let R=this.upsellTemplateService.getUiAttributes(this.featureSet);!R||(this.bypassProductSelectionFlow=this.upsellTemplateService.getUpsellFeatureSetBypassProductSelectFlow(this.featureSet),this.primaryButtonAttributes=R.primaryButtonAttributes,this.secondaryButtonAttributes=R.secondaryButtonAttributes,this.templateNumber=R.templateNumber)}}return A.\u0275fac=function(R){return new(R||A)(e.Y36(i.W),e.Y36(c.yh))},A.\u0275cmp=e.Xpm({type:A,selectors:[["upsell-actions"]],inputs:{featureSet:"featureSet",showLogin:"showLogin",showCancel:"showCancel"},outputs:{cancel:"cancel"},decls:5,vars:4,consts:[["class","layout-row layout-wrap",3,"ngClass",4,"ngIf"],["class","login-wrapper",4,"ngIf"],["buttonLayout",""],[1,"layout-row","layout-wrap",3,"ngClass"],["mat-button","",3,"click",4,"ngIf"],["class","flex-none",4,"ngIf"],["mat-button","",3,"click"],[1,"flex-none"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"login-wrapper"],["cb-link","","href","/login"],["triggerLocation","upsell-actions-reusable",3,"bypassProductSelectionFlow","internalRoutePath","internalRouteParams","featureSet"]],template:function(R,s){1&R&&(e.YNc(0,m,4,4,"div",0),e.YNc(1,v,4,3,"div",1),e.ALo(2,"async"),e.YNc(3,y,3,7,"ng-template",null,2,e.W1O)),2&R&&(e.Q6J("ngIf",s.primaryButtonAttributes||s.secondaryButtonAttributes),e.xp6(1),e.Q6J("ngIf",s.showLogin&&!e.lcZ(2,2,s.isLoggedIn$)))},directives:[C.O5,C.mk,_.lW,C.tP,p.n,E.I,a.I],pipes:[l.X,C.Ov],styles:["upsell-actions{display:block}upsell-actions .template-6{margin:0;width:100%}upsell-actions .template-6 div,upsell-actions .template-6 button{width:100%}upsell-actions .template-2{width:100%}upsell-actions .template-2 div,upsell-actions .template-2 button{margin:0 auto}upsell-actions .login-wrapper{text-align:right;margin-top:8px}\n"],encapsulation:2,changeDetection:0}),A})()},83867:(ne,b,t)=>{t.d(b,{c:()=>be});var e=t(9834),i=t(97010),u=t(98789),c=t(83910),C=t(20605),_=t(3184),p=t(34657),E=t(36362),a=t(29641),l=t(77500);function r(se,Oe){1&se&&_.GkF(0)}function o(se,Oe){1&se&&_.GkF(0)}function d(se,Oe){1&se&&_.GkF(0)}function n(se,Oe){1&se&&_.GkF(0)}function g(se,Oe){if(1&se&&(_.TgZ(0,"div",11),_.YNc(1,r,1,0,"ng-container",12),_.YNc(2,o,1,0,"ng-container",12),_.YNc(3,d,1,0,"ng-container",12),_.YNc(4,n,1,0,"ng-container",12),_.qZA()),2&se){_.oxw();const Re=_.MAs(9),ot=_.MAs(11),Ge=_.MAs(13),pt=_.MAs(15);_.xp6(1),_.Q6J("ngTemplateOutlet",Re),_.xp6(1),_.Q6J("ngTemplateOutlet",ot),_.xp6(1),_.Q6J("ngTemplateOutlet",Ge),_.xp6(1),_.Q6J("ngTemplateOutlet",pt)}}function f(se,Oe){1&se&&_.GkF(0)}function m(se,Oe){1&se&&_.GkF(0)}function v(se,Oe){1&se&&_.GkF(0)}function y(se,Oe){1&se&&_.GkF(0)}function S(se,Oe){if(1&se&&(_.TgZ(0,"div",13),_.YNc(1,f,1,0,"ng-container",12),_.YNc(2,m,1,0,"ng-container",12),_.YNc(3,v,1,0,"ng-container",12),_.YNc(4,y,1,0,"ng-container",12),_.qZA()),2&se){_.oxw();const Re=_.MAs(15),ot=_.MAs(9),Ge=_.MAs(11),pt=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",Re),_.xp6(1),_.Q6J("ngTemplateOutlet",ot),_.xp6(1),_.Q6J("ngTemplateOutlet",Ge),_.xp6(1),_.Q6J("ngTemplateOutlet",pt)}}function A(se,Oe){1&se&&_.GkF(0)}function x(se,Oe){1&se&&_.GkF(0)}function R(se,Oe){1&se&&_.GkF(0)}function s(se,Oe){1&se&&_.GkF(0)}function h(se,Oe){if(1&se&&(_.TgZ(0,"div",14),_.YNc(1,A,1,0,"ng-container",12),_.YNc(2,x,1,0,"ng-container",12),_.YNc(3,R,1,0,"ng-container",12),_.YNc(4,s,1,0,"ng-container",12),_.qZA()),2&se){_.oxw();const Re=_.MAs(15),ot=_.MAs(9),Ge=_.MAs(11),pt=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",Re),_.xp6(1),_.Q6J("ngTemplateOutlet",ot),_.xp6(1),_.Q6J("ngTemplateOutlet",Ge),_.xp6(1),_.Q6J("ngTemplateOutlet",pt)}}function H(se,Oe){1&se&&_.GkF(0)}function K(se,Oe){1&se&&_.GkF(0)}function P(se,Oe){1&se&&_.GkF(0)}function z(se,Oe){1&se&&_.GkF(0)}function ee(se,Oe){if(1&se&&(_.TgZ(0,"div",15),_.YNc(1,H,1,0,"ng-container",12),_.YNc(2,K,1,0,"ng-container",12),_.YNc(3,P,1,0,"ng-container",12),_.YNc(4,z,1,0,"ng-container",12),_.qZA()),2&se){_.oxw();const Re=_.MAs(15),ot=_.MAs(9),Ge=_.MAs(11),pt=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",Re),_.xp6(1),_.Q6J("ngTemplateOutlet",ot),_.xp6(1),_.Q6J("ngTemplateOutlet",Ge),_.xp6(1),_.Q6J("ngTemplateOutlet",pt)}}function Z(se,Oe){1&se&&_.GkF(0)}function G(se,Oe){1&se&&_.GkF(0)}function J(se,Oe){if(1&se&&(_.TgZ(0,"div",16),_.YNc(1,Z,1,0,"ng-container",12),_.YNc(2,G,1,0,"ng-container",12),_.qZA()),2&se){_.oxw();const Re=_.MAs(15),ot=_.MAs(11);_.xp6(1),_.Q6J("ngTemplateOutlet",Re),_.xp6(1),_.Q6J("ngTemplateOutlet",ot)}}function le(se,Oe){1&se&&_.GkF(0)}function V(se,Oe){1&se&&_.GkF(0)}function j(se,Oe){1&se&&_.GkF(0)}function M(se,Oe){if(1&se&&(_.TgZ(0,"div",17),_.YNc(1,le,1,0,"ng-container",12),_.TgZ(2,"div",18)(3,"div",19),_.YNc(4,V,1,0,"ng-container",12),_.qZA(),_.TgZ(5,"div",20),_.YNc(6,j,1,0,"ng-container",12),_.qZA()()()),2&se){_.oxw();const Re=_.MAs(9),ot=_.MAs(15),Ge=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",Re),_.xp6(3),_.Q6J("ngTemplateOutlet",ot),_.xp6(2),_.Q6J("ngTemplateOutlet",Ge)}}function ie(se,Oe){1&se&&_.GkF(0)}function te(se,Oe){1&se&&_.GkF(0)}function re(se,Oe){1&se&&_.GkF(0)}function q(se,Oe){1&se&&_.GkF(0)}function U(se,Oe){if(1&se&&(_.TgZ(0,"div",13),_.YNc(1,ie,1,0,"ng-container",12),_.YNc(2,te,1,0,"ng-container",12),_.YNc(3,re,1,0,"ng-container",12),_.YNc(4,q,1,0,"ng-container",12),_.qZA()),2&se){_.oxw();const Re=_.MAs(15),ot=_.MAs(9),Ge=_.MAs(13),pt=_.MAs(11);_.xp6(1),_.Q6J("ngTemplateOutlet",Re),_.xp6(1),_.Q6J("ngTemplateOutlet",ot),_.xp6(1),_.Q6J("ngTemplateOutlet",Ge),_.xp6(1),_.Q6J("ngTemplateOutlet",pt)}}function k(se,Oe){1&se&&_.GkF(0)}function w(se,Oe){1&se&&_.GkF(0)}function Q(se,Oe){1&se&&_.GkF(0)}function $(se,Oe){1&se&&_.GkF(0)}function X(se,Oe){if(1&se&&(_.TgZ(0,"div",21),_.YNc(1,k,1,0,"ng-container",12),_.YNc(2,w,1,0,"ng-container",12),_.YNc(3,Q,1,0,"ng-container",12),_.YNc(4,$,1,0,"ng-container",12),_.qZA()),2&se){_.oxw();const Re=_.MAs(9),ot=_.MAs(15),Ge=_.MAs(13),pt=_.MAs(11);_.xp6(1),_.Q6J("ngTemplateOutlet",Re),_.xp6(1),_.Q6J("ngTemplateOutlet",ot),_.xp6(1),_.Q6J("ngTemplateOutlet",Ge),_.xp6(1),_.Q6J("ngTemplateOutlet",pt)}}function Ce(se,Oe){if(1&se&&(_.TgZ(0,"h2",23),_._uU(1),_.qZA()),2&se){const Re=_.oxw(2);_.xp6(1),_.Oqu(Re.headline)}}function ye(se,Oe){if(1&se&&_.YNc(0,Ce,2,1,"h2",22),2&se){const Re=_.oxw();_.Q6J("ngIf",Re.headline)}}function ue(se,Oe){if(1&se&&(_.ynx(0),_._uU(1),_.BQk()),2&se){const Re=_.oxw(3);_.xp6(1),_.hij(" ",Re.description," ")}}function Me(se,Oe){if(1&se&&(_.ynx(0),_._UZ(1,"markup-label",27),_.ALo(2,"uppercase"),_.BQk()),2&se){const Re=_.oxw(3);_.xp6(1),_.Q6J("key","CBL.UPSELL."+_.lcZ(2,2,Re.featureSet)+".DETAILS")("values",Re.descriptionValues)}}function me(se,Oe){if(1&se&&(_.TgZ(0,"div",25),_.YNc(1,ue,2,1,"ng-container",26),_.YNc(2,Me,3,4,"ng-container",26),_.qZA()),2&se){const Re=_.oxw(2);_.xp6(1),_.Q6J("ngIf",!Re.descriptionValues),_.xp6(1),_.Q6J("ngIf",Re.descriptionValues)}}function ve(se,Oe){if(1&se&&_.YNc(0,me,3,2,"div",24),2&se){const Re=_.oxw();_.Q6J("ngIf",Re.description)}}function ze(se,Oe){if(1&se&&(_.TgZ(0,"li"),_._uU(1),_.qZA()),2&se){const Re=Oe.$implicit;_.xp6(1),_.hij(" ",Re," ")}}function tt(se,Oe){if(1&se&&(_.TgZ(0,"ul",29),_.YNc(1,ze,2,1,"li",30),_.qZA()),2&se){const Re=_.oxw(2);_.xp6(1),_.Q6J("ngForOf",Re.featureList)}}function ht(se,Oe){if(1&se&&_.YNc(0,tt,2,1,"ul",28),2&se){const Re=_.oxw();_.Q6J("ngIf",Re.featureList&&Re.featureList.length)}}function xe(se,Oe){if(1&se&&(_.TgZ(0,"div",32),_._UZ(1,"cb-image",33),_.qZA()),2&se){const Re=_.oxw(2);_.xp6(1),_.Q6J("publicId","publicId"===Re.imageType?Re.imageId:"")("resource","resource"===Re.imageType?Re.imageId:"")("original",Re.isSvgImage)("width",600)("height",600)("alt","")}}function Ne(se,Oe){if(1&se&&_.YNc(0,xe,2,6,"div",31),2&se){const Re=_.oxw();_.Q6J("ngIf",Re.imageId)}}let be=(()=>{class se{constructor(Re,ot,Ge,pt,We,Ze,De){this.analyticsService=Re,this.elementRef=ot,this.upsellTemplateService=Ge,this.changeDetectorRef=pt,this.viewportService=We,this.usageEventsService=Ze,this.featureService=De,this.showDetails=!1,this.isDialog=!1,this.featureList=[],this.imageType="publicId",this.imageId=i.Wh.promo}ngOnInit(){this.headline=this.upsellTemplateService.getHeadlineText(this.featureSet,this.context),this.upsellTemplateService.getBodyText(this.featureSet,this.context).then(Re=>this.setFeatureList(Re)),this.configure()}configure(){let Re=this.upsellTemplateService.getUiAttributes(this.featureSet);!Re||(this.templateNumber=Re.templateNumber,this.imageId=Re.publicImageId,this.imageType=Re.imageType,this.isSvgImage=!!Re.isSvgImage,this.showDetails&&(this.description=this.upsellTemplateService.getDetailsText(this.featureSet,this.context),this.descriptionValues=Re.descriptionValues),this.trackView(Re))}setFeatureList(Re){this.featureList=Re,this.changeDetectorRef.markForCheck()}trackView(Re){const ot=Re.eventLogAttributes;this.isDialog?(this.analyticsService.trackInHeap("upsell-modal",{feature:this.featureSet}),this.usageEventsService.logUsageEvent("modal",Object.assign({modal_name:"upsell-modal",upsell_feature:this.featureSet},ot))):this.viewportService.notifyInViewport(this.elementRef.nativeElement,{rootMargin:"0px 0px 0px 0px",threshold:[.5]}).pipe((0,c.q)(1)).subscribe(()=>{this.analyticsService.trackInHeap("upsell-inpage",{feature:this.featureSet})})}}return se.\u0275fac=function(Re){return new(Re||se)(_.Y36(u.y),_.Y36(_.SBq),_.Y36(e.WG),_.Y36(_.sBO),_.Y36(p.v),_.Y36(u.N),_.Y36(C.Bz))},se.\u0275cmp=_.Xpm({type:se,selectors:[["upsell-content"]],inputs:{featureSet:"featureSet",showDetails:"showDetails",isDialog:"isDialog",context:"context"},decls:16,vars:8,consts:[["class","template-1 cb-padding-xxlarge-horizontal cb-margin-large-horizontal",4,"ngIf"],["class","template-2 cb-padding-xxlarge-horizontal cb-margin-large-horizontal",4,"ngIf"],["class","template-3 cb-padding-xxlarge-top cb-padding-xxlarge-horizontal cb-clearfix",4,"ngIf"],["class","template-4 cb-clearfix",4,"ngIf"],["class","template-5 cb-clearfix",4,"ngIf"],["class","template-6 cb-clearfix",4,"ngIf"],["class","template-9",4,"ngIf"],["headlineTemplate",""],["descriptionTemplate",""],["featureListTemplate",""],["imageTemplate",""],[1,"template-1","cb-padding-xxlarge-horizontal","cb-margin-large-horizontal"],[4,"ngTemplateOutlet"],[1,"template-2","cb-padding-xxlarge-horizontal","cb-margin-large-horizontal"],[1,"template-3","cb-padding-xxlarge-top","cb-padding-xxlarge-horizontal","cb-clearfix"],[1,"template-4","cb-clearfix"],[1,"template-5","cb-clearfix"],[1,"template-6","cb-clearfix"],[1,"content","cb-width-100","layout-row","layout-wrap","layout-align-center-center","layout-gt-md-row-reverse","layout-align-gt-md-end-center"],[1,"flex-none","flex-gt-md-25"],[1,"flex-100","flex-gt-md-75"],[1,"template-9"],["class","headline",4,"ngIf"],[1,"headline"],["class","description",4,"ngIf"],[1,"description"],[4,"ngIf"],[3,"key","values"],["class","feature-list",4,"ngIf"],[1,"feature-list"],[4,"ngFor","ngForOf"],["class","promo-image-container",4,"ngIf"],[1,"promo-image-container"],["crop","limit",1,"cb-display-inline-block",3,"publicId","resource","original","width","height","alt"]],template:function(Re,ot){1&Re&&(_.YNc(0,g,5,4,"div",0),_.YNc(1,S,5,4,"div",1),_.YNc(2,h,5,4,"div",2),_.YNc(3,ee,5,4,"div",3),_.YNc(4,J,3,2,"div",4),_.YNc(5,M,7,3,"div",5),_.YNc(6,U,5,4,"div",1),_.YNc(7,X,5,4,"div",6),_.YNc(8,ye,1,1,"ng-template",null,7,_.W1O),_.YNc(10,ve,1,1,"ng-template",null,8,_.W1O),_.YNc(12,ht,1,1,"ng-template",null,9,_.W1O),_.YNc(14,Ne,1,1,"ng-template",null,10,_.W1O)),2&Re&&(_.Q6J("ngIf",1===ot.templateNumber),_.xp6(1),_.Q6J("ngIf",2===ot.templateNumber),_.xp6(1),_.Q6J("ngIf",3===ot.templateNumber),_.xp6(1),_.Q6J("ngIf",4===ot.templateNumber),_.xp6(1),_.Q6J("ngIf",5===ot.templateNumber),_.xp6(1),_.Q6J("ngIf",6===ot.templateNumber),_.xp6(1),_.Q6J("ngIf",8===ot.templateNumber),_.xp6(1),_.Q6J("ngIf",9===ot.templateNumber))},directives:[E.O5,E.tP,a.x,E.sg,l.q],pipes:[E.gd],styles:["upsell-content{display:block}upsell-content .headline{font-weight:300;font-size:20px}upsell-content .feature-list li{list-style-type:disc;margin:8px 0}upsell-content .feature-list li:last-child{margin-bottom:0}upsell-content .promo-image-container img{max-width:200px}upsell-content .template-1 .headline,upsell-content .template-1 .promo-image-container,upsell-content .template-2 .headline,upsell-content .template-2 .promo-image-container,upsell-content .template-9 .headline,upsell-content .template-9 .promo-image-container{text-align:center}upsell-content .template-1 .headline,upsell-content .template-1 .description,upsell-content .template-1 .feature-list,upsell-content .template-1 .promo-image-container{margin-bottom:16px}upsell-content .template-1 .headline:last-child,upsell-content .template-1 .description:last-child,upsell-content .template-1 .feature-list:last-child,upsell-content .template-1 .promo-image-container:last-child{margin-bottom:0}upsell-content .template-2 .headline,upsell-content .template-2 .description,upsell-content .template-2 .feature-list,upsell-content .template-2 .promo-image-container{margin-bottom:16px}upsell-content .template-2 .headline:last-child,upsell-content .template-2 .description:last-child,upsell-content .template-2 .feature-list:last-child,upsell-content .template-2 .promo-image-container:last-child{margin-bottom:20px}upsell-content .template-3{font-size:16px;max-width:calc(100vw - 64px)}upsell-content .template-3 .headline,upsell-content .template-3 .description,upsell-content .template-3 .feature-list{margin-bottom:16px}upsell-content .template-3 .headline{font-size:30px}upsell-content .template-3 .feature-list{margin-left:16px}upsell-content .template-3 .promo-image-container{float:right;margin-left:20px;margin-bottom:8px}upsell-content .template-3 .promo-image-container img{max-width:30vw}upsell-content .template-4 .headline,upsell-content .template-4 .description,upsell-content .template-4 .feature-list{margin-bottom:8px}upsell-content .template-4 .feature-list{margin-right:16px}upsell-content .template-4 .promo-image-container{float:left;margin-right:16px;margin-bottom:8px}upsell-content .template-4 .promo-image-container img{max-width:100px}upsell-content .template-5 .promo-image-container{float:left;margin-right:8px;line-height:0px}upsell-content .template-5 .promo-image-container img{max-height:20px}upsell-content .template-6 .headline{width:100%;font-size:36px;line-height:39px;font-weight:700;margin-bottom:8px}upsell-content .template-6 .feature-list{font-weight:500;font-size:18px;margin:0 20px}upsell-content .template-6 .promo-image-container cb-image,upsell-content .template-6 .promo-image-container img{max-width:200px}upsell-content .template-9{margin:0 24px}upsell-content .template-9>*{margin:16px 0}upsell-content .template-9 .promo-image-container img{max-width:100%}@media (min-width: 960px){upsell-content .template-3{max-width:1000px}}@media (min-width: 1280px){upsell-content .template-6 .promo-image-container cb-image,upsell-content .template-6 .promo-image-container img{max-width:100%}}\n"],encapsulation:2,changeDetection:0}),se})()},99516:(ne,b,t)=>{t.d(b,{j:()=>o});var e=t(843),i=t(92218),u=t(16276),c=t(85921),C=t(2384),_=t(9834),p=t(3184),E=t(95758);function a(d,n){if(1&d&&p._UZ(0,"cb-image",9),2&d){const g=p.oxw();p.Q6J("publicId",g.headerImageId)("width",143)("height",20)("alt","")}}function l(d,n){if(1&d){const g=p.EpF();p.TgZ(0,"button",10),p.NdJ("click",function(){return p.CHM(g),p.oxw().close()}),p.ALo(1,"translate"),p._UZ(2,"icon",11),p.qZA()}2&d&&p.uIk("aria-label",p.lcZ(1,1,"CBL.COMMON.CLOSE"))}function r(d,n){if(1&d){const g=p.EpF();p.TgZ(0,"div",12)(1,"upsell-actions",13),p.NdJ("cancel",function(){return p.CHM(g),p.oxw().close()}),p.qZA()()}if(2&d){const g=p.oxw();p.xp6(1),p.Q6J("featureSet",g.featureSet)("showLogin",g.showLogin)("showCancel",g.showCancel),p.uIk("featureset",g.featureSet)}}let o=(()=>{class d extends C.V{constructor(g,f,m){super(),this.dialogRef=g,this.upsellTemplateService=f,this.permissionService=m,this.onDestroy$=new i.xQ}ngOnInit(){this.featureSet=this.payload.featureSet,this.showDetails=!!this.payload.showDetails,this.showLogin=!!this.payload.showLogin,this.showCancel=!!this.payload.showCancel,this.context=this.payload.context;let g=this.upsellTemplateService.getUiAttributes(this.featureSet);!g||(this.templateNumber=g.templateNumber,this.headerImageId=g.featureGroupImageId,this.permissionService.getPermissions().pipe((0,u.T)(1),(0,c.R)(this.onDestroy$)).subscribe(()=>{this.close()}))}ngOnDestroy(){this.onDestroy$.next()}close(){this.dialogRef&&this.dialogRef.close()}}return d.\u0275fac=function(g){return new(g||d)(p.Y36(E.so),p.Y36(_.WG),p.Y36(e.$))},d.\u0275cmp=p.Xpm({type:d,selectors:[["upsell-dialog"]],features:[p.qOj],decls:9,vars:11,consts:[[1,"component--upsell-dialog",3,"ngClass"],[3,"fullBleed","showHeader"],["dialog-content",""],[1,"layout-row","layout-align-space-between-center"],[1,"flex-none","cb-padding-small","cb-padding-medium-left","cb-padding-medium-top","header-image-container"],[3,"publicId","width","height","alt",4,"ngIf"],["class","flex-none","mat-icon-button","","type","button",3,"click",4,"ngIf"],[3,"featureSet","showDetails","isDialog","context"],["dialog-actions","","class","actions",4,"ngIf"],[3,"publicId","width","height","alt"],["mat-icon-button","","type","button",1,"flex-none",3,"click"],["key","icon_close"],["dialog-actions","",1,"actions"],[1,"flex-none",3,"featureSet","showLogin","showCancel","cancel"]],template:function(g,f){1&g&&(p.TgZ(0,"div",0)(1,"dialog-layout",1)(2,"div",2)(3,"div",3)(4,"div",4),p.YNc(5,a,1,4,"cb-image",5),p.qZA(),p.YNc(6,l,3,3,"button",6),p.qZA(),p._UZ(7,"upsell-content",7),p.qZA(),p.YNc(8,r,2,4,"div",8),p.qZA()()),2&g&&(p.Q6J("ngClass","template-"+f.templateNumber),p.xp6(1),p.Q6J("fullBleed",!0)("showHeader",!1),p.xp6(4),p.Q6J("ngIf",f.headerImageId),p.xp6(1),p.Q6J("ngIf",!f.dialogRef.disableClose),p.xp6(1),p.Q6J("featureSet",f.featureSet)("showDetails",f.showDetails)("isDialog",!0)("context",f.context),p.uIk("featureset",f.featureSet),p.xp6(1),p.Q6J("ngIf",7!==f.templateNumber))},styles:[".component--upsell-dialog{max-width:550px}.component--upsell-dialog .header-image-container{display:inline-block}.component--upsell-dialog .header-image-container img{max-height:20px}.component--upsell-dialog .actions{padding-top:8px;padding-bottom:8px;box-sizing:border-box;display:flex!important;flex-direction:row}.component--upsell-dialog div[dialog-actions]{margin-left:32px;margin-right:32px}.component--upsell-dialog mat-dialog-actions{justify-content:center!important;max-width:100%;box-sizing:border-box;align-items:center;align-content:center}\n"],encapsulation:2}),d})()},53247:(ne,b,t)=>{t.d(b,{I:()=>le});var e=t(98789),i=t(13170),u=t(3184),c=t(36362),C=t(46036),_=t(87317),p=t(45857),E=t(74160);function a(V,j){1&V&&u.GkF(0)}function l(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",6),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,a,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("routerLink",M.selectProductPagePath),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function r(V,j){1&V&&u.GkF(0)}function o(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",8),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,r,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("routerLink",M.selectProductPagePath),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function d(V,j){1&V&&u.GkF(0)}function n(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",9),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,d,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("routerLink",M.selectProductPagePath),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function g(V,j){if(1&V&&(u.ynx(0),u.YNc(1,l,2,2,"a",3),u.YNc(2,o,2,2,"a",4),u.YNc(3,n,2,2,"a",5),u.BQk()),2&V){const M=u.oxw();u.xp6(1),u.Q6J("ngIf","raised"===M.buttonType),u.xp6(1),u.Q6J("ngIf","stroked"===M.buttonType),u.xp6(1),u.Q6J("ngIf","basic"===M.buttonType)}}function f(V,j){1&V&&u.GkF(0)}function m(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",13),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,f,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("href",M.externalUrl,u.LSH),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function v(V,j){1&V&&u.GkF(0)}function y(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",14),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,v,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("href",M.externalUrl,u.LSH),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function S(V,j){1&V&&u.GkF(0)}function A(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",15),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,S,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("href",M.externalUrl,u.LSH),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function x(V,j){if(1&V&&(u.ynx(0),u.YNc(1,m,2,2,"a",10),u.YNc(2,y,2,2,"a",11),u.YNc(3,A,2,2,"a",12),u.BQk()),2&V){const M=u.oxw();u.xp6(1),u.Q6J("ngIf","raised"===M.buttonType),u.xp6(1),u.Q6J("ngIf","stroked"===M.buttonType),u.xp6(1),u.Q6J("ngIf","basic"===M.buttonType)}}function R(V,j){1&V&&u.GkF(0)}function s(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",19),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,R,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("routerLink",M.internalRoutePath)("queryParams",M.internalRouteParams),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function h(V,j){1&V&&u.GkF(0)}function H(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",20),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,h,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("routerLink",M.internalRoutePath)("queryParams",M.internalRouteParams),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function K(V,j){1&V&&u.GkF(0)}function P(V,j){if(1&V){const M=u.EpF();u.TgZ(0,"a",21),u.NdJ("click",function(){return u.CHM(M),u.oxw(2).sendUpsellLinkUsageEvent()}),u.YNc(1,K,1,0,"ng-container",7),u.qZA()}if(2&V){const M=u.oxw(2),ie=u.MAs(5);u.Q6J("routerLink",M.internalRoutePath)("queryParams",M.internalRouteParams),u.xp6(1),u.Q6J("ngTemplateOutlet",ie)}}function z(V,j){if(1&V&&(u.ynx(0),u.YNc(1,s,2,3,"a",16),u.YNc(2,H,2,3,"a",17),u.YNc(3,P,2,3,"a",18),u.BQk()),2&V){const M=u.oxw();u.xp6(1),u.Q6J("ngIf","raised"===M.buttonType),u.xp6(1),u.Q6J("ngIf","stroked"===M.buttonType),u.xp6(1),u.Q6J("ngIf","basic"===M.buttonType)}}function ee(V,j){if(1&V&&(u.TgZ(0,"label-with-icon",22),u.Hsn(1),u.qZA()),2&V){const M=u.oxw();u.Q6J("iconColor","raised"===M.buttonType?"inherit":"pro-gold")}}const Z=["*"];var G=(()=>{return(V=G||(G={}))[V.InternalPage=0]="InternalPage",V[V.ExternalPage=1]="ExternalPage",V[V.ProductSelectionPage=2]="ProductSelectionPage",G;var V})();const J=["/buy",i.A];let le=(()=>{class V{constructor(M){this.usageEventService=M,this.selectProductPagePath=J,this.UpsellLinkTypesEnum=G,this.buttonType="raised",this.bypassProductSelectionFlow=!1}ngOnInit(){this.setUpsellLinkType()}sendUpsellLinkUsageEvent(){const M=this.getLandingPageAttribute();this.usageEventService.logUsageEvent("upsell_link",Object.assign(Object.assign(Object.assign({},M&&{landing_page:M}),this.featureSet&&{upsell_feature:this.featureSet}),this.triggerLocation&&{trigger_location:this.triggerLocation}))}setUpsellLinkType(){this.upsellLinkType=this.bypassProductSelectionFlow?G.InternalPage:this.externalUrl?G.ExternalPage:G.ProductSelectionPage}getLandingPageAttribute(){var M;switch(this.upsellLinkType){case G.ProductSelectionPage:return this.selectProductPagePath.join("/");case G.ExternalPage:return this.externalUrl;case G.InternalPage:return null===(M=this.internalRoutePath)||void 0===M?void 0:M.join("/");default:return}}}return V.\u0275fac=function(M){return new(M||V)(u.Y36(e.N))},V.\u0275cmp=u.Xpm({type:V,selectors:[["upsell-link"]],inputs:{buttonType:"buttonType",triggerLocation:"triggerLocation",featureSet:"featureSet",internalRoutePath:"internalRoutePath",internalRouteParams:"internalRouteParams",externalUrl:"externalUrl",bypassProductSelectionFlow:"bypassProductSelectionFlow"},ngContentSelectors:Z,decls:6,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["iconAndText",""],["mat-raised-button","",3,"routerLink","click",4,"ngIf"],["mat-stroked-button","",3,"routerLink","click",4,"ngIf"],["mat-button","",3,"routerLink","click",4,"ngIf"],["mat-raised-button","",3,"routerLink","click"],[4,"ngTemplateOutlet"],["mat-stroked-button","",3,"routerLink","click"],["mat-button","",3,"routerLink","click"],["mat-raised-button","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-stroked-button","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-button","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-raised-button","","rel","noopener","target","_blank",3,"href","click"],["mat-stroked-button","","rel","noopener","target","_blank",3,"href","click"],["mat-button","","rel","noopener","target","_blank",3,"href","click"],["mat-raised-button","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-stroked-button","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-button","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-raised-button","",3,"routerLink","queryParams","click"],["mat-stroked-button","",3,"routerLink","queryParams","click"],["mat-button","",3,"routerLink","queryParams","click"],["iconKey","icon_pro_lightning",3,"iconColor"]],template:function(M,ie){1&M&&(u.F$t(),u.ynx(0,0),u.YNc(1,g,4,3,"ng-container",1),u.YNc(2,x,4,3,"ng-container",1),u.YNc(3,z,4,3,"ng-container",1),u.BQk(),u.YNc(4,ee,2,1,"ng-template",null,2,u.W1O)),2&M&&(u.Q6J("ngSwitch",ie.upsellLinkType),u.xp6(1),u.Q6J("ngSwitchCase",ie.UpsellLinkTypesEnum.ProductSelectionPage),u.xp6(1),u.Q6J("ngSwitchCase",ie.UpsellLinkTypesEnum.ExternalPage),u.xp6(1),u.Q6J("ngSwitchCase",ie.UpsellLinkTypesEnum.InternalPage))},directives:[c.RF,c.n9,c.O5,C.n,_.zs,p.yS,c.tP,E.d],styles:["a.mat-raised-button[_ngcontent-%COMP%]{background-color:#f5a623}a.mat-stroked-button[_ngcontent-%COMP%]{border-color:#f5a623}a.mat-stroked-button[_ngcontent-%COMP%]:hover, a.mat-stroked-button[_ngcontent-%COMP%]:focus{background-color:#fef4e5}a.mat-button[_ngcontent-%COMP%]{background-color:transparent}a.mat-button[_ngcontent-%COMP%]:hover{background-color:#fef4e5}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{visibility:hidden}.mat-menu-content[_nghost-%COMP%]   button[_ngcontent-%COMP%], .mat-menu-content   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),V})()},43652:(ne,b,t)=>{t.d(b,{J:()=>m});var e=t(20605),i=t(3184),u=t(61531),c=t(36362),C=t(87317),_=t(22972),p=t(74160);function E(v,y){1&v&&i.GkF(0)}function a(v,y){if(1&v&&(i.TgZ(0,"button",5),i.YNc(1,E,1,0,"ng-container",6),i.qZA()),2&v){const S=i.oxw(2),A=i.MAs(2);i.Q6J("upsellTrigger",S.featureSet)("upsellTriggerLocation",S.triggerLocation)("upsellShowDetails",S.showDetails)("upsellShowLogin",S.showLogin)("upsellShowCancel",S.showCancel)("upsellContext",S.context),i.xp6(1),i.Q6J("ngTemplateOutlet",A)}}function l(v,y){1&v&&i.GkF(0)}function r(v,y){if(1&v&&(i.TgZ(0,"button",7),i.YNc(1,l,1,0,"ng-container",6),i.qZA()),2&v){const S=i.oxw(2),A=i.MAs(2);i.Q6J("upsellTrigger",S.featureSet)("upsellTriggerLocation",S.triggerLocation)("upsellShowDetails",S.showDetails)("upsellShowLogin",S.showLogin)("upsellShowCancel",S.showCancel)("upsellContext",S.context),i.xp6(1),i.Q6J("ngTemplateOutlet",A)}}function o(v,y){1&v&&i.GkF(0)}function d(v,y){if(1&v&&(i.TgZ(0,"button",8),i.YNc(1,o,1,0,"ng-container",6),i.qZA()),2&v){const S=i.oxw(2),A=i.MAs(2);i.Q6J("upsellTrigger",S.featureSet)("upsellTriggerLocation",S.triggerLocation)("upsellShowDetails",S.showDetails)("upsellShowLogin",S.showLogin)("upsellShowCancel",S.showCancel)("upsellContext",S.context),i.xp6(1),i.Q6J("ngTemplateOutlet",A)}}function n(v,y){if(1&v&&(i.ynx(0),i.YNc(1,a,2,7,"button",2),i.YNc(2,r,2,7,"button",3),i.YNc(3,d,2,7,"button",4),i.BQk()),2&v){const S=i.oxw();i.xp6(1),i.Q6J("ngIf","raised"===S.buttonType),i.xp6(1),i.Q6J("ngIf","stroked"===S.buttonType),i.xp6(1),i.Q6J("ngIf","basic"===S.buttonType)}}function g(v,y){if(1&v&&(i.TgZ(0,"label-with-icon",9),i.Hsn(1),i.qZA()),2&v){const S=i.oxw();i.Q6J("iconColor","raised"===S.buttonType?"inherit":"pro-gold")}}const f=["*"];let m=(()=>{class v{constructor(){this.maintenanceModeBillingFlag=e.TT.MAINTENANCE_MODE_BILLING,this.buttonType="raised",this.showLogin=!1,this.showCancel=!1}}return v.\u0275fac=function(S){return new(S||v)},v.\u0275cmp=i.Xpm({type:v,selectors:[["upsell-modal-button"]],inputs:{buttonType:"buttonType",featureSet:"featureSet",context:"context",triggerLocation:"triggerLocation",showDetails:"showDetails",showLogin:"showLogin",showCancel:"showCancel"},ngContentSelectors:f,decls:3,vars:1,consts:[[4,"ifNotFeatureFlagBoolean"],["iconAndText",""],["mat-raised-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext",4,"ngIf"],["mat-stroked-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext",4,"ngIf"],["mat-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext",4,"ngIf"],["mat-raised-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext"],[4,"ngTemplateOutlet"],["mat-stroked-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext"],["mat-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext"],["iconKey","icon_pro_lightning",3,"iconColor"]],template:function(S,A){1&S&&(i.F$t(),i.YNc(0,n,4,3,"ng-container",0),i.YNc(1,g,2,1,"ng-template",null,1,i.W1O)),2&S&&i.Q6J("ifNotFeatureFlagBoolean",A.maintenanceModeBillingFlag)},directives:[u.l,c.O5,C.lW,_.k,c.tP,p.d],styles:["button.mat-raised-button[_ngcontent-%COMP%]{background-color:#f5a623}button.mat-stroked-button[_ngcontent-%COMP%]{border-color:#f5a623}button.mat-stroked-button[_ngcontent-%COMP%]:hover, button.mat-stroked-button[_ngcontent-%COMP%]:focus{background-color:#fef4e5}button.mat-button[_ngcontent-%COMP%]{background-color:transparent}button.mat-button[_ngcontent-%COMP%]:hover{background-color:#fef4e5}.entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{visibility:hidden}.mat-menu-content[_nghost-%COMP%]   button[_ngcontent-%COMP%], .mat-menu-content   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),v})()},83e3:(ne,b,t)=>{t.d(b,{S:()=>s});var e=t(36362),i=t(90898),u=t(45857),c=t(35503),C=t(83867),_=t(99516),p=t(89250),E=t(15232),a=t(32519),l=t(31156),r=t(40337),o=t(75337),d=t(4079),n=t(32313),g=t(5076),f=t(68453),m=t(19366),v=t(3184),y=t(73729),S=t(77500),A=t(87317),x=t(32478),R=t(74929);let s=(()=>{class h{}return h.\u0275fac=function(K){return new(K||h)},h.\u0275mod=v.oAB({type:h}),h.\u0275inj=v.cJS({imports:[[e.ez,c.Dt,u.Bz,i.q,a.n,l.H,o.G,d.h,r.r,p.S,n.H,g.V,f.N,m.L]]}),h})();v.B6R(_.j,[e.mk,y.I,e.O5,S.q,A.lW,x.o,C.c,E.H],[R.X])},36062:(ne,b,t)=>{t.d(b,{l:()=>l});var e=t(28965),i=t(94736),u=t(3184);const c=["#C73636","#FFD452","#5BC0DE","#36C78F","#146AFF"];let C=(()=>{class r{constructor(d){this.stringUtil=d}chooseColor(d){if(d){const n=this.stringUtil.hashCode(d),f=new e.k(n).intInRange(0,4,!0);return c[f]}return c[4]}getInitials(d){if(d){const n=d.split(" ");return n.splice(1,n.length-2),n.map(g=>g.substr(0,1)).join("").toUpperCase()}return"CB"}}return r.\u0275fac=function(d){return new(d||r)(u.LFG(i.m))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var _=t(36362),p=t(77500);function E(r,o){if(1&r&&(u.TgZ(0,"div",2),u._uU(1),u.qZA()),2&r){const d=u.oxw();u.Udp("background-color",d.userColor)("font-size",d.initialsSize),u.xp6(1),u.hij(" ",d.initials," ")}}function a(r,o){if(1&r&&u._UZ(0,"cb-image",3),2&r){const d=u.oxw();u.Q6J("publicId",d.imageId)("width",70)("height",70)}}let l=(()=>{class r{constructor(d){this.userAvatarService=d,this.size=70}ngOnChanges(){if(this.userOrTeamMember)if(this.isTeamMemberModel(this.userOrTeamMember)){const d=this.userOrTeamMember;this.name=d.user_name,this.id=d.user_id,this.imageId=d.user_image_id}else{const d=this.userOrTeamMember;this.name=`${d.first_name} ${d.last_name}`,this.id=d.id,this.imageId=d.image_id}this.userColor=this.userAvatarService.chooseColor(this.id),this.initials=this.userAvatarService.getInitials(this.name),this.initialsSize=`${Math.floor(.5*this.size)}px`}isTeamMemberModel(d){return!!d.user_id}}return r.\u0275fac=function(d){return new(d||r)(u.Y36(C))},r.\u0275cmp=u.Xpm({type:r,selectors:[["user-image"]],hostVars:4,hostBindings:function(d,n){2&d&&u.Udp("width",n.size,"px")("height",n.size,"px")},inputs:{size:"size",userOrTeamMember:"userOrTeamMember"},features:[u.TTD],decls:3,vars:2,consts:[["class","user-initials",3,"background-color","font-size",4,"ngIf"],["class","cb-line-height-none flex-none","crop","thumb","radius","max","format","png",3,"publicId","width","height",4,"ngIf"],[1,"user-initials"],["crop","thumb","radius","max","format","png",1,"cb-line-height-none","flex-none",3,"publicId","width","height"]],template:function(d,n){1&d&&(u.TgZ(0,"div"),u.YNc(1,E,2,5,"div",0),u.YNc(2,a,1,3,"cb-image",1),u.qZA()),2&d&&(u.xp6(1),u.Q6J("ngIf",!n.imageId),u.xp6(1),u.Q6J("ngIf",n.imageId))},directives:[_.O5,p.q],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}cb-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.user-initials[_ngcontent-%COMP%]{font-weight:700;display:flex;height:100%;width:100%;color:#fff;justify-content:center;align-items:center;border-radius:50%}"],changeDetection:0}),r})()},74274:(ne,b,t)=>{t.d(b,{e:()=>C});var e=t(36362),i=t(32519),u=t(31156),c=t(3184);let C=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({imports:[[e.ez,i.n,u.H]]}),_})()},44822:(ne,b,t)=>{t.d(b,{l:()=>g});var e=t(3184),i=t(36362),u=t(32478),c=t(74742),C=t(87317);function _(f,m){if(1&f&&e._UZ(0,"icon",6),2&f){const v=e.oxw(2);e.Q6J("key",v.iconKey)}}function p(f,m){1&f&&(e.TgZ(0,"span",7),e._UZ(1,"mat-spinner",8),e.qZA())}const E=function(f){return{"hide show-gt-sm":f}};function a(f,m){if(1&f&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&f){const v=e.oxw(2);e.Q6J("ngClass",e.VKq(2,E,v.hideLabelOnMobile)),e.xp6(1),e.hij(" ",v.label," ")}}function l(f,m){if(1&f&&(e.YNc(0,_,1,1,"icon",3),e.YNc(1,p,2,0,"span",4),e.YNc(2,a,2,4,"span",5)),2&f){const v=e.oxw();e.Q6J("ngIf",!v.isLoading&&v.iconKey),e.xp6(1),e.Q6J("ngIf",v.isLoading),e.xp6(1),e.Q6J("ngIf",!v.hideLabelWhileLoading||v.hideLabelWhileLoading&&!v.isLoading)}}function r(f,m){1&f&&e.GkF(0)}function o(f,m){if(1&f){const v=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){return e.CHM(v),e.oxw().handleClick()}),e.YNc(1,r,1,0,"ng-container",11),e.qZA()}if(2&f){const v=e.oxw(),y=e.MAs(1);e.Q6J("disabled",v.isDisabled)("color",v.color)("type",v.type),e.uIk("aria-label",v.label),e.xp6(1),e.Q6J("ngTemplateOutlet",y)}}function d(f,m){1&f&&e.GkF(0)}function n(f,m){if(1&f){const v=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(v),e.oxw().handleClick()}),e.YNc(1,d,1,0,"ng-container",11),e.qZA()}if(2&f){const v=e.oxw(),y=e.MAs(1);e.Q6J("disabled",v.isDisabled)("color",v.color)("type",v.type),e.uIk("aria-label",v.label),e.xp6(1),e.Q6J("ngTemplateOutlet",y)}}let g=(()=>{class f{constructor(){this.color="primary",this.raisedButton=!1,this.hideLabelOnMobile=!0,this.isDisabled=!1,this.isLoading=!1,this.hideLabelWhileLoading=!1,this.type="button",this.onClick=new e.vpe}handleClick(){this.onClick&&this.onClick.emit()}}return f.\u0275fac=function(v){return new(v||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["progress-button"]],inputs:{color:"color",label:"label",iconKey:"iconKey",raisedButton:"raisedButton",hideLabelOnMobile:"hideLabelOnMobile",isDisabled:"isDisabled",isLoading:"isLoading",hideLabelWhileLoading:"hideLabelWhileLoading",type:"type"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[["buttonContents",""],["mat-button","","class","cb-text-transform-upper",3,"disabled","color","type","click",4,"ngIf"],["mat-raised-button","","class","cb-text-transform-upper",3,"disabled","color","type","click",4,"ngIf"],["color","inherit",3,"key",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[3,"ngClass",4,"ngIf"],["color","inherit",3,"key"],[1,"loading-spinner"],["diameter","18"],[3,"ngClass"],["mat-button","",1,"cb-text-transform-upper",3,"disabled","color","type","click"],[4,"ngTemplateOutlet"],["mat-raised-button","",1,"cb-text-transform-upper",3,"disabled","color","type","click"]],template:function(v,y){1&v&&(e.YNc(0,l,3,3,"ng-template",null,0,e.W1O),e.YNc(2,o,2,5,"button",1),e.YNc(3,n,2,5,"button",2)),2&v&&(e.xp6(2),e.Q6J("ngIf",!y.raisedButton),e.xp6(1),e.Q6J("ngIf",y.raisedButton))},directives:[i.O5,u.o,c.Ou,i.mk,C.lW,i.tP],styles:[".mat-raised-button[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:currentColor}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;padding:1px;margin-right:8px}"]}),f})()},69489:(ne,b,t)=>{t.d(b,{Y:()=>E});var e=t(3184),i=t(94882),u=t(36362),c=t(87317),C=t(32478);function _(a,l){if(1&a){const r=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){return e.CHM(r),e.oxw().onRemove()}),e._UZ(1,"icon",4),e.qZA()}if(2&a){const r=e.oxw();e.uIk("aria-label",r.removeLabel)}}const p=["*"];let E=(()=>{class a{constructor(r){this.labelService=r,this.removeLabel=this.labelService.getLabel("CBL.COMMON.REMOVE"),this.remove=new e.vpe,this.color="primary"}onRemove(){this.remove.emit()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(i.Q))},a.\u0275cmp=e.Xpm({type:a,selectors:[["chip"]],hostVars:2,hostBindings:function(r,o){2&r&&e.Tol(o.color)},inputs:{removable:"removable",removeLabel:"removeLabel",color:"color"},outputs:{remove:"remove"},ngContentSelectors:p,decls:4,vars:1,consts:[[1,"layout-row","layout-align-start-center"],[1,"cb-overflow-ellipsis"],["mat-icon-button","","type","button","class","flex-none",3,"click",4,"ngIf"],["mat-icon-button","","type","button",1,"flex-none",3,"click"],["key","icon_close","size","large","color","inherit"]],template:function(r,o){1&r&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,_,2,1,"button",2),e.qZA()),2&r&&(e.xp6(3),e.Q6J("ngIf",o.removable))},directives:[u.O5,c.lW,C.o],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center;max-width:100%;min-width:0;box-sizing:border-box;padding:4px 8px;border-radius:25px;line-height:20px;font-weight:500}.primary[_nghost-%COMP%]{background-color:#cbddff;color:#282828}.success[_nghost-%COMP%]{background-color:#e7f8f2;color:#282828}.error[_nghost-%COMP%]{background-color:#c73636;color:#fff}.attention[_nghost-%COMP%]{background-color:#f8e7e7;color:#282828}[_nghost-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{line-height:16px!important;height:16px!important;width:16px!important;margin-left:5px}"],changeDetection:0}),a})()},74160:(ne,b,t)=>{t.d(b,{d:()=>n});var e=t(3184),i=t(36362),u=t(32478),c=t(20757);function C(g,f){1&g&&e.GkF(0)}function _(g,f){if(1&g&&(e.ynx(0),e.YNc(1,C,1,0,"ng-container",2),e.BQk()),2&g){e.oxw();const m=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",m)}}function p(g,f){1&g&&e.GkF(0)}function E(g,f){if(1&g&&(e.ynx(0),e.YNc(1,p,1,0,"ng-container",2),e.BQk()),2&g){e.oxw();const m=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",m)}}function a(g,f){if(1&g&&e._UZ(0,"icon",6),2&g){const m=e.oxw(3);e.Q6J("color","theme"!==m.iconColor?m.iconColor:"inherit")("key",m.iconKey)("size",m.iconSize)}}function l(g,f){if(1&g&&e._UZ(0,"theme-icon",7),2&g){const m=e.oxw(3);e.Q6J("color",m.iconColor)("themeId",m.themeId)("size",m.iconSize)}}function r(g,f){if(1&g&&(e.ynx(0),e.YNc(1,a,1,3,"icon",4),e.YNc(2,l,1,3,"theme-icon",5),e.BQk()),2&g){const m=e.oxw(2);e.xp6(1),e.Q6J("ngIf",m.iconKey),e.xp6(1),e.Q6J("ngIf",m.themeId)}}function o(g,f){if(1&g&&e.YNc(0,r,3,2,"ng-container",3),2&g){const m=e.oxw();e.Q6J("ngIf",m.iconKey||m.themeId)("ngIfElse",m.iconTemplate)}}const d=["*"];let n=(()=>{class g{constructor(){this.iconColor="inherit",this.iconSize="default",this.iconAfter=!1}}return g.\u0275fac=function(m){return new(m||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["label-with-icon"]],inputs:{iconKey:"iconKey",themeId:"themeId",iconColor:"iconColor",iconSize:"iconSize",iconAfter:"iconAfter",iconTemplate:"iconTemplate"},ngContentSelectors:d,decls:6,vars:2,consts:[[4,"ngIf"],["icon",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"color","key","size",4,"ngIf"],[3,"color","themeId","size",4,"ngIf"],[3,"color","key","size"],[3,"color","themeId","size"]],template:function(m,v){1&m&&(e.F$t(),e.YNc(0,_,2,1,"ng-container",0),e.TgZ(1,"span"),e.Hsn(2),e.qZA(),e.YNc(3,E,2,1,"ng-container",0),e.YNc(4,o,1,2,"ng-template",null,1,e.W1O)),2&m&&(e.Q6J("ngIf",!v.iconAfter),e.xp6(3),e.Q6J("ngIf",v.iconAfter))},directives:[i.O5,i.tP,u.o,c.p],styles:["[_nghost-%COMP%]{display:inline-flex;justify-content:center;align-items:center}icon[_ngcontent-%COMP%]{flex:0 0 auto}span[_ngcontent-%COMP%]{flex:0 1 auto;min-width:0}span[_ngcontent-%COMP%]:not(:first-child){margin-left:10px}span[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}span[_ngcontent-%COMP%]:empty{display:none}.mat-button[_nghost-%COMP%], .mat-button   [_nghost-%COMP%], .mat-stroked-button[_nghost-%COMP%], .mat-stroked-button   [_nghost-%COMP%], .mat-raised-button[_nghost-%COMP%], .mat-raised-button   [_nghost-%COMP%]{margin:0 -10px;vertical-align:initial;min-height:36px;display:flex}.mat-button[_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-button   [_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-stroked-button[_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-stroked-button   [_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-raised-button[_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-raised-button   [_nghost-%COMP%]   span[_ngcontent-%COMP%]{flex-shrink:0}.mat-stroked-button[_nghost-%COMP%], .mat-stroked-button   [_nghost-%COMP%]{min-height:34px}"],changeDetection:0}),g})()},990:(ne,b,t)=>{t.d(b,{R:()=>d});var e=t(3184),i=t(49837),u=t(36362),c=t(32478),C=t(40089);const _=["wrappableLabel"],p=["lastWord"];function E(n,g){if(1&n&&e._UZ(0,"icon",7),2&n){const f=e.oxw(2);e.Q6J("matTooltip",f.description)}}function a(n,g){if(1&n&&(e.TgZ(0,"span",2)(1,"span",null,3),e._uU(3),e.qZA(),e.TgZ(4,"span",4),e._UZ(5,"span",null,5),e._uU(7,"\xa0"),e.YNc(8,E,1,1,"icon",6),e.qZA()()),2&n){const f=e.oxw();e.xp6(3),e.Oqu(f.label),e.xp6(5),e.Q6J("ngIf",f.description&&f.description.length)}}function l(n,g){1&n&&(e.TgZ(0,"span",12),e._uU(1," \xa0 "),e.qZA())}function r(n,g){if(1&n&&e._UZ(0,"icon",13),2&n){const f=e.oxw(2);e.Q6J("matTooltip",f.label+": "+f.description)}}function o(n,g){if(1&n&&(e.TgZ(0,"div",8)(1,"span",9),e._uU(2),e.qZA(),e.YNc(3,l,2,0,"span",10),e.YNc(4,r,1,1,"icon",11),e.qZA()),2&n){const f=e.oxw();e.xp6(2),e.hij(" ",f.label," "),e.xp6(1),e.Q6J("ngIf",f.description&&f.description.length),e.xp6(1),e.Q6J("ngIf",f.description&&f.description.length)}}let d=(()=>{class n{constructor(f,m){this.renderer=f,this.platformService=m,this.isLabelWrappable=!0,this.alwaysShowIcon=!1}ngAfterViewInit(){this.description&&this.description.length&&this.isLabelWrappable&&this.platformService.isBrowser()&&this.setWrapLabel()}setWrapLabel(){let f=this.wrappableLabel.nativeElement,m=this.lastWord.nativeElement,v=this.label?this.label.trim():"",y=v.lastIndexOf(" "),S=v.substring(0,y+1),A=v.substring(y+1);this.renderer.setProperty(f,"innerHTML",S),this.renderer.setProperty(m,"innerHTML",A)}}return n.\u0275fac=function(f){return new(f||n)(e.Y36(e.Qsj),e.Y36(i.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["label-with-info"]],viewQuery:function(f,m){if(1&f&&(e.Gf(_,5),e.Gf(p,5)),2&f){let v;e.iGM(v=e.CRH())&&(m.wrappableLabel=v.first),e.iGM(v=e.CRH())&&(m.lastWord=v.first)}},hostVars:2,hostBindings:function(f,m){2&f&&e.ekj("always-show-icon",m.alwaysShowIcon)},inputs:{label:"label",description:"description",isLabelWrappable:"isLabelWrappable",alwaysShowIcon:"alwaysShowIcon"},decls:2,vars:2,consts:[["class","wrappable-label-with-info",4,"ngIf"],["class","layout-row layout-align-start-center single-line-label-with-info",4,"ngIf"],[1,"wrappable-label-with-info"],["wrappableLabel",""],[1,"cb-nowrap"],["lastWord",""],["key","icon_info_outline","color","info","size","custom","class","label-with-info-icon flex-none",3,"matTooltip",4,"ngIf"],["key","icon_info_outline","color","info","size","custom",1,"label-with-info-icon","flex-none",3,"matTooltip"],[1,"layout-row","layout-align-start-center","single-line-label-with-info"],[1,"cb-overflow-ellipsis","flex-nogrow","label"],["class","spacer",4,"ngIf"],["key","icon_info_outline","color","info","size","custom","class","label-with-info-icon flex-none icon","matTooltipShowDelay","500",3,"matTooltip",4,"ngIf"],[1,"spacer"],["key","icon_info_outline","color","info","size","custom","matTooltipShowDelay","500",1,"label-with-info-icon","flex-none","icon",3,"matTooltip"]],template:function(f,m){1&f&&(e.YNc(0,a,9,2,"span",0),e.YNc(1,o,5,3,"div",1)),2&f&&(e.Q6J("ngIf",m.isLabelWrappable),e.xp6(1),e.Q6J("ngIf",!m.isLabelWrappable))},directives:[u.O5,c.o,C.gM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:not(.always-show-icon):not(:hover)   .label-with-info-icon[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .label-with-info-icon[_ngcontent-%COMP%]{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em}[_nghost-%COMP%]   .label-with-info-icon[_ngcontent-%COMP%]:not(.single-line){vertical-align:middle}[_nghost-%COMP%]   .label-with-info-icon[_ngcontent-%COMP%]     svg{vertical-align:top}"],changeDetection:0}),n})()},252:(ne,b,t)=>{t.d(b,{z:()=>E});var e=t(3184),i=t(36362),u=t(74742),c=t(74929);const C=function(a){return{show:a}};function _(a,l){if(1&a&&(e.TgZ(0,"div",1)(1,"div",2),e.Hsn(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e._UZ(5,"mat-progress-spinner",4),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(6,C,r.showEmpty)),e.xp6(2),e.Q6J("ngClass",e.VKq(8,C,r.showLoading)),e.xp6(2),e.Q6J("ngClass",e.VKq(10,C,r.showLoading)),e.xp6(2),e.Oqu(e.lcZ(8,4,"CBL.COMMON.LOADING"))}}const p=["*"];let E=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["no-content"]],inputs:{showLoading:"showLoading",showEmpty:"showEmpty"},ngContentSelectors:p,decls:1,vars:1,consts:[["class","component--no-content",4,"ngIf"],[1,"component--no-content"],[1,"hide",3,"ngClass"],[1,"loadingContainer","mat-elevation-z2"],["diameter","20","mode","indeterminate",1,"hide",3,"ngClass"]],template:function(r,o){1&r&&(e.F$t(),e.YNc(0,_,9,12,"div",0)),2&r&&e.Q6J("ngIf",o.showEmpty||o.showLoading)},directives:[i.O5,i.mk,u.Ou],pipes:[c.X],styles:[".component--no-content{color:#666;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding-top:48px;padding-bottom:48px}.component--no-content .loadingContainer{background:white;border-radius:3px;padding:24px}.component--no-content .loadingContainer mat-progress-spinner{display:inline-block;float:left;margin-right:16px;width:20px;height:20px}.component--no-content .loadingContainer span{display:inline-block;line-height:20px}\n"],encapsulation:2,changeDetection:0}),a})()},32313:(ne,b,t)=>{t.d(b,{H:()=>_});var e=t(36362),i=t(35503),u=t(90898),c=t(32519),C=t(3184);let _=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[[e.ez,i.Dt,u.q,c.n]]}),p})()},20449:(ne,b,t)=>{t.d(b,{N:()=>m});var e=t(3184),i=t(90587),u=t(20605),c=t(97010),C=t(71832),_=t(36362),p=t(44770),E=t(43365),a=t(61531),l=t(61534),r=t(32478),o=t(40089);function d(v,y){1&v&&(e.TgZ(0,"mat-error"),e.SDv(1,10),e.qZA())}function n(v,y){1&v&&(e.TgZ(0,"mat-error"),e.SDv(1,11),e.qZA())}function g(v,y){1&v&&(e.TgZ(0,"div",12)(1,"mat-checkbox",13),e.SDv(2,14),e.qZA(),e._UZ(3,"icon",15),e.qZA())}function f(v,y){if(1&v&&(e.ynx(0),e.TgZ(1,"mat-form-field",6)(2,"mat-label"),e.SDv(3,7),e.qZA(),e._UZ(4,"input",8),e.YNc(5,d,2,0,"mat-error",5),e.YNc(6,n,2,0,"mat-error",5),e.qZA(),e.YNc(7,g,4,0,"div",9),e.BQk()),2&v){const S=e.oxw();e.xp6(5),e.Q6J("ngIf",S.emailControl.hasError("email")&&!S.emailControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",S.emailControl.hasError("required")),e.xp6(1),e.Q6J("ifFeatureFlagBoolean",S.syncFlag)}}let m=(()=>{class v{constructor(){this.allowEmailConnect=!0,this.form=new i.cw({email:new i.NI("",[i.kI.email,i.kI.required]),sync:new i.NI(!1)}),this.syncFlag=u.TT.SYNC_EMAIL,this.connectEmailAsset=c.Wh.pro_trial_onboarding.sendEmail,this.onChange=()=>({}),this.onTouched=()=>({}),this.form.valueChanges.subscribe(S=>{this.onChange(S),this.onTouched()})}get value(){return this.form.value}set value(S){this.form.setValue(S),this.onChange(S),this.onTouched()}get emailControl(){return this.form.controls.email}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}writeValue(S){S&&(this.value=S),null===S&&this.form.reset()}validate(){return this.form.valid?null:{email:!1}}}return v.\u0275fac=function(S){return new(S||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["connect-email-form"]],inputs:{allowEmailConnect:"allowEmailConnect"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>v),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>v),multi:!0}])],decls:7,vars:4,consts:function(){let y,S,A,x,R,s,h;return y=$localize`:␟e0406b4576057010c45e446077bd663833955b32␟3125780634035069628: Rapidly compose and send personalized emails that cut through noise with intelligent email templates and snippets using Crunchbase insights. `,S=$localize`:␟b17019cea30a7e400b70772f73ad909eb0cf66cc␟6235392592614223053: Email address `,A=$localize`:␟69e87070d9d6769381769c0ff548b023c14168a4␟6518911912411860003:yourname@yourcompany.com`,x=$localize`:␟b237f93a385b70e5369aa51a85229ad4fe494d78␟7031616149263542430: Please enter a valid email address. `,R=$localize`:␟4001c32c6581558999005f8d78305f8fc63d1580␟4264441046758722349: Required `,s=$localize`:␟13338f0b9aefb1382e3acaccbb16785e7b7d36c3␟1717619067204479110: Sync email contacts to Crunchbase `,h=$localize`:␟c9c0d0149a52a8a3a6783d26933c2068b876ce6d␟8590760137922190417:
            Contacts that can be matched to a Crunchbase company profile will appear in that company's People tab. Your data will only be visible by you and your team members.
          `,[[1,"container",3,"formGroup"],[1,"video","mat-elevation-z5"],[3,"resource","width"],[1,"message"],y,[4,"ngIf"],["floatLabel","always","appearance","outline"],S,["matInput","","formControlName","email","name","email","type","email","placeholder",A],["class","sync-checkbox",4,"ifFeatureFlagBoolean"],x,R,[1,"sync-checkbox"],["formControlName","sync"],s,["key","icon_info_outline","color","info","size","text","matTooltip",h]]},template:function(S,A){1&S&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"autoplay-video",2),e.qZA(),e.TgZ(3,"div")(4,"div",3),e.SDv(5,4),e.qZA(),e.YNc(6,f,8,3,"ng-container",5),e.qZA()()),2&S&&(e.Q6J("formGroup",A.form),e.xp6(2),e.Q6J("resource",A.connectEmailAsset)("width",320),e.xp6(4),e.Q6J("ngIf",A.allowEmailConnect))},directives:[i.JL,i.sg,C.T,_.O5,p.KE,p.hX,E.Nt,i.Fj,i.JJ,i.u,p.TO,a.l,l.oG,r.o,o.gM],styles:["[inline][_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:500px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}@media (min-width: 960px){.container[_ngcontent-%COMP%]{flex-direction:row}}.message[_ngcontent-%COMP%]{margin-bottom:16px}.video[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:320px;aspect-ratio:4/3;margin:0 0 32px}@media (min-width: 960px){.video[_ngcontent-%COMP%]{margin:0 32px 0 0}}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-label[_ngcontent-%COMP%]{font-weight:500;font-size:20px;color:#282828}.sync-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center}.sync-checkbox[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:4px}"],changeDetection:0}),v})()},58895:(ne,b,t)=>{t.d(b,{qy:()=>K,wF:()=>Z,Lv:()=>v,vm:()=>x.v});var e=t(90587),i=t(36362),u=t(44770),c=t(87317),C=t(43365),_=t(35503),p=t(89250),E=t(32313),a=t(31156),l=t(40337),r=t(61534),o=t(5076),d=t(32519),n=t(40089),g=t(83e3),f=t(75337),m=t(3184);let v=(()=>{class G{}return G.\u0275fac=function(le){return new(le||G)},G.\u0275mod=m.oAB({type:G}),G.\u0275inj=m.cJS({imports:[[i.ez,_.Dt,e.u5,e.UX,p.S,E.H,a.H,C.c,u.lN,c.ot,l.r,r.p9,o.V,d.n,n.AV,g.S,f.G]]}),G})();var y=t(64139),S=t(59095),A=t(2384),x=t(38345),R=t(97010),s=t(95758),h=t(73729),H=t(20449);let K=(()=>{class G extends A.V{constructor(le,V){super(),this.dialogRef=le,this.emailConnectService=V,this.form=new e.cw({email:new e.NI}),this.connectEmailAsset=R.Wh.pro_trial_onboarding.sendEmail}ngOnInit(){const le=this.form.controls.email;this.emailConnectUrl$=le.valueChanges.pipe((0,S.w)(V=>le.valid?this.emailConnectService.getEmailConnectUrl$({email:V.email,queryParams:this.payload.queryParams}):(0,y.of)("")))}}return G.\u0275fac=function(le){return new(le||G)(m.Y36(s.so),m.Y36(x.v))},G.\u0275cmp=m.Xpm({type:G,selectors:[["connect-email"]],features:[m.qOj],decls:8,vars:6,consts:function(){let J,le;return J=$localize`:␟7a4d19842d0b8e8aa4404fc30fd15e9a340dc4ee␟8085754981871815648:Send Email Right From Crunchbase`,le=$localize`:␟4ef3ee6ee3f631946c3b6592b2b5e274066cfb7d␟1276489858633750356: Connect Email `,[[3,"formGroup"],["title",J,3,"fullBleed"],["dialog-content",""],["formControlName","email"],["dialog-actions",""],["mat-raised-button","","color","primary","data-heap-connect-email-from-modal","",3,"disabled","href"],le]},template:function(le,V){1&le&&(m.TgZ(0,"form",0)(1,"dialog-layout",1)(2,"div",2),m._UZ(3,"connect-email-form",3),m.qZA(),m.TgZ(4,"div",4)(5,"a",5),m.SDv(6,6),m.ALo(7,"async"),m.qZA()()()()),2&le&&(m.Q6J("formGroup",V.form),m.xp6(1),m.Q6J("fullBleed",!0),m.xp6(4),m.Q6J("disabled",!V.form.valid)("href",m.lcZ(7,4,V.emailConnectUrl$),m.LSH))},directives:[e._Y,e.JL,e.sg,h.I,H.N,e.JJ,e.u,c.zs],pipes:[i.Ov],styles:["[_nghost-%COMP%]{display:block;max-width:700px}div[dialog-content][_ngcontent-%COMP%]{padding:20px}a[_ngcontent-%COMP%]{text-transform:uppercase}"],changeDetection:0}),G})();var P=t(77500),z=t(29641),ee=t(74929);let Z=(()=>{class G extends A.V{constructor(le){super(),this.dialogRef=le,this.errorImage=R.Wh.emailConnect.error}close(le=!1){this.dialogRef.close({connectAgain:le})}}return G.\u0275fac=function(le){return new(le||G)(m.Y36(s.so))},G.\u0275cmp=m.Xpm({type:G,selectors:[["connect-email-error"]],features:[m.qOj],decls:16,vars:8,consts:function(){let J,le,V;return J=$localize`:␟ed0e27a7645d5df6a939d4763b6ceaef27debbe7␟4034694953391603166:We weren't able to connect your email account to Crunchbase`,le=$localize`:␟18411db151d2f25627b593d8c46ea2af94f32f4f␟2829686929777902283: We recommend trying to connect again. Crunchbase's email integration is secure and keeps your contact information private. `,V=$localize`:␟85323235a9b96eac18b31da4919948c03c146e88␟8310213413956497474: Connect Again `,[[3,"title"],["dialog-content",""],["alt","",3,"original","resource"],J,le,["key","CBL.ACCOUNT.CONNECT_EMAIL.ERROR.CONTACT_SUPPORT"],["dialog-actions",""],["mat-button","","data-heap-email-error-cancel","",3,"click"],["mat-raised-button","","color","primary","data-heap-email-error-retry","",3,"click"],V]},template:function(le,V){1&le&&(m.TgZ(0,"dialog-layout",0),m.ALo(1,"translate"),m.TgZ(2,"div",1),m._UZ(3,"cb-image",2),m.TgZ(4,"h2"),m.SDv(5,3),m.qZA(),m.TgZ(6,"p"),m.SDv(7,4),m.qZA(),m.TgZ(8,"p"),m._UZ(9,"markup-label",5),m.qZA()(),m.TgZ(10,"div",6)(11,"button",7),m.NdJ("click",function(){return V.close()}),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"button",8),m.NdJ("click",function(){return V.close(!0)}),m.SDv(15,9),m.qZA()()()),2&le&&(m.Q6J("title",m.lcZ(1,4,"CBL.ACCOUNT.CONNECT_EMAIL.ERROR.DIALOG_HEADER")),m.xp6(3),m.Q6J("original",!0)("resource",V.errorImage),m.xp6(9),m.hij(" ",m.lcZ(13,6,"CBL.COMMON.CANCEL")," "))},directives:[h.I,P.q,z.x,c.lW],pipes:[ee.X],styles:["[dialog-content][_ngcontent-%COMP%]{max-width:500px}h2[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}cb-image[_ngcontent-%COMP%]{display:block;margin:0 auto;width:150px;height:150px}"],changeDetection:0}),G})()},38345:(ne,b,t)=>{t.d(b,{v:()=>d});var e=t(28784),i=t(26435),u=t(13074),c=t(7323),C=t(64139),_=t(19193),p=t(86942),E=t(83910),a=t(93443),l=t(20605),r=t(3184),o=t(49837);let d=(()=>{class n{constructor(f,m,v,y,S){this.urlService=f,this.platformService=m,this.routingHelper=v,this.userAttributeService=y,this.featureService=S}getEmailConnectUrl$(f){return this.platformService.isServer()?(0,C.of)(""):(0,_.aj)([this.featureService.getBooleanValue(l.TT.SYNC_EMAIL,!1),this.routingHelper.getCurrentUrl$()]).pipe((0,p.U)(([m,v])=>{const y=new u.q6(v),S=[a.Gq.ScopesEnum.read,a.Gq.ScopesEnum.send];return y.deleteAllParams(),y.searchParams.append(n.REDIRECT_QUERY_PARAM,"true"),Object.entries(f.queryParams||{}).forEach(([A,x])=>{x&&y.searchParams.append(A,x)}),this.cbEnterpriseSyncConnectGetUrl(y.toString(),f.email,m?S:void 0)}))}extractRedirectResponse(){if(!this.routingHelper.extractAndDeleteQueryParam(n.REDIRECT_QUERY_PARAM))return;const m=this.routingHelper.extractAndDeleteQueryParam("error_code");return null!=m?{success:!1,errorCode:m}:{success:!0}}updateSyncStatus(f){return this.userAttributeService.setAttribute("email_sync",f).pipe((0,p.U)(m=>{if(!m)throw new Error("Attributes fetch failed");return m.email_sync}))}getSyncStatus(){return this.userAttributeService.getAttributes().pipe((0,E.q)(1),(0,p.U)(f=>f.email_sync||!1))}cbEnterpriseSyncConnectGetUrl(f,m,v){let S=new e.LE({encoder:new i.zI});if(!f)throw new Error("Missing required parameter redirectUri when calling cbEnterpriseSyncConnectGet");if(!m)throw new Error("Missing required parameter email when calling cbEnterpriseSyncConnectGet");void 0!==f&&(S=S.set("redirect_uri",f)),void 0!==m&&(S=S.set("email",m)),void 0!==v&&(S=S.set("scopes",""+v));const A=new URL("/v4/cb/enterprise-sync/connect",this.urlService.getAbsoluteUrl(""));return A.search=S.toString(),A.toString()}}return n.REDIRECT_QUERY_PARAM="connectedEmailRedirect",n.\u0275fac=function(f){return new(f||n)(r.LFG(u.iO),r.LFG(o.m),r.LFG(i.VP),r.LFG(c.n3),r.LFG(l.Bz))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},17906:(ne,b,t)=>{t.d(b,{Z:()=>i});const i={ENTER:13,ESCAPE:27,BACKSPACE:8,ARROW_DOWN:40,ARROW_UP:38}},97252:(ne,b,t)=>{t.d(b,{a:()=>a});var e=t(3184),i=t(57984),u=t(36362),c=t(76908);function C(l,r){if(1&l&&e._UZ(0,"linkedin-link",7),2&l){const o=e.oxw();e.Q6J("url",o.contact.linkedin.data)}}function _(l,r){if(1&l&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&l){const o=e.oxw();e.xp6(1),e.Oqu(o.contact.jobTitle)}}function p(l,r){if(1&l&&e._UZ(0,"field-formatter",9),2&l){const o=e.oxw();e.Q6J("collectionId",o.contact.collectionId)("field",o.contact.jobLevels.field)("fieldData",o.contact.jobLevels.data)("queryData",o.contact.jobLevels.queryData)}}function E(l,r){if(1&l&&e._UZ(0,"field-formatter",9),2&l){const o=e.oxw();e.Q6J("collectionId",o.contact.collectionId)("field",o.contact.jobDepartments.field)("fieldData",o.contact.jobDepartments.data)("queryData",o.contact.jobDepartments.queryData)}}let a=(()=>{class l{constructor(){this.displayMode="full"}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["contact-details"]],hostVars:2,hostBindings:function(o,d){2&o&&e.Tol(d.displayMode)},inputs:{contact:"contact",displayMode:"displayMode"},decls:8,vars:7,consts:[[1,"name"],[3,"collectionId","field","fieldData"],[3,"url",4,"ngIf"],[1,"jobInfo"],["class","job-title",4,"ngIf"],[1,"job-levels-department"],["queryTemplateSearchUi","advanced_search",3,"collectionId","field","fieldData","queryData",4,"ngIf"],[3,"url"],[1,"job-title"],["queryTemplateSearchUi","advanced_search",3,"collectionId","field","fieldData","queryData"]],template:function(o,d){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"field-formatter",1),e.YNc(2,C,1,1,"linkedin-link",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,_,2,1,"div",4),e.TgZ(5,"div",5),e.YNc(6,p,1,4,"field-formatter",6),e.YNc(7,E,1,4,"field-formatter",6),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("collectionId",d.contact.collectionId)("field",d.contact.name.field)("fieldData",d.contact.name.data),e.xp6(1),e.Q6J("ngIf",d.contact.linkedin),e.xp6(2),e.Q6J("ngIf",d.contact.jobTitle),e.xp6(2),e.Q6J("ngIf",d.contact.jobLevels),e.xp6(1),e.Q6J("ngIf",d.contact.jobDepartments))},directives:[i.N,u.O5,c.h],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.full[_nghost-%COMP%]   .job-levels-department[_ngcontent-%COMP%]{display:flex;flex-direction:column}.fullRow[_nghost-%COMP%]   .job-levels-department[_ngcontent-%COMP%]{display:flex}.fullRow[_nghost-%COMP%]   .job-levels-department[_ngcontent-%COMP%]   field-formatter[_ngcontent-%COMP%]:first-child:after{content:"\\2022";margin:0 4px}.name[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}linkedin-link[_ngcontent-%COMP%]{padding-left:4px}.jobInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entity-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .job-title[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .job-title[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   icon[_ngcontent-%COMP%]{visibility:hidden}'],changeDetection:0}),l})()},84713:(ne,b,t)=>{t.d(b,{y:()=>C});var e=t(36362),i=t(93293),u=t(40989),c=t(3184);let C=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({imports:[[e.ez,i.I,u.R]]}),_})()},62826:(ne,b,t)=>{t.d(b,{I:()=>h});var e=t(3531),i=t(87555),u=t(3184),c=t(35585),C=t(36362),_=t(70821),p=t(32478),E=t(40089),a=t(87317),l=t(96657);let r=(()=>{class H{constructor(P){this.engageService=P}onClick(){this.engageService.sendEmail(this.contactId,this.organizationId,this.email.address)}}return H.\u0275fac=function(P){return new(P||H)(u.Y36(_.q7))},H.\u0275cmp=u.Xpm({type:H,selectors:[["contacts-card-unlocked-email"]],inputs:{contactId:"contactId",email:"email",organizationId:"organizationId"},decls:4,vars:3,consts:[["key","icon_email","color","accent",3,"matTooltip"],["mat-button","","data-cy","contact-unlocked-email-address",3,"click"],[3,"clipboard"]],template:function(P,z){1&P&&(u._UZ(0,"icon",0),u.TgZ(1,"button",1),u.NdJ("click",function(){return z.onClick()}),u._uU(2),u.qZA(),u._UZ(3,"copy-to-clipboard",2)),2&P&&(u.Q6J("matTooltip",z.email.tooltip),u.xp6(2),u.hij(" ",z.email.address,"\n"),u.xp6(1),u.Q6J("clipboard",z.email.address))},directives:[p.o,E.gM,a.lW,l.F],styles:["[_nghost-%COMP%]{display:flex;align-items:center;font-weight:500}a[_ngcontent-%COMP%]{color:#183444;margin:0 6px 0 8px}button[_ngcontent-%COMP%]{text-transform:initial;letter-spacing:initial;padding:0 8px;line-height:20px;min-width:0px;flex:0 1 auto;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),H})();var o=t(30918),d=t(30807),n=t(19575);function g(H,K){if(1&H&&u._UZ(0,"contacts-card-unlocked-email",9),2&H){const P=u.oxw(2).$implicit,z=u.oxw(2);u.Q6J("email",P)("contactId",z.contactState.contact.uuid)("organizationId",z.organizationId)}}function f(H,K){if(1&H&&u._UZ(0,"contacts-card-unlocked-phone",10),2&H){const P=u.oxw(2).$implicit;u.Q6J("phone",P)}}function m(H,K){if(1&H&&(u.ynx(0),u.YNc(1,g,1,3,"contacts-card-unlocked-email",7),u.YNc(2,f,1,1,"contacts-card-unlocked-phone",8),u.BQk()),2&H){const P=u.oxw().$implicit,z=u.oxw(2);u.xp6(1),u.Q6J("ngIf",P.methodType===z.contactItemMethodType.EMAIL),u.xp6(1),u.Q6J("ngIf",P.methodType===z.contactItemMethodType.PHONE)}}function v(H,K){if(1&H&&(u.ynx(0),u.YNc(1,m,3,2,"ng-container",6),u.BQk()),2&H){const P=K.$implicit,z=u.oxw(2);u.xp6(1),u.Q6J("ngIf",P.lockType===z.contactItemDetailLockType.UNLOCKED)}}function y(H,K){if(1&H&&u._UZ(0,"contacts-card-disabled-email",11),2&H){const P=u.oxw(2);u.Q6J("emailCount",P.lockedEmailCount)("contactIsUpdateable",P.contactIsUpdateable)("onlyLocked",!0)}}function S(H,K){if(1&H&&u._UZ(0,"contacts-card-disabled-phone",12),2&H){const P=u.oxw(2);u.Q6J("phoneCount",P.lockedPhoneCount)("contactIsUpdateable",P.contactIsUpdateable)("onlyLocked",!0)}}function A(H,K){if(1&H&&(u.ynx(0),u.TgZ(1,"div",2),u.YNc(2,v,2,1,"ng-container",3),u.YNc(3,y,1,3,"contacts-card-disabled-email",4),u.YNc(4,S,1,3,"contacts-card-disabled-phone",5),u.qZA(),u.BQk()),2&H){const P=u.oxw();u.xp6(2),u.Q6J("ngForOf",P.contactState.details),u.xp6(1),u.Q6J("ngIf",P.lockedEmailCount),u.xp6(1),u.Q6J("ngIf",P.lockedPhoneCount)}}function x(H,K){1&H&&u._UZ(0,"contacts-card-disabled-email",15),2&H&&u.Q6J("emailCount",K.ngIf)("onlyLocked",!1)}function R(H,K){1&H&&u._UZ(0,"contacts-card-disabled-phone",16),2&H&&u.Q6J("phoneCount",K.ngIf)("onlyLocked",!1)}function s(H,K){if(1&H&&(u.YNc(0,x,1,2,"contacts-card-disabled-email",13),u.ALo(1,"async"),u.YNc(2,R,1,2,"contacts-card-disabled-phone",14),u.ALo(3,"async")),2&H){const P=u.oxw();u.Q6J("ngIf",u.lcZ(1,2,P.emailCount$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(3,4,P.phoneCount$))}}let h=(()=>{class H{constructor(P){this.store=P,this.displayMode="full",this.contactItemDetailLockType=e.bw,this.contactItemMethodType=e.$U}ngOnChanges(){const{uuid:P}=this.contactState.contact;this.emailCount$=this.store.select((0,e.o)(P)),this.phoneCount$=this.store.select((0,e.H2)(P)),this.lockedPhoneCount=(0,i.j4)(this.contactState),this.lockedEmailCount=(0,i.Vn)(this.contactState),this.contactIsUpdateable=(0,i.XF)(this.contactState)}}return H.\u0275fac=function(P){return new(P||H)(u.Y36(c.yh))},H.\u0275cmp=u.Xpm({type:H,selectors:[["contact-items-details"]],hostVars:2,hostBindings:function(P,z){2&P&&u.Tol(z.displayMode)},inputs:{contactState:"contactState",displayMode:"displayMode",organizationId:"organizationId"},features:[u.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["compact",""],[1,"detail-items"],[4,"ngFor","ngForOf"],[3,"emailCount","contactIsUpdateable","onlyLocked",4,"ngIf"],[3,"phoneCount","contactIsUpdateable","onlyLocked",4,"ngIf"],[4,"ngIf"],[3,"email","contactId","organizationId",4,"ngIf"],[3,"phone",4,"ngIf"],[3,"email","contactId","organizationId"],[3,"phone"],[3,"emailCount","contactIsUpdateable","onlyLocked"],[3,"phoneCount","contactIsUpdateable","onlyLocked"],[3,"emailCount","onlyLocked",4,"ngIf"],[3,"phoneCount","onlyLocked",4,"ngIf"],[3,"emailCount","onlyLocked"],[3,"phoneCount","onlyLocked"]],template:function(P,z){if(1&P&&(u.YNc(0,A,5,3,"ng-container",0),u.YNc(1,s,4,6,"ng-template",null,1,u.W1O)),2&P){const ee=u.MAs(2);u.Q6J("ngIf","full"===z.displayMode||"fullRow"===z.displayMode)("ngIfElse",ee)}},directives:[C.O5,C.sg,r,o.s,d.G,n.k],pipes:[C.Ov],styles:["[_nghost-%COMP%]{display:block}contacts-card-unlocked-email[_ngcontent-%COMP%], contacts-card-unlocked-phone[_ngcontent-%COMP%], contacts-card-disabled-email[_ngcontent-%COMP%], contacts-card-disabled-phone[_ngcontent-%COMP%]{line-height:20px}.full[_nghost-%COMP%]   contacts-card-unlocked-email[_ngcontent-%COMP%], .full[_nghost-%COMP%]   contacts-card-unlocked-phone[_ngcontent-%COMP%], .full[_nghost-%COMP%]   contacts-card-disabled-email[_ngcontent-%COMP%], .full[_nghost-%COMP%]   contacts-card-disabled-phone[_ngcontent-%COMP%]{margin-bottom:8px}.full[_nghost-%COMP%]   contacts-card-unlocked-email[_ngcontent-%COMP%]:last-child, .full[_nghost-%COMP%]   contacts-card-unlocked-phone[_ngcontent-%COMP%]:last-child, .full[_nghost-%COMP%]   contacts-card-disabled-email[_ngcontent-%COMP%]:last-child, .full[_nghost-%COMP%]   contacts-card-disabled-phone[_ngcontent-%COMP%]:last-child{margin-bottom:0}.fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:-8px}.fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-unlocked-email[_ngcontent-%COMP%], .fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-unlocked-phone[_ngcontent-%COMP%], .fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-disabled-email[_ngcontent-%COMP%], .fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-disabled-phone[_ngcontent-%COMP%]{margin-right:16px;margin-top:8px}.fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-unlocked-phone[_ngcontent-%COMP%]{display:flex;align-items:center}.compact[_nghost-%COMP%]   contacts-card-disabled-email[_ngcontent-%COMP%], .compact[_nghost-%COMP%]   contacts-card-disabled-phone[_ngcontent-%COMP%]{color:#666}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),H})()},30807:(ne,b,t)=>{t.d(b,{G:()=>f});var e=t(3184),i=t(36362),u=t(74160),c=t(74929);function C(m,v){1&m&&(e.ynx(0),e.SDv(1,4),e.BQk())}const _=function(m){return{number:m}};function p(m,v){if(1&m&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&m){const y=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS.MULTIPLE_EMAILS",e.VKq(4,_,y.emailCount))," ")}}function E(m,v){if(1&m&&(e.ynx(0),e.YNc(1,C,2,0,"ng-container",3),e.YNc(2,p,3,6,"ng-container",3),e.BQk()),2&m){const y=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===y.emailCount),e.xp6(1),e.Q6J("ngIf",y.emailCount>1)}}function a(m,v){1&m&&(e.ynx(0),e.SDv(1,5),e.BQk())}function l(m,v){if(1&m&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&m){const y=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS.MULTIPLE_NEW_EMAILS",e.VKq(4,_,y.emailCount))," ")}}function r(m,v){if(1&m&&(e.ynx(0),e.YNc(1,a,2,0,"ng-container",3),e.YNc(2,l,3,6,"ng-container",3),e.BQk()),2&m){const y=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===y.emailCount),e.xp6(1),e.Q6J("ngIf",y.emailCount>1)}}function o(m,v){if(1&m&&(e.TgZ(0,"label-with-icon",2),e.YNc(1,E,3,2,"ng-container",3),e.YNc(2,r,3,2,"ng-container",3),e.qZA()),2&m){const y=e.oxw();e.xp6(1),e.Q6J("ngIf",!y.contactIsUpdateable),e.xp6(1),e.Q6J("ngIf",y.contactIsUpdateable)}}function d(m,v){1&m&&(e.ynx(0),e.SDv(1,7),e.BQk())}function n(m,v){if(1&m&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&m){const y=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS_COMPACT.EMAIL_COUNT_PLURAL",e.VKq(4,_,y.emailCount)))}}function g(m,v){if(1&m&&(e.TgZ(0,"label-with-icon",6),e.YNc(1,d,2,0,"ng-container",3),e.YNc(2,n,3,6,"ng-container",3),e.qZA()),2&m){const y=e.oxw();e.xp6(1),e.Q6J("ngIf",1===y.emailCount),e.xp6(1),e.Q6J("ngIf",y.emailCount>1)}}let f=(()=>{class m{}return m.\u0275fac=function(y){return new(y||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["contacts-card-disabled-email"]],inputs:{emailCount:"emailCount",contactIsUpdateable:"contactIsUpdateable",onlyLocked:"onlyLocked"},decls:2,vars:2,consts:function(){let v,y,S;return v=$localize`:␟77bce80285dc8b0e3f4cb79f67841b4e3162a05f␟9198703476996637132: 1 email found `,y=$localize`:␟7d857828a3770c17d46b3b3e0bd6ea6debcc21fb␟1054301209757743488: 1 new email found `,S=$localize`:␟193d48748d1bf2e636cd7fd0e34a720aa3762993␟5639316769058570319:1 email address`,[["iconKey","icon_email","color","inherit",4,"ngIf"],["iconKey","icon_email","iconColor","inherit",4,"ngIf"],["iconKey","icon_email","color","inherit"],[4,"ngIf"],v,y,["iconKey","icon_email","iconColor","inherit"],S]},template:function(y,S){1&y&&(e.YNc(0,o,3,2,"label-with-icon",0),e.YNc(1,g,3,2,"label-with-icon",1)),2&y&&(e.Q6J("ngIf",S.onlyLocked),e.xp6(1),e.Q6J("ngIf",!S.onlyLocked))},directives:[i.O5,u.d],pipes:[c.X],styles:["[_nghost-%COMP%]{display:flex;color:#666}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),m})()},19575:(ne,b,t)=>{t.d(b,{k:()=>f});var e=t(3184),i=t(36362),u=t(74160),c=t(74929);function C(m,v){1&m&&(e.ynx(0),e.SDv(1,4),e.BQk())}const _=function(m){return{number:m}};function p(m,v){if(1&m&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&m){const y=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS.MULTIPLE_PHONE_NUMBERS",e.VKq(4,_,y.phoneCount))," ")}}function E(m,v){if(1&m&&(e.ynx(0),e.YNc(1,C,2,0,"ng-container",3),e.YNc(2,p,3,6,"ng-container",3),e.BQk()),2&m){const y=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===y.phoneCount),e.xp6(1),e.Q6J("ngIf",y.phoneCount>1)}}function a(m,v){1&m&&(e.ynx(0),e.SDv(1,5),e.BQk())}function l(m,v){if(1&m&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&m){const y=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS.MULTIPLE_NEW_PHONE_NUMBERS",e.VKq(4,_,y.phoneCount))," ")}}function r(m,v){if(1&m&&(e.ynx(0),e.YNc(1,a,2,0,"ng-container",3),e.YNc(2,l,3,6,"ng-container",3),e.BQk()),2&m){const y=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===y.phoneCount),e.xp6(1),e.Q6J("ngIf",y.phoneCount>1)}}function o(m,v){if(1&m&&(e.TgZ(0,"label-with-icon",2),e.YNc(1,E,3,2,"ng-container",3),e.YNc(2,r,3,2,"ng-container",3),e.qZA()),2&m){const y=e.oxw();e.xp6(1),e.Q6J("ngIf",!y.contactIsUpdateable),e.xp6(1),e.Q6J("ngIf",y.contactIsUpdateable)}}function d(m,v){1&m&&(e.ynx(0),e.SDv(1,7),e.BQk())}function n(m,v){if(1&m&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&m){const y=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS_COMPACT.PHONE_COUNT_PLURAL",e.VKq(4,_,y.phoneCount)))}}function g(m,v){if(1&m&&(e.TgZ(0,"label-with-icon",6),e.YNc(1,d,2,0,"ng-container",3),e.YNc(2,n,3,6,"ng-container",3),e.qZA()),2&m){const y=e.oxw();e.xp6(1),e.Q6J("ngIf",1===y.phoneCount),e.xp6(1),e.Q6J("ngIf",y.phoneCount>1)}}let f=(()=>{class m{}return m.\u0275fac=function(y){return new(y||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["contacts-card-disabled-phone"]],inputs:{phoneCount:"phoneCount",contactIsUpdateable:"contactIsUpdateable",onlyLocked:"onlyLocked"},decls:2,vars:2,consts:function(){let v,y,S;return v=$localize`:␟426619edfb39563e9a0faeceb18f4b48b1fcfff7␟1325398843046675583: 1 phone number found `,y=$localize`:␟b1b0d8d2bc58809eb97869a5d218e73b1c400534␟5427066110691729362: 1 new phone number found `,S=$localize`:␟4de562a4bef6d724d43549088860764a995661b0␟3150743125840346239:1 phone number`,[["iconKey","icon_phone","color","inherit",4,"ngIf"],["iconKey","icon_phone","iconColor","inherit",4,"ngIf"],["iconKey","icon_phone","color","inherit"],[4,"ngIf"],v,y,["iconKey","icon_phone","iconColor","inherit"],S]},template:function(y,S){1&y&&(e.YNc(0,o,3,2,"label-with-icon",0),e.YNc(1,g,3,2,"label-with-icon",1)),2&y&&(e.Q6J("ngIf",S.onlyLocked),e.xp6(1),e.Q6J("ngIf",!S.onlyLocked))},directives:[i.O5,u.d],pipes:[c.X],styles:["[_nghost-%COMP%]{display:flex;color:#666}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),m})()},30918:(ne,b,t)=>{t.d(b,{s:()=>_});var e=t(3184),i=t(32478),u=t(40089),c=t(46036),C=t(96657);let _=(()=>{class p{formatNumber(a){return"tel:"+a}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["contacts-card-unlocked-phone"]],inputs:{phone:"phone"},decls:4,vars:4,consts:[["key","icon_phone","color","accent",3,"matTooltip"],["data-cy","contact-unlocked-phone-number",3,"href"],[3,"clipboard"]],template:function(a,l){1&a&&(e._UZ(0,"icon",0),e.TgZ(1,"a",1),e._uU(2),e.qZA(),e._UZ(3,"copy-to-clipboard",2)),2&a&&(e.Q6J("matTooltip",l.phone.tooltip),e.xp6(1),e.Q6J("href",l.formatNumber(l.phone.number),e.LSH),e.xp6(1),e.hij(" ",l.phone.number,"\n"),e.xp6(1),e.Q6J("clipboard",l.phone.number))},directives:[i.o,u.gM,c.n,C.F],styles:["[_nghost-%COMP%]{display:flex;align-items:center;font-weight:500}a[_ngcontent-%COMP%]{color:#183444;margin:0 6px 0 8px}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),p})()},49029:(ne,b,t)=>{t.d(b,{t:()=>p});var e=t(3184),i=t(36362),u=t(74929);function c(E,a){1&E&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&E&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CBL.INPUTS.DATE_PRECISION.MONTH")))}function C(E,a){1&E&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&E&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CBL.INPUTS.DATE_PRECISION.YEAR")))}const _=["*"];let p=(()=>{class E{}return E.\u0275fac=function(l){return new(l||E)},E.\u0275cmp=e.Xpm({type:E,selectors:[["contact-plan"]],inputs:{plan:"plan"},ngContentSelectors:_,decls:18,vars:18,consts:function(){let a;return a=$localize`:␟f51ed9751c2b069cf5d5b5a2df801366eb203e10␟8785122281012266870:Best Seller`,[[1,"plan"],[1,"best-seller-banner"],a,[1,"header"],[1,"subheader"],[1,"upsell-text"],[1,"price"],["class","frequency",4,"ngIf"],[1,"frequency"]]},template:function(l,r){1&l&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.SDv(2,2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e._uU(6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",5)(10,"div")(11,"span",6),e._uU(12),e.ALo(13,"currency"),e.qZA(),e._uU(14," / "),e.YNc(15,c,3,3,"span",7),e.YNc(16,C,3,3,"span",7),e.qZA()(),e.Hsn(17),e.qZA()),2&l&&(e.ekj("best-seller-plan",r.plan.isBestSeller),e.xp6(4),e.hij(" ",r.plan.name," "),e.xp6(2),e.lnq(" ",e.lcZ(7,9,"CBL.COMMON.VIEW")," ",r.plan.name," / ",e.lcZ(8,11,"CBL.INPUTS.DATE_PRECISION.MONTH")," "),e.xp6(6),e.Oqu(e.gM2(13,13,r.plan.price,"USD","symbol","1.0-0")),e.xp6(3),e.Q6J("ngIf","monthly"===r.plan.frequency),e.xp6(1),e.Q6J("ngIf","yearly"===r.plan.frequency))},directives:[i.O5],pipes:[u.X,i.H9],styles:[".plan[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;padding:16px 0;border:1px solid #f5a623;border-radius:6px}.plan[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:8px 16px;font-size:20px;font-weight:500}.plan[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{padding:0 16px}.plan[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{text-transform:capitalize}.plan[_ngcontent-%COMP%]   .best-seller-banner[_ngcontent-%COMP%]{display:none}.plan[_ngcontent-%COMP%]   .upsell-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#fef4e5;padding:8px 0;margin:16px 0;display:flex;flex-direction:column;width:calc(100% - 32px)}.plan[_ngcontent-%COMP%]   .upsell-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:2px 16px}.plan[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{padding-top:2px;font-size:16px;font-weight:500}.best-seller-plan[_ngcontent-%COMP%]{border-radius:0 0 6px 6px;margin:40px 0 20px}@media (min-width: 960px){.best-seller-plan[_ngcontent-%COMP%]{margin:0 32px}}.best-seller-plan[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-top:20px}.best-seller-plan[_ngcontent-%COMP%]   .best-seller-banner[_ngcontent-%COMP%]{margin-top:-40px;background-color:#f5a623;border-radius:6px 6px 0 0;display:flex;justify-content:center;text-transform:uppercase;font-size:12px;font-weight:500;padding:4px 0;border:1px solid #f5a623;width:100%}"],changeDetection:0}),E})()},49115:(ne,b,t)=>{t.d(b,{Q:()=>c});var e=t(36362),i=t(35503),u=t(3184);let c=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({imports:[[i.Dt,e.ez]]}),C})()},43924:(ne,b,t)=>{t.d(b,{K:()=>u});var e=t(13074),i=t(3184);let u=(()=>{class c{constructor(_){this.urlService=_,this.enterpriseLink=this.urlService.getEnterpriseUrl()}}return c.\u0275fac=function(_){return new(_||c)(i.Y36(e.iO))},c.\u0275cmp=i.Xpm({type:c,selectors:[["contact-sales-link"]],decls:5,vars:1,consts:function(){let C,_;return C=$localize`:␟337819a15429f3cd48f8de55c780ec69aa0c07f8␟8687321669548327325:Need More Contacts?`,_=$localize`:␟c34fed53a141269dec0ff01ab03f971dea75558d␟3528572100761547767: Talk To Sales `,[[1,"enterprise-link"],C,["target","_blank",3,"href"],_]},template:function(_,p){1&_&&(i.TgZ(0,"div",0)(1,"div"),i.SDv(2,1),i.qZA(),i.TgZ(3,"a",2),i.SDv(4,3),i.qZA()()),2&_&&(i.xp6(3),i.Q6J("href",p.enterpriseLink,i.LSH))},styles:[".enterprise-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:16px}@media (min-width: 960px){.enterprise-link[_ngcontent-%COMP%]{padding-top:unset}}.enterprise-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#146aff;text-decoration:none;font-weight:500;cursor:pointer;padding-left:2px}.enterprise-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),c})()},88060:(ne,b,t)=>{t.d(b,{J:()=>C});var e=t(3531),i=t(843),u=t(86942),c=t(3184);let C=(()=>{class _{constructor(E){this.permissionService=E}getButtonsState(E){const a=(0,e.Jn)(E),l=(0,e.SN)(E),r=(0,e.OX)(E),o=(0,e.T2)(E);return this.permissionService.getPermissions().pipe((0,u.U)(d=>{const n=d.canUnlockContacts(),g=this.getState(n,a,r),f=this.getState(n,l,o),m=this.getState(n,l,o);return{engage:m,outreach:f,salesforce:g,hasActions:[g,f,m].some(v=>"hidden"!==v)}}))}getState(E,a,l){return a?E?l?"enabled":"locked":"upsell":"hidden"}}return _.\u0275fac=function(E){return new(E||_)(c.LFG(i.$))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},70898:(ne,b,t)=>{t.d(b,{C:()=>ht});var e=t(3184),i=t(3531),u=t(90808),c=t(83910),C=t(59151),_=t(86942),p=t(88060),E=t(25848),a=t(35585),l=t(36362),r=t(81212),o=t(24993),d=t(61456),n=t(5765),g=t(94882),f=t(88629),m=t(5149),v=t(87317),y=t(40089),S=t(82262),A=t(20757),x=t(22972);function R(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",4),e.NdJ("overlayToggled",function(Oe){return e.CHM(be),e.oxw(3).overlayToggled(Oe)})("click",function(){e.CHM(be);const Oe=e.oxw().ngIf,Re=e.oxw(2);return Oe.isCrmConnected?void 0:Re.showConnectToSalesforceDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e._UZ(3,"theme-icon",5),e.qZA()}if(2&xe){const be=e.oxw().ngIf,se=e.oxw(2);e.ekj("icon-button-active",se.overlayIsOpen),e.Q6J("matTooltip",e.lcZ(1,8,se.tooltip$))("overlayWithArrow",se.salesforceOverlayComponent)("overlayPayload",se.overlayPayload)("overlayScrollStrategy","reposition")("overlayDisabled",!be.isCrmConnected),e.uIk("aria-label",e.lcZ(2,10,se.tooltip$))}}function s(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,R,4,12,"button",3),e.BQk()),2&xe){e.oxw();const be=e.MAs(4),se=e.oxw();e.xp6(1),e.Q6J("ngIf",!se.isLocked)("ngIfElse",be)}}function h(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(be),e.oxw(2).lockedClick.emit()}),e._UZ(1,"theme-icon",5),e.qZA()}if(2&xe){const be=e.oxw(2);e.Q6J("matTooltip",be.i18nStrings.unlockAndSalesforce),e.uIk("aria-label",be.i18nStrings.unlockAndSalesforce)}}function H(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,s,2,2,"ng-container",0),e.ALo(2,"async"),e.YNc(3,h,2,2,"ng-template",null,2,e.W1O),e.BQk()),2&xe){const be=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,be.isCrmConnectedObject$))}}function K(xe,Ne){if(1&xe&&(e.TgZ(0,"button",7),e.ALo(1,"async"),e.ALo(2,"async"),e._UZ(3,"theme-icon",5),e.qZA()),2&xe){const be=e.oxw();e.Q6J("matTooltip",e.lcZ(1,5,be.tooltip$))("upsellTrigger","connect_crm")("upsellTriggerLocation","contact-row-unlock-button")("upsellShowDetails",!0),e.uIk("aria-label",e.lcZ(2,7,be.tooltip$))}}let P=(()=>{class xe{constructor(be,se,Oe,Re,ot){this.pushContactToSalesforceService=be,this.contactsPushPreferenceService=se,this.labelService=Oe,this.store=Re,this.element=ot,this.showUpsell=!1,this.isLocked=!1,this.openOnInit=!1,this.lockedClick=new e.vpe,this.i18nStrings={pushToSalesforce:$localize`:Transfer contact information to Salesforce CRM:Push to Salesforce`,pushContact:$localize`:Transfer contact information to another service:Push Contact`,pushLead:$localize`:Transfer contact information for a sales lead to another service:Push Lead`,unlockAndSalesforce:$localize`:view contact information and transfer contact information for a sales lead to another service:View and push to Salesforce`},this.tooltip$=this.contactsPushPreferenceService.getPreference$().pipe((0,_.U)(Ge=>"contact"===Ge?this.i18nStrings.pushContact:"lead"===Ge?this.i18nStrings.pushLead:this.i18nStrings.pushToSalesforce)),this.salesforceOverlayComponent=f.J,this.isCrmConnectedObject$=this.store.select(m.k2).pipe((0,_.U)(Ge=>({isCrmConnected:Ge}))),this.overlayIsOpen=!1,this.openedOnInit=!1}ngOnInit(){this.overlayPayload={contactState:this.contactState,organizationId:this.organizationId}}ngAfterViewChecked(){this.openOnInit&&!this.openedOnInit&&(this.element.nativeElement.querySelector("button").click(),this.store.dispatch((0,u.M5)()),this.openedOnInit=!0)}showConnectToSalesforceDialog(){this.pushContactToSalesforceService.showPreConnectDialog()}overlayToggled(be){this.overlayIsOpen=be}}return xe.\u0275fac=function(be){return new(be||xe)(e.Y36(d.u),e.Y36(n.f),e.Y36(g.Q),e.Y36(a.yh),e.Y36(e.SBq))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["contacts-card-sf-push-button"]],inputs:{contactState:"contactState",organizationId:"organizationId",showUpsell:"showUpsell",isLocked:"isLocked",openOnInit:"openOnInit"},outputs:{lockedClick:"lockedClick"},decls:2,vars:2,consts:[[4,"ngIf"],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellTriggerLocation","upsellShowDetails",4,"ngIf"],["lockedButton",""],["mat-icon-button","","data-cy","push-to-lead-button","data-heap-contact-push-lead","",3,"matTooltip","overlayWithArrow","overlayPayload","overlayScrollStrategy","overlayDisabled","icon-button-active","overlayToggled","click",4,"ngIf","ngIfElse"],["mat-icon-button","","data-cy","push-to-lead-button","data-heap-contact-push-lead","",3,"matTooltip","overlayWithArrow","overlayPayload","overlayScrollStrategy","overlayDisabled","overlayToggled","click"],["themeId","salesforce","color","theme"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellTriggerLocation","upsellShowDetails"]],template:function(be,se){1&be&&(e.YNc(0,H,5,3,"ng-container",0),e.YNc(1,K,4,9,"button",1)),2&be&&(e.Q6J("ngIf",!se.showUpsell),e.xp6(1),e.Q6J("ngIf",se.showUpsell))},directives:[l.O5,v.lW,y.gM,S.a,A.p,x.k],pipes:[l.Ov],styles:[".icon-button-active[_ngcontent-%COMP%]{background-color:#e3e7e9}"],changeDetection:0}),xe})();var z=t(55940),ee=t(23148),Z=t(2384),G=t(35768),J=t(74929);function le(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",6),e.NdJ("overlayToggled",function(Oe){return e.CHM(be),e.oxw(3).overlayToggled(Oe)}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"theme-icon",7),e.qZA()}if(2&xe){const be=e.oxw(3);e.ekj("icon-button-active",be.overlayIsOpen),e.Q6J("matTooltip",e.lcZ(1,7,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH"))("overlayWithArrow",be.outreachOverlayComponent)("overlayPayload",be.getOutreachOverlayPayload())("overlayScrollStrategy","reposition"),e.uIk("aria-label",e.lcZ(2,9,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH"))}}function V(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,le,4,11,"button",5),e.BQk()),2&xe){const be=e.oxw(2),se=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!be.isLocked)("ngIfElse",se)}}function j(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,V,2,2,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&xe){const be=e.oxw(),se=e.MAs(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,be.isOutreachConnected$))("ngIfElse",se)}}function M(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(be),e.oxw(2).showOutreachConnectDialog()}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"theme-icon",7),e.qZA()}2&xe&&(e.Q6J("matTooltip",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH")),e.uIk("aria-label",e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH")))}function ie(xe,Ne){if(1&xe&&e.YNc(0,M,4,6,"button",8),2&xe){const be=e.oxw(),se=e.MAs(4);e.Q6J("ngIf",!be.isLocked)("ngIfElse",se)}}function te(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(be),e.oxw().lockedClick.emit()}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"theme-icon",7),e.qZA()}2&xe&&(e.Q6J("matTooltip",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.UNLOCK_AND_OUTREACH")),e.uIk("aria-label",e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.UNLOCK_AND_OUTREACH")))}function re(xe,Ne){1&xe&&(e.TgZ(0,"button",10),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"theme-icon",11),e.qZA()),2&xe&&(e.Q6J("matTooltip",e.lcZ(1,5,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH"))("upsellTrigger","outreach")("upsellShowDetails",!0),e.uIk("aria-label",e.lcZ(2,7,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH")),e.xp6(3),e.Q6J("color","theme"))}let q=(()=>{class xe{constructor(be,se,Oe){this.store=be,this.dialogService=se,this.element=Oe,this.showUpsell=!1,this.isLocked=!1,this.openOnInit=!1,this.lockedClick=new e.vpe,this.outreachOverlayComponent=z.a,this.isOutreachConnected$=this.store.select(ee.kO),this.overlayIsOpen=!1,this.openedOnInit=!1}ngAfterViewChecked(){this.openOnInit&&!this.openedOnInit&&(this.element.nativeElement.querySelector("button").click(),this.store.dispatch((0,u.M5)()),this.openedOnInit=!0)}getOutreachOverlayPayload(){return{contactState:this.contactState,organizationId:this.organizationId}}showOutreachConnectDialog(){this.dialogService.showDialog(G.K)}overlayToggled(be){this.overlayIsOpen=be}}return xe.\u0275fac=function(be){return new(be||xe)(e.Y36(a.yh),e.Y36(Z.x),e.Y36(e.SBq))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["contacts-card-outreach-button"]],inputs:{contactState:"contactState",organizationId:"organizationId",showUpsell:"showUpsell",isLocked:"isLocked",openOnInit:"openOnInit"},outputs:{lockedClick:"lockedClick"},decls:6,vars:2,consts:[[4,"ngIf"],["connectOutreach",""],["lockedButton",""],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellShowDetails",4,"ngIf"],[4,"ngIf","ngIfElse"],["mat-icon-button","",3,"matTooltip","overlayWithArrow","overlayPayload","overlayScrollStrategy","icon-button-active","overlayToggled",4,"ngIf","ngIfElse"],["mat-icon-button","",3,"matTooltip","overlayWithArrow","overlayPayload","overlayScrollStrategy","overlayToggled"],["themeId","outreach","color","theme"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf","ngIfElse"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellShowDetails"],["themeId","outreach",3,"color"]],template:function(be,se){1&be&&(e.YNc(0,j,3,4,"ng-container",0),e.YNc(1,ie,1,2,"ng-template",null,1,e.W1O),e.YNc(3,te,4,6,"ng-template",null,2,e.W1O),e.YNc(5,re,4,9,"button",3)),2&be&&(e.Q6J("ngIf",!se.showUpsell),e.xp6(5),e.Q6J("ngIf",se.showUpsell))},directives:[l.O5,v.lW,y.gM,S.a,A.p,x.k],pipes:[l.Ov,J.X],styles:[".icon-button-active[_ngcontent-%COMP%]{background-color:#e3e7e9}"],changeDetection:0}),xe})();var U=t(70821),k=t(32478);function w(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(be),e.oxw(2).sendEmail()}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"icon",5),e.qZA()}2&xe&&(e.Q6J("matTooltip",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SEND_EMAIL")),e.uIk("aria-label",e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SEND_EMAIL")))}function Q(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,w,4,6,"button",3),e.BQk()),2&xe){const be=e.oxw(),se=e.MAs(2);e.xp6(1),e.Q6J("ngIf",!be.isLocked)("ngIfElse",se)}}function $(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(be),e.oxw().lockedClick.emit()}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"icon",5),e.qZA()}2&xe&&(e.Q6J("matTooltip",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.UNLOCK_AND_EMAIL")),e.uIk("aria-label",e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.UNLOCK_AND_EMAIL")))}function X(xe,Ne){1&xe&&(e.TgZ(0,"button",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"icon",8),e.qZA()),2&xe&&(e.Q6J("matTooltip",e.lcZ(1,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SEND_EMAIL"))("upsellTrigger","engage")("upsellShowDetails",!0),e.uIk("aria-label",e.lcZ(2,6,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SEND_EMAIL")))}let Ce=(()=>{class xe{constructor(be,se){this.engageService=be,this.store=se,this.showUpsell=!1,this.isLocked=!1,this.openOnInit=!1,this.lockedClick=new e.vpe}ngOnChanges(){var be,se;this.openOnInit&&(null===(se=null===(be=this.contactState)||void 0===be?void 0:be.contact)||void 0===se?void 0:se.uuid)&&this.organizationId&&(this.sendEmail(),this.store.dispatch((0,u.M5)()))}sendEmail(){this.engageService.sendEmail(this.contactState.contact.uuid,this.organizationId)}}return xe.\u0275fac=function(be){return new(be||xe)(e.Y36(U.q7),e.Y36(a.yh))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["contacts-card-engage-button"]],inputs:{contactState:"contactState",organizationId:"organizationId",showUpsell:"showUpsell",isLocked:"isLocked",openOnInit:"openOnInit"},outputs:{lockedClick:"lockedClick"},features:[e.TTD],decls:4,vars:2,consts:[[4,"ngIf"],["lockedButton",""],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellShowDetails",4,"ngIf"],["mat-icon-button","","data-heap-contact-send-email","",3,"matTooltip","click",4,"ngIf","ngIfElse"],["mat-icon-button","","data-heap-contact-send-email","",3,"matTooltip","click"],["key","icon_engage","color","accent"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellShowDetails"],["key","icon_engage"]],template:function(be,se){1&be&&(e.YNc(0,Q,2,2,"ng-container",0),e.YNc(1,$,4,6,"ng-template",null,1,e.W1O),e.YNc(3,X,4,8,"button",2)),2&be&&(e.Q6J("ngIf",!se.showUpsell),e.xp6(3),e.Q6J("ngIf",se.showUpsell))},directives:[l.O5,v.lW,y.gM,k.o,x.k],pipes:[J.X],encapsulation:2,changeDetection:0}),xe})();function ye(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"contacts-card-unlock-button",4),e.NdJ("onClick",function(){return e.CHM(be),e.oxw().onUnlockClick.emit()}),e.qZA()}if(2&xe){const be=e.oxw();e.Q6J("contactState",be.contactState)("contactIsUnlocking",be.contactIsUnlocking)("contactsLoading",be.contactsLoading)("anyContactIsUnlocking",be.anyContactIsUnlocking)}}function ue(xe,Ne){if(1&xe&&e._UZ(0,"save-to-list-button",5),2&xe){const be=e.oxw();e.Q6J("entityId",be.contactState.contact.uuid)("entityDefId",be.contactsEntityDef)}}function Me(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"contacts-card-sf-push-button",9),e.NdJ("lockedClick",function(){return e.CHM(be),e.oxw(3).onUnlockClick.emit("salesforce-button")}),e.ALo(1,"async"),e.qZA()}if(2&xe){const be=e.oxw(2).ngIf,se=e.oxw();e.Q6J("contactState",se.contactState)("organizationId",se.organizationId)("isLocked","locked"===be.salesforce)("showUpsell","upsell"===be.salesforce)("openOnInit","salesforce-button"===e.lcZ(1,5,se.openOnInit$))}}function me(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"contacts-card-outreach-button",9),e.NdJ("lockedClick",function(){return e.CHM(be),e.oxw(3).onUnlockClick.emit("outreach-button")}),e.ALo(1,"async"),e.qZA()}if(2&xe){const be=e.oxw(2).ngIf,se=e.oxw();e.Q6J("contactState",se.contactState)("organizationId",se.organizationId)("isLocked","locked"===be.outreach)("showUpsell","upsell"===be.outreach)("openOnInit","outreach-button"===e.lcZ(1,5,se.openOnInit$))}}function ve(xe,Ne){if(1&xe){const be=e.EpF();e.TgZ(0,"contacts-card-engage-button",9),e.NdJ("lockedClick",function(){return e.CHM(be),e.oxw(3).onUnlockClick.emit("engage-button")}),e.ALo(1,"async"),e.qZA()}if(2&xe){const be=e.oxw(2).ngIf,se=e.oxw();e.Q6J("contactState",se.contactState)("organizationId",se.organizationId)("isLocked","locked"===be.engage)("showUpsell","upsell"===be.engage)("openOnInit","engage-button"===e.lcZ(1,5,se.openOnInit$))}}function ze(xe,Ne){if(1&xe&&(e.TgZ(0,"div",7),e.YNc(1,Me,2,7,"contacts-card-sf-push-button",8),e.YNc(2,me,2,7,"contacts-card-outreach-button",8),e.YNc(3,ve,2,7,"contacts-card-engage-button",8),e.qZA()),2&xe){const be=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf","hidden"!==be.salesforce),e.xp6(1),e.Q6J("ngIf","hidden"!==be.outreach),e.xp6(1),e.Q6J("ngIf","hidden"!==be.engage)}}function tt(xe,Ne){if(1&xe&&(e.ynx(0),e.YNc(1,ze,4,3,"div",6),e.BQk()),2&xe){const be=Ne.ngIf;e.xp6(1),e.Q6J("ngIf",be.hasActions)}}let ht=(()=>{class xe{constructor(be,se,Oe){this.contactsActionsStateService=be,this.store=se,this.syntheticMetadataService=Oe,this.onUnlockClick=new e.vpe,this.contactIsUnlockable=!1,this.contactHasAnyDetail=!1,this.canSave=!1,this.contactsEntityDef=this.syntheticMetadataService.getContactsSearchProperties().contactEntityDefId}ngOnChanges(be){be.contactState&&(this.contactIsUnlockable=(0,i.Od)(this.contactState),this.buttonsState$=this.contactsActionsStateService.getButtonsState(this.contactState),this.canSave=(0,i.OX)(this.contactState),this.openOnInit$=this.store.select(u.Hm).pipe((0,c.q)(1),(0,C.h)(se=>se.contactId===this.contactState.contact.uuid),(0,_.U)(se=>se.triggerLocation)))}}return xe.\u0275fac=function(be){return new(be||xe)(e.Y36(p.J),e.Y36(a.yh),e.Y36(E.Y))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["contacts-card-actions"]],inputs:{contactState:"contactState",contactIsUnlocking:"contactIsUnlocking",contactsLoading:"contactsLoading",anyContactIsUnlocking:"anyContactIsUnlocking",organizationId:"organizationId"},outputs:{onUnlockClick:"onUnlockClick"},features:[e.TTD],decls:5,vars:5,consts:[[1,"buttons-container"],[3,"contactState","contactIsUnlocking","contactsLoading","anyContactIsUnlocking","onClick",4,"ngIf"],[3,"entityId","entityDefId",4,"ngIf"],[4,"ngIf"],[3,"contactState","contactIsUnlocking","contactsLoading","anyContactIsUnlocking","onClick"],[3,"entityId","entityDefId"],["class","icon-buttons-container",4,"ngIf"],[1,"icon-buttons-container"],[3,"contactState","organizationId","isLocked","showUpsell","openOnInit","lockedClick",4,"ngIf"],[3,"contactState","organizationId","isLocked","showUpsell","openOnInit","lockedClick"]],template:function(be,se){1&be&&(e.TgZ(0,"div",0),e.YNc(1,ye,1,4,"contacts-card-unlock-button",1),e.YNc(2,ue,1,2,"save-to-list-button",2),e.qZA(),e.YNc(3,tt,2,1,"ng-container",3),e.ALo(4,"async")),2&be&&(e.xp6(1),e.Q6J("ngIf",se.contactIsUnlockable),e.xp6(1),e.Q6J("ngIf",se.canSave),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,3,se.buttonsState$)))},directives:[l.O5,r.K,o.z,P,q,Ce],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]  button:not([mat-icon-button]){min-width:124px!important}.buttons-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-top:4px}save-to-list-button[_ngcontent-%COMP%]{display:block}.icon-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex:1}@media (min-width: 600px){[_nghost-%COMP%]{flex-direction:column}.icon-buttons-container[_ngcontent-%COMP%]{width:124px;margin-top:8px;justify-content:space-evenly;flex:auto}}"],changeDetection:0}),xe})()},81212:(ne,b,t)=>{t.d(b,{K:()=>n});var e=t(3184),i=t(3531),u=t(86942),c=t(843),C=t(36362),_=t(87317),p=t(74160),E=t(74742),a=t(43652),l=t(74929);function r(g,f){1&g&&e._UZ(0,"mat-spinner",5),2&g&&e.Q6J("diameter",16)}function o(g,f){if(1&g){const m=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){return e.CHM(m),e.oxw().onClick.emit()}),e.TgZ(1,"label-with-icon",3),e.YNc(2,r,1,1,"mat-spinner",4),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&g){const m=e.oxw();e.Q6J("color","primary")("disabled",m.contactsLoading||m.anyContactIsUnlocking),e.xp6(1),e.Q6J("iconKey",m.contactIsUnlocking?void 0:"icon_eye_open"),e.xp6(1),e.Q6J("ngIf",m.contactIsUnlocking),e.xp6(1),e.hij(" ",e.lcZ(4,5,m.contactIsUpdatable?"CBL.ENTITY.CONTACTS_CARD.UNLOCK_UPDATE":m.unlockLabelKey)," ")}}function d(g,f){if(1&g&&(e.TgZ(0,"upsell-modal-button",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&g){const m=e.oxw();e.Q6J("showDetails",!0)("showLogin",m.upsellShowLogin)("showCancel",m.upsellShowCancel),e.xp6(1),e.hij(" ",e.lcZ(2,4,m.unlockLabelKey),"\n")}}let n=(()=>{class g{constructor(m){this.permissionService=m,this.unlockLabelKey="CBL.COMMON.VIEW",this.upsellShowLogin=!1,this.upsellShowCancel=!1,this.onClick=new e.vpe,this.canUnlockContacts$=this.permissionService.getPermissions().pipe((0,u.U)(v=>v.canUnlockContacts()))}ngOnChanges(m){m.contactState&&(this.contactIsUpdatable=(0,i.XF)(this.contactState))}}return g.\u0275fac=function(m){return new(m||g)(e.Y36(c.$))},g.\u0275cmp=e.Xpm({type:g,selectors:[["contacts-card-unlock-button"]],inputs:{contactState:"contactState",contactIsUnlocking:"contactIsUnlocking",contactsLoading:"contactsLoading",anyContactIsUnlocking:"anyContactIsUnlocking",unlockLabelKey:"unlockLabelKey",upsellShowLogin:"upsellShowLogin",upsellShowCancel:"upsellShowCancel"},outputs:{onClick:"onClick"},features:[e.TTD],decls:4,vars:6,consts:[["mat-stroked-button","",3,"color","disabled","click",4,"ngIf"],["featureSet","contacts_unlock_button_upgrade_from_non_pro","triggerLocation","contact-row-unlock-button","buttonType","raised",3,"showDetails","showLogin","showCancel",4,"ngIf"],["mat-stroked-button","",3,"color","disabled","click"],[3,"iconKey"],[3,"diameter",4,"ngIf"],[3,"diameter"],["featureSet","contacts_unlock_button_upgrade_from_non_pro","triggerLocation","contact-row-unlock-button","buttonType","raised",3,"showDetails","showLogin","showCancel"]],template:function(m,v){1&m&&(e.YNc(0,o,5,7,"button",0),e.ALo(1,"async"),e.YNc(2,d,3,6,"upsell-modal-button",1),e.ALo(3,"async")),2&m&&(e.Q6J("ngIf",e.lcZ(1,2,v.canUnlockContacts$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(3,4,v.canUnlockContacts$)))},directives:[C.O5,_.lW,p.d,E.Ou,a.J],pipes:[C.Ov,l.X],styles:["[_nghost-%COMP%]{display:block}mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-right:10px}"],changeDetection:0}),g})()},20979:(ne,b,t)=>{t.d(b,{x:()=>a});var e=t(81824),i=t(83910),u=t(86942),c=t(3184),C=t(35585),_=t(32478),p=t(29641),E=t(36362);let a=(()=>{class l{constructor(o){this.store=o,this.meterType1Max$=this.store.select(e.pv).pipe((0,i.q)(1),(0,u.U)(d=>({quantity:d})))}}return l.\u0275fac=function(o){return new(o||l)(c.Y36(C.yh))},l.\u0275cmp=c.Xpm({type:l,selectors:[["contacts-banner"]],decls:3,vars:3,consts:[["color","inherit","size","text","key","icon_info_outline"],["key","CBL.ENTITY.CONTACTS_CARD.BANNER",3,"values"]],template:function(o,d){1&o&&(c._UZ(0,"icon",0)(1,"markup-label",1),c.ALo(2,"async")),2&o&&(c.xp6(1),c.Q6J("values",c.lcZ(2,1,d.meterType1Max$)))},directives:[_.o,p.x],pipes:[E.Ov],styles:["[_nghost-%COMP%]{display:flex;align-items:center;padding:16px 8px;border-radius:6px;background-color:#ebf7fb;border:1px solid #5bc0de}icon[_ngcontent-%COMP%]{color:#5bc0de;padding:0 8px}"],changeDetection:0}),l})()},22152:(ne,b,t)=>{t.d(b,{S:()=>v});var e=t(46195),i=t(20605),u=t(843),c=t(86942),C=t(19193),_=t(81824),p=t(3184),E=t(35585),a=t(61531),l=t(36362),r=t(87317),o=t(74160),d=t(74929);function n(y,S){if(1&y){const A=p.EpF();p.TgZ(0,"button",4),p.NdJ("click",function(){return p.CHM(A),p.oxw(3).showContactsUpsellDialog()}),p.TgZ(1,"label-with-icon",5),p._uU(2),p.ALo(3,"translate"),p.qZA()()}2&y&&(p.xp6(2),p.hij(" ",p.lcZ(3,1,"CBL.UPSELL.GET_MORE")," "))}function g(y,S){if(1&y){const A=p.EpF();p.TgZ(0,"button",6),p.NdJ("click",function(){return p.CHM(A),p.oxw(3).showContactsUpsellDialog()}),p.TgZ(1,"label-with-icon",5),p._uU(2),p.ALo(3,"translate"),p.qZA()()}2&y&&(p.xp6(2),p.hij(" ",p.lcZ(3,1,"CBL.UPSELL.GET_MORE")," "))}function f(y,S){if(1&y&&(p.ynx(0),p.YNc(1,n,4,3,"button",2),p.YNc(2,g,4,3,"button",3),p.BQk()),2&y){const A=p.oxw(2);p.xp6(1),p.Q6J("ngIf","stroked"===A.buttonStyle),p.xp6(1),p.Q6J("ngIf","basic"===A.buttonStyle)}}function m(y,S){if(1&y&&(p.ynx(0),p.YNc(1,f,3,2,"ng-container",1),p.ALo(2,"async"),p.BQk()),2&y){const A=p.oxw();p.xp6(1),p.Q6J("ngIf",p.lcZ(2,1,A.canSeeGetMoreButton$))}}let v=(()=>{class y{constructor(A,x){this.store=A,this.permissionService=x,this.maintenanceModeBillingFlag=i.TT.MAINTENANCE_MODE_BILLING}ngOnInit(){const A=this.permissionService.getPermissions().pipe((0,c.U)(R=>R.canUseContactsAddon())),x=this.store.select(_.n0);this.canSeeGetMoreButton$=(0,C.aj)([A,x]).pipe((0,c.U)(([R,s])=>!(!R||s)))}showContactsUpsellDialog(){this.store.dispatch((0,e.cN)())}}return y.\u0275fac=function(A){return new(A||y)(p.Y36(E.yh),p.Y36(u.$))},y.\u0275cmp=p.Xpm({type:y,selectors:[["contacts-meter-upsell-button"]],inputs:{buttonStyle:"buttonStyle"},decls:1,vars:1,consts:[[4,"ifNotFeatureFlagBoolean"],[4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],["iconKey","icon_pro_lightning","iconColor","pro-gold"],["mat-button","",3,"click"]],template:function(A,x){1&A&&p.YNc(0,m,3,3,"ng-container",0),2&A&&p.Q6J("ifNotFeatureFlagBoolean",x.maintenanceModeBillingFlag)},directives:[a.l,l.O5,r.lW,o.d],pipes:[l.Ov,d.X],styles:["button.mat-stroked-button[_ngcontent-%COMP%]{border-color:#f5a623}@media (min-width: 960px){button.mat-stroked-button[_ngcontent-%COMP%], upsell-modal-button[_ngcontent-%COMP%]{margin-left:20px}}"],changeDetection:0}),y})()},33550:(ne,b,t)=>{t.d(b,{w:()=>P});var e=t(3184),i=t(23216),u=t(4143),c=t(75215),C=t(92218),_=t(25848),p=t(35585),E=t(36362),a=t(43188),l=t(91434),r=t(1130),o=t(3542),d=t(66281),n=t(61534),g=t(92434),f=t(69489),m=t(74160),v=t(74929);function y(z,ee){if(1&z&&(e.TgZ(0,"mat-option",10),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&z){const Z=ee.$implicit;e.Q6J("value",Z.key),e.xp6(1),e.hij(" ",e.lcZ(2,2,Z.value.optionLabel)," ")}}const S=function(z){return[z]};function A(z,ee){if(1&z){const Z=e.EpF();e.TgZ(0,"entity-input",11),e.NdJ("chosenEntity",function(J){return e.CHM(Z),e.oxw().addDynamicSearchValue(J)}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.qZA()}if(2&z){const Z=e.oxw(),G=e.MAs(2);e.Q6J("collectionIds",e.VKq(10,S,Z.searchOption.collectionId))("parentId",Z.orgUuid)("excludedUuids",Z.excludeUuids)("dropdownOrigin",G)("ariaLabel",e.lcZ(1,6,"CBL.ENTITY.CONTACTS_CARD.SEARCH_VALUE_INPUT_ARIA_LABEL"))("placeholder",e.lcZ(2,8,"CBL.ENTITY.CONTACTS_CARD.SEARCH_PLACEHOLDER"))}}function x(z,ee){if(1&z){const Z=e.EpF();e.TgZ(0,"multi-select-input",12),e.NdJ("valueChange",function(J){return e.CHM(Z),e.oxw().updateSelectedStaticSearchValues(J)}),e.ALo(1,"translate"),e.qZA()}if(2&z){const Z=e.oxw(),G=e.MAs(2);e.Q6J("options",Z.staticValues)("selectedOptions",Z.selectedStaticValues)("placeholder",e.lcZ(1,5,"CBL.ENTITY.CONTACTS_CARD.SEARCH_PLACEHOLDER"))("icon","icon_search")("dropdownOrigin",G)}}function R(z,ee){if(1&z){const Z=e.EpF();e.TgZ(0,"mat-checkbox",13),e.NdJ("change",function(J){return e.CHM(Z),e.oxw().toggleOnlyUnlockedContacts(J)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&z&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.SHOW_ONLY_UNLOCKED_CONTACTS")))}function s(z,ee){if(1&z){const Z=e.EpF();e.ynx(0),e.TgZ(1,"chip",15),e.NdJ("remove",function(){const le=e.CHM(Z).$implicit;return e.oxw(2).removeSearchValue(le)}),e._uU(2),e.qZA(),e.BQk()}if(2&z){const Z=ee.$implicit;e.xp6(1),e.Q6J("removable",!0),e.xp6(1),e.Oqu(Z.value)}}function h(z,ee){if(1&z&&(e.TgZ(0,"chips-container"),e.YNc(1,s,3,2,"ng-container",14),e.qZA()),2&z){const Z=e.oxw();e.xp6(1),e.Q6J("ngForOf",Z.searchValues)}}function H(z,ee){1&z&&(e.TgZ(0,"div",16)(1,"label-with-icon",17),e.SDv(2,18),e.qZA()())}const K=function(z){return{"static-search":z}};let P=(()=>{class z{constructor(Z,G,J,le){this.store=Z,this.contactsService=G,this.metadataService=J,this.syntheticMetadataService=le,this.onSetSearchOptionKey=new e.vpe,this.onAddSearchValue=new e.vpe,this.onUpdateSelectedStaticSearchValues=new e.vpe,this.onRemoveSearchValue=new e.vpe,this.onToggleOnlyUnlockedContacts=new e.vpe,this.contactsSearchOptions=i.JH,this.staticValues=[],this.selectedStaticValues=[],this.canViewUnlockedContacts=this.contactsService.canSearchPrivateContactItems(),this.contactCollectionId=this.syntheticMetadataService.getContactsSearchProperties().contactCollectionId,this.onDestroy$=new C.xQ}ngOnChanges(Z){Z.searchOption&&(this.searchOption.hasDynamicOptions||this.setStaticSearchValues(this.searchOption))}ngOnDestroy(){this.onDestroy$.next()}setSearchOptionKey(Z,G){this.onSetSearchOptionKey.emit(Z.value),this.selectedStaticValues=[]}addDynamicSearchValue(Z){this.onAddSearchValue.emit(Z.identifier)}updateSelectedStaticSearchValues(Z){this.onUpdateSelectedStaticSearchValues.emit(Z.map(G=>({uuid:"",entity_def_id:"",value:G.value})))}removeSearchValue(Z){this.onRemoveSearchValue.emit(Z)}toggleOnlyUnlockedContacts(Z){this.onToggleOnlyUnlockedContacts.emit(Z.checked)}setStaticSearchValues(Z){const G=this.metadataService.getField(this.contactCollectionId,Z.predicate.field_id),J=(null==G?void 0:G.labels)&&(null==G?void 0:G.labels.values)||{};this.staticValues=((null==G?void 0:G.values)&&(null==G?void 0:G.values.list)||[]).map(V=>({value:V,label:J[V]||V}))}}return z.\u0275fac=function(Z){return new(Z||z)(e.Y36(p.yh),e.Y36(u.P),e.Y36(c.Do),e.Y36(_.Y))},z.\u0275cmp=e.Xpm({type:z,selectors:[["contacts-search"]],inputs:{showShowMyContactsCheckbox:"showShowMyContactsCheckbox",orgUuid:"orgUuid",searchOption:"searchOption",searchOptionKey:"searchOptionKey",searchValues:"searchValues",excludeUuids:"excludeUuids",searchLoadingError:"searchLoadingError"},outputs:{onSetSearchOptionKey:"onSetSearchOptionKey",onAddSearchValue:"onAddSearchValue",onUpdateSelectedStaticSearchValues:"onUpdateSelectedStaticSearchValues",onRemoveSearchValue:"onRemoveSearchValue",onToggleOnlyUnlockedContacts:"onToggleOnlyUnlockedContacts"},features:[e.TTD],decls:12,vars:15,consts:function(){let ee;return ee=$localize`:␟e60891dabc3d44459df5b5249f6540612bcf1d17␟6628263359932316931: We encountered an issue while searching, please try again `,[[1,"searchbar-row",3,"ngClass"],["matAutocompleteOrigin","",1,"searchbar"],["dropdownOrigin","matAutocompleteOrigin"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",3,"collectionIds","parentId","excludedUuids","dropdownOrigin","ariaLabel","placeholder","chosenEntity",4,"ngIf"],[3,"options","selectedOptions","placeholder","icon","dropdownOrigin","valueChange",4,"ngIf"],["labelPosition","before",3,"change",4,"ngIf"],[4,"ngIf"],["class","results-error",4,"ngIf"],[3,"value"],["appearance","outline",3,"collectionIds","parentId","excludedUuids","dropdownOrigin","ariaLabel","placeholder","chosenEntity"],[3,"options","selectedOptions","placeholder","icon","dropdownOrigin","valueChange"],["labelPosition","before",3,"change"],[4,"ngFor","ngForOf"],[3,"removable","remove"],[1,"results-error"],["iconKey","icon_exclamation_enclosed_round","iconColor","warn","iconSize","text"],ee]},template:function(Z,G){1&Z&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"mat-select",3),e.NdJ("selectionChange",function(le){return G.setSearchOptionKey(le,G.searchOption)}),e.ALo(4,"translate"),e.YNc(5,y,3,4,"mat-option",4),e.ALo(6,"keyvalue"),e.qZA(),e.YNc(7,A,3,12,"entity-input",5),e.YNc(8,x,2,7,"multi-select-input",6),e.qZA(),e.YNc(9,R,3,3,"mat-checkbox",7),e.qZA(),e.YNc(10,h,2,1,"chips-container",8),e.YNc(11,H,3,0,"div",9)),2&Z&&(e.Q6J("ngClass",e.VKq(13,K,!G.searchOption.hasDynamicOptions)),e.xp6(3),e.Q6J("value",G.searchOptionKey),e.uIk("aria-label",e.lcZ(4,9,"CBL.ENTITY.CONTACTS_CARD.SEARCH_OPTION_INPUT_ARIA_LABEL")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,11,G.contactsSearchOptions)),e.xp6(2),e.Q6J("ngIf",G.searchOption.hasDynamicOptions),e.xp6(1),e.Q6J("ngIf",!G.searchOption.hasDynamicOptions),e.xp6(1),e.Q6J("ngIf",G.canViewUnlockedContacts&&G.showShowMyContactsCheckbox),e.xp6(1),e.Q6J("ngIf",G.searchOption.hasDynamicOptions),e.xp6(1),e.Q6J("ngIf",G.searchLoadingError))},directives:[E.mk,a.BU,l.gD,E.sg,r.ey,E.O5,o.j,d.e,n.oG,g.O,f.Y,m.d],pipes:[v.X,E.Nd],styles:["chips-container[_ngcontent-%COMP%]{min-height:20px;margin-right:0}.searchbar-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 600px){.searchbar-row[_ngcontent-%COMP%]{flex-direction:row}}.static-search[_ngcontent-%COMP%]{padding-bottom:20px}.searchbar[_ngcontent-%COMP%]{display:flex;flex:1}@media (min-width: 600px){.searchbar[_ngcontent-%COMP%]{flex:2}}multi-select-input[_ngcontent-%COMP%]{flex:2;max-width:340px;min-width:0px;border:1px rgba(0,0,0,.12) solid;border-radius:0 5px 5px 0;padding:0 8px;height:auto}multi-select-input[_ngcontent-%COMP%]  chip{margin-top:4px;margin-bottom:4px}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-infix{width:auto;border-top:4px solid transparent}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-infix input{min-width:0px}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-prefix{padding-top:8px}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-flex{align-items:center}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-underline, multi-select-input[_ngcontent-%COMP%]  .mat-form-field-ripple{height:0px}entity-input[_ngcontent-%COMP%]{max-width:340px;height:36px;flex:2}entity-input[_ngcontent-%COMP%]  .mat-form-field-outline-start{border-radius:unset}entity-input[_ngcontent-%COMP%]  mat-form-field, entity-input[_ngcontent-%COMP%]  .mat-form-field-infix, entity-input[_ngcontent-%COMP%]  .mat-form-field-outline, entity-input[_ngcontent-%COMP%]  .mat-form-field-flex{height:36px!important}entity-input[_ngcontent-%COMP%]  .mat-form-field-flex{align-items:center}entity-input[_ngcontent-%COMP%]  .mat-form-field-infix{width:auto}entity-input[_ngcontent-%COMP%]  .mat-form-field-suffix{display:none}mat-select[_ngcontent-%COMP%]{max-width:130px;height:36px;padding:0 16px;flex:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;background-color:#0000000d;text-transform:capitalize;border:1px rgba(0,0,0,.12) solid;border-radius:5px 0 0 5px;border-right:unset}mat-select[_ngcontent-%COMP%]     .mat-select-value{display:inline}mat-checkbox[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end;align-items:center;padding:20px 0 20px 20px}@media (min-width: 600px){mat-checkbox[_ngcontent-%COMP%]{padding:0 0 0 8px}}"],changeDetection:0}),z})()},87555:(ne,b,t)=>{t.d(b,{kB:()=>i,OX:()=>u,Jn:()=>c,SN:()=>C,T2:()=>_,bq:()=>p,Od:()=>E,XF:()=>a,Gf:()=>l,S7:()=>r,Vn:()=>o,j4:()=>d});var e=t(70377);function i(n){return n?n.details:[]}function u(n){return i(n).some(g=>g.lockType===e.bw.UNLOCKED)}function c(n){return i(n).length>0}function C(n){return i(n).some(g=>g.methodType===e.$U.EMAIL)}function _(n){return i(n).some(g=>g.lockType===e.bw.UNLOCKED&&g.methodType===e.$U.EMAIL)}function p(n){const g=i(n).filter(f=>f.lockType===e.bw.LOCKED).map(f=>f.itemId);return Array.from(new Set(g))}function E(n){return!!p(n).length}function a(n){const g=i(n),f=g.some(v=>v.lockType===e.bw.LOCKED),m=g.some(v=>v.lockType===e.bw.UNLOCKED);return f&&m}function l(n){return i(n).filter(g=>g.methodType===e.$U.EMAIL).length}function r(n){return i(n).filter(g=>g.methodType===e.$U.PHONE).length}function o(n){return i(n).filter(g=>g.lockType===e.bw.LOCKED&&g.methodType===e.$U.EMAIL).length}function d(n){return i(n).filter(g=>g.lockType===e.bw.LOCKED&&g.methodType===e.$U.PHONE).length}},23216:(ne,b,t)=>{t.d(b,{pU:()=>i,_h:()=>u,Qj:()=>c,JH:()=>_,LK:()=>p,fg:()=>E});var e=t(93443);const i="contacts",u=10,c="JOB_DEPARTMENT",_={NAME:{optionLabel:"CBL.ENTITY.CONTACTS_CARD.SEARCH_OPTIONS.NAME",collectionId:"contact.org_has_contact.forward",hasDynamicOptions:!0,predicate:{type:e.V7.TypeEnum.predicate,field_id:"identifier",operator_id:"includes"}},JOB_TITLE:{optionLabel:"CBL.ENTITY.CONTACTS_CARD.SEARCH_OPTIONS.JOB_TITLE",collectionId:"job_title.org_has_contact_job_title.forward",hasDynamicOptions:!0,predicate:{type:e.V7.TypeEnum.predicate,field_id:"job_titles",operator_id:"includes"}},JOB_DEPARTMENT:{optionLabel:"CBL.ENTITY.CONTACTS_CARD.SEARCH_OPTIONS.JOB_DEPARTMENT",collectionId:"",hasDynamicOptions:!1,predicate:{type:e.V7.TypeEnum.predicate,field_id:"job_departments",operator_id:"includes"}}},p={type:e.V7.TypeEnum.predicate,field_id:"num_contact_items",operator_id:"gte",values:[1]},E={type:e.V7.TypeEnum.predicate,field_id:"num_private_contact_items",operator_id:"gte",values:[1]}},70377:(ne,b,t)=>{t.d(b,{BB:()=>e,bw:()=>i,$U:()=>u,NA:()=>c});var e=(()=>{return(C=e||(e={}))[C.WORK=0]="WORK",C[C.PERSONAL=1]="PERSONAL",e;var C})(),i=(()=>{return(C=i||(i={}))[C.LOCKED=0]="LOCKED",C[C.UNLOCKED=1]="UNLOCKED",i;var C})(),u=(()=>{return(C=u||(u={}))[C.EMAIL=0]="EMAIL",C[C.PHONE=1]="PHONE",u;var C})(),c=(()=>{return(C=c||(c={})).NOT_INITIALIZED="Not Initialized",C.INITIAL_LOADING="Initial Loading",C.INITIAL_LOADING_ERROR="Initial Loading Error",C.INITIAL_LOADED="Initial Loaded",C.VIEW_MORE_LOADING="View More Loading",C.VIEW_MORE_LOADING_ERROR="View More Loading Error",C.VIEW_MORE_LOADED="View More Loaded",C.SEARCH_LOADING="Search Loading",C.SEARCH_LOADING_ERROR="Search Loading Error",C.SEARCH_LOADED="Search Loaded",c;var C})()},67858:(ne,b,t)=>{t.d(b,{Y:()=>we});var e=t(36362),i=t(90587),u=t(90898),c=t(45857),C=t(35503),_=t(32519),p=t(32313),E=t(31156),a=t(93293),l=t(69287),r=t(48611),o=t(89250),d=t(83447),n=t(35585),g=t(65112),f=t(23216),m=t(5419),v=t(70377);const y={orgUuid:void 0,totalInQuery:0,searchOptionKey:f.Qj,contactsStates:[],searchValues:[],showOnlyUnlockedContacts:!1,status:v.NA.NOT_INITIALIZED},S=(0,n.Lq)(y,(0,n.on)(m.hW,(Ue,{orgUuid:qe})=>Object.assign(Object.assign({},y),{orgUuid:qe,totalInQuery:0,contactsStates:[],status:v.NA.INITIAL_LOADING})),(0,n.on)(m.ci,(Ue,{totalInQuery:qe,contactsAndDetails:dt})=>Object.assign(Object.assign({},Ue),{totalInQuery:qe,contactsStates:dt,status:v.NA.INITIAL_LOADED})),(0,n.on)(m.wy,(Ue,{orgUuid:qe})=>Object.assign(Object.assign({},y),{orgUuid:qe,totalInQuery:0,contactsStates:[],status:v.NA.INITIAL_LOADED})),(0,n.on)(m.IK,Ue=>Object.assign(Object.assign({},Ue),{status:v.NA.INITIAL_LOADING_ERROR})),(0,n.on)(m.yX,Ue=>Object.assign(Object.assign({},Ue),{status:v.NA.VIEW_MORE_LOADING})),(0,n.on)(m.pe,(Ue,{contactsAndDetails:qe})=>Object.assign(Object.assign({},Ue),{contactsStates:[...Ue.contactsStates,...qe],status:v.NA.VIEW_MORE_LOADED})),(0,n.on)(m.T1,Ue=>Object.assign(Object.assign({},Ue),{status:v.NA.VIEW_MORE_LOADING_ERROR})),(0,n.on)(m.MJ,(Ue,{value:qe})=>Object.assign(Object.assign({},Ue),{searchValues:[...Ue.searchValues,qe],status:v.NA.SEARCH_LOADING})),(0,n.on)(m.zJ,(Ue,{value:qe})=>Object.assign(Object.assign({},Ue),{searchOptionKey:qe,searchValues:[],status:v.NA.SEARCH_LOADING})),(0,n.on)(m.UT,(Ue,{value:qe})=>Object.assign(Object.assign({},Ue),{searchValues:Ue.searchValues.filter(dt=>dt!==qe),status:v.NA.SEARCH_LOADING})),(0,n.on)(m.C_,(Ue,{values:qe})=>Object.assign(Object.assign({},Ue),{searchValues:qe,status:v.NA.SEARCH_LOADING})),(0,n.on)(m.BP,(Ue,{showOnlyUnlockedContacts:qe})=>Object.assign(Object.assign({},Ue),{showOnlyUnlockedContacts:qe,status:v.NA.SEARCH_LOADING})),(0,n.on)(m.gb,(Ue,{totalInQuery:qe,contactsAndDetails:dt})=>Object.assign(Object.assign({},Ue),{contactsStates:dt,totalInQuery:qe,status:v.NA.SEARCH_LOADED})),(0,n.on)(m.SW,Ue=>Object.assign(Object.assign({},Ue),{status:v.NA.SEARCH_LOADING_ERROR})),(0,n.on)(m.Y5,(Ue,{contactId:qe,contactDetails:dt})=>Object.assign(Object.assign({},Ue),{contactsStates:A(Ue,qe,dt)}))),A=(Ue,qe,dt)=>Ue.contactsStates.map(st=>st.contact.uuid===qe?Object.assign(Object.assign({},st),{details:dt||st.details}):st);function x(Ue,qe){return S(Ue,qe)}var R=t(64139),s=t(19193),h=t(59151),H=t(86942),K=t(59095),P=t(47418),z=t(85921),ee=t(25670),Z=t(4143),G=t(62329),J=t(23580),le=t(90808),V=t(46195),j=t(87555),M=t(3184);let ie=(()=>{class Ue{constructor(dt,st,Tt){this.action$=dt,this.contactsService=st,this.store=Tt,this.loadContacts$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(m.oD),(0,g.IC)(()=>[this.store.select(G.Nb),this.store.select(G.kD)]),(0,h.h)(([{orgUuid:St},bt,kt])=>!bt||St!==bt||kt),(0,H.U)(([{orgUuid:St,hasData:bt}])=>bt?(0,m.hW)({orgUuid:St}):(0,m.wy)({orgUuid:St})))),this.loadContactsData$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(m.hW),(0,K.w)(()=>this.getContactsResponse().pipe((0,H.U)(St=>(0,m.ci)(St)),(0,P.K)(()=>(0,R.of)((0,m.IK)())))))),this.loadMoreContacts$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(m.yX),(0,K.w)(()=>this.getContactsResponse(!0).pipe((0,H.U)(St=>(0,m.pe)({contactsAndDetails:St.contactsAndDetails})),(0,P.K)(()=>(0,R.of)((0,m.T1)())))))),this.loadContactsSearch$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(m.zJ,m.MJ,m.UT,m.C_),(0,K.w)(()=>this.getContactsResponse().pipe((0,H.U)(St=>(0,m.gb)(St)),(0,P.K)(()=>(0,R.of)((0,m.SW)())))))),this.toggleOnlyUnlockedContacts$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(m.BP),(0,K.w)(()=>this.getContactsResponse().pipe((0,H.U)(St=>(0,m.gb)(St)),(0,P.K)(()=>(0,R.of)((0,m.SW)())))))),this.clickUnlockButton$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(m.U$),(0,g.IC)(({contactId:St})=>this.store.select((0,G.aG)(St))),(0,H.U)(([{contactId:St,triggerLocation:bt},kt])=>(0,le.oY)({contactItemIds:(0,j.bq)(kt),contactId:St,triggerLocation:bt})))),this.unlockContactItemsSuccess$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(V.HM),(0,g.IC)(St=>this.store.select((0,G.iH)(St.contactId))),(0,H.U)(([{contactId:St,unlockedContactItems:bt},kt])=>{const Ut=this.contactsService.mergeWithUnlockedContact(kt,bt);return(0,m.Y5)({contactId:St,contactDetails:Ut})})))}takeUntilContactsCardLoading(){return(0,z.R)(this.action$.pipe((0,g.l4)(m.hW,m.yX,m.MJ,m.UT,m.BP,m.C_)))}getContactsResponse(dt=!1){return(0,s.aj)([this.store.select(G.Nb).pipe((0,ee.P)(J.K)),this.store.select(G.ZE).pipe((0,ee.P)()),this.store.select(G.Ys).pipe((0,ee.P)()),this.store.select(G.PQ).pipe((0,ee.P)()),this.store.select(G.pU).pipe((0,ee.P)()),this.store.select(le.WC).pipe((0,ee.P)())]).pipe((0,K.w)(([st,Tt,St,bt,kt,Ut])=>{let nn=f.JH[St],Ke={contactItemsPredicate:kt?f.fg:f.LK};return dt&&(Ke.lastContactId=Tt),bt.length&&(Ke.searchPredicate=Object.assign(Object.assign({},nn.predicate),{values:bt.map(nn.hasDynamicOptions?_t=>_t.uuid:_t=>_t.value)})),this.contactsService.getContactsResultsForOrg(st,f._h,Ke).pipe(this.takeUntilContactsCardLoading(),(0,H.U)(_t=>{var de;return{totalInQuery:_t.count?_t.count:0,contactsAndDetails:((null===(de=null==_t?void 0:_t.entities)||void 0===de?void 0:de.length)?_t.entities:[]).map(Se=>{const it=this.contactsService.getContactFromSearchEntity(Se);if(!it)return;let rt=this.contactsService.getContactItemDetailsFromSearchEntity(Se);if(!rt)return;const Dt=Ut[it.uuid];return Dt&&(rt=this.contactsService.mergeWithUnlockedContact(rt,Dt)),{contact:it,details:rt}}).filter(J.K)}}))}))}}return Ue.\u0275fac=function(dt){return new(dt||Ue)(M.LFG(g.eX),M.LFG(Z.P),M.LFG(n.yh))},Ue.\u0275prov=M.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),te=(()=>{class Ue{}return Ue.\u0275fac=function(dt){return new(dt||Ue)},Ue.\u0275mod=M.oAB({type:Ue}),Ue.\u0275inj=M.cJS({imports:[[n.Aw.forFeature(f.pU,x),g.sQ.forFeature([ie])]]}),Ue})();var re=t(70821),q=t(83e3),U=t(40337),k=t(2631),w=t(5076),Q=t(11961);let $=(()=>{class Ue{}return Ue.\u0275fac=function(dt){return new(dt||Ue)},Ue.\u0275mod=M.oAB({type:Ue}),Ue.\u0275inj=M.cJS({imports:[[e.ez,Q.QW]]}),Ue})();var X=t(40989),Ce=t(35852),ye=t(93567),ue=t(55758),Me=t(43630),me=t(11133),ve=t(10610),ze=t(83910),tt=t(13584),ht=t(23148);let xe=(()=>{class Ue{constructor(dt,st,Tt){this.action$=dt,this.store=st,this.salesEngagementApi=Tt,this.loadOutreachConnection$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(tt.Yn),(0,me.b)(()=>this.store.select(ht._0).pipe((0,ee.P)())),(0,h.h)(St=>!St),(0,ve.z)(St=>this.getOutreachConnections$().pipe((0,H.U)(bt=>(0,tt.et)({accounts:bt})),(0,P.K)(bt=>(0,R.of)((0,tt.jf)({error:bt}))))))),this.removeOutreachConnection$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(tt.rn),(0,ve.z)(({connectionId:St})=>this.deleteOutreachConnection$(St).pipe((0,H.U)(()=>(0,tt.zM)({id:St})),(0,P.K)(bt=>(0,R.of)((0,tt.xf)({error:bt}))))))),this.loadOutreachSequences$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(tt.vv),(0,g.IC)(()=>[this.store.select(ht.OH),this.store.select(ht.b2)]),(0,h.h)(([St,bt,kt])=>"loaded"!==kt),(0,ve.z)(([St,bt,kt])=>bt?this.salesEngagementApi.cbSalesEngagementUserAccountIdSequencesGet$({userAccountId:bt.id}).pipe((0,H.U)(Ut=>(0,tt.KK)({sequences:Ut})),(0,P.K)(Ut=>(0,R.of)((0,tt.bw)()))):(0,R.of)((0,tt.bw)())))),this.refreshOutreachSequences$=(0,g.GW)(()=>this.action$.pipe((0,g.l4)(tt.xD),(0,g.IC)(()=>this.store.select(ht.OH)),(0,ve.z)(([St,bt])=>bt?this.salesEngagementApi.cbSalesEngagementUserAccountIdSequencesGet$({userAccountId:bt.id,isRefresh:!0}).pipe((0,H.U)(kt=>(0,tt.X)({sequences:kt})),(0,P.K)(kt=>(0,R.of)((0,tt.Jg)()))):(0,R.of)((0,tt.Jg)()))))}getOutreachConnections$(){return this.store.select(Me.c7).pipe((0,ze.q)(1),(0,h.h)(J.K),(0,K.w)(dt=>this.salesEngagementApi.cbSalesEngagementUsersUserIdAccountsGet$({userId:dt})))}deleteOutreachConnection$(dt){return this.store.select(Me.c7).pipe((0,ze.q)(1),(0,h.h)(J.K),(0,K.w)(st=>this.salesEngagementApi.cbSalesEngagementUsersUserIdAccountsAccountIdDelete$({userId:st,accountId:dt})))}}return Ue.\u0275fac=function(dt){return new(dt||Ue)(M.LFG(g.eX),M.LFG(n.yh),M.LFG(ue.u))},Ue.\u0275prov=M.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Ne={account:void 0,connectError:void 0,disconnectError:void 0,loading:!1,loaded:!1,sequences:[],sequencesLoadStatus:"not-loaded"},be=(0,n.Lq)(Ne,(0,n.on)(Me.wt,()=>Ne),(0,n.on)(tt.Yn,Ue=>Ue.loaded?Ue:Object.assign(Object.assign({},Ue),{loading:!0})),(0,n.on)(tt.et,(Ue,{accounts:qe})=>Object.assign(Object.assign({},Ue),{account:qe.find(dt=>dt.is_active),loaded:!0,loading:!1,connectError:void 0})),(0,n.on)(tt.jf,(Ue,{error:qe})=>Object.assign(Object.assign({},Ue),{loaded:!1,loading:!1,connectError:qe})),(0,n.on)(tt.xf,(Ue,{error:qe})=>Object.assign(Object.assign({},Ue),{disconnectError:qe})),(0,n.on)(tt.zM,(Ue,{})=>Object.assign(Object.assign({},Ue),{account:void 0,disconnectError:void 0})),(0,n.on)(tt.vv,Ue=>Object.assign(Object.assign({},Ue),{sequencesLoadStatus:"loaded"===Ue.sequencesLoadStatus?"loaded":"loading"})),(0,n.on)(tt.KK,tt.X,(Ue,{sequences:qe})=>Object.assign(Object.assign({},Ue),{sequences:qe,sequencesLoadStatus:"loaded"})),(0,n.on)(tt.bw,tt.Jg,Ue=>Object.assign(Object.assign({},Ue),{sequences:[],sequencesLoadStatus:"error"})),(0,n.on)(tt.xD,Ue=>Object.assign(Object.assign({},Ue),{sequencesLoadStatus:"reloading"})));function se(Ue,qe){return be(Ue,qe)}let Oe=(()=>{class Ue{}return Ue.\u0275fac=function(dt){return new(dt||Ue)},Ue.\u0275mod=M.oAB({type:Ue}),Ue.\u0275inj=M.cJS({imports:[[n.Aw.forFeature(ye.q,se),g.sQ.forFeature([xe])]]}),Ue})();var Re=t(41773),ot=t(3531);let Ge=(()=>{class Ue{}return Ue.\u0275fac=function(dt){return new(dt||Ue)},Ue.\u0275mod=M.oAB({type:Ue}),Ue.\u0275inj=M.cJS({imports:[[e.ez,i.u5,i.UX,u.q,C.Dt,_.n,E.H,p.H,U.r,Re.A,ot.yw,o.S,u.q,$,r.y]]}),Ue})(),pt=(()=>{class Ue{}return Ue.\u0275fac=function(dt){return new(dt||Ue)},Ue.\u0275mod=M.oAB({type:Ue}),Ue.\u0275inj=M.cJS({imports:[[e.ez,i.u5,i.UX,u.q,C.Dt,_.n,p.H,Oe,o.S,u.q,Ge,w.V]]}),Ue})();var We=t(30412),Ze=t(84713),De=t(19366);let we=(()=>{class Ue{}return Ue.\u0275fac=function(dt){return new(dt||Ue)},Ue.\u0275mod=M.oAB({type:Ue}),Ue.\u0275inj=M.cJS({imports:[[le.OW,e.ez,i.u5,i.UX,u.q,C.Dt,_.n,p.H,a.I,te,E.H,l.Q,r.y,d.E,o.S,re.EW,q.S,U.r,c.Bz,k.E,w.V,$,X.R,De.L,Ce.a,pt,Ge,Ze.y,Re.A,We.l]]}),Ue})()},3531:(ne,b,t)=>{t.d(b,{yw:()=>a.y,bw:()=>e.bw,BB:()=>e.BB,$U:()=>e.$U,MJ:()=>E.MJ,U$:()=>E.U$,Jn:()=>i.Jn,OX:()=>i.OX,SN:()=>i.SN,T2:()=>i.T2,Gf:()=>i.Gf,Vn:()=>i.Vn,j4:()=>i.j4,S7:()=>i.S7,bq:()=>i.bq,Od:()=>i.Od,XF:()=>i.XF,oD:()=>E.oD,yX:()=>E.yX,UT:()=>E.UT,o:()=>u.o,H2:()=>u.H2,Fz:()=>u.Fz,Y:()=>u.Y,ai:()=>u.ai,yq:()=>u.yq,hk:()=>u.hk,af:()=>u.af,kD:()=>u.kD,Nb:()=>u.Nb,gq:()=>u.gq,o8:()=>u.o8,Yr:()=>u.Yr,Ys:()=>u.Ys,PQ:()=>u.PQ,Mi:()=>p,PB:()=>_,NH:()=>u.NH,tQ:()=>u.tQ,zJ:()=>E.zJ});var e=t(70377),i=t(87555),u=t(62329),c=t(35585),C=t(81824);const _=(0,c.P1)(C.n0,C._M,(l,r)=>!l&&r),p=(0,c.P1)(_,C.pv,C.HM,(l,r,o)=>!l&&!!r&&!o);var E=t(5419),a=t(84713)},88629:(ne,b,t)=>{t.d(b,{J:()=>h});var e=t(61456),i=t(90587),u=t(18052),c=t(64139),C=t(47418),_=t(53298),p=t(46179),E=t(3184),a=t(36362),l=t(32478),r=t(20757),o=t(80670),d=t(7549),n=t(74742),g=t(87317),f=t(74929);function m(H,K){1&H&&(E.TgZ(0,"span"),E._uU(1),E.ALo(2,"translate"),E.qZA()),2&H&&(E.xp6(1),E.Oqu(E.lcZ(2,1,"CBL.CRM.PUSH_OVERLAY.SALESFORCE")))}function v(H,K){if(1&H&&(E._UZ(0,"external-link",12),E.ALo(1,"translate")),2&H){const P=E.oxw(2).ngIf;E.Q6J("url",P.link)("label",E.lcZ(1,2,"CBL.CRM.PUSH_OVERLAY.SALESFORCE"))}}function y(H,K){if(1&H&&(E.TgZ(0,"div",7),E._UZ(1,"icon",8),E.TgZ(2,"span",9),E._uU(3),E.ALo(4,"translate"),E.qZA(),E._UZ(5,"theme-icon",10),E.YNc(6,m,3,3,"span",2),E.YNc(7,v,2,4,"ng-template",null,11,E.W1O),E.qZA()),2&H){const P=E.MAs(8),z=E.oxw().ngIf;E.xp6(3),E.Oqu(E.lcZ(4,3,"CBL.CRM.PUSH_OVERLAY.IN")),E.xp6(3),E.Q6J("ngIf",!z.link)("ngIfElse",P)}}const S=function(H){return{name:H}};function A(H,K){if(1&H&&(E.TgZ(0,"div",13),E._uU(1),E.ALo(2,"translate"),E.qZA(),E._UZ(3,"salesforce-push",14)),2&H){const P=E.oxw(2);E.xp6(1),E.hij(" ",E.xi3(2,4,"CBL.CRM.PUSH_OVERLAY.TITLE",E.VKq(7,S,P.payload.contactState.contact.name.data))," "),E.xp6(2),E.Q6J("contact",P.payload.contactState.contact)("details",P.payload.contactState.details)("organizationId",P.payload.organizationId)}}function x(H,K){if(1&H&&(E.ynx(0),E.YNc(1,y,9,5,"div",5),E.YNc(2,A,4,9,"ng-template",null,6,E.W1O),E.BQk()),2&H){const P=K.ngIf,z=E.MAs(3);E.xp6(1),E.Q6J("ngIf",P.inCrm)("ngIfElse",z)}}function R(H,K){if(1&H&&(E.TgZ(0,"div",15)(1,"div",13),E._uU(2),E.ALo(3,"translate"),E.qZA(),E._UZ(4,"mat-spinner",16),E.qZA()),2&H){const P=E.oxw();E.xp6(2),E.hij(" ",E.xi3(3,1,"CBL.CRM.PUSH_OVERLAY.CHECKING_IN_CRM",E.VKq(4,S,P.payload.contactState.contact.name.data))," ")}}function s(H,K){if(1&H){const P=E.EpF();E.TgZ(0,"div",17)(1,"button",18),E.NdJ("click",function(){return E.CHM(P),E.oxw().close()}),E._uU(2),E.ALo(3,"translate"),E.qZA(),E.TgZ(4,"button",19),E._uU(5),E.ALo(6,"translate"),E.qZA()()}if(2&H){const P=E.oxw();E.xp6(2),E.hij(" ",E.lcZ(3,4,"CBL.COMMON.CANCEL")," "),E.xp6(2),E.uIk("data-heap-push-to-contact-confirm",P.heapAttr("contact",null==P.pushPayload?null:P.pushPayload.type))("data-heap-push-to-lead-confirm",P.heapAttr("lead",null==P.pushPayload?null:P.pushPayload.type)),E.xp6(1),E.hij(" ",E.lcZ(6,6,"CBL.CRM.PUSH_OVERLAY.PUSH")," ")}}let h=(()=>{class H{constructor(P,z,ee,Z,G){this.close=P,this.payload=z,this.pushContactToSalesforceService=ee,this.changeDetectorRef=Z,this.toastService=G,this.form=new i.cw({pushPayload:new i.NI(null,i.kI.required)})}ngOnInit(){this.isContactInCrm$=this.pushContactToSalesforceService.doesContactExistsInCrm$(this.payload.contactState.contact.uuid).pipe((0,C.K)(()=>(this.toastService.showSimpleToast("CBL.COMMON.FAILURE"),(0,c.of)({inCrm:!1})))),this.form.statusChanges.pipe((0,_.x)()).subscribe(()=>this.changeDetectorRef.detectChanges())}heapAttr(P,z){return z===P?"":null}push(){this.pushPayload&&(this.pushContactToSalesforceService.pushToCRM(this.pushPayload),this.close())}get pushPayload(){var P;return null===(P=this.form.get("pushPayload"))||void 0===P?void 0:P.value}}return H.\u0275fac=function(P){return new(P||H)(E.Y36(u.U_),E.Y36(u.Z),E.Y36(e.u),E.Y36(E.sBO),E.Y36(p.k))},H.\u0275cmp=E.Xpm({type:H,selectors:[["salesforce-overlay"]],decls:7,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"overlay-content"],[4,"ngIf","ngIfElse"],["loading",""],["class","buttons-container",4,"ngIf"],["class","contact-in-crm",4,"ngIf","ngIfElse"],["allowPush",""],[1,"contact-in-crm"],["key","icon_check_knockout_round","color","success","size","large"],[1,"in"],["themeId","salesforce","color","theme","size","large"],["showLink",""],[3,"url","label"],[1,"push-title"],["formControlName","pushPayload",3,"contact","details","organizationId"],[1,"checking-crm"],["diameter","32"],[1,"buttons-container"],["mat-button","","color","primary","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(P,z){if(1&P&&(E.TgZ(0,"form",0),E.NdJ("ngSubmit",function(){return z.push()}),E.TgZ(1,"div",1),E.YNc(2,x,4,2,"ng-container",2),E.ALo(3,"async"),E.YNc(4,R,5,6,"ng-template",null,3,E.W1O),E.qZA(),E.YNc(6,s,7,8,"div",4),E.qZA()),2&P){const ee=E.MAs(5);E.Q6J("formGroup",z.form),E.xp6(2),E.Q6J("ngIf",E.lcZ(3,4,z.isContactInCrm$))("ngIfElse",ee),E.xp6(4),E.Q6J("ngIf",z.form.valid)}},directives:[i._Y,i.JL,i.sg,a.O5,l.o,r.p,o.A,d.v,i.JJ,i.u,n.Ou,g.lW],pipes:[a.Ov,f.X],styles:["[_nghost-%COMP%]{border-radius:4px;position:relative;display:block;width:370px}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.contact-in-crm[_ngcontent-%COMP%]{display:flex}icon[_ngcontent-%COMP%]{margin-right:8px}theme-icon[_ngcontent-%COMP%]{margin-left:8px;margin-right:4px}.checking-crm[_ngcontent-%COMP%]{font-weight:500;display:flex;flex-direction:column}.checking-crm[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:16px auto}.overlay-content[_ngcontent-%COMP%]{padding:16px}.push-title[_ngcontent-%COMP%]{padding-right:16px;font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}.buttons-container[_ngcontent-%COMP%]{border-top:solid 1px rgba(0,0,0,.12);text-align:right;padding:8px}.buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}"],changeDetection:0}),H})()},7549:(ne,b,t)=>{t.d(b,{v:()=>k});var e=t(3184),i=t(90587),u=t(3531),c=t(5765),C=t(5149),_=t(24744),p=t(19193),E=t(92218),a=t(25722),l=t(86942),r=t(79128),o=t(83910),d=t(85921),n=t(53298),g=t(35585),f=t(36362),m=t(13186),v=t(61534),y=t(29641);function S(w,Q){1&w&&(e.TgZ(0,"div",5)(1,"mat-checkbox",6),e.SDv(2,7),e.qZA(),e._UZ(3,"markup-label",8),e.qZA())}let A=(()=>{class w{constructor(){this.onDestroy$=new E.xQ,this.pushTypeOptions=[{name:"contact"},{name:"lead"}],this.onChange=()=>({}),this.onTouched=()=>({}),this.form=new i.cw({pushType:new i.NI(null,[i.kI.required]),rememberSetting:new i.NI(!1)}),this.form.valueChanges.pipe((0,d.R)(this.onDestroy$)).subscribe($=>{this.onChange($),this.onTouched()})}get value(){return this.form.value}get pushType(){return this.form.controls.pushType}get rememberSetting(){return this.form.controls.rememberSetting}ngOnDestroy(){this.onDestroy$.next()}registerOnChange($){this.onChange=$}registerOnTouched($){this.onTouched=$}writeValue(){}validate(){return this.form.valid?null:{pushPreference:!1}}}return w.\u0275fac=function($){return new($||w)},w.\u0275cmp=e.Xpm({type:w,selectors:[["select-push-input"]],features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>w),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>w),multi:!0}])],decls:5,vars:3,consts:function(){let Q,$;return Q=$localize`:␟f166b1f9b30da21745be4f6d91c3c32e56f99045␟4862397153242703481:Select how you would like to push`,$=$localize`:␟ba54c9ae69d834e29808d1c12413d00562aeed27␟4301911007166236886: Remember my settings `,[["role","group","aria-labelledby","select-title",3,"formGroup"],["id","select-title"],Q,["formControlName","pushType",3,"options"],["class","remember-settings-container",4,"ngIf"],[1,"remember-settings-container"],["formControlName","rememberSetting","data-heap-contact-push-preference-remember-setting",""],$,["key","CBL.CRM.PUSH_OVERLAY.CHANGE_SETTINGS"]]},template:function($,X){1&$&&(e.TgZ(0,"div",0)(1,"div",1),e.SDv(2,2),e.qZA(),e._UZ(3,"button-select-input",3),e.YNc(4,S,4,0,"div",4),e.qZA()),2&$&&(e.Q6J("formGroup",X.form),e.xp6(3),e.Q6J("options",X.pushTypeOptions),e.xp6(1),e.Q6J("ngIf",X.pushType.value))},directives:[i.JL,i.sg,m.w,i.JJ,i.u,f.O5,v.oG,y.x],styles:["#select-title[_ngcontent-%COMP%]{font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;margin-top:8px}.input-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{opacity:0;position:fixed;width:0}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-weight:500;line-height:100%;cursor:pointer;width:100%;text-align:center;border-radius:4px;padding:8px 0;margin-right:8px}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:last-child{margin-right:0}.input-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#e3edff}.remember-settings-container[_ngcontent-%COMP%]{margin-top:16px}mat-checkbox[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),w})();var x=t(68390),R=t(74929);function s(w,Q){1&w&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.PERSONAL")," "))}function h(w,Q){1&w&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.BUSINESS")," "))}function H(w,Q){if(1&w&&(e.TgZ(0,"div",6)(1,"mat-radio-button",7)(2,"span",8)(3,"span",9),e._uU(4),e.qZA(),e.YNc(5,s,3,3,"span",10),e.YNc(6,h,3,3,"ng-template",null,11,e.W1O),e.qZA()()()),2&w){const $=Q.$implicit,X=Q.index,Ce=e.MAs(7),ye=e.oxw(2);e.xp6(1),e.Q6J("value",$.address)("checked",0===X),e.xp6(3),e.Oqu($.address),e.xp6(1),e.Q6J("ngIf",$.pointType===ye.ContactItemDetailPointType.PERSONAL)("ngIfElse",Ce)}}function K(w,Q){if(1&w){const $=e.EpF();e.TgZ(0,"div",1)(1,"label",2),e.SDv(2,3),e.qZA(),e.TgZ(3,"mat-radio-group",4),e.NdJ("change",function(Ce){return e.CHM($),e.oxw().email.emit(Ce.value)}),e.YNc(4,H,8,5,"div",5),e.qZA()()}if(2&w){const $=e.oxw();e.xp6(4),e.Q6J("ngForOf",$.emailContactItems)}}function P(w,Q){1&w&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.PERSONAL")," "))}function z(w,Q){1&w&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&w&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.BUSINESS")," "))}function ee(w,Q){if(1&w&&(e.TgZ(0,"div",6)(1,"mat-radio-button",7)(2,"span",8)(3,"span",9),e._uU(4),e.qZA(),e.YNc(5,P,3,3,"span",10),e.YNc(6,z,3,3,"ng-template",null,11,e.W1O),e.qZA()()()),2&w){const $=Q.$implicit,X=Q.index,Ce=e.MAs(7),ye=e.oxw(2);e.xp6(1),e.Q6J("value",$.number)("checked",0===X),e.xp6(3),e.Oqu($.number),e.xp6(1),e.Q6J("ngIf",$.pointType===ye.ContactItemDetailPointType.PERSONAL)("ngIfElse",Ce)}}function Z(w,Q){if(1&w){const $=e.EpF();e.TgZ(0,"div",1)(1,"label",2),e.SDv(2,13),e.qZA(),e.TgZ(3,"mat-radio-group",14),e.NdJ("change",function(Ce){return e.CHM($),e.oxw().phone.emit(Ce.value)}),e.YNc(4,ee,8,5,"div",5),e.qZA()()}if(2&w){const $=e.oxw();e.xp6(4),e.Q6J("ngForOf",$.phoneContactItems)}}let G=(()=>{class w{constructor(){this.phone=new e.vpe,this.email=new e.vpe,this.ContactItemDetailPointType=u.BB}}return w.\u0275fac=function($){return new($||w)},w.\u0275cmp=e.Xpm({type:w,selectors:[["push-contact-details"]],inputs:{contact:"contact",emailContactItems:"emailContactItems",phoneContactItems:"phoneContactItems"},outputs:{phone:"phone",email:"email"},decls:3,vars:2,consts:function(){let Q,$;return Q=$localize`:␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`,$=$localize`:␟db654f91d847f34e71ffb99268ff3a1807913421␟8194554728555410336:Phone Number`,[["class","section-container",4,"ngIf"],[1,"section-container"],[1,"select-title"],Q,["name","email",3,"change"],["class","contact-item",4,"ngFor","ngForOf"],[1,"contact-item"],[3,"value","checked"],[1,"contact-item-wrapper"],[1,"contact-item-value"],["class","contact-item-description",4,"ngIf","ngIfElse"],["business",""],[1,"contact-item-description"],$,["name","phone",3,"change"]]},template:function($,X){1&$&&(e.TgZ(0,"div"),e.YNc(1,K,5,1,"div",0),e.YNc(2,Z,5,1,"div",0),e.qZA()),2&$&&(e.xp6(1),e.Q6J("ngIf",X.emailContactItems.length&&X.emailContactItems.length>1),e.xp6(1),e.Q6J("ngIf",X.phoneContactItems.length&&X.phoneContactItems.length>1))},directives:[f.O5,x.VQ,f.sg,x.U0],pipes:[R.X],styles:["contact-details[_ngcontent-%COMP%]{margin-bottom:20px}.contact-item[_ngcontent-%COMP%]{display:flex;margin-bottom:8px}.contact-item-wrapper[_ngcontent-%COMP%]{display:flex;white-space:initial}.contact-item-value[_ngcontent-%COMP%], label-with-icon[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}.contact-item-value[_ngcontent-%COMP%]{word-break:break-all}label-with-icon[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:16px}.contact-item-description[_ngcontent-%COMP%]{background-color:#0000000d;font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;display:inline-flex;align-items:center;border-radius:4px;padding:0 4px;margin-left:8px}.section-container[_ngcontent-%COMP%]{padding-top:16px}.section-container[_ngcontent-%COMP%]:not(:first-child){margin-top:16px;border-top:1px solid rgba(0,0,0,.12)}.select-title[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:block;margin-bottom:8px}"],changeDetection:0}),w})();var J=t(80670);const le=function(w){return{lastActive:w}};function V(w,Q){if(1&w&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"date"),e.BQk()),2&w){const $=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SELECT_ACCOUNT.LAST_ACTIVE",e.VKq(6,le,e.lcZ(3,4,$.last_activity_date)))," ")}}function j(w,Q){1&w&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&w&&e.hij(" ",e.xi3(1,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SELECT_ACCOUNT.LAST_ACTIVE",e.VKq(6,le,e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SELECT_ACCOUNT.NO_ACTIVITY_HISTORY")))," ")}function M(w,Q){if(1&w&&(e._UZ(0,"external-link",11),e.ALo(1,"translate")),2&w){const $=e.oxw().$implicit;e.Q6J("url",$.crm_link)("label",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SELECT_ACCOUNT.CRM"))}}function ie(w,Q){if(1&w&&(e.TgZ(0,"div",4)(1,"mat-radio-button",5)(2,"span",6)(3,"span",7),e._uU(4),e.qZA(),e.TgZ(5,"span"),e.YNc(6,V,4,8,"ng-container",8),e.YNc(7,j,3,8,"ng-template",null,9,e.W1O),e.YNc(9,M,2,4,"external-link",10),e.qZA()()()()),2&w){const $=Q.$implicit,X=Q.index,Ce=e.MAs(8);e.xp6(1),e.Q6J("value",$.id)("checked",0===X),e.xp6(3),e.hij("",$.owner_name||$.owner_alias,"; "),e.xp6(2),e.Q6J("ngIf",$.last_activity_date)("ngIfElse",Ce),e.xp6(3),e.Q6J("ngIf",$.crm_link)}}let te=(()=>{class w{constructor(){this.onDestroy$=new E.xQ,this.onChange=()=>({}),this.onTouched=()=>({})}ngOnInit(){var $;this.accountControl=new i.NI(null===($=this.accounts[0])||void 0===$?void 0:$.id),this.accountControl.valueChanges.pipe((0,d.R)(this.onDestroy$)).subscribe(X=>{this.onChange(X),this.onTouched()})}get value(){return this.accountControl.value}set value($){this.accountControl.setValue($),this.onChange($),this.onTouched()}ngOnDestroy(){this.onDestroy$.next()}registerOnChange($){this.onChange=$}registerOnTouched($){this.onTouched=$}writeValue($){$&&(this.value=$)}}return w.\u0275fac=function($){return new($||w)},w.\u0275cmp=e.Xpm({type:w,selectors:[["select-account-input"]],inputs:{accounts:"accounts"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>w),multi:!0}])],decls:4,vars:2,consts:function(){let Q;return Q=$localize`:␟912fbe4bdbcd3f7f2ea4a2581128dbc2ce3879a8␟1903629393017256767:Select Salesforce Account`,[["id","select-account"],Q,["aria-labelledby","select-account",3,"formControl"],["class","account-item",4,"ngFor","ngForOf"],[1,"account-item"],[3,"value","checked"],[1,"account-item-container"],[1,"name"],[4,"ngIf","ngIfElse"],["noActivity",""],[3,"url","label",4,"ngIf"],[3,"url","label"]]},template:function($,X){1&$&&(e.TgZ(0,"label",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"mat-radio-group",2),e.YNc(3,ie,10,6,"div",3),e.qZA()),2&$&&(e.xp6(2),e.Q6J("formControl",X.accountControl),e.xp6(1),e.Q6J("ngForOf",X.accounts))},directives:[x.VQ,i.JJ,i.oH,f.sg,x.U0,f.O5,J.A],pipes:[R.X,f.uU],styles:["label[_ngcontent-%COMP%]{display:block;font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px}mat-radio-group[_ngcontent-%COMP%]{display:block}.account-item[_ngcontent-%COMP%]{margin-bottom:8px;display:flex}.account-item[_ngcontent-%COMP%]   external-link[_ngcontent-%COMP%]{margin-left:8px;display:inline-flex;align-items:center;line-height:20px}.name[_ngcontent-%COMP%]{font-weight:500;margin-right:8px}.account-item-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"],changeDetection:0}),w})();function re(w,Q){1&w&&e._UZ(0,"select-push-input",3)}function q(w,Q){if(1&w&&(e._UZ(0,"select-account-input",6),e.ALo(1,"async")),2&w){const $=e.oxw(2);e.Q6J("accounts",e.lcZ(1,1,$.account$))}}function U(w,Q){if(1&w){const $=e.EpF();e.TgZ(0,"div")(1,"push-contact-details",4),e.NdJ("email",function(Ce){return e.CHM($),e.oxw().setEmail(Ce)})("phone",function(Ce){return e.CHM($),e.oxw().setPhone(Ce)}),e.qZA(),e.YNc(2,q,2,3,"select-account-input",5),e.ALo(3,"async"),e.qZA()}if(2&w){const $=e.oxw();e.xp6(1),e.Q6J("contact",$.contact)("emailContactItems",$.emailContactItems)("phoneContactItems",$.phoneContactItems),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,4,$.showAccountSelector$))}}let k=(()=>{class w{constructor($,X){this.store=$,this.contactsPushPreferenceService=X,this.emailContactItems=[],this.phoneContactItems=[],this.email="",this.phone="",this.form=new i.cw({pushType:new i.NI(null,i.kI.required),selectedAccount:new i.NI},void 0,this.entityLoaded()),this.pushType$=(0,p.aj)([this.form.valueChanges.pipe((0,a.O)(void 0)),this.contactsPushPreferenceService.getPreference$()]).pipe((0,l.U)(([Ce,ye])=>this.contactsPushPreferenceService.hasPushPreference(ye)?ye:this.pushType.pushType),(0,r.d)(1)),this.showPushPreferenceControl$=this.contactsPushPreferenceService.getPreference$().pipe((0,o.q)(1),(0,l.U)(Ce=>!this.contactsPushPreferenceService.hasPushPreference(Ce))),this.onDestroy$=new E.xQ,this.onChange=()=>({}),this.onTouched=()=>({}),this.form.valueChanges.pipe((0,d.R)(this.onDestroy$)).subscribe(()=>{this.handleValueChange(),this.onTouched()})}ngOnInit(){this.store.dispatch((0,C.p9)({action:(0,C.il)({entityIds:[this.organizationId]})})),this.entityIsLoading$=this.store.select((0,C.kA)(this.organizationId)).pipe((0,n.x)(),(0,d.R)(this.onDestroy$)),this.entityIsLoading$.pipe((0,d.R)(this.onDestroy$)).subscribe(()=>{this.form.updateValueAndValidity()}),this.groupItems(this.details),this.account$=this.store.select((0,C.fe)(this.organizationId)),this.contactsPushPreferenceService.getPreference$().pipe((0,o.q)(1)).subscribe($=>{this.contactsPushPreferenceService.hasPushPreference($)&&this.setPushTypeControlValue($)}),this.showAccountSelector$=(0,p.aj)([this.account$,this.pushType$]).pipe((0,l.U)(([$,X])=>!!$&&$.length>1&&"contact"===X)),this.handleValueChange()}ngOnDestroy(){this.onDestroy$.next()}setEmail($){this.email=$,this.handleValueChange()}setPhone($){this.phone=$,this.handleValueChange()}groupItems($){var X,Ce,ye,ue;$.filter(me=>me.lockType===u.bw.UNLOCKED).forEach(me=>{me.methodType===u.$U.EMAIL&&this.emailContactItems.push(me),me.methodType===u.$U.PHONE&&this.phoneContactItems.push(me)}),this.email=null===(Ce=null===(X=this.emailContactItems)||void 0===X?void 0:X[0])||void 0===Ce?void 0:Ce.address,this.phone=null===(ue=null===(ye=this.phoneContactItems)||void 0===ye?void 0:ye[0])||void 0===ue?void 0:ue.number}handleValueChange(){const{pushType:$,rememberSetting:X}=this.pushType;if(!$)return;const Ce={contact_id:this.contact.uuid,phone:this.phone,email:this.email},ye={crmContactPushRequest:{contact_entity_id:this.contact.uuid,phone:this.phone,email:this.email},organizationId:this.organizationId};this.selectedAccount&&(ye.accountId=this.selectedAccount),"lead"===$?this.onChange({type:$,leadPayload:Ce,rememberSetting:X}):"contact"===$?this.onChange({type:$,contactPayload:ye,rememberSetting:X}):new _.S($)}registerOnChange($){this.onChange=$,this.handleValueChange()}registerOnTouched($){this.onTouched=$}writeValue(){}validate(){return this.form.valid?null:{salesforcePush:!0}}setPushTypeControlValue($){var X;$&&(null===(X=this.form.controls.pushType)||void 0===X||X.patchValue({pushType:$}))}get pushType(){var $;return(null===($=this.form.get("pushType"))||void 0===$?void 0:$.value)||{}}get selectedAccount(){var $;return null===($=this.form.get("selectedAccount"))||void 0===$?void 0:$.value}entityLoaded(){return()=>this.entityIsLoading$.pipe((0,o.q)(1),(0,l.U)($=>$?{accountLoading:!0}:null))}}return w.\u0275fac=function($){return new($||w)(e.Y36(g.yh),e.Y36(c.f))},w.\u0275cmp=e.Xpm({type:w,selectors:[["salesforce-push"]],inputs:{contact:"contact",details:"details",organizationId:"organizationId"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>w),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>w),multi:!0}])],decls:5,vars:7,consts:[[3,"formGroup"],["formControlName","pushType",4,"ngIf"],[4,"ngIf"],["formControlName","pushType"],[3,"contact","emailContactItems","phoneContactItems","email","phone"],["formControlName","selectedAccount","name","selectedAccount",3,"accounts",4,"ngIf"],["formControlName","selectedAccount","name","selectedAccount",3,"accounts"]],template:function($,X){1&$&&(e.TgZ(0,"form",0),e.YNc(1,re,1,0,"select-push-input",1),e.ALo(2,"async"),e.YNc(3,U,4,6,"div",2),e.ALo(4,"async"),e.qZA()),2&$&&(e.Q6J("formGroup",X.form),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,X.showPushPreferenceControl$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,5,X.pushType$)))},directives:[i._Y,i.JL,i.sg,f.O5,A,i.JJ,i.u,G,te],pipes:[f.Ov],styles:["select-push-input[_ngcontent-%COMP%]{display:block;margin-top:16px}select-account-input[_ngcontent-%COMP%]{display:block;margin-top:16px;padding-top:16px;border-top:1px solid rgba(0,0,0,.12)}"],changeDetection:0}),w})()},5765:(ne,b,t)=>{t.d(b,{f:()=>C});var e=t(7323),i=t(86942),u=t(53298),c=t(3184);let C=(()=>{class _{constructor(E){this.userAttributeService=E}getPreference$(){return this.userAttributeService.getAttributes().pipe((0,i.U)(E=>E.contacts_push),(0,u.x)())}setPreference$(E){return this.userAttributeService.setAttribute("contacts_push",E).pipe((0,i.U)(a=>null==a?void 0:a.contacts_push))}hasPushPreference(E){return!!E&&"always-ask"!==E}}return _.\u0275fac=function(E){return new(E||_)(c.LFG(e.n3))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},61456:(ne,b,t)=>{t.d(b,{u:()=>a});var e=t(85971),i=t(5149),u=t(19193),c=t(24744),C=t(86942),_=t(5765),p=t(3184),E=t(35585);let a=(()=>{class l{constructor(o,d,n){this.store=o,this.crmService=d,this.contactsPushPreferenceService=n}showPreConnectDialog(){this.store.dispatch((0,i.uJ)({skipSuccessDialog:!0}))}doesContactExistsInCrm$(o){return(0,u.aj)([this.crmService.getLeadsInCrm$([o]).pipe((0,C.U)(d=>d[0])),this.crmService.getContactsInCrm$([o]).pipe((0,C.U)(d=>d[0]))]).pipe((0,C.U)(([d,n])=>({inCrm:!(!d&&!n),link:(null==d?void 0:d.crm_link)||(null==n?void 0:n.crm_link)})))}pushToCRM(o){o.rememberSetting&&this.contactsPushPreferenceService.setPreference$(o.type),"lead"===o.type?this.pushLead(o.leadPayload):"contact"===o.type?this.pushContact(o.contactPayload):new c.S(o)}pushLead(o){this.store.dispatch((0,i.Ju)({crmLeadPushRequest:o}))}pushContact(o){this.store.dispatch((0,i.a_)(o))}}return l.\u0275fac=function(o){return new(o||l)(p.LFG(E.yh),p.LFG(e._),p.LFG(_.f))},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},4143:(ne,b,t)=>{t.d(b,{P:()=>g});var e=t(93443),i=t(26090),u=t(23580),c=t(64139),C=t(70377),_=t(75215),p=t(25848),E=t(94882),a=t(71263),l=t(92938),o=t(78845),d=t(86942),n=t(3184);let g=(()=>{class f{constructor(v,y,S,A,x){this.searchApi=v,this.metadataService=y,this.syntheticMetadataService=S,this.labelService=A,this.fieldFormatterService=x,this.relatedEntitiesPageSize=10,this.contactsDefaultSortOrder=[{field_id:"job_priority",sort:e.Di.SortEnum.desc},{field_id:"identifier",sort:e.Di.SortEnum.asc}];const R=this.syntheticMetadataService.getContactsSearchProperties();this.contactCollectionId=R.contactCollectionId,this.privateContactItemCollectionId=R.privateContactItemCollectionId,this.contactItemCollectionId=R.contactItemCollectionId}getContactsResultsForOrg(v,y,S,A="profile-contacts-card"){const x={type:e.V7.TypeEnum.predicate,field_id:"organization",operator_id:"includes",values:[v]},{lastContactId:R,searchPredicate:s,contactItemsPredicate:h}=S,H=this.createContactsSearchModel(y,[x,h]);return s&&H.query.push(s),R&&(H.after_id=R),this.searchApi.dataSearchesCollectionIdPost$({collectionId:this.contactCollectionId,query:H,source:A})}getContactsById(v,y){if(!v.length)return(0,c.of)([]);const S={type:e.V7.TypeEnum.predicate,field_id:"uuid",operator_id:"includes",values:v},A=Math.min(v.length,this.metadataService.getPermissions().max_search_limit),x=this.createContactsSearchModel(A,[S]);return this.searchApi.dataSearchesCollectionIdPost$({collectionId:this.contactCollectionId,query:x,source:y}).pipe((0,d.U)(R=>R.entities||[]))}getContactFromSearchEntity(v){const y=this.getContactFields(v.properties);if(!y)return;const S=this.getContactItemsFromSearchEntity(v),A=this.getTitleFromContactItems(S);return Object.assign({collectionId:this.contactCollectionId,jobTitle:A},y)}getContactItemDetailsFromSearchEntity(v){let y=this.getContactItemsFromSearchEntity(v);const S=this.getPrivateContactItemsFromSearchEntity(v);if(!y.length&&!S.length)return[];if(S.length){const R=this.getUniqueSourcesFromPrivateContactItems(S);y=y.filter(s=>{const h=this.getSourceFromContactItem(s);return!h||!R.has(h)})}const A=this.getUnlockedData(S),x=this.getLockedData(y);return this.getUniqueContactItemDetails([...A,...x])}mergeWithUnlockedContact(v,y){const S=y.flatMap(A=>this.getContactItemDetailsFromUnlockedContact(A));return this.getDetailsCombinedSearchAndUnlocked(v,S)}getContactItemDetailsFromUnlockedContact(v){const{personal_emails:y,personal_phones:S,work_emails:A,work_phones:x,uuid:R,source_type:s,hashes:h}=v,H=s,K=(y||[]).map((Z,G)=>{var J;return{address:Z,tooltip:this.getTooltipForContactItem(C.$U.EMAIL,C.BB.PERSONAL,H),visible:!1,pointType:C.BB.PERSONAL,lockType:C.bw.UNLOCKED,methodType:C.$U.EMAIL,hash:(null===(J=null==h?void 0:h.personal_emails)||void 0===J?void 0:J[G])||"",itemId:R,sourceType:H}}),P=(S||[]).map((Z,G)=>{var J;return{number:Z,tooltip:this.getTooltipForContactItem(C.$U.PHONE,C.BB.PERSONAL,H),visible:!1,pointType:C.BB.PERSONAL,lockType:C.bw.UNLOCKED,methodType:C.$U.PHONE,hash:(null===(J=null==h?void 0:h.personal_phones)||void 0===J?void 0:J[G])||"",itemId:R,sourceType:H}});return[...(A||[]).map((Z,G)=>{var J;return{address:Z,tooltip:this.getTooltipForContactItem(C.$U.EMAIL,C.BB.WORK,H),visible:!1,pointType:C.BB.WORK,lockType:C.bw.UNLOCKED,methodType:C.$U.EMAIL,hash:(null===(J=null==h?void 0:h.work_emails)||void 0===J?void 0:J[G])||"",itemId:R,sourceType:H}}),...K,...(x||[]).map((Z,G)=>{var J;return{number:Z,tooltip:this.getTooltipForContactItem(C.$U.PHONE,C.BB.WORK,H),visible:!1,pointType:C.BB.WORK,lockType:C.bw.UNLOCKED,methodType:C.$U.PHONE,hash:(null===(J=null==h?void 0:h.work_phones)||void 0===J?void 0:J[G])||"",itemId:R,sourceType:H}}),...P]}getDetailsCombinedSearchAndUnlocked(v,y){const S=v.map(s=>s.itemId),A=y.map(s=>s.itemId),x=S.filter((s,h)=>S.indexOf(s)===h).filter(s=>A.some(h=>h===s));if(!x)return v;const R=[...v.filter(s=>!x.includes(s.itemId)),...y.filter(s=>x.includes(s.itemId))];return this.getUniqueContactItemDetails(R)}canSearchPrivateContactItems(){var v,y;const S=this.metadataService.getRelationshipByCollectionId(this.contactCollectionId,this.privateContactItemCollectionId);return!!(null===(y=null===(v=null==S?void 0:S.permissions)||void 0===v?void 0:v.is_searchable)||void 0===y?void 0:y.allowed)}getUniqueContactItemDetails(v){const y=[...v].sort(this.sortContactItemDetails),S=new Map;return y.forEach(A=>{S.get(A.hash)||S.set(A.hash,A)}),Array.from(S.values())}getContactFields(v){var y;const S=null===(y=v.identifier)||void 0===y?void 0:y.uuid,A=this.getContactFieldItem(v,"name");if(!A||!S)return;const x=this.getContactFieldItem(v,"linkedin"),R=this.getContactFieldItem(v,"job_levels"),s=this.getContactFieldItem(v,"job_departments");return x&&(x.data=(0,o.F)(x.data)),{uuid:S,name:A,linkedin:x,jobLevels:R,jobDepartments:s}}getContactFieldItem(v,y){const S=v[y],A=this.metadataService.getField(this.contactCollectionId,y);if(A&&!this.fieldFormatterService.isFieldEmpty(A,S,a.Qy.profile))return{field:A,data:S,queryData:{localProperties:v}}}getUnlockedData(v){return[...v.flatMap(A=>[...this.getUnlockedEmails(A,"work_emails",C.BB.WORK),...this.getUnlockedEmails(A,"personal_emails",C.BB.PERSONAL)]),...v.flatMap(A=>[...this.getUnlockedPhones(A,"work_phones",C.BB.WORK),...this.getUnlockedPhones(A,"personal_phones",C.BB.PERSONAL)])]}getUnlockedEmails(v,y,S){var A,x,R;const s=null===(x=null===(A=v.properties)||void 0===A?void 0:A.identifier)||void 0===x?void 0:x.uuid;if(!s)return[];const h=null===(R=v.properties)||void 0===R?void 0:R[y],H=this.getTooltipForContactItem(C.$U.EMAIL,S,v.properties.source_type);return(null==h?void 0:h.length)?h.map(K=>({address:K,tooltip:H,pointType:S,visible:!1,methodType:C.$U.EMAIL,lockType:C.bw.UNLOCKED,itemId:s,hash:this.getUnlockedDataHash(v,K),sourceType:v.properties.source_type})):[]}getUnlockedPhones(v,y,S){var A,x,R;const s=null===(x=null===(A=v.properties)||void 0===A?void 0:A.identifier)||void 0===x?void 0:x.uuid;if(!s)return[];const h=null===(R=v.properties)||void 0===R?void 0:R[y],H=this.getTooltipForContactItem(C.$U.PHONE,S,v.properties.source_type);return(null==h?void 0:h.length)?h.map(K=>({number:K,tooltip:H,pointType:S,visible:!1,methodType:C.$U.PHONE,lockType:C.bw.UNLOCKED,itemId:s,hash:this.getUnlockedDataHash(v,K),sourceType:v.properties.source_type})):[]}getUnlockedDataHash(v,y){const S=v.properties.hashes;return Object.keys(S).find(A=>S[A]===y)||""}getLockedData(v){return[...v.flatMap(A=>[...this.getLockedEmails(A,"work_emails",C.BB.WORK),...this.getLockedEmails(A,"personal_emails",C.BB.PERSONAL)]),...v.flatMap(A=>[...this.getLockedPhones(A,"work_phones",C.BB.WORK),...this.getLockedPhones(A,"personal_phones",C.BB.PERSONAL)])]}getLockedEmails(v,y,S){var A,x;const R=null===(x=null===(A=v.properties)||void 0===A?void 0:A.identifier)||void 0===x?void 0:x.uuid;if(!R)return[];const s=this.getHashesForField(v,y),h=this.getTooltipForContactItem(C.$U.EMAIL,S,v.properties.source_type);return(null==s?void 0:s.length)?s.map(H=>({pointType:S,tooltip:h,hash:H,visible:!1,methodType:C.$U.EMAIL,lockType:C.bw.LOCKED,itemId:R})):[]}getLockedPhones(v,y,S){var A,x;const R=null===(x=null===(A=v.properties)||void 0===A?void 0:A.identifier)||void 0===x?void 0:x.uuid;if(!R)return[];const s=this.getHashesForField(v,y),h=this.getTooltipForContactItem(C.$U.PHONE,S,v.properties.source_type);return(null==s?void 0:s.length)?s.map(H=>({pointType:S,tooltip:h,hash:H,visible:!1,methodType:C.$U.PHONE,lockType:C.bw.LOCKED,itemId:R})):[]}getHashesForField(v,y){var S,A;return(null===(A=null===(S=v.properties)||void 0===S?void 0:S.hashes)||void 0===A?void 0:A[y])||[]}getTitleFromContactItems(v){const y=(0,l.maxBy)(v,S=>{var A;return null!==(A=S.properties.canonical_job_priority)&&void 0!==A?A:-1});return null==y?void 0:y.properties.job_title}getTooltipForContactItem(v,y,S){return v===C.$U.EMAIL&&this.isUserSyncedContactItem(S)?$localize`Synced From Email`:y===C.BB.WORK?v===C.$U.EMAIL?$localize`Business Email`:$localize`Business Phone`:v===C.$U.EMAIL?$localize`Personal Email`:$localize`Personal Phone`}isUserSyncedContactItem(v){return v===i.KmZ.User||v===i.l60.User}getContactItemsFromSearchEntity(v){var y,S;return(null===(S=null===(y=v.related_entities)||void 0===y?void 0:y[this.contactItemCollectionId])||void 0===S?void 0:S.entities)||[]}getPrivateContactItemsFromSearchEntity(v){var y,S;return(null===(S=null===(y=v.related_entities)||void 0===y?void 0:y[this.privateContactItemCollectionId])||void 0===S?void 0:S.entities)||[]}getUniqueSourcesFromPrivateContactItems(v){const y=v.map(S=>S.properties.source_type).filter(u.K);return new Set(y)}getSourceFromContactItem(v){return v.properties.source_type}sortContactItemDetails(v,y){return v.lockType!==y.lockType?v.lockType===C.bw.UNLOCKED?-1:1:v.methodType!==y.methodType?v.methodType===C.$U.EMAIL?-1:1:v.pointType!==y.pointType?v.pointType===C.BB.WORK?-1:1:0}createContactsSearchModel(v,y){const S=this.syntheticMetadataService.getContactsSearchProperties(),A=this.canSearchPrivateContactItems()?S.contactFieldIds.concat(S.privateFieldIds):S.contactFieldIds;return{collection_id:S.contactCollectionId,field_ids:A,query:y,limit:v,order:this.contactsDefaultSortOrder,related_entities:[{collection_id:S.contactItemCollectionId,field_ids:Object.values(S.contactItem.searchFieldIds),limit:this.relatedEntitiesPageSize},this.canSearchPrivateContactItems()?{collection_id:S.privateContactItemCollectionId,field_ids:S.privateContactItemFieldIds,limit:this.relatedEntitiesPageSize}:void 0].filter(u.K)}}}return f.\u0275fac=function(v){return new(v||f)(n.LFG(e.Wq),n.LFG(_.Do),n.LFG(p.Y),n.LFG(E.Q),n.LFG(a.eM))},f.\u0275prov=n.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},5419:(ne,b,t)=>{t.d(b,{oD:()=>i,hW:()=>u,ci:()=>c,wy:()=>C,IK:()=>_,yX:()=>p,pe:()=>E,T1:()=>a,MJ:()=>l,zJ:()=>r,UT:()=>o,C_:()=>d,BP:()=>n,gb:()=>g,SW:()=>f,U$:()=>m,Y5:()=>v});var e=t(35585);const i=(0,e.PH)("[Contacts] Load Contacts",(0,e.Ky)()),u=(0,e.PH)("[Contacts] Load Contacts Data",(0,e.Ky)()),c=(0,e.PH)("[Contacts] Load Contacts Data Success",(0,e.Ky)()),C=(0,e.PH)("[Contacts] Load Contacts No Data Success",(0,e.Ky)()),_=(0,e.PH)("[Contacts] Load Contacts Fail"),p=(0,e.PH)("[Contacts] Load More Contacts Data"),E=(0,e.PH)("[Contacts] Load More Contacts Success",(0,e.Ky)()),a=(0,e.PH)("[Contacts] Load More Contacts Fail"),l=(0,e.PH)("[Contacts] Add Search Value For Current Search",(0,e.Ky)()),r=(0,e.PH)("[Contacts] Set Active Search Option For Current Search",(0,e.Ky)()),o=(0,e.PH)("[Contacts] Remove Search Value For Current Search",(0,e.Ky)()),d=(0,e.PH)("[Contacts] Update Static Search Values for Current Search",(0,e.Ky)()),n=(0,e.PH)("[Contacts] Show Contacts With Unlocked Data",(0,e.Ky)()),g=(0,e.PH)("[Contacts] Loading Contacts Search Success",(0,e.Ky)()),f=(0,e.PH)("[Contacts] Loading Contacts Search Fail"),m=(0,e.PH)("[Contacts] Click Unlock Button",(0,e.Ky)()),v=(0,e.PH)("[Contacts] Contact details merged with unlocked details",(0,e.Ky)());(0,e.PH)("[Contacts] Unlock Contact Failure",(0,e.Ky)())},62329:(ne,b,t)=>{t.d(b,{Nb:()=>_,ai:()=>p,aG:()=>E,ZE:()=>a,yq:()=>l,Fz:()=>r,iH:()=>o,o:()=>d,H2:()=>n,af:()=>g,kD:()=>f,hk:()=>m,NH:()=>v,tQ:()=>y,Ys:()=>S,PQ:()=>A,o8:()=>x,Yr:()=>R,gq:()=>s,Y:()=>h,pU:()=>H});var e=t(35585),i=t(23216),u=t(70377),c=t(87555);const C=(0,e.ZF)(i.pU),_=(0,e.P1)(C,K=>K.orgUuid),p=(0,e.P1)(C,K=>K.contactsStates),E=K=>(0,e.P1)(p,P=>P.find(z=>z.contact.uuid===K)),a=(0,e.P1)(p,K=>{var P;return null===(P=K[K.length-1])||void 0===P?void 0:P.contact.uuid}),l=(0,e.P1)(C,K=>K.totalInQuery),r=(0,e.P1)(p,l,(K,P)=>P>K.length),o=K=>(0,e.P1)(E(K),c.kB),d=K=>(0,e.P1)(o(K),P=>P.filter(z=>z.methodType===u.$U.EMAIL).length),n=K=>(0,e.P1)(o(K),P=>P.filter(z=>z.methodType===u.$U.PHONE).length),g=(0,e.P1)(C,K=>K.status===u.NA.INITIAL_LOADING),f=(0,e.P1)(C,K=>K.status===u.NA.INITIAL_LOADING_ERROR),m=(0,e.P1)(C,K=>K.status===u.NA.INITIAL_LOADED),v=(0,e.P1)(C,K=>K.status===u.NA.VIEW_MORE_LOADING),y=(0,e.P1)(C,K=>K.status===u.NA.VIEW_MORE_LOADING_ERROR),S=(0,e.P1)(C,K=>K.searchOptionKey),A=(0,e.P1)(C,K=>K.searchValues),x=(0,e.P1)(C,K=>K.status===u.NA.SEARCH_LOADING),R=(0,e.P1)(C,K=>K.status===u.NA.SEARCH_LOADING_ERROR),s=(0,e.P1)(C,K=>K.status===u.NA.SEARCH_LOADED),h=(0,e.P1)(g,v,x,(K,P,z)=>K||P||z),H=(0,e.P1)(C,K=>K.showOnlyUnlockedContacts)},89248:(ne,b,t)=>{t.d(b,{S:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},90164:(ne,b,t)=>{t.d(b,{G:()=>E});var e=t(56589),i=t(92218),u=t(19193),c=t(86942),C=t(53298),_=t(85921),p=t(3184);let E=(()=>{class a{constructor(r,o,d,n){this.breakpointService=r,this.templateRef=o,this.viewContainer=d,this.changeDetectorRef=n,this.onDestroy$=new i.xQ,this.hasView=!1}ngOnInit(){const o=("string"==typeof this.size?[this.size]:this.size).map(d=>this.breakpointService.isSize$(d));(0,u.aj)(o).pipe((0,c.U)(d=>d.some(n=>n)),(0,C.x)(),(0,_.R)(this.onDestroy$)).subscribe(d=>{d&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0,this.changeDetectorRef.markForCheck()):!d&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1,this.changeDetectorRef.markForCheck())})}ngOnDestroy(){this.onDestroy$.next()}}return a.\u0275fac=function(r){return new(r||a)(p.Y36(e.r),p.Y36(p.Rgc),p.Y36(p.s_b),p.Y36(p.sBO))},a.\u0275dir=p.lG2({type:a,selectors:[["","ifBreakpoint",""]],inputs:{size:["ifBreakpoint","size"]}}),a})()},23846:(ne,b,t)=>{t.d(b,{B:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},5076:(ne,b,t)=>{t.d(b,{V:()=>u});var e=t(36362),i=t(3184);let u=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[e.ez]]}),c})()},61531:(ne,b,t)=>{t.d(b,{l:()=>p});var e=t(20605),i=t(92218),u=t(85921),c=t(86942),C=t(53298),_=t(3184);let p=(()=>{class E{constructor(l,r,o){this.templateRef=l,this.viewContainer=r,this.featureService=o,this.onDestroy$=new i.xQ,this.isInverted=!1}ngOnInit(){this.featureFlagInverted&&void 0===this.featureFlag&&(this.featureFlag=this.featureFlagInverted,this.isInverted=!0),this.featureService.getBooleanValue(this.featureFlag,!1).pipe((0,u.R)(this.onDestroy$),(0,c.U)(l=>this.isInverted?!l:l),(0,C.x)()).subscribe(l=>{l?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()})}ngOnDestroy(){this.onDestroy$.next()}}return E.\u0275fac=function(l){return new(l||E)(_.Y36(_.Rgc),_.Y36(_.s_b),_.Y36(e.Bz))},E.\u0275dir=_.lG2({type:E,selectors:[["","ifFeatureFlagBoolean",""],["","ifNotFeatureFlagBoolean",""]],inputs:{featureFlag:["ifFeatureFlagBoolean","featureFlag"],featureFlagInverted:["ifNotFeatureFlagBoolean","featureFlagInverted"]}}),E})()},96017:(ne,b,t)=>{t.d(b,{a:()=>y});var e=t(92218),i=t(85921),u=t(4151),c=t(98789),C=t(3184),_=t(61555),p=t(45398),E=t(64139),a=t(36312),l=t(88623),r=t(86942),o=t(93791),d=t(80823),n=t(59151),g=t(49837),f=(()=>{return(S=f||(f={})).enter="enter",S.leave="leave",S.nothing="nothing",f;var S})();let v=(()=>{class S{constructor(x){this.platformService=x,this.readyToListenForHovers$=new _.t(1),this.platformService.isBrowser()&&(0,p.H)(1e4).subscribe(R=>this.readyToListenForHovers$.next(!0))}watchHoverDelay(x,R=0,s=!1){return s?(0,E.of)(this.getHoverController(x,R)):this.readyToListenForHovers$.asObservable().pipe((0,r.U)(()=>this.getHoverController(x,R)))}getHoverController(x,R=0){let s=new e.xQ,h=this.getCombinedStreamFromElements(x,s),K=h.pipe((0,o.f)(h.pipe((0,d.b)(R)))).pipe((0,r.U)(P=>this.mapMouseEventsToHoverEvent(P)));return{onEnter:K.pipe((0,n.h)(P=>P===f.enter)),onLeave:K.pipe((0,n.h)(P=>P===f.leave)),clear:()=>{s.next()}}}mapMouseEventsToHoverEvent(x){let R=x.reduce((s,h)=>s+(h===f.enter?1:-1),0);return 0===R?f.nothing:R>0?f.enter:f.leave}getCombinedStreamFromElements(x,R){let s=[];return Array.isArray(x)||(x=[x]),x.forEach(h=>{let H=(0,a.R)(h,"mouseenter").pipe((0,i.R)(R),(0,r.U)(()=>f.enter)),K=(0,a.R)(h,"mouseleave").pipe((0,i.R)(R),(0,r.U)(()=>f.leave));s.push(H,K)}),s.reduce((h,H)=>(0,l.T)(h,H))}}return S.\u0275fac=function(x){return new(x||S)(C.LFG(g.m))},S.\u0275prov=C.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),y=(()=>{class S{constructor(x,R,s,h,H,K){this.elementRef=x,this.hoverService=R,this.overlayService=s,this.analyticsService=h,this.platformService=H,this.ngZone=K,this.hoverPreview=!0,this.hoverDelay=1e3,this.onDisable=new e.xQ}ngOnInit(){this.platformService.isServer()&&(this.hoverPreview=!1)}ngAfterViewInit(){this.hoverPreview?!this.elementRef||!this.elementRef.nativeElement||this.overlayController||this.listenToHoverEvents([this.elementRef.nativeElement]):this.disableHoverPreview()}ngOnDestroy(){this.disableHoverPreview()}disableHoverPreview(){this.closeOverlay(),this.onDisable.next(),this.clearHoverEvents()}closeOverlay(){this.overlayController&&(this.overlayController.close(),this.overlayController=void 0)}clearHoverEvents(){this.stopListeningToHover&&this.stopListeningToHover()}listenToHoverEvents(x){this.hoverService.watchHoverDelay(x,this.hoverDelay).pipe((0,i.R)(this.onDisable)).subscribe(({onEnter:R,onLeave:s,clear:h})=>{this.stopListeningToHover=h,this.ngZone.runOutsideAngular(()=>{R.pipe((0,i.R)(this.onDisable)).subscribe(()=>{this.ngZone.run(()=>{this.onOpen()})}),s.pipe((0,i.R)(this.onDisable)).subscribe(()=>{this.ngZone.run(()=>{this.closeOverlay()})})})})}onOpen(){if(!this.hoverComponent||this.overlayController)return;let x=[];const R=this.getWidths();let s=0;R&&(s=Math.round(-R.elementContainer/2+(this.hoverOffsetX||R.hoverElement/2)),x=[{offsetX:s,offsetY:-15,originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"},{offsetX:s,offsetY:15,originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"},{offsetX:10,offsetY:0,originX:"end",originY:"center",overlayX:"start",overlayY:"center"},{offsetX:-10,offsetY:0,originX:"start",originY:"center",overlayX:"end",overlayY:"center"}]),this.overlayController=this.overlayService.open({component:this.hoverComponent,payload:this.hoverPayload,connectedElement:this.elementRef,positionStrategy:this.overlayService.createPositionStrategy().flexibleConnectedTo(this.elementRef).withPositions(x.concat(u.bn)),scrollStrategy:this.overlayService.createScrollStrategy("reposition"),closeOnEsc:!0,arrowOffset:s}),this.analyticsService.trackInHeap("hover_preview_view",this.hoverPayload),this.onDisable.next(),this.clearHoverEvents(),this.overlayController.onClose.subscribe(()=>{this.overlayController=void 0}),this.listenToHoverEvents([this.elementRef.nativeElement,this.overlayController.element])}getWidths(){if(!this.elementRef)return;let x=this.elementRef.nativeElement.querySelector("[hoverOverElement]");x||(x=this.elementRef.nativeElement);let R=this.elementRef.nativeElement.querySelector("[hoverOverElementContainer]");return R||(R=this.elementRef.nativeElement),{elementContainer:R.offsetWidth,hoverElement:x.offsetWidth}}}return S.\u0275fac=function(x){return new(x||S)(C.Y36(C.SBq),C.Y36(v),C.Y36(u.F0),C.Y36(c.y),C.Y36(g.m),C.Y36(C.R0b))},S.\u0275dir=C.lG2({type:S,selectors:[["","hoverPreview",""]],inputs:{hoverPreview:"hoverPreview",hoverComponent:"hoverComponent",hoverDelay:"hoverDelay",hoverPayload:"hoverPayload",hoverOffsetX:"hoverOffsetX"}}),S})()},40577:(ne,b,t)=>{t.d(b,{C:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},40361:(ne,b,t)=>{t.d(b,{z:()=>d});var e=t(97010),i=t(83910),u=t(8601),c=t(62036);const C={acquisition:"acquisition",category:"category",category_group:"category",company:"company",event:"event","funding-round":"funding",investor:"investor",ipo:"ipo",location:"location",organization:"company",person:"person",school:"school"};var E=t(92938),a=t(3184),l=t(49837),r=t(34657);const o=(0,E.memoize)(n=>`url(data:image/svg+xml;base64,${btoa(function p(n){const g=n?C[n]:void 0,f=g&&u.x[g];return c.U[(null==f?void 0:f.icon)||"icon_cb_letters"].replace(/<path /g,'<path fill="#BDBDBD" ').replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')}(n))})`);let d=(()=>{class n{constructor(f,m,v,y,S,A){this.platformService=f,this.imageService=m,this.ngZone=v,this.renderer=y,this.elementRef=S,this.viewportService=A,this.useIdentifierImgStyle=!1}ngAfterContentInit(){this.platformService.isBrowser()&&(this.nativeEl=this.elementRef.nativeElement,this.nativeEl.classList.add("cb-image-with-placeholder"),this.nativeEl.classList.add("empty"),this.renderer.setStyle(this.nativeEl,"background-image",o(this.placeholderType)),this.useIdentifierImgStyle&&this.nativeEl.classList.add("identifier-img-style"),this.imageId&&!this.imgSrc&&(this.imgSrc=this.imageService.getPublicImageUrl(this.imageId,this.imageOptions)),this.imgSrc&&(this.createImgEl(),this.viewportService.notifyInViewport(this.nativeEl).pipe((0,i.q)(1)).subscribe(()=>{this.imgEl.setAttribute("src",this.imgSrc)}),(this.imgAlt||""===this.imgAlt)&&this.imgEl.setAttribute("alt",this.imgAlt)))}ngOnChanges(f){this.nativeEl&&f.placeholderType&&(this.nativeEl.classList.remove(f.placeholderType.previousValue),this.nativeEl.classList.add(f.placeholderType.currentValue)),this.nativeEl&&(f.imgSrc||f.imageId)&&(this.imgEl||this.createImgEl(),f.imageId&&(this.imgSrc=this.imageService.getPublicImageUrl(this.imageId,this.imageOptions)),this.imgEl.setAttribute("src",this.imgSrc))}ngOnDestroy(){this.platformService.isBrowser()&&this.ngZone.runOutsideAngular(()=>{this.nativeEl.removeEventListener("error",this.onError),this.nativeEl.removeEventListener("load",this.onLoad)})}createImgEl(){this.imgEl=this.renderer.createElement("img"),this.renderer.appendChild(this.nativeEl,this.imgEl),this.imgEl.setAttribute("style","opacity: 0;"),this.addImgEventListeners(this.imgEl)}addImgEventListeners(f){this.ngZone.runOutsideAngular(()=>{this.onError=()=>{f.setAttribute("style","display: none;")},this.onLoad=()=>{f.setAttribute("style","opacity: 1;"),this.nativeEl.classList.remove("empty"),this.renderer.removeStyle(this.nativeEl,"background-image")},f.addEventListener("error",this.onError),f.addEventListener("load",this.onLoad)})}}return n.\u0275fac=function(f){return new(f||n)(a.Y36(l.m),a.Y36(e.AJ),a.Y36(a.R0b),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(r.v))},n.\u0275dir=a.lG2({type:n,selectors:[["","lazyLoadImage",""]],inputs:{placeholderType:"placeholderType",imgSrc:"imgSrc",imgAlt:"imgAlt",imageId:"imageId",imageOptions:"imageOptions",useIdentifierImgStyle:"useIdentifierImgStyle"},features:[a.TTD]}),n})()},68881:(ne,b,t)=>{t.d(b,{N:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},61276:(ne,b,t)=>{t.d(b,{V:()=>i});var e=t(3184);let i=(()=>{class u{constructor(){this.target="_blank",this.rel="noopener nofollow noreferrer"}}return u.\u0275fac=function(C){return new(C||u)},u.\u0275dir=e.lG2({type:u,selectors:[["a","cb-external-link",""]],hostVars:2,hostBindings:function(C,_){2&C&&e.uIk("target",_.target)("rel",_.rel)}}),u})()},46036:(ne,b,t)=>{t.d(b,{n:()=>c});var e=t(3184),i=t(18554),u=t(45857);let c=(()=>{class C{constructor(p,E,a){this.el=p,this.linkNewTabService=E,this.routerLink=a}ngAfterViewChecked(){!this.linkNewTabService.shouldOpenInNewTab()||(this.el.nativeElement.target="_blank",this.routerLink&&(this.routerLink.target="_blank"))}}return C.\u0275fac=function(p){return new(p||C)(e.Y36(e.SBq),e.Y36(i.v),e.Y36(u.yS,8))},C.\u0275dir=e.lG2({type:C,selectors:[["a",3,"target","_blank"]]}),C})()},18554:(ne,b,t)=>{t.d(b,{v:()=>i});var e=t(3184);let i=(()=>{class u{constructor(){this.alwaysOpenInNewTab=!1}shouldOpenInNewTab(){return this.alwaysOpenInNewTab}setAlwaysOpenInNewTab(C){this.alwaysOpenInNewTab=C}}return u.\u0275fac=function(C){return new(C||u)},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},47367:(ne,b,t)=>{t.d(b,{I:()=>i});var e=t(3184);let i=(()=>{class u{get isPrimary(){return!this.color||"primary"===this.color}get isAccent(){return"accent"===this.color}}return u.\u0275fac=function(C){return new(C||u)},u.\u0275dir=e.lG2({type:u,selectors:[["a","cb-link",""]],hostVars:4,hostBindings:function(C,_){2&C&&e.ekj("link-primary",_.isPrimary)("link-accent",_.isAccent)},inputs:{color:["cb-link","color"]}}),u})()},19366:(ne,b,t)=>{t.d(b,{L:()=>u});var e=t(36362),i=t(3184);let u=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[e.ez]]}),c})()},37075:(ne,b,t)=>{t.d(b,{K:()=>a});var e=t(75939),i=t(92218),u=t(88623),c=t(85921),C=t(59151),_=t(29361),p=t(3184),E=t(54166);let a=(()=>{class l{constructor(o){this.connectedOverlay=o,this.overlayAutoCloseOnTab=!0,this.onDestroy=new i.xQ,this.createClosedStream$().pipe((0,c.R)(this.onDestroy)).subscribe(()=>o.overlayRef.detach())}ngOnDestroy(){this.onDestroy.next()}createClosedStream$(){const o=this.connectedOverlay.overlayKeydown.pipe((0,C.h)(n=>n.keyCode===e.hY||this.overlayAutoCloseOnTab&&n.keyCode===e.Mf||n.altKey&&n.keyCode===e.LH)),d=this.connectedOverlay.overlayOutsideClick.pipe((0,C.h)(n=>!this.connectedOverlay.origin.elementRef.nativeElement.contains(n.target)));return(0,u.T)(o,d).pipe((0,_.h)(void 0))}}return l.\u0275fac=function(o){return new(o||l)(p.Y36(E.pI))},l.\u0275dir=p.lG2({type:l,selectors:[["","overlayAutoClose",""]],inputs:{overlayAutoCloseOnTab:"overlayAutoCloseOnTab"}}),l})()},20715:(ne,b,t)=>{t.d(b,{W:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},82262:(ne,b,t)=>{t.d(b,{a:()=>u});var e=t(3184),i=t(4151);let u=(()=>{class c{constructor(_,p){this.elementRef=_,this.overlayService=p,this.overlayScrollStrategy="close",this.overlayDisabled=!1,this.overlayToggled=new e.vpe}ngOnChanges(_){_.overlayOpen&&(this.overlayOpen?this.openOverlay():this.closeOverlay())}onClick(){this.openOverlay()}ngOnDestroy(){this.closeOverlay()}openOverlay(){if(this.overlayWithArrow&&!this.overlayDisabled){if(this.isOpen)return void this.closeOverlay();this.overlayController=this.overlayService.open({component:this.overlayWithArrow,payload:this.overlayPayload,connectedElement:this.elementRef,positionStrategy:this.overlayService.createPositionStrategy().flexibleConnectedTo(this.elementRef).withPositions((this.overlayPreferredPositions||[]).concat(i.bn)),scrollStrategy:this.overlayService.createScrollStrategy(this.overlayScrollStrategy),closeOnOutsideClick:!0,closeOnEsc:!0}),this.overlayController.onClose.subscribe(()=>{this.isOpen=!1,this.overlayController=void 0,this.overlayToggled.emit(this.isOpen)}),this.isOpen=!0,this.overlayToggled.emit(this.isOpen)}}closeOverlay(){this.overlayController&&(this.overlayController.close(),this.overlayController=void 0),this.isOpen=!1,this.overlayToggled.emit(this.isOpen)}}return c.\u0275fac=function(_){return new(_||c)(e.Y36(e.SBq),e.Y36(i.F0))},c.\u0275dir=e.lG2({type:c,selectors:[["","overlayWithArrow",""]],hostBindings:function(_,p){1&_&&e.NdJ("click",function(){return p.onClick()})},inputs:{overlayWithArrow:"overlayWithArrow",overlayPayload:"overlayPayload",overlayScrollStrategy:"overlayScrollStrategy",overlayPreferredPositions:"overlayPreferredPositions",overlayDisabled:"overlayDisabled",overlayOpen:"overlayOpen"},outputs:{overlayToggled:"overlayToggled"},features:[e.TTD]}),c})()},35852:(ne,b,t)=>{t.d(b,{a:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},82973:(ne,b,t)=>{t.d(b,{W:()=>u});var e=t(3184),i=t(49837);let u=(()=>{class c{constructor(_,p,E){this.platformService=_,this.templateRef=p,this.viewContainer=E}ngOnInit(){this.platformService.isBrowser()&&this.viewContainer.createEmbeddedView(this.templateRef)}}return c.\u0275fac=function(_){return new(_||c)(e.Y36(i.m),e.Y36(e.Rgc),e.Y36(e.s_b))},c.\u0275dir=e.lG2({type:c,selectors:[["","ifPlatformBrowser",""]]}),c})()},79215:(ne,b,t)=>{t.d(b,{u:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},32112:(ne,b,t)=>{t.d(b,{N:()=>u});var e=t(3184),i=t(24018);let u=(()=>{class c{constructor(_,p){this.elRef=_,this.scrollService=p}ngAfterViewInit(){setTimeout(()=>this.scrollToElement())}ngOnChanges(_){!_.scrollToElementInContainer.isFirstChange()&&this.scrollToElement()}scrollToElement(){this.scrollToElementInContainer&&this.scrollService.scrollToElementInContainer(this.elRef.nativeElement)}}return c.\u0275fac=function(_){return new(_||c)(e.Y36(e.SBq),e.Y36(i.a))},c.\u0275dir=e.lG2({type:c,selectors:[["","scrollToElementInContainer",""]],inputs:{scrollToElementInContainer:"scrollToElementInContainer"},features:[e.TTD]}),c})()},85495:(ne,b,t)=>{t.d(b,{E:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},74465:(ne,b,t)=>{t.d(b,{i:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},18827:(ne,b,t)=>{t.d(b,{m:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},22972:(ne,b,t)=>{t.d(b,{k:()=>C});var e=t(2384),i=t(40759),u=t(99516),c=t(3184);let C=(()=>{class _{constructor(E,a){this.dialogService=E,this.usageEventService=a,this.upsellShowLogin=!1,this.upsellShowCancel=!1}onClick(){this.usageEventService.logUsageEvent("upsell-button",Object.assign({modal_name:"upsell-modal",upsell_feature:this.upsellTrigger},this.upsellTriggerLocation&&{trigger_location:this.upsellTriggerLocation})),this.showUpsellDialog()}showUpsellDialog(){this.dialogService.showDialog(u.j,{featureSet:this.upsellTrigger,context:this.upsellContext,showDetails:this.upsellShowDetails,showLogin:this.upsellShowLogin,showCancel:this.upsellShowCancel})}}return _.\u0275fac=function(E){return new(E||_)(c.Y36(e.x),c.Y36(i.N))},_.\u0275dir=c.lG2({type:_,selectors:[["","upsellTrigger",""]],hostBindings:function(E,a){1&E&&c.NdJ("click",function(){return a.onClick()})},inputs:{upsellTrigger:"upsellTrigger",upsellContext:"upsellContext",upsellTriggerLocation:"upsellTriggerLocation",upsellShowDetails:"upsellShowDetails",upsellShowLogin:"upsellShowLogin",upsellShowCancel:"upsellShowCancel"}}),_})()},59543:(ne,b,t)=>{t.d(b,{_:()=>u});var e=t(3184),i=t(90587);let u=(()=>{class c{get serverError(){return this._serverError}set serverError(_){this._serverError=_,this.onChangeFunction&&(this.serverErroredValue=null,this.onChangeFunction())}validate(_){var p;let E=_.value,a=this.fieldNameOverride||this.fieldName;const l=null===(p=this.serverError)||void 0===p?void 0:p.errors;return(Array.isArray(l)?l:[]).some(d=>(null==d?void 0:d.field)&&d.field===a)&&(this.serverErroredValue||(this.serverErroredValue=E),this.isServerErroredValue(_.value))?{serverError:!0}:null}registerOnValidatorChange(_){this.onChangeFunction=_}isServerErroredValue(_){return _===this.serverErroredValue}}return c.\u0275fac=function(_){return new(_||c)},c.\u0275dir=e.lG2({type:c,selectors:[["","serverError","","formControlName",""],["","serverError","","formControl",""],["","serverError","","ngModel",""]],inputs:{fieldName:["name","fieldName"],fieldNameOverride:["fieldName","fieldNameOverride"],serverError:"serverError"},features:[e._Bn([{provide:i.Cf,useExisting:(0,e.Gpc)(()=>c),multi:!0}])]}),c})()},54749:(ne,b,t)=>{t.d(b,{m:()=>c});var e=t(3184),i=t(90587),u=t(18415);let c=(()=>{class C{constructor(p){this.userValidatorService=p}validate(p){return this.userValidatorService.getValidateNameFn()(p)}}return C.\u0275fac=function(p){return new(p||C)(e.Y36(u.M))},C.\u0275dir=e.lG2({type:C,selectors:[["","validName","","formControlName",""],["","validName","","formControl",""],["","validName","","ngModel",""]],features:[e._Bn([{provide:i.Cf,useExisting:(0,e.Gpc)(()=>C),multi:!0}])]}),C})()},65852:(ne,b,t)=>{t.d(b,{C:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},713:(ne,b,t)=>{t.d(b,{z:()=>c});var e=t(3184),i=t(83910),u=t(34657);let c=(()=>{class C{constructor(p,E){this.elementRef=p,this.viewportService=E,this.inViewport=new e.vpe}ngOnInit(){this.viewportService.notifyInViewport(this.elementRef.nativeElement,this.options).pipe((0,i.q)(1)).subscribe(()=>this.inViewport.emit())}}return C.\u0275fac=function(p){return new(p||C)(e.Y36(e.SBq),e.Y36(u.v))},C.\u0275dir=e.lG2({type:C,selectors:[["","inViewportNotifier",""]],inputs:{options:"options"},outputs:{inViewport:"inViewport"}}),C})()},4745:(ne,b,t)=>{t.d(b,{Y:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},63555:(ne,b,t)=>{t.d(b,{c:()=>C});var e=t(3184),i=t(92938),c=t(49837);let C=(()=>{class _{constructor(E,a){this.platformService=E,this.ngZone=a,this.onResize=new e.vpe}ngAfterContentInit(){this.platformService.isBrowser()&&this.addEventListener()}ngOnDestroy(){this.platformService.isBrowser()&&this.ngZone.runOutsideAngular(()=>{window.removeEventListener("resize",this.regulatedOnResize)})}addEventListener(){this.ngZone.runOutsideAngular(()=>{let E=()=>{this.ngZone.run(()=>{this.onResize.emit()})};this.regulatedOnResize="throttle"===this.regulateExecutionBy?(0,i.throttle)(E,this.wait):"debounce"===this.regulateExecutionBy?(0,i.debounce)(E,this.wait):E,window.addEventListener("resize",this.regulatedOnResize)})}}return _.\u0275fac=function(E){return new(E||_)(e.Y36(c.m),e.Y36(e.R0b))},_.\u0275dir=e.lG2({type:_,selectors:[["","windowResizeNotifier",""]],inputs:{regulateExecutionBy:"regulateExecutionBy",wait:"wait"},outputs:{onResize:"onResize"}}),_})()},51151:(ne,b,t)=>{t.d(b,{A:()=>i});var e=t(3184);let i=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({}),u})()},70821:(ne,b,t)=>{t.d(b,{EW:()=>n,td:()=>Oe,q7:()=>tt});var e=t(36362),i=t(90898),u=t(89250),c=t(19946),C=t(32519),_=t(87317),p=t(35503),E=t(95758),a=t(3184);let l=(()=>{class Re{}return Re.\u0275fac=function(Ge){return new(Ge||Re)},Re.\u0275mod=a.oAB({type:Re}),Re.\u0275inj=a.cJS({imports:[[e.ez,c.g0,C.n,_.ot,p.Dt,E.Is]]}),Re})();var r=t(32313);let o=(()=>{class Re{}return Re.\u0275fac=function(Ge){return new(Ge||Re)},Re.\u0275mod=a.oAB({type:Re}),Re.\u0275inj=a.cJS({imports:[[e.ez,i.q,u.S,l,r.H,p.Dt]]}),Re})();var d=t(25294);let n=(()=>{class Re{}return Re.\u0275fac=function(Ge){return new(Ge||Re)},Re.\u0275mod=a.oAB({type:Re}),Re.\u0275inj=a.cJS({imports:[[o,d.j]]}),Re})();var g=t(54166),f=t(64139),m=t(88759),v=t(59095),y=t(29361),S=t(20590),A=t(24956),x=t(92218),R=t(59151),s=t(85921),h=t(93649),H=t(35266),K=t(96800),P=t(71345),z=t(29964),ee=t(15435),Z=t(94009),G=t(53615),J=t(68840),le=t(78294),V=t(32478),j=t(74929);function M(Re,ot){if(1&Re){const Ge=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(We){return a.CHM(Ge),a.oxw().minimize(We)}),a.ALo(1,"translate"),a._UZ(2,"icon",7),a.qZA()}2&Re&&a.uIk("aria-label",a.lcZ(1,1,"CBL.COMMON.MINIMIZE"))}function ie(Re,ot){if(1&Re){const Ge=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(We){return a.CHM(Ge),a.oxw().maximize(We)}),a.ALo(1,"translate"),a._UZ(2,"icon",8),a.qZA()}2&Re&&a.uIk("aria-label",a.lcZ(1,1,"CBL.COMMON.MAXIMIZE"))}function te(Re,ot){if(1&Re){const Ge=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(We){return a.CHM(Ge),a.oxw().enlarge(We)}),a.ALo(1,"translate"),a._UZ(2,"icon",9),a.qZA()}2&Re&&a.uIk("aria-label",a.lcZ(1,1,"CBL.COMMON.EXPAND"))}function re(Re,ot){if(1&Re){const Ge=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(We){return a.CHM(Ge),a.oxw().shrink(We)}),a.ALo(1,"translate"),a._UZ(2,"icon",10),a.qZA()}2&Re&&a.uIk("aria-label",a.lcZ(1,1,"CBL.COMMON.COLLAPSE"))}const q=["*"];let U=(()=>{class Re{constructor(){this.title="",this.hidden=!1,this.enlarged=!1,this.hiddenChange=new a.vpe,this.enlargedChange=new a.vpe,this.closeClick=new a.vpe}minimize(Ge){null==Ge||Ge.stopPropagation(),this.hidden=!0,this.hiddenChange.emit(this.hidden),this.shrink()}maximize(Ge){null==Ge||Ge.stopPropagation(),this.hidden=!1,this.hiddenChange.emit(this.hidden)}toggle(){this.hidden?this.maximize():this.minimize()}enlarge(Ge){null==Ge||Ge.stopPropagation(),this.enlarged=!0,this.maximize(),this.enlargedChange.emit(this.enlarged)}shrink(Ge){null==Ge||Ge.stopPropagation(),this.enlarged=!1,this.enlargedChange.emit(this.enlarged)}close(Ge){Ge.stopPropagation(),this.closeClick.emit(Ge)}}return Re.\u0275fac=function(Ge){return new(Ge||Re)},Re.\u0275cmp=a.Xpm({type:Re,selectors:[["collapsible-bottom-sheet-container"]],inputs:{title:"title",hidden:"hidden",enlarged:"enlarged"},outputs:{hiddenChange:"hiddenChange",enlargedChange:"enlargedChange",closeClick:"closeClick"},ngContentSelectors:q,decls:13,vars:11,consts:[[3,"click"],["mat-dialog-title",""],[1,"button-container"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["key","icon_close","color","inherit",1,"close-icon"],[3,"hidden"],["key","icon_minimize","color","inherit"],["key","icon_maximize","color","inherit"],["key","icon_open_fullscreen","color","inherit"],["key","icon_close_fullscreen","color","inherit"]],template:function(Ge,pt){1&Ge&&(a.F$t(),a.TgZ(0,"mat-toolbar",0),a.NdJ("click",function(){return pt.toggle()}),a.TgZ(1,"h1",1),a._uU(2),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,M,3,3,"button",3),a.YNc(5,ie,3,3,"button",3),a.YNc(6,te,3,3,"button",3),a.YNc(7,re,3,3,"button",3),a.TgZ(8,"button",4),a.NdJ("click",function(Ze){return pt.close(Ze)}),a.ALo(9,"translate"),a._UZ(10,"icon",5),a.qZA()()(),a.TgZ(11,"div",6),a.Hsn(12),a.qZA()),2&Ge&&(a.ekj("minimized",pt.hidden),a.xp6(2),a.Oqu(pt.title),a.xp6(2),a.Q6J("ngIf",!pt.hidden),a.xp6(1),a.Q6J("ngIf",pt.hidden),a.xp6(1),a.Q6J("ngIf",!pt.enlarged),a.xp6(1),a.Q6J("ngIf",pt.enlarged),a.xp6(1),a.uIk("aria-label",a.lcZ(9,9,"CBL.COMMON.CLOSE")),a.xp6(3),a.Q6J("hidden",pt.hidden))},directives:[c.Ye,E.uh,e.O5,_.lW,V.o],pipes:[j.X],styles:["[_nghost-%COMP%]{background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;display:block;min-width:256px}[_nghost-%COMP%]  mat-toolbar, [_nghost-%COMP%]  mat-toolbar mat-toolbar-row, [_nghost-%COMP%]  mat-toolbar .mat-toolbar-tools{height:44px!important;min-height:44px!important;max-height:44px!important}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#183444;color:#fff;cursor:pointer}mat-toolbar.minimized[_ngcontent-%COMP%]{min-width:256px;max-width:450px}h1[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;color:#fff;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.button-container[_ngcontent-%COMP%]{display:flex;margin-left:8px}.close-icon[_ngcontent-%COMP%]  svg{height:28px;width:28px}"],changeDetection:0}),Re})();var k=t(74160);let w=(()=>{class Re{constructor(){this.onConfirm=new a.vpe,this.onCancel=new a.vpe}cancel(){this.onCancel.emit()}confirm(){this.onConfirm.emit()}}return Re.\u0275fac=function(Ge){return new(Ge||Re)},Re.\u0275cmp=a.Xpm({type:Re,selectors:[["unsaved-changes-banner"]],inputs:{cancelLabelKey:"cancelLabelKey",confirmLabelKey:"confirmLabelKey",confirmTextKey:"confirmTextKey"},outputs:{onConfirm:"onConfirm",onCancel:"onCancel"},decls:10,vars:9,consts:[["iconKey","icon_info_outline","iconColor","warn"],["mat-stroked-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(Ge,pt){1&Ge&&(a.TgZ(0,"label-with-icon",0),a._uU(1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"div")(4,"button",1),a.NdJ("click",function(){return pt.cancel()}),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"button",2),a.NdJ("click",function(){return pt.confirm()}),a._uU(8),a.ALo(9,"translate"),a.qZA()()),2&Ge&&(a.xp6(1),a.hij(" ",a.lcZ(2,3,pt.confirmTextKey),"\n"),a.xp6(4),a.hij(" ",a.lcZ(6,5,pt.cancelLabelKey)," "),a.xp6(3),a.hij(" ",a.lcZ(9,7,pt.confirmLabelKey)," "))},directives:[k.d,_.lW],pipes:[j.X],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;padding:16px;background-color:#f8e7e7;border-radius:3px}button[_ngcontent-%COMP%]:first-child{margin-right:8px}"],changeDetection:0}),Re})();var Q=t(74742);const $=["dialogInterior"];function X(Re,ot){if(1&Re){const Ge=a.EpF();a.TgZ(0,"unsaved-changes-banner",5),a.NdJ("onConfirm",function(){return a.CHM(Ge),a.oxw(2).onConfirm()})("onCancel",function(){return a.CHM(Ge),a.oxw(2).onCancel()}),a.qZA()}if(2&Re){const Ge=a.oxw().ngIf;a.Q6J("cancelLabelKey",Ge.cancelLabelKey)("confirmLabelKey",Ge.confirmLabelKey)("confirmTextKey",Ge.confirmTextKey)}}function Ce(Re,ot){if(1&Re&&(a.ynx(0),a.YNc(1,X,1,3,"unsaved-changes-banner",4),a.BQk()),2&Re){const Ge=ot.ngIf;a.xp6(1),a.Q6J("ngIf",Ge.show)}}function ye(Re,ot){1&Re&&(a.TgZ(0,"div",6),a._UZ(1,"mat-spinner",7),a.qZA())}function ue(Re,ot){}let Me=(()=>{class Re{constructor(Ge,pt,We,Ze,De,we,Ue,qe,dt,st,Tt){this.emailPayload=Ge,this.lazyLoadModulesService=pt,this.changeDetectorRef=We,this.errorService=Ze,this.logService=De,this.sendEmailDialogService=we,this.engageContactDataService=Ue,this.engageAnalyticsService=qe,this.engageDialogTitleService=dt,this.injector=st,this.unsavedChangesConfirmationService=Tt,this.loading=!0,this.confirmationState$=this.unsavedChangesConfirmationService.confirmationState$,this.dialogHidden=!1,this.dialogEnlarged=!1,this.title$=this.engageDialogTitleService.dialogTitle$,this.logger=this.logService.getLogger("SendEmailDialog"),this.onDestroy=new x.xQ,this.engageContactDataService.loadContact(this.emailPayload.contactId,this.emailPayload.orgId),this.engageContactDataService.loadingError$.pipe((0,R.h)(St=>!!St)).subscribe(St=>this.sendEmailDialogService.close()),this.engageDialogTitleService.setTitle(),this.unsavedChangesConfirmationService.confirmedTemplateAction$.pipe((0,s.R)(this.onDestroy)).subscribe(St=>this.engageDialogTitleService.setTitle(St)),this.engageAnalyticsService.logEvent({action_type:this.emailPayload.email?"click_email_address":"take_action_send_email"})}ngAfterViewInit(){this.loading=!0,this.lazyLoadModulesService.loadComponent("email_compose",this.dialogInterior,this.injector).then(Ge=>{this.loading=!1,Ge.instance.contactId=this.emailPayload.contactId,Ge.instance.initialEmail=this.emailPayload.email,Ge.instance.initialState=this.emailPayload.initialState,Ge.instance.isReopeningAfterConnect=this.emailPayload.isReopeningAfterConnect,Ge.instance.organizationId=this.emailPayload.orgId,this.changeDetectorRef.markForCheck()},Ge=>{this.logger.error("EmailCompose failed to load",Ge),this.errorService.showToast(Ge)}),this.unsavedChangesConfirmationService.confirmationState$.pipe((0,s.R)(this.onDestroy)).subscribe(Ge=>{this.dialogHidden=!1,this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.onDestroy.next()}onConfirm(){this.unsavedChangesConfirmationService.confirm()}onCancel(){this.unsavedChangesConfirmationService.cancel()}closeClick(){this.sendEmailDialogService.closeWithConfirmation()}onEnlargedChange(Ge){this.dialogEnlarged=Ge,this.sendEmailDialogService.updateEnlarged(Ge)}}return Re.\u0275fac=function(Ge){return new(Ge||Re)(a.Y36(E.WI),a.Y36(J.B),a.Y36(a.sBO),a.Y36(S.T),a.Y36(A.$V),a.Y36(le.Q),a.Y36(h.F),a.Y36(z.h),a.Y36(G.u),a.Y36(a.zs3),a.Y36(ee.i))},Re.\u0275cmp=a.Xpm({type:Re,selectors:[["ng-component"]],viewQuery:function(Ge,pt){if(1&Ge&&a.Gf($,5,a.s_b),2&Ge){let We;a.iGM(We=a.CRH())&&(pt.dialogInterior=We.first)}},features:[a._Bn([h.F,H.I,K.F,P.M,z.h,Z.R,G.u,ee.i])],decls:7,vars:9,consts:[[3,"title","hidden","enlarged","hiddenChange","enlargedChange","closeClick"],[4,"ngIf"],["class","loading-container",4,"ngIf"],["dialogInterior",""],[3,"cancelLabelKey","confirmLabelKey","confirmTextKey","onConfirm","onCancel",4,"ngIf"],[3,"cancelLabelKey","confirmLabelKey","confirmTextKey","onConfirm","onCancel"],[1,"loading-container"],["diameter","30"]],template:function(Ge,pt){1&Ge&&(a.TgZ(0,"collapsible-bottom-sheet-container",0),a.NdJ("hiddenChange",function(Ze){return pt.dialogHidden=Ze})("enlargedChange",function(Ze){return pt.onEnlargedChange(Ze)})("closeClick",function(){return pt.closeClick()}),a.ALo(1,"async"),a.YNc(2,Ce,2,1,"ng-container",1),a.ALo(3,"async"),a.YNc(4,ye,2,0,"div",2),a.YNc(5,ue,0,0,"ng-template",null,3,a.W1O),a.qZA()),2&Ge&&(a.Q6J("title",a.lcZ(1,5,pt.title$))("hidden",pt.dialogHidden)("enlarged",pt.dialogEnlarged),a.xp6(2),a.Q6J("ngIf",a.lcZ(3,7,pt.confirmationState$)),a.xp6(2),a.Q6J("ngIf",pt.loading))},directives:[U,e.O5,w,Q.Ou],pipes:[e.Ov],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100px}unsaved-changes-banner[_ngcontent-%COMP%]{margin:8px 8px 0}"],changeDetection:0}),Re})();var me=t(15784);const ze=new a.OlP("standalone mat dialog",{factory:()=>new E.uw((0,a.f3M)(g.aV),(0,a.f3M)(a.zs3),(0,a.f3M)(e.Ye),void 0,()=>new g.RZ,void 0,(0,a.f3M)(g.Xj))});let tt=(()=>{class Re{constructor(Ge,pt,We){this.matDialog=Ge,this.engageSavedEditorStateService=pt,this.sendEmailDialogService=We,this.dialogRef=void 0,this.dialogPositionNormal={bottom:"0",right:"48px"},this.dialogPositionEnlarged={bottom:"40px",right:"10vw"},We.emailPayload$.pipe((0,m.b)(Ze=>{var De;null===(De=this.dialogRef)||void 0===De||De.close(),this.sendEmailDialogService.updateEnlarged(!1)}),(0,v.w)(Ze=>this.waitDialogCloseAnimation$().pipe((0,y.h)(Ze)))).subscribe(Ze=>{Ze?(this.dialogRef=this.openEmail(Ze),this.backdropElement=document.getElementsByClassName("engage-backdrop")[0]):(this.dialogRef=void 0,this.backdropElement=void 0)}),We.enlarged$.subscribe(Ze=>{var De,we,Ue,qe,dt,st;Ze?(null===(De=this.dialogRef)||void 0===De||De.updatePosition(this.dialogPositionEnlarged),null===(we=this.dialogRef)||void 0===we||we.updateSize("80vw"),null===(Ue=this.backdropElement)||void 0===Ue||Ue.classList.add("visible")):(null===(qe=this.dialogRef)||void 0===qe||qe.updatePosition(this.dialogPositionNormal),null===(dt=this.dialogRef)||void 0===dt||dt.updateSize(),null===(st=this.backdropElement)||void 0===st||st.classList.remove("visible"))})}sendEmail(Ge,pt,We,Ze){const De=Ze?this.engageSavedEditorStateService.getSavedEditorState():void 0;this.sendEmailDialogService.openNew({contactId:Ge,orgId:pt,email:We,initialState:De,isReopeningAfterConnect:Ze})}openEmail(Ge){return this.matDialog.open(Me,{hasBackdrop:!0,backdropClass:["engage-backdrop","cdk-overlay-dark-backdrop"],disableClose:!0,closeOnNavigation:!1,position:this.dialogPositionNormal,panelClass:"no-bottom-border-radius-dialog",data:Ge})}waitDialogCloseAnimation$(){return this.dialogRef?this.dialogRef.afterClosed().pipe((0,m.b)(()=>{this.dialogRef=void 0,this.engageSavedEditorStateService.clearEditorState()})):(0,f.of)(void 0)}}return Re.\u0275fac=function(Ge){return new(Ge||Re)(a.LFG(ze),a.LFG(me.o),a.LFG(le.Q))},Re.\u0275prov=a.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();var ht=t(58895),xe=t(2384),Ne=t(26435),be=t(42391),se=t(49837);let Oe=(()=>{class Re{constructor(Ge,pt,We,Ze,De){this.engageService=Ge,this.connectEmailService=pt,this.dialogService=We,this.routingHelper=Ze,this.platformService=De}handleConnectEmailRedirect(){if(!this.platformService.isBrowser())return;const Ge=this.connectEmailService.extractRedirectResponse();if(!Ge)return;const pt=this.routingHelper.extractAndDeleteQueryParam(be.On),We=this.routingHelper.extractAndDeleteQueryParam(be.yz),Ze=this.routingHelper.extractAndDeleteQueryParam(be.KN);!pt||!Ze||(Ge.success?this.engageService.sendEmail(pt,Ze,We,!0):this.dialogService.showDialog(ht.wF).then(De=>{(null==De?void 0:De.connectAgain)&&this.showConnectDialog(pt,Ze,We)}))}showConnectDialog(Ge,pt,We){this.dialogService.showDialog(ht.qy,{queryParams:{[be.On]:Ge,[be.yz]:We,[be.KN]:pt}})}}return Re.\u0275fac=function(Ge){return new(Ge||Re)(a.LFG(tt),a.LFG(ht.vm),a.LFG(xe.x),a.LFG(Ne.VP),a.LFG(se.m))},Re.\u0275prov=a.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})()},29964:(ne,b,t)=>{t.d(b,{h:()=>p});var e=t(98789),i=t(83910),u=t(20042),c=t(3184),C=t(92568),_=t(35585);let p=(()=>{class E{constructor(l,r,o){this.usageEventsService=l,this.uuidService=r,this.store=o,this.clientappId=this.uuidService.createUuid()}logEvent(l){this.store.select(u.KM).pipe((0,i.q)(1)).subscribe(r=>{this.usageEventsService.logUsageEvent("email_action",Object.assign(Object.assign({},l),{clientapp_id:this.clientappId,is_connected:!!(null==r?void 0:r.length)}))})}}return E.\u0275fac=function(l){return new(l||E)(c.LFG(e.N),c.LFG(C.B),c.LFG(_.yh))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})()},93649:(ne,b,t)=>{t.d(b,{F:()=>S});var e=t(84505),i=t(61555),u=t(19193),c=t(64139),C=t(86942),_=t(59095),p=t(47418),E=t(88759),a=t(92938),l=t(14296),r=t(80145),o=t(3184);const d=r.Ps`
  query ContactData($contact_uuid: UUID!, $org_uuid: UUID!) {
    entities {
      contact(uuid: $contact_uuid) {
        properties {
          name
        }
        NOT_FOR_PROD_USE_relationships {
          contact_person__cp_has_contact__reverse {
            entities {
              properties {
                first_name
                last_name
              }
            }
          }
          private_contact_item__has_private_contact_item__forward {
            entities {
              properties {
                work_emails
                personal_emails
              }
            }
          }
          contact_item__has_contact_item__forward {
            entities {
              properties {
                job_department
                job_title
                canonical_job_priority
              }
            }
          }
        }
      }
      organization(uuid: $org_uuid) {
        properties {
          location_identifiers {
            uuid
            entity_def_id
            value
            permalink
          }
          last_funding_total {
            value_usd
            value
            currency
          }
          last_funding_at
          last_funding_type
          identifier {
            uuid
            entity_def_id
            value
            permalink
          }
        }
        NOT_FOR_PROD_USE_relationships {
          category__organization_in_category__forward {
            entities(
              limit: 1
              order: [{ field_id: num_relationships, sort: asc }]
            ) {
              properties {
                identifier {
                  uuid
                  entity_def_id
                  value
                  permalink
                }
              }
            }
          }
        }
      }
    }
    collections {
      acquisitions(
        query: {
          properties: { acquirer_identifier: { uuid: { eq: $org_uuid } } }
        }
      ) {
        entities(order: { field_id: announced_on, sort: desc }, limit: 1) {
          properties {
            acquiree_identifier {
              value
            }
            announced_on {
              value
            }
          }
        }
      }
    }
  }
`;let n=(()=>{class A extends r.AE{constructor(R){super(R),this.document=d}}return A.\u0275fac=function(R){return new(R||A)(o.LFG(r._M))},A.\u0275prov=o.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();var g=t(23580);const f=r.Ps`
  query ContactIndustryFunding($industry_uuid: UUID!, $sinceDate: String) {
    collections {
      funding_rounds(
        query: {
          properties: {
            funded_organization_categories: {
              uuid: { includes: [$industry_uuid] }
            }
            announced_on: { gte: $sinceDate }
          }
        }
      ) {
        aggregates {
          funded_organization_funding_total {
            sum {
              value
              value_usd
              currency
            }
          }
        }
      }
    }
  }
`;let m=(()=>{class A extends r.AE{constructor(R){super(R),this.document=f}}return A.\u0275fac=function(R){return new(R||A)(o.LFG(r._M))},A.\u0275prov=o.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const v=r.Ps`
  query ContactLocationFunding($location_uuid: UUID!, $sinceDate: String) {
    collections {
      funding_rounds(
        query: {
          properties: {
            funded_organization_location: {
              uuid: { includes: [$location_uuid] }
            }
            announced_on: { gte: $sinceDate }
          }
        }
      ) {
        aggregates {
          funded_organization_funding_total {
            sum {
              value
              value_usd
              currency
            }
          }
        }
      }
    }
  }
`;let y=(()=>{class A extends r.AE{constructor(R){super(R),this.document=v}}return A.\u0275fac=function(R){return new(R||A)(o.LFG(r._M))},A.\u0275prov=o.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),S=(()=>{class A{constructor(R,s,h,H){this.errorService=R,this.contactDataGQL=s,this.contactIndustryFundingGQL=h,this.contactLocationFundingGQL=H,this.loading$=new e.X(!0),this.loadingError$=new e.X(void 0),this.currentContactSubject=new i.t(1),this.currentContact$=this.currentContactSubject.asObservable()}loadContact(R,s){this.loading$.next(!0),this.contactDataGQL.fetch({contact_uuid:R,org_uuid:s}).pipe((0,C.U)(h=>this.toContactData((0,g.w)(h.data))),(0,_.w)(h=>{var H,K;return(0,u.aj)([this.fetchIndustryFunding(null===(H=h.company.industry)||void 0===H?void 0:H.uuid),this.fetchLocationFunding(null===(K=h.company.location)||void 0===K?void 0:K.uuid)]).pipe((0,C.U)(([P,z])=>Object.assign(Object.assign({},h),{industryRecentFunding:P,locationRecentFunding:z})),(0,p.K)(P=>(0,c.of)(h)))}),(0,E.b)(()=>this.loading$.next(!1))).subscribe(h=>{this.loadingError$.next(void 0),this.currentContactSubject.next(h)},h=>{this.loadingError$.next(h),this.errorService.showToast(h,"CBL.COMMON.FAILURE")})}toContactData(R){return{user:this.formContactUser(R),company:this.formContactCompany(R)}}fetchIndustryFunding(R){return R?this.contactIndustryFundingGQL.fetch({industry_uuid:R,sinceDate:"90 days ago"}).pipe((0,C.U)(g.w),(0,C.U)(s=>s.data.collections.funding_rounds.aggregates.funded_organization_funding_total.sum)):(0,c.of)(void 0)}fetchLocationFunding(R){return R?this.contactLocationFundingGQL.fetch({location_uuid:R,sinceDate:"1 year ago"}).pipe((0,C.U)(g.w),(0,C.U)(s=>s.data.collections.funding_rounds.aggregates.funded_organization_funding_total.sum)):(0,c.of)(void 0)}formContactUser(R){var s;const h=R.entities.contact,H=null===(s=h.NOT_FOR_PROD_USE_relationships.contact_person__cp_has_contact__reverse.entities[0])||void 0===s?void 0:s.properties,K=h.NOT_FOR_PROD_USE_relationships.private_contact_item__has_private_contact_item__forward.entities,z=(0,a.maxBy)(h.NOT_FOR_PROD_USE_relationships.contact_item__has_contact_item__forward.entities,Z=>{var G;return null!==(G=Z.properties.canonical_job_priority)&&void 0!==G?G:-1}),ee=K.flatMap(Z=>[...Z.properties.work_emails||[],...Z.properties.personal_emails||[]]);return{full_name:h.properties.name,first_name:null==H?void 0:H.first_name,last_name:null==H?void 0:H.last_name,job_title:null==z?void 0:z.properties.job_title,job_department:null==z?void 0:z.properties.job_department,emails:(0,a.sortedUniq)(ee.sort()).filter(Z=>!!Z)}}formContactCompany(R){var s,h,H,K,P,z,ee;const Z=R.entities.organization,G=null===(s=R.collections.acquisitions.entities[0])||void 0===s?void 0:s.properties;return{uuid:(null===(h=Z.properties.identifier)||void 0===h?void 0:h.uuid)||"",name:(null===(H=Z.properties.identifier)||void 0===H?void 0:H.value)||"",industry:null===(K=Z.NOT_FOR_PROD_USE_relationships.category__organization_in_category__forward.entities[0])||void 0===K?void 0:K.properties.identifier,location:null===(P=Z.properties.location_identifiers)||void 0===P?void 0:P[0],last_funding_date:Z.properties.last_funding_at,last_funding_total:Z.properties.last_funding_total,last_funding_type:Z.properties.last_funding_type,last_acquired_company_name:null===(z=null==G?void 0:G.acquiree_identifier)||void 0===z?void 0:z.value,last_acquired_company_date:null===(ee=null==G?void 0:G.announced_on)||void 0===ee?void 0:ee.value}}}return A.lastFundingTypeMetadata={entityDefId:"organization",fieldId:"last_funding_type"},A.\u0275fac=function(R){return new(R||A)(o.LFG(l.T),o.LFG(n),o.LFG(m),o.LFG(y))},A.\u0275prov=o.Yz7({token:A,factory:A.\u0275fac}),A})()},53615:(ne,b,t)=>{t.d(b,{u:()=>p});var e=t(84505),i=t(83910),u=t(94882),c=t(93443),C=t(93649),_=t(3184);let p=(()=>{class E{constructor(l,r){this.labelService=l,this.engageContactDataService=r,this.dialogTitleSubject=new e.X(""),this.dialogTitle$=this.dialogTitleSubject.asObservable()}setTitle(l){switch(null==l?void 0:l.type){case"new":this.dialogTitleSubject.next(l.template_type===c.G8.TemplateTypeEnum.snippet?$localize`Create New Snippet`:$localize`Create New Email Template`);break;case"edit":this.dialogTitleSubject.next(l.template.template_type===c.G8.TemplateTypeEnum.snippet?$localize`Edit Snippet`:$localize`Edit Email Template`);break;case"apply":break;default:this.engageContactDataService.currentContact$.pipe((0,i.q)(1)).subscribe(r=>{this.dialogTitleSubject.next(this.labelService.getInterpolatedLabel("CBL.ENGAGE.TITLE",{contactName:r.user.full_name,companyName:r.company.name}))})}}}return E.\u0275fac=function(l){return new(l||E)(_.LFG(u.Q),_.LFG(C.F))},E.\u0275prov=_.Yz7({token:E,factory:E.\u0275fac}),E})()},94009:(ne,b,t)=>{t.d(b,{R:()=>u});var e=t(84505),i=t(3184);let u=(()=>{class c{constructor(){this.leftPaneModeSubject=new e.X("email"),this.leftPaneMode$=this.leftPaneModeSubject.asObservable()}editEmail(){this.leftPaneModeSubject.next("email")}editTemplate(){this.leftPaneModeSubject.next("template")}}return c.\u0275fac=function(_){return new(_||c)},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac}),c})()},42391:(ne,b,t)=>{t.d(b,{On:()=>e,yz:()=>i,KN:()=>u});const e="engageContactId",i="engageContactEmail",u="engageOrganizationId"},15784:(ne,b,t)=>{t.d(b,{o:()=>u});var e=t(3184),i=t(53328);let u=(()=>{class c{constructor(_){this.storageService=_,this.EDITOR_STATE_KEY="editor-state"}getSavedEditorState(){let _=this.storageService.getItem(this.EDITOR_STATE_KEY);if(_)try{return JSON.parse(_)}catch(p){return}}saveEditorState(_){this.storageService.setItem(this.EDITOR_STATE_KEY,JSON.stringify(_))}clearEditorState(){this.storageService.removeItem(this.EDITOR_STATE_KEY)}}return c.\u0275fac=function(_){return new(_||c)(e.LFG(i.V))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},71345:(ne,b,t)=>{t.d(b,{M:()=>z});var e=t(3184),i=t(59151),u=t(86942),c=t(59095),C=t(79128),_=t(93649),p=t(93443),E=t(23580);const l={template:{template_id:"cb000000-capp-4000-a000-000000000001",template_type:p.G8.TemplateTypeEnum.template,name:"Recent funding",subject:"Congrats on your {{last_funding_type}} round!",body:"Hi {{first_name}},\n\nSaw that {{company_name}} received a recent {{last_funding_amount}} funding, congratulations! What exciting plans do you have to use this and level up your team?\n\nReaching out because <strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nLooking forward to getting your thoughts."},isRelevant:ee=>!!ee.company.last_funding_date&&Date.now()-new Date(ee.company.last_funding_date).getTime()<7776e6},r={template:{template_id:"cb000000-capp-4000-a000-000000000002",template_type:p.G8.TemplateTypeEnum.template,name:"Industry Funding",subject:"{{company_name}} raises new round of funding",body:"Hi {{first_name}},\n\nDid you know that the {{industry}} industry raised {{industry_funding}} within the last 90 days? With no sign of stopping, {{company_name}} is well-suited to be the next funded company in this industry.\n\nWould love to connect to see how we can help make that a reality with our <strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nHow does that sound?"},isRelevant:ee=>{var Z;return!l.isRelevant(ee)&&(null===(Z=ee.industryRecentFunding)||void 0===Z?void 0:Z.value_usd)>=5e6}},f={template:{template_id:"cb000000-capp-4000-a000-100000000001",template_type:p.G8.TemplateTypeEnum.snippet,name:"Recent funding",subject:"",body:"Saw that {{company_name}} received a recent {{last_funding_type}} funding, congratulations! What exciting plans do you have to use this and level up your team?"},isRelevant:ee=>!!ee.company.last_funding_date&&Date.now()-new Date(ee.company.last_funding_date).getTime()<7776e6},m={template:{template_id:"cb000000-capp-4000-a000-100000000002",template_type:p.G8.TemplateTypeEnum.snippet,name:"Industry Funding",subject:"",body:"{{industry}} is blowing up! {{industry_funding}} raised in the last quarter alone -- {{company_name}} could be next."},isRelevant:ee=>{var Z;return!f.isRelevant(ee)&&(null===(Z=ee.industryRecentFunding)||void 0===Z?void 0:Z.value_usd)>=5e6}},A=[l,r,{template:{template_id:"cb000000-capp-4000-a000-000000000003",template_type:p.G8.TemplateTypeEnum.template,name:"City Funding",subject:"{{headquarters_location}} fighting against the odds and coming out on top",body:"Hi {{first_name}},\n\nDid you know that in the past year, when the world was turned upside down, {{headquarters_location}} raised a total of {{location_funding}}?\n\nAn incredible statistic -- one I\u2019m sure everyone at {{company_name}} couldn\u2019t be more proud of. To build off of this momentum, would love to talk through how <strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nLooking forward to connecting."},isRelevant:ee=>{var Z;return(null===(Z=ee.locationRecentFunding)||void 0===Z?void 0:Z.value_usd)>=5e6}},{template:{template_id:"cb000000-capp-4000-a000-000000000004",template_type:p.G8.TemplateTypeEnum.template,name:"Job Title + Industry",subject:"Helping {{job_title}}s in {{industry}}",body:"Hi {{first_name}},\n\nDid you know that most {{job_title}}s in the {{industry}} industry are constantly looking for ways to optimize their reps' workflows?\n\nGiven your title, wanted to see if this was also a concern of yours because if it is -- we're here to help!\n<strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nDoes it make sense to connect this week or am I way off the mark here?"},isRelevant:ee=>!0},{template:{template_id:"cb000000-capp-4000-a000-000000000005",template_type:p.G8.TemplateTypeEnum.template,name:"Job Function + Industry",subject:"Helping {{job_function}} teams in {{industry}}",body:"Hi {{first_name}},\n\n{{job_function}} teams in {{industry}} often experience difficulties in keeping on top of the latest trends in this industry as things move so quickly and thus end up missing out on key opportunities.\n\n<strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nThoughts?"},isRelevant:ee=>!0}],x=[f,m,{template:{template_id:"cb000000-capp-4000-a000-100000000003",template_type:p.G8.TemplateTypeEnum.snippet,name:"City Funding",subject:"",body:"{{headquarters_location}} is showing itself to be a center for high-growth companies and a hub for innovation. How can {{company_name}} build off of this momentum?"},isRelevant:ee=>{var Z;return(null===(Z=ee.locationRecentFunding)||void 0===Z?void 0:Z.value_usd)>=5e6}},{template:{template_id:"cb000000-capp-4000-a000-100000000004",template_type:p.G8.TemplateTypeEnum.snippet,name:"Job Title + Industry",subject:"",body:"{{job_title}}s in the {{industry}} industry are looking for ways to optimize their reps' workflows -- let's connect to discuss how you're doing that at {{company_name}}."},isRelevant:ee=>!0},{template:{template_id:"cb000000-capp-4000-a000-100000000005",template_type:p.G8.TemplateTypeEnum.snippet,name:"Job Function + Industry",subject:"",body:"{{job_function}} teams in {{industry}} are experiencing difficulties keeping up with top trends. How can we help you mitigate this issue?"},isRelevant:ee=>!0}];var R=t(96800),s=t(19193),h=p.G8.AccessLevelEnum;const H=ee=>ee.replace(/\n/g,"<br>"),K=new e.OlP("engage template suggestions",{providedIn:"root",factory:()=>A}),P=new e.OlP("engage snippet suggestions",{providedIn:"root",factory:()=>x});let z=(()=>{class ee{constructor(G,J,le,V){this.engageContactDataService=G,this.engageVariablesService=J,this.templateSuggestions=le,this.snippetSuggestions=V,this.suggestedTemplates$=this.engageContactDataService.currentContact$.pipe((0,i.h)(E.K),(0,u.U)(j=>this.getSuggestedTemplates(j)),(0,c.w)(j=>(0,s.aj)(j.map(M=>this.ensureInterpolatable(M)))),(0,u.U)(j=>j.filter(E.K).slice(0,ee.TEMPLATES_LIMIT)),(0,C.d)(1)),this.suggestedSnippets$=this.engageContactDataService.currentContact$.pipe((0,i.h)(E.K),(0,u.U)(j=>this.getSuggestedSnippets(j)),(0,c.w)(j=>(0,s.aj)(j.map(M=>this.ensureInterpolatable(M)))),(0,u.U)(j=>j.filter(E.K).slice(0,ee.SNIPPETS_LIMIT)),(0,C.d)(1))}ensureInterpolatable(G){return(0,s.aj)([this.engageVariablesService.canInterpolate$(G.body),this.engageVariablesService.canInterpolate$(G.subject)]).pipe((0,u.U)(J=>J.every(le=>le)?G:void 0))}getSuggestedTemplates(G){return this.templateSuggestions.filter(J=>J.isRelevant(G)).map(J=>this.toEngageTemplate(J.template))}getSuggestedSnippets(G){return this.snippetSuggestions.filter(J=>J.isRelevant(G)).map(J=>this.toEngageTemplate(J.template))}toEngageTemplate(G){return Object.assign(Object.assign({},G),{body:H(G.body),created_at:"",updated_at:"",access_level:h.workspace_read,permissions:{is_updatable:!1,is_deletable:!1,is_access_level_updatable:!1}})}}return ee.TEMPLATES_LIMIT=10,ee.SNIPPETS_LIMIT=5,ee.\u0275fac=function(G){return new(G||ee)(e.LFG(_.F),e.LFG(R.F),e.LFG(K),e.LFG(P))},ee.\u0275prov=e.Yz7({token:ee,factory:ee.\u0275fac}),ee})()},35266:(ne,b,t)=>{t.d(b,{I:()=>d});var e=t(84505),i=t(64139),u=t(88759),c=t(61745),C=t(47418),_=t(86942),p=t(93443),E=t(1208),a=t(14296),l=t(46179),r=t(53615),o=t(3184);let d=(()=>{class n{constructor(f,m,v,y){this.engageApi=f,this.errorService=m,this.toastService=v,this.engageDialogTitleService=y,this.templates$=new e.X([]),this.editedTemplate$=new e.X(void 0),this.loading$=new e.X(!0),this.saving$=new e.X(!1),this.newTemplate$=new e.X(void 0)}loadTemplates(){this.loading$.next(!0),this.engageApi.cbEngageTemplatesGet$().subscribe(f=>{this.loading$.next(!1),this.templates$.next(f)},f=>{this.errorService.showToast(f)})}createTemplate(f){this.saving$.next(!0),this.engageApi.cbEngageTemplatesPost$({template:f}).pipe((0,u.b)(()=>this.saving$.next(!1)),(0,c.M)(this.templates$),(0,u.b)(([m,v])=>{const y=v.concat(m);this.templates$.next(y),this.selectTemplate(m),this.newTemplate$.next(m),this.engageDialogTitleService.setTitle({type:"edit",template:m})}),(0,C.K)(m=>(this.errorService.showToast(m,"CBL.ENGAGE.TEMPLATES.DELETE_TEMPLATE_ERROR"),(0,i.of)(void 0)))).subscribe(()=>{this.toastService.showSimpleToast(f.template_type===p.G8.TemplateTypeEnum.snippet?"CBL.ENGAGE.TEMPLATES.SAVED_SNIPPET":"CBL.ENGAGE.TEMPLATES.SAVED")})}editTemplate(f,m){this.saving$.next(!0),this.engageApi.cbEngageTemplatesTemplateIdPatch$({templateId:f,template:m}).pipe((0,u.b)(()=>this.saving$.next(!1)),(0,c.M)(this.templates$),(0,u.b)(([v,y])=>{const S=this.updateTemplate(v,y);this.templates$.next(S),this.selectTemplate(v)}),(0,_.U)(([v,y])=>v),(0,C.K)(v=>(this.errorService.showToast(v,"CBL.COMMON.FAILURE"),(0,i.of)(void 0)))).subscribe(v=>{this.toastService.showSimpleToast((null==v?void 0:v.template_type)===p.G8.TemplateTypeEnum.snippet?"CBL.ENGAGE.TEMPLATES.SAVED_SNIPPET":"CBL.ENGAGE.TEMPLATES.SAVED")})}selectTemplate(f){this.editedTemplate$.next(f)}deleteTemplate(f){this.engageApi.cbEngageTemplatesTemplateIdDelete$({templateId:f.template_id}).pipe((0,c.M)(this.templates$),(0,u.b)(([m,v])=>{const y=v.filter(S=>S.template_id!==f.template_id);this.templates$.next(y)}),(0,c.M)(this.editedTemplate$),(0,u.b)(([m,v])=>{(null==v?void 0:v.template_id)===f.template_id&&this.selectTemplate(void 0)}),(0,C.K)(m=>(this.errorService.showToast(m,f.template_type===p.G8.TemplateTypeEnum.snippet?"CBL.ENGAGE.TEMPLATES.DELETE_SNIPPET_ERROR":"CBL.ENGAGE.TEMPLATES.DELETE_TEMPLATE_ERROR"),(0,i.of)(void 0)))).subscribe()}updateTemplate(f,m){const v=m.map(y=>f.template_id===y.template_id?f:y);return v.includes(f)||v.push(f),v}}return n.\u0275fac=function(f){return new(f||n)(o.LFG(E.rT),o.LFG(a.T),o.LFG(l.k),o.LFG(r.u))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})()},96800:(ne,b,t)=>{t.d(b,{F:()=>a});var e=t(86942),i=t(79128),u=t(83910),c=t(93649),C=t(71263),_=t(21649),p=t(3184),E=t(36362);let a=(()=>{class l{constructor(o,d,n,g){this.engageContactDataService=o,this.fieldFormatterService=d,this.datePipe=n,this.formatterUtil=g,this.variables$=this.engageContactDataService.currentContact$.pipe((0,e.U)(f=>l.variableDefs.map(m=>this.makeVariable(m,f))),(0,i.d)({refCount:!0,bufferSize:1})),this.loading$=this.engageContactDataService.loading$.asObservable(),this.formatters={date:f=>this.datePipe.transform(f,"mediumDate")||void 0,field:(f,m,v)=>null!=v?this.fieldFormatterService.formatFieldByFieldId(f,m,v,C.Qy.default):void 0,money:f=>null!=(null==f?void 0:f.value_usd)?this.formatterUtil.scaleMoney(f.value_usd):void 0},this.interpolateValuesMap$=this.variables$.pipe((0,e.U)(f=>{const m={};return f.forEach(v=>{m[v.name]=v.value}),m}))}interpolate$(o,d,n=!0){return this.interpolateValuesMap$.pipe((0,u.q)(1),(0,e.U)(g=>(0,_.sX)(o,g,d,n)))}canInterpolate$(o){return this.interpolateValuesMap$.pipe((0,u.q)(1),(0,e.U)(d=>(0,_.Lf)(o,d)))}makeVariable(o,d){return{name:o.name,labelKey:o.labelKey,hidden:o.hidden,value:d&&o.format(d,this.formatters)}}}return l.variableDefs=[{name:"first_name",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.FIRST_NAME",format:r=>r.user.first_name},{name:"last_name",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_NAME",format:r=>r.user.last_name},{name:"job_title",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.JOB_TITLE",format:r=>r.user.job_title},{name:"company_name",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.COMPANY_NAME",format:r=>r.company.name},{name:"last_funding_date",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_FUNDING_DATE",format:(r,{date:o})=>o(r.company.last_funding_date)},{name:"last_funding_type",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_FUNDING_TYPE",format:(r,{field:o})=>o(c.F.lastFundingTypeMetadata.entityDefId,c.F.lastFundingTypeMetadata.fieldId,r.company.last_funding_type)},{name:"last_funding_amount",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_FUNDING_AMOUNT",format:(r,{money:o})=>o(r.company.last_funding_total)},{name:"industry",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.INDUSTRY",format:r=>{var o;return null===(o=r.company.industry)||void 0===o?void 0:o.value}},{name:"last_acquired_company",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_ACQUIRED_COMPANY",format:r=>r.company.last_acquired_company_name},{name:"last_acquired_company_date",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_ACQUIRED_COMPANY_DATE",format:(r,{date:o})=>o(r.company.last_acquired_company_date)},{hidden:!0,name:"industry_funding",labelKey:"N/A",format:(r,{money:o})=>o(r.industryRecentFunding)},{hidden:!0,name:"location_funding",labelKey:"N/A",format:(r,{money:o})=>o(r.locationRecentFunding)},{hidden:!0,name:"headquarters_location",labelKey:"N/A",format:r=>{var o;return null===(o=r.company.location)||void 0===o?void 0:o.value}},{hidden:!0,name:"job_function",labelKey:"N/A",format:r=>r.user.job_department}],l.\u0275fac=function(o){return new(o||l)(p.LFG(c.F),p.LFG(C.eM),p.LFG(E.uU),p.LFG(C.hI))},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac}),l})()},21649:(ne,b,t)=>{t.d(b,{t2:()=>e,sX:()=>u,Lf:()=>c});const e=/{{([^}]*)}}/g,i=C=>C;function u(C,_,p=i,E=!0){return C.replace(e,(a,l)=>{const r=l.trim(),o=_[r];return Object.keys(_).includes(r)||E?o||p(a,r):a})}function c(C,_){let p=!0;return u(C,_,E=>(p=!1,E)),p}},78294:(ne,b,t)=>{t.d(b,{Q:()=>_});var e=t(84505),i=t(92218),u=t(88623),c=t(61745),C=t(3184);let _=(()=>{class p{constructor(){this.emailPayloadSubject=new e.X(void 0),this.openNewEmailSubject=new i.xQ,this.closeCurrEmailSubject=new i.xQ,this.confirmDialogCloseSubject=new i.xQ,this.enlargedSubject=new e.X(!1),this.emailPayload$=this.emailPayloadSubject.asObservable(),this.confirmDialogClose$=this.confirmDialogCloseSubject.asObservable(),this.enlarged$=this.enlargedSubject.asObservable(),(0,u.T)(this.openNewEmailSubject,this.closeCurrEmailSubject).pipe((0,c.M)(this.emailPayloadSubject)).subscribe(([a,l])=>l?this.confirmDialogCloseSubject.next(a):this.setNextEmailPayload(a))}openNew(a){this.openNewEmailSubject.next(a)}closeWithConfirmation(){this.closeCurrEmailSubject.next()}close(){this.emailPayloadSubject.next(void 0)}setNextEmailPayload(a){this.emailPayloadSubject.next(a)}updateEnlarged(a){this.enlargedSubject.next(a)}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275prov=C.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},15435:(ne,b,t)=>{t.d(b,{i:()=>m});var e=t(93443),i=t(88623),u=t(84505),c=t(92218),C=t(26439),_=t(64139),p=t(59095),E=t(29361),a=t(85921),l=t(83910),r=t(59151),o=t(52428),d=t(3184),n=t(94009),g=t(78294);const f={show:!1,cancelLabelKey:"",confirmLabelKey:"",confirmTextKey:""};let m=(()=>{class v{constructor(S,A){this.engageLeftPaneModeService=S,this.sendEmailDialogService=A,this.confirmedTemplateAction$=(0,i.T)(this.templateAction$("email"),this.templateAction$("template")),this.confirmationSubject=new u.X(f),this.confirmTemplateActionSubject=new c.xQ,this.confirmationResultSubject=new c.xQ,this.onDestroy=new c.xQ,this.emailDirty=!1,this.templateDirty=!1,this.confirmationState$=this.confirmationSubject.asObservable(),this.sendEmailDialogService.confirmDialogClose$.pipe((0,p.w)(x=>this.confirmDialogClose$(!!x).pipe((0,E.h)(x))),(0,a.R)(this.onDestroy)).subscribe(x=>this.sendEmailDialogService.setNextEmailPayload(x))}ngOnDestroy(){this.onDestroy.next()}templateAction$(S){return"email"===S?this.engageLeftPaneModeService.leftPaneMode$.pipe((0,p.w)(A=>"email"===A?this.confirmTemplateActionSubject:C.E),(0,p.w)(A=>this.confirmUnsavedEmailChanges$(A).pipe((0,E.h)(A)))):this.engageLeftPaneModeService.leftPaneMode$.pipe((0,p.w)(A=>"template"===A?this.confirmTemplateActionSubject:C.E),(0,p.w)(A=>this.confirmUnsavedTemplateChanges$(A).pipe((0,E.h)(A))))}onTemplateFormChange(S){this.templateDirty=S,this.cancel()}onEmailFormChange(S){this.emailDirty=S,this.cancel()}showConfirm(S,A,x){this.confirmationSubject.next({show:!0,cancelLabelKey:S,confirmLabelKey:A,confirmTextKey:x})}cancel(){this.confirmationSubject.value&&(this.confirmationSubject.next(f),this.confirmationResultSubject.next(!1))}confirm(){this.confirmationSubject.next(f),this.confirmationResultSubject.next(!0)}confirmTemplateAction(S){this.confirmTemplateActionSubject.next(S)}waitConfirmation$(S){return this.showConfirm(S.cancelLabelKey,S.confirmLabelKey,S.confirmTextKey),this.confirmationResultSubject.pipe((0,l.q)(1),(0,r.h)(A=>A),(0,E.h)(void 0))}confirmDialogClose$(S){const A=this.emailDirty||this.templateDirty;return this.confirmationState$.pipe((0,l.q)(1),(0,o.j)("show"),(0,p.w)(x=>S||!x&&A?this.waitConfirmation$({cancelLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.CANCEL_BUTTON",confirmLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.DISCARD_BUTTON",confirmTextKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.BODY"}):(0,_.of)(void 0)))}confirmUnsavedEmailChanges$(S){let A=this.emailDirty;return"apply"===S.type&&S.template.template_type===e.G8.TemplateTypeEnum.snippet&&(A=!1),A?this.waitConfirmation$(this.getConfirmationCopy(S)):(0,_.of)(void 0)}confirmUnsavedTemplateChanges$(S){let A=this.templateDirty;return"apply"===S.type&&S.template.template_type===e.G8.TemplateTypeEnum.snippet&&(A=!1),A?this.waitConfirmation$(this.getConfirmationCopy(S)):(0,_.of)(void 0)}getConfirmationCopy(S){return"apply"===S.type?{cancelLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.CANCEL_BUTTON",confirmLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.APPLY_BUTTON",confirmTextKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.APPLY_TEMPLATE_BODY"}:{cancelLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.CANCEL_BUTTON",confirmLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.DISCARD_TEMPLATE_BUTTON",confirmTextKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.BODY"}}}return v.\u0275fac=function(S){return new(S||v)(d.LFG(n.R),d.LFG(g.Q))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})()},29658:(ne,b,t)=>{t.d(b,{p:()=>e});const e="engage"},25294:(ne,b,t)=>{t.d(b,{j:()=>K});var e=t(35585),i=t(65112),u=t(29658),c=t(71894),C=t(14296),_=t(46179),p=t(43630),E=t(23580),a=t(64139),l=t(10610),r=t(86942),o=t(47418),d=t(80522),n=t(83910),g=t(88759),f=t(59151),m=t(59095),v=t(29361),y=t(28711),S=t(20042),A=t(3184);const x={signature:"CBL.ACCOUNT.CONNECT_EMAIL.EMAIL_SIGNATURE_SAVE_TOAST",bcc:"CBL.ACCOUNT.CONNECT_EMAIL.BCC_SAVE_TOAST"};let R=(()=>{class P{constructor(ee,Z,G,J,le){this.action$=ee,this.store=Z,this.enterpriseSyncApi=G,this.errorService=J,this.toastService=le,this.loadEmailAccounts$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(y.ww),(0,l.z)(V=>this.getEmailAccounts$().pipe((0,r.U)(j=>(0,y.YY)({emailAccounts:j})),(0,o.K)(j=>(0,a.of)((0,y.Ny)({error:j}))))))),this.deleteAccount$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(y.OA),(0,d.zg)(V=>this.disconnectAccount$(V.accountId).pipe((0,r.U)(j=>(0,y.yC)({accountId:V.accountId})),(0,o.K)(j=>(0,a.of)((0,y.wR)({error:j}))))))),this.updateAccountProperty$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(y.bD),(0,d.zg)(V=>this.store.select((0,S.F5)(V.accountId)).pipe((0,n.q)(1),(0,r.U)(j=>{const M=Object.keys(V.update)[0];return(0,y._j)({accountId:V.accountId,oldAccountProperty:{[M]:null==j?void 0:j[M]},accountProperty:M,update:V.update})}))))),this.saveAccountProperty$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(y._j),(0,d.zg)(V=>this.patchAccount$(V.accountId,V.update).pipe((0,r.U)(()=>(0,y.gS)({accountId:V.accountId,update:V.update,accountProperty:V.accountProperty})),(0,o.K)(j=>(0,a.of)((0,y.M$)({error:j,accountId:V.accountId,accountProperty:V.accountProperty,oldAccountProperty:V.oldAccountProperty}))))))),this.saveAccountPropertySuccess$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(y.gS),(0,g.b)(V=>{const j=x[V.accountProperty];j&&this.toastService.showSimpleToast(j)})),{dispatch:!1}),this.requestFail$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(y.Ny,y.M$,y.wR),(0,g.b)(V=>this.errorService.showToast(V.error))),{dispatch:!1})}getEmailAccounts$(){return this.store.select(p.c7).pipe((0,n.q)(1),(0,f.h)(E.K),(0,m.w)(ee=>this.enterpriseSyncApi.cbEnterpriseSyncUsersUserIdAccountsGet$({userId:ee})))}disconnectAccount$(ee){return this.store.select(p.c7).pipe((0,n.q)(1),(0,f.h)(E.K),(0,m.w)(Z=>this.enterpriseSyncApi.cbEnterpriseSyncUsersUserIdAccountsAccountIdDelete$({accountId:ee,userId:Z})))}patchAccount$(ee,Z){return this.store.select(p.c7).pipe((0,n.q)(1),(0,f.h)(E.K),(0,m.w)(