!function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Sol=void 0;var n=e("./utils.js"),o=e("./tracking.js"),r=e("./storage.js"),s=e("./transport.js"),a=e("./sol-id"),u=e("./version.js");function l(){if((0,n.timeStamp)("Sol constructor"),!window.sol)throw'"sol" snippet must be included before the script tag';if(window.sol.loaded)throw'"sol" object is already loaded';this.context={version:"sol-js/"+u.version,debug:(0,n.isDebugBuild)(),batch:!0,batchLingerMs:500,visitorId:"@visitorId",apiHost:"https://web.aips-sol.com",apiPath:"/v1/events",userAgent:window.navigator.userAgent,referrerUrl:window.document.referrer,impressionDuration:1e3,impressionVisible:.5,transport:new s.Transport,_lastRequestMetrics:{_sessionId:(0,n.uuidV4)().substring(0,8),_seqNum:0,_cfRay:null,_failures:0,_requestDuration:null,_status:null}},this._buffer=[],this._failedBuffer=[],this._bufferFlushTimer=null,this.impressionListeners=Map?new Map:new n.TinyMap;var e=function(){window.clearTimeout(this._bufferFlushTimer),this._unloading=!0,this._buffer.length>0&&this._flushBuffer()}.bind(this);"onpagehide"in window?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1),window.sol.loaded=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this._attachToGlobal.bind(this),!1):this._attachToGlobal()}l.prototype._track=function(e){try{if((0,n.isUndefined)(e))return this;for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];switch(e=e.toUpperCase()){case"INIT":this._init.apply(this,i);break;case"CONFIG":this._config.apply(this,i);break;case"SEARCH":this._search.apply(this,i);break;case"ACTIVITY":this._activity.apply(this,i);break;case"MONITOR:IMPRESSION":this._watchImpression.apply(this,i);break;case"MONITOR:IMPRESSION:OFF":this._watchImpressionOff.apply(this,i);break;case"RECOMMENDATIONS_DISPLAYED":this._recommendationsDisplayed.apply(this,i);break;case"DISPLAY":this._display.apply(this,i);break;default:this._error('Invalid trackType "'+e+'"')}}catch(e){this._error(e)}},l.prototype.getVisitorId=function(){return window&&window.localStorage&&window.localStorage.getItem("sol_id")||r.storage.get("sol_id")};l.prototype.onSolIdEvent=function(e){(0,n.isUndefined)(this.context._lastRequestMetrics.sol_id_lm)&&(this.context._lastRequestMetrics.sol_id_lm=e.status.code),this.context._lastRequestMetrics.sol_id_pm=e.status.code},l.prototype._visitorIdProvider=function(e){return(0,n.isDefined)(e)?(0,a.setSolId)(e,this.onSolIdEvent.bind(this)):(0,a.getSolId)(this.onSolIdEvent.bind(this))},l.prototype._init=function(e,t){this.context.partnerId=e,this._config(t)},l.prototype._config=function(e){e&&((0,n.isDefined)(e.debug)&&(this.context.debug=e.debug),(0,n.isDefined)(e.loginId)&&(this.context.loginId=e.loginId),(0,n.isDefined)(e.apiHost)&&(this.context.apiHost=e.apiHost),(0,n.isDefined)(e.apiPath)&&(this.context.apiPath=e.apiPath)),this._visitorIdProvider(e&&e.visitorId)},l.prototype._search=function(e,t){e.type="SEARCH",this._bufferEvent(e,t)},l.prototype._activity=function(e,t,i){(0,n.timeStamp)("Sol _activity "+e),t.type="ACTIVITY",t.activityType=e,this._bufferEvent(t,i)},l.prototype._display=function(e,t){e.type="DISPLAY",this._bufferEvent(e,t)},l.prototype._recommendationsDisplayed=function(e,t){e.type="RECOMMENDATIONS_DISPLAYED",this._bufferEvent(e,t)},l.prototype._watchImpression=function(e,t,i){(0,n.timeStamp)("Sol _watchImpression");var r=this.impressionListeners.get(e);if(r&&JSON.stringify(t)===JSON.stringify(r.data))this._warn("Impression tracker was registered multiple times with same parameters. Ignoring.");else{r&&(this._warn("Impression tracker was registered multiple times with differing parameters. Previous tracker unregistered."),r.off());var s=(0,o.callbackWhenTrueFor)(e,this.context.impressionDuration,function(e){return(0,o.percentVisible)(e)>this.context.impressionVisible}.bind(this),this._activity.bind(this,"IMPRESSION",t,i));this.impressionListeners.set(e,{off:s,data:(0,n.shallowClone)(t)})}},l.prototype._watchImpressionOff=function(e){(0,n.timeStamp)("Sol _watchImpressionOff");var t=this.impressionListeners.get(e);t?(this.impressionListeners.delete(e),t.off()):this._error("Unable to stop impression tracking. No impression tracker found for elementId:"+e)},l.prototype._attachToGlobal=function(){(0,n.timeStamp)("Sol _attachToGlobal");for(var e=window.sol.q||[],t=0;t<e.length;t++)this._track.apply(this,e[t]);window.sol=this._track.bind(this),window.sol.loaded=!0,window.sol.version=u.version},l.prototype._cloneAndAddMetadata=function(e){var t=(0,n.shallowClone)(e);t.policy||(t.policy="sol"),t.eventTime=(0,n.newZDate)(),t.visitorId=this._visitorIdProvider(),this.context.loginId&&(t.loginId=this.context.loginId),t.url=window.location.href,t.referrerUrl=this.context.referrerUrl,t.userAgent=this.context.userAgent;var i=t.tags=(0,n.isObject)(e.tags)?(0,n.shallowClone)(e.tags):{},o=this.context._lastRequestMetrics;return i["solJs:tp"]=this.context.transport.proto,i["solJs:sid"]=o._sessionId,i["solJs:seq"]=""+o._seqNum,o._cfRay&&o._cfRay.length>0&&(i["solJs:cfRay"]=""+o._cfRay),o.sol_id_lm&&(i["solJs:sol_id_lm"]=o.sol_id_lm),o.sol_id_pm&&(i["solJs:sol_id_pm"]=o.sol_id_pm),t},l.prototype._bufferEvent=function(e,t){this._buffer.push({data:this._cloneAndAddMetadata(e),oncomplete:t}),this._shouldFlush()?(this._bufferFlushTimer||(clearTimeout(this._bufferFlushTimer),this._bufferFlushTimer=null),this._flushBuffer()):this._bufferFlushTimer||(this._bufferFlushTimer=setTimeout(function(){this._bufferFlushTimer=null,this._flushBuffer()}.bind(this),this.context.batchLingerMs))},l.prototype._shouldFlush=function(){return this._unloading||!0!==this.context.batch},l.prototype._getApiServer=function(){return this.context.apiHost+this.context.apiPath},l.prototype._flushBuffer=function(){if(this._buffer.length<1)this._error("_flushBuffer called when buffer is empty");else{var e=this._buffer;this._buffer=[];var t={"X-Partner-ID":this.context.partnerId,"X-Request-Time":(0,n.newZDate)(),"X-Client-Version":this.context.version};this.context.debug&&(t["X-Development-Response"]=!0);var i=this.context._lastRequestMetrics;if(i._seqNum++,null!==i._requestDuration&&(t["X-Last-Request-Duration"]=i._requestDuration),i._failures>0){var o=this._failedBuffer;o.length>0&&(this._failedBuffer=[],e=o.concat(e),t["X-Retried-Events"]=o.length),t["X-Last-Request-Failures"]=i._failures,t["X-Last-Request-Status"]=i._status}for(var r=(new Date).getTime(),s=function(t,n,o){try{var s=(new Date).getTime()-r;i._requestDuration=s,i._cfRay=n.get("CF-Ray");var a=t/100|0;2===a?(delete i._failures,delete i._status):(3!==a&&4!==a&&(this._failedBuffer=this._failedBuffer.concat(e)),i._failures=1+(0|i._failures),i._status=t),204!==t&&this._error(t+":"+o);for(var u=0;u<e.length;u++)e[u].oncomplete&&e[u].oncomplete(t,o)}catch(e){this._error(e)}}.bind(this),a=function(e){this._error(e)}.bind(this),u=[],l=0;l<e.length;l++)u.push(e[l].data);this.context.transport.send(this._getApiServer(),t,u,!0===this._unloading,s,a)}},l.prototype._log=function(){if(this.context.debug){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n.log.apply(void 0,["info"].concat(t))}},l.prototype._warn=function(){if(this.context.debug){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n.log.apply(void 0,["warn"].concat(t))}},l.prototype._error=function(){if(this.context.debug){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n.log.apply(void 0,["error"].concat(t))}},i.Sol=l},{"./sol-id":3,"./storage.js":4,"./tracking.js":5,"./transport.js":6,"./utils.js":7,"./version.js":8}],2:[function(e,t,i){"use strict";new(e("./index.js").Sol)},{"./index.js":1}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.STATUS_CODES=i.setSolId=i.getSolId=void 0;var n=e("./utils"),o=e("./storage"),r="SETTER";i.getSolId=function(e){return s({solIdEventListener:e,source:"GETTER"})},i.setSolId=function(e,t){return s({solIdEventListener:t,source:r,sourceParam:e})};function s(e){var t,i,s=e.source,a=e.sourceParam,u=e.solIdEventListener,l=Object.assign({},(t=window.localStorage.getItem(n.VISITOR_ID_KEY),i=o.storage.get(n.VISITOR_ID_KEY),{localStorageValue:t,cookieValue:i}));return function(e){var t=e.oldState,i=e.persistentValue,s=e.solIdEventListener,a=e.source,u=e.sourceParam;return window.localStorage.setItem(n.VISITOR_ID_KEY,i),o.storage.set(n.VISITOR_ID_KEY,i),function(e){var t=e.oldState,i=e.persistentValue,o=e.solIdEventListener,s=e.source,a=e.sourceParam;if("function"==typeof o){o({oldState:t,persistentValue:i,source:s,sourceParam:a,status:function(e){var t=e.oldState,i=e.persistentValue,o=e.source,s=e.sourceParam;if(o===r)if((0,n.isUuid)(t.localStorageValue)||(0,n.isUuid)(t.cookieValue)){if((0,n.isUuid)(t.localStorageValue)&&t.localStorageValue===s&&s===t.cookieValue&&s===i)return b;if((0,n.isUuid)(t.cookieValue)&&s===i)return v;if((0,n.isUuid)(t.localStorageValue)&&!(0,n.isUuid)(t.cookieValue)&&s===i)return g;if((0,n.isUuid)(t.localStorageValue)&&t.localStorageValue===i)return d;if((0,n.isUuid)(t.cookieValue)&&t.cookieValue===i)return f}else{if(!(0,n.isUuid)(s))return c;if(s===i)return S}else{if(!(0,n.isUuid)(t.localStorageValue)&&(0,n.isUuid)(t.cookieValue)&&t.cookieValue===i)return h;if(!(0,n.isUuid)(t.cookieValue)&&(0,n.isUuid)(t.localStorageValue)&&t.localStorageValue===i)return _;if((0,n.isUuid)(t.cookieValue)&&(0,n.isUuid)(t.localStorageValue)&&t.localStorageValue===i&&t.cookieValue!==t.localStorageValue)return p;if(!(0,n.isUuid)(t.cookieValue)&&!(0,n.isUuid)(t.localStorageValue)&&(0,n.isUuid)(i))return y}return m}({oldState:t,persistentValue:i,source:s,sourceParam:a})})}}({oldState:t,persistentValue:i,solIdEventListener:s,source:a,sourceParam:u}),i}({oldState:l,persistentValue:(0,n.isUuid)(l.localStorageValue)?l.localStorageValue:(0,n.isUuid)(l.cookieValue)?l.cookieValue:s===r&&(0,n.isUuid)(a)?a:(0,n.uuidV4)(),solIdEventListener:u,source:s,sourceParam:a})}var a="ERROR",u="INFO",l="WARN",c={code:"E1",status:a,detail:"Fresh value created - the informed param was invalid"},d={code:"E2",status:a,detail:"Not modified. Existent LS propagated"},f={code:"E3",status:a,detail:"Not modified. Existent CK val propagated"},p={code:"E4",status:a,detail:"CK not match LS. Existent LS val propagated"},h={code:"W1",status:l,detail:"LS not found. Existent CK val propagated"},_={code:"W2",status:l,detail:"CK not found. Existent LS val propagated"},v={code:"W3",status:l,detail:"LS not found. Existent CK val propagated. The CK and set Param were identical"},g={code:"W4",status:l,detail:"CK not found. Existent LS val propagated. The LS and set Param were identical"},m={code:"I1",status:u,detail:"LS and CK are identical"},y={code:"I2",status:u,detail:"Fresh value created"},S={code:"I3",status:u,detail:"Value set successfully"},b={code:"I4",status:u,detail:"Set Param, LS and CK are identical"};i.STATUS_CODES={INFO_FRESH_VAL:y,INFO_LS_EQ_CK:m,INFO_VAL_SET:S,INFO_PR_LS_CK_EQ:b,ERROR_CK_NOT_MATCH_LS_PROPAGATED:p,ERROR_INVALID_PARAM_NEW_VAL_CREATED:c,ERROR_NOT_MODIFIED_CK_PROPAGATED:f,ERROR_NOT_MODIFIED_LS_PROPAGATED:d,WARN_CK_NOT_FOUND_LS_PROPAGATED:_,WARN_LS_NOT_FOUND_CK_PROPAGATED:h,WARN_LS_NOT_FOUND_AND_PR_EQ_CK:v,WARN_CK_NOT_FOUND_AND_PR_EQ_LS:g}},{"./storage":4,"./utils":7}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}var t=function(e){return!e||"localhost"!==e&&e.substr(0,e.lastIndexOf(".")).length<=3};function i(t,i,n){var o=new Date;return o.setTime(o.getTime()+31536e6),document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(i)+"; domain="+n+"; expires="+o.toUTCString()+"; path=/; SameSite=Strict; Secure",e(t)===i}return{set:function(e,n){for(var o=document.location.host.split(":")[0].split("."),r=o.length-1;r>=0;r--){var s=o.slice(r).join(".");if(!t(s)){if(i(e,n,"."+s))return;if(i(e,n,s))return}}},get:function(t){return e(t)}}}();i.storage=n},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.percentVisible=function(e){var t=function(e){var t=e.getBoundingClientRect();t.clipLeft=t.left,t.clipTop=t.top,t.clipRight=t.right,t.clipBottom=t.bottom,t.clipWidth=t.width,t.clipHeight=t.height,t.visible=!0,t.contained=!0;var i=e.ownerDocument&&e.ownerDocument.defaultView;if(!i||!e.offsetWidth||!e.offsetHeight)return t.clipLeft=0,t.clipTop=0,t.clipRight=0,t.clipBottom=0,t.clipWidth=0,t.clipHeight=0,t.visible=!1,t.contained=!1,t;var n=[{left:0,top:0,right:i.innerWidth,bottom:i.innerHeight}],o=e;for(;o=r(o);)n.push(o.getBoundingClientRect());for(var s=0;s<n.length;s+=1){var a=n[s];t.clipLeft=Math.max(t.clipLeft,a.left),t.clipTop=Math.max(t.clipTop,a.top),t.clipRight=Math.min(t.clipRight,a.right),t.clipBottom=Math.min(t.clipBottom,a.bottom)}return t.clipLeft=Math.min(t.clipLeft,t.clipRight),t.clipTop=Math.min(t.clipTop,t.clipBottom),t.clipRight=Math.max(t.clipLeft,t.clipRight),t.clipBottom=Math.max(t.clipTop,t.clipBottom),t.clipWidth=t.clipRight-t.clipLeft,t.clipHeight=t.clipBottom-t.clipTop,t.visible=t.clipWidth>0&&t.clipHeight>0,t.contained=t.clipWidth===t.width&&t.clipHeight===t.height,t}(e);return t.visible?(t.clipBottom-t.clipTop)/t.height:0},i.element=o,i.callbackWhenTrueFor=function(e,t,i,s){var a=void 0,u=o(e);function l(){u&&i(u)&&(h(),s())}function c(){a&&(a=clearTimeout(a))}function d(){u&&i(u)?a||(a=setTimeout(l,t)):c()}var f=(0,n.debounce)(d,50),p=[];"complete"!==document.readyState&&p.push((0,n.addPassiveListener)(document,"readystatechange",f));function h(){c(),p.forEach((function(e){return e()}))}return p.push((0,n.addPassiveListener)(window,"resize",f)),p.push((0,n.addPassiveListener)(window,"scroll",f)),function(e,t){for(var i=[],n=e;n=r(n,t);)i.push(n);return i}(u).forEach((function(e){p.push((0,n.addPassiveListener)(e,"scroll",f))})),d(),h};var n=e("./utils.js");function o(e){if(e instanceof Element)return e;var t=document.getElementById(e);if(null!==t)return t;var i=document.querySelectorAll(e);return i.length>1?null:i[0]}function r(e,t){for(var i=getComputedStyle(e),n="absolute"===i.position,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=e;r=r.parentElement;)if(i=getComputedStyle(r),(!n||"static"!==i.position)&&o.test(i.overflow+i.overflowY+i.overflowX))return r;return null}},{"./utils.js":7}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Transport=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("./utils.js");function r(){return"object"===("undefined"==typeof window?"undefined":n(window))&&(0,o.isFunction)(window.fetch)}function s(){var e,t;r()?(this.proto="fetch+",this._sendWhileInteractive=this._sendFetch):(this.proto="xhr+",this._sendWhileInteractive=this._sendXHRAsync),"object"===("undefined"==typeof navigator?"undefined":n(navigator))&&(0,o.isFunction)(navigator.sendBeacon)?(this.proto+="beacon",this._sendWhileUnloading=this._sendBeacon):(e="object"===("undefined"==typeof navigator?"undefined":n(navigator))&&navigator.userAgent||"",t="object"===("undefined"==typeof navigator?"undefined":n(navigator))&&navigator.vendor||"",r()&&((0,o.chromeVersion)(e,t)>=66||(0,o.edgeVersion)(e,t)>=16)?(this.proto+="keepalive",this._sendWhileUnloading=this._sendFetch):(this.proto+="sxhr",this._sendWhileUnloading=this._sendXHRSync))}s.prototype.send=function(e,t,i,n,r,s){var a=e+"?"+(0,o.encodeAsQueryParameters)(t),u=JSON.stringify(i);n?this._sendWhileUnloading(a,u,r,s):this._sendWhileInteractive(a,u,r,s)},s.prototype._sendBeacon=function(e,t){navigator.sendBeacon(e,t)},s.prototype._sendFetch=function(e,t,i,n){fetch(e,{method:"POST",body:t,headers:{"Content-Type":"application/json"}}).then((function(e){return Promise.all([e.status,e.headers,e.text()])})).then((function(e){i(e[0],e[1],e[2])})).catch((function(e){n(e)}))},s.prototype._sendXHRSync=function(e,t,i,n){this._sendXHR(e,t,!0,i,n)},s.prototype._sendXHRAsync=function(e,t,i,n){this._sendXHR(e,t,!1,i,n)},s.prototype._sendXHR=function(e,t,i,n,o){var r=new XMLHttpRequest;r.open("POST",e,!i),r.withCredentials=!1,r.setRequestHeader("Content-Type","application/json"),r.addEventListener("load",(function(){n(r.status,{get:function(e){return r.getResponseHeader(e)}},r.responseText)})),r.addEventListener("error",(function(){o()})),r.send(t)},i.Transport=s},{"./utils.js":7}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();i.isDebugBuild=o,i.isUndefined=s,i.isDefined=function(e){return!s(e)},i.isString=function(e){return"[object String]"===r(e)},i.isFunction=function(e){return"function"==typeof e},i.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},i.isObject=a,i.isBlank=function(e){return s(e)||null===e||""===e},i.newZDate=function(){return(new Date).toISOString()},i.shallowClone=function(e){if(a(e)){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}return e},i.encodeAsQueryParameters=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},i.log=function(e){if(console&&console.timeStamp){var t=Function.prototype.bind.call(console[e]||console.log,console);t.apply(console,[].slice.call(arguments,1))}},i.timeStamp=function(){console&&console.timeStamp&&o()&&console.timeStamp.apply(console,arguments)},i.addPassiveListener=function(){}