!function(){"use strict";const e=Date.now();const t=function(e){const t=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(window.location.search);return t?decodeURIComponent(t[1].replace(/\+/g," ")):""},n="true"===t("hb_test");let o="true"===t("hb_debug")||n;const i=function(){return o},s=function(t){if(!o)return;let i;i="function"==typeof t?t():"object"==typeof t?JSON.stringify(t):t;const s=`display: inline-block; color: #fff; background: ${n?"tomato":"blue"}; padding: 1px 4px; border-radius: 3px`;console.log("%cAD",s,i+` ⏲ ${Date.now()-e}ms`)},r=function(e){o&&console.table(e)},a=function(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)return s(`DOM was already loaded (state: ${document.readyState})`),void e();document.addEventListener("DOMContentLoaded",(()=>{s("Event DOMContentLoaded"),e()}))},c=function(e,t,n={}){const o=document.createElement("script");o.async=!0,o.src=e,o.onload=()=>s(`Library ${t} loaded`);for(const[e,t]of Object.entries(n))o[e]=t;const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i),s(`Library ${t} injected, pending loading ...`)};void 0!==window.hb_now&&s(`Time waiting for starting the library: ${e-window.hb_now}ms`);const d=function(e){document.querySelector("head").insertAdjacentHTML("beforeend","<style>"+e+"</style>")},l=function(e,t){return"string"!=typeof e||e.length<=t?e:e.substring(0,t)},g=function(e,t){return Array.isArray(e)?e.map((e=>l(e,t))):l(e,t)},u=["pos","infi_v","refresh"],f=function(e,t,{id:n=null,once:o=!1}={}){let i=!1;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],googletag.cmd.push((()=>{googletag.pubads().addEventListener(e,(e=>{n&&n!==e.slot.getSlotElementId()||o&&i||(i=!0,t(e))}))}))},m=function(e){return(window.googletag&&window.googletag.apiReady?window.googletag.pubads().getSlots():[]).find((t=>t.getSlotElementId()===e))},h=function(e,t,n){0===n&&(n="0"),e.forEach((e=>{const o=m(e);o&&o.setTargeting(t,n)}))},p=function(e,t){e.map((e=>m(e))).filter(Boolean).forEach((e=>{e.getTargetingKeys().filter((e=>e.startsWith(t))).forEach((t=>{e.clearTargeting(t)}))}))},b=function(e){!function(e){p(e,"amzn")}(e),function(e){p(e,"hb_")}(e)};function y(e,t,n,o=!1){const i=function(i){if(!function(t){const n=t.getSlotElementId();return n===e||0===n.indexOf(`${e}__`)}(i.slot))return;const r=i.slot.getResponseInformation(),a=!!r&&(r.lineItemId||r.sourceAgnosticLineItemId);if(s(`RichAudience Skin module ➡️ search: ${t} found: ${a}`),t!==a)return;const c=googletag.pubads().getSlots().filter((e=>-1!==n.indexOf(e.getSlotElementId())));c.length?(googletag.destroySlots(c),s(`RichAudience Skin module ➡️ ${n.join()} slots destroyed`),o&&n.forEach((e=>{document.querySelector(`#${e}`).parentElement.remove()}))):s(`⛔️ RichAudience Skin module ➡️ ${n.join()} not found`)};return{name:"rich-audience-skin",init:function(){},exec:function(){!function(e,{id:t=null,once:n=!1}={}){f("slotResponseReceived",e,{id:t,once:n})}(i)},configureOnce:function(){},configureSlot:function(){}}}const w=function(e,t,{firstWithoutIndex:n=!1,context:o=document}={}){o.querySelectorAll(e).forEach(((o,i)=>{const r=n?0===i?t:t+i:t+(i+1);s(`Rename dynamic ${e} to #${r}`),o.id=r}))};class v extends class{load(){window.googlefc=window.googlefc||{},window.googlefc.callbackQueue=window.googlefc.callbackQueue||[],this._loadCustom(),this._loadCommon()}_loadCustom(){window.googlefc.controlledMessagingFunction=e=>{s("Google Funding Choices: Proceed"),e.proceed(!0)},this._loadDebug()}_loadDebug(){window.googlefc.callbackQueue.push({AD_BLOCK_DATA_READY:()=>{const e=window.googlefc.getAdBlockerStatus();if(s(`Google Funding Choices: AdBlocker status ${e}`),1===e||2===e){const e=window.googlefc.getAllowAdsStatus();s(`Google Funding Choices: Allowed ads status ${e}`)}}})}_loadCommon(){c("https://fundingchoicesmessages.google.com/i/pub-3117709661232544?ers=1","Google Funding Choices"),function e(){if(!window.frames.googlefcPresent)if(document.body){const e=document.createElement("iframe");e.style="width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;",e.style.display="none",e.name="googlefcPresent",document.body.appendChild(e)}else setTimeout(e,0)}()}}{constructor(e){super(),this.usersService=e}_loadCustom(){s("Google Funding Choices: Custom Gigya version"),window.googlefc.controlledMessagingFunction=e=>{this.usersService.getUser().then((t=>{if(!t.isAnonymous())return s("Google Funding Choices: Ignore (user is registered)"),void e.proceed(!1);s("Google Funding Choices: Proceed (anonymous user)"),e.proceed(!0)}))},super._loadDebug()}}function R(e,{interval:t=100,maxRetries:n=100}={}){const o=+new Date;let i=0;return new Promise(((r,a)=>{if(void 0!==window[e])return r(window[e]);s(`Wait: Checking global ${e} every ${t}ms ...`);const c=setInterval((()=>void 0!==window[e]?(clearInterval(c),s(`Wait: Global ${e} found after ${+new Date-o}ms`),r(window[e])):++i>=n?(clearInterval(c),s(`Wait: ⛔️ Global ${e} not found (${i} retries)`),a(`Global ${e} not found`)):void 0),t)}))}class S{constructor(e,t,n){this._UID=e,this._profile=t,this._customData=n}isAnonymous(){return!this._UID}getUID(){return this._UID}getProfile(){return this._profile}getEmail(){return!!this._profile&&this._profile.email}getCustomData(){return this._customData}dump(){return this.isAnonymous()?JSON.stringify({type:"anonymous"}):JSON.stringify({type:"authenticated",UID:this.getUID(),email:this.getEmail()})}}S.createAnonymousUser=function(){return new S(null,null,null)};class _{constructor(){if(_.instance)throw new Error("UsersService can not be instantiated more than once");_.instance=this,this._user=void 0,this._loadingUser=!1,this._loginHandlers=[],this._logoutHandlers=[],this._configureEventHandlers()}getUser(){return s("UsersService: Getting Gigya user ..."),this._loadingUser?function(e,{interval:t=100,maxRetries:n=100}={}){const o=+new Date;let i=0;return new Promise(((r,a)=>{if(e())return r(!0);s(`Wait: Checking condition every ${t}ms ...`);const c=setInterval((()=>e()?(clearInterval(c),s(`Wait: Condition succeeded after ${+new Date-o}ms`),r(!0)):++i>=n?(clearInterval(c),s(`Wait: ⛔️ Condition never succeeded (${i} retries)`),a("Condition never succeeded")):void 0),t)}))}((()=>!this._loadingUser)).then((()=>this.getUser())).catch((()=>(s("UsersService: ⛔️ Error waiting for user, using anonymous user"),S.createAnonymousUser()))):this._user?(s(`UsersService: User already loaded ${this._user.dump()}`),new Promise((e=>e(this._user)))):(this._loadingUser=!0,this._loadUser().then((e=>(this._loadingUser=!1,e))))}_loadUser(){return R("gigya").then((()=>new Promise((e=>{window.gigya.accounts.getAccountInfo({callback:t=>(this._user=this._createUserFromResponse(t),s(`UsersService: User loaded ${this._user.dump()}`),e(this._user))})})))).catch((()=>(s("UsersService: ⛔️ Error getting user, using anonymous user"),this._user=S.createAnonymousUser(),this._user)))}_createUserFromResponse(e,t=!0){return t&&0!==e.errorCode?S.createAnonymousUser():new S(e.UID,e.profile,e.data)}addLoginHandler(e){this._loginHandlers.push(e)}addLogoutHandler(e){this._logoutHandlers.push(e)}_configureEventHandlers(){R("gigya").then((()=>{window.gigya.accounts.addEventHandlers({onLogin:e=>{this._user=this._createUserFromResponse(e,!1),s(`UsersService: User login ${this._user.dump()}`),this._loginHandlers.forEach((e=>e(this._user)))},onLogout:()=>{this._user=S.createAnonymousUser(),s("UsersService: User logout"),this._logoutHandlers.forEach((e=>e()))}})}))}}const T=function(e,{allowedIds:t=[],allowedAdvertisers:n=[],defaultMaxRefreshes:o=20,defaultMinVisibilityPercentage:r=.8,defaultMinSecondsToRefresh:a=30,defaultMinLiveInterval:c=3,customRules:d=[]}={}){const l=[],g={};let u=0;const m={maxRefreshes:o,minVisibilityPercentage:r,minSecondsToRefresh:a,minLiveInterval:c,collapsable:!0},p=function(){!function(e,{id:t=null,once:n=!1,ignoreEmpty:o=!0}={}){f("slotRenderEnded",(t=>{o&&t.isEmpty||e(t)}),{id:t,once:n})}((e=>{const t=e.slot.getSlotElementId();g[t]=e,y(e.slot)?v(t):R(t);const n=w(t);n&&(n.refreshing=!1),n&&n.refreshCounter>=n.rules.maxRefreshes&&R(t),l.length?_():T()}))},y=function(e){const o=e.getSlotElementId(),i=o.replace(/__.+/,"");if(t.length&&!t.includes(i))return!1;const s=e.getResponseInformation();if(!s)return L(`Empty response for ${o}`),!1;const r=s.advertiserId;return!(n.length&&!n.includes(r))||(L(`Advertiser ${r} not allowed for ${o}`),!1)},w=function(e){return l.find((t=>t.id===e))},v=function(e){w(e)||(l.push({id:e,refreshCounter:0,refreshing:!1,secondsCounter:0,visible:!1,rules:S(e)}),L(`Add ${e} to refreshable slots`,!0))},R=function(e){const t=l.findIndex((t=>t.id===e));-1!==t&&(l.splice(t,1),L(`Remove ${e} from refreshable slots`,!0))},S=function(e){const t=e.replace(/__.+/,""),n=Object.assign({},m,d.find((e=>e.ids.includes(t)))||{});return n.safeguardLiveInterval=n.minSecondsToRefresh-n.minLiveInterval-1,n},_=function(){u||(L("Start slots visibility checker"),u=setInterval(E,1e3))},T=function(){u&&(L("Stop slots visibility checker"),clearInterval(u),u=0)},E=function(){l.forEach((e=>{const t=e.visible;e.visible=k(e),t&&!e.visible&&e.secondsCounter>e.rules.safeguardLiveInterval&&(e.secondsCounter=e.rules.safeguardLiveInterval)}));const e=l.filter((e=>e.visible));e.forEach((e=>{e.secondsCounter+=1}));const t=e.filter((e=>e.secondsCounter>=e.rules.minSecondsToRefresh));t.length&&(t.filter((e=>!e.rules.collapsable)).forEach((e=>x(e.id))),A(t))},x=function(e){const t=g[e],n=t?function(e){if(e.isEmpty||!e.size)return 0;if(1===e.size[0]&&1===e.size[1]){const t=e.slot.getTargeting("hb_size");if(t.length){const e=t[0].split("x");return parseInt(e[1])}}return e.size[1]}(t):0;if(!n)return;const o=document.getElementById(e);(parseInt(o.style.minHeight.replace("px",""))||0)<n&&(o.style.minHeight=`${n}px`)},k=function(e){const t=document.getElementById(e.id);return t?!e.refreshing&&z(t)>=e.rules.minVisibilityPercentage:(R(e.id),!1)},z=function(e){let t=e.getBoundingClientRect();if(0===t.height){const n=e.firstElementChild;n&&(t=n.getBoundingClientRect())}return t.top>=window.innerHeight||t.bottom<=0?0:t.top>=0&&t.bottom<=window.innerHeight||t.top<0&&t.bottom>window.innerHeight?1:t.top<0?(t.height+t.top)/t.height:(t.height-t.bottom+window.innerHeight)/t.height},A=function(t){const n=t.map((e=>e.id));t.forEach((e=>{var t,n;e.secondsCounter=0,e.refreshCounter+=1,e.refreshing=!0,t=[e.id],n=e.refreshCounter,h(t,"refresh",function(e){return e>=20?20:e}(n))})),L(`Refresh ${n.join()}`,!0),b(n),e.fetch(n)},I=function(){document.addEventListener("visibilitychange",$)},$=function(){const e=document.visibilityState;L(`Event visibilitychange ${e}`),"hidden"!==e?l.length&&_():T()},L=function(e,t=!1){if(i()){if(t){const t=(e,t)=>"rules"===e?void 0:t;e=e+"\n"+JSON.stringify(l,t)}s(`SmartRefresher: ${e}`)}};L("Start"),p(),I()},E=[4467651967,734225901,1532241141,751123221,0],x=function(e){return e.google.slots.filter((e=>!e.sizes.empty&&Array.isArray(e.sizes[0]))).filter((e=>"sticky"!==e.code.toLowerCase())).map((e=>e.code))};const k=function(e){return function(e){return s(`Wait: For CMP (${e}) ...`),R("__tcfapi",{interval:20,maxRetries:1e3})}(e).then((()=>(s(`Wait: For CMP consent information (${e}) ...`),new Promise(((t,n)=>{window.__tcfapi("addEventListener",2,((o,i)=>{if(!i){const e=JSON.stringify(o);return s(`Wait: ⛔️ Error listening for consent (${e})`),n(e)}if("tcloaded"===o.eventStatus||"useractioncomplete"===o.eventStatus)return window.__tcfapi("removeEventListener",2,(()=>{}),o.listenerId),s(`Wait: CMP consent information available (${e})`),t(o)}))})))))};const z=function(e=document){e.querySelectorAll(".axds-lane").forEach((e=>{e.className.match(/last-lane/)||e.remove()})),function(e,t=document){t.querySelectorAll(e).forEach((e=>{s(`Remove slot ${e.id||e.className}`),e.remove()}))}(".axds",e)},A=function(){document.querySelectorAll(".henneoHB").forEach((e=>{e.innerHTML=`Publicidad ${e.id||e.className}`}))};const I=function(e,t,{code:n="Intext",selector:o=".article-text > p",site:i="20minutos"}={}){if(!e)return;const r=e.querySelectorAll(o);$(r,t),t.forEach((function(e,t){if(r.length<=e)return;const o=0===t?n:`${n}${t+1}`;r[e-1].insertAdjacentHTML("afterend",function(e,t){return["heraldo","daa"].includes(e)?`<div id="${t}" class="ad-unit intext"></div>`:`<div id="axds-${t}" class="axds"><div id="${t}" class="henneoHB"></div></div>`}(i,o)),s(`Injected ${o} ad after ${e} blocks`)}))},$=function(e,t){t.forEach((function(t,n){if(e.length<=t)return;const o=`__hn_teads${n+1}`;e[t-1].insertAdjacentHTML("afterend",`<div id="${o}" class="__hn_teads ${o}"></div>`),s(`Injected ${o} mark after ${t} blocks`)}))};const L=function(e){"singleRequest"in e||(e.singleRequest=!0),"collapseEmptyDivs"in e||(e.collapseEmptyDivs=!0);const n=Array.isArray(e.modules)?e.modules:[];let o=!1;n.push({name:"fledge",init:function(){c("https://storage.googleapis.com/fledge-tests/otToken.js","Fledge OTToken")},exec:function(){const e=window.navigator.runAdAuction?"true":"false";googletag.pubads().setTargeting("fledge",e),s(`Fledge targeting set ${e}`)},configureOnce:function(){},configureSlot:function(){}}),function(){const e=t("entorno");return["demo","demo1","demo2","demo3"].includes(e)}()&&n.push(function(){const e=function(e){e.googleObject.getTargetingKeys().includes("entorno")&&(e.googleObject.clearTargeting("entorno"),s("Environment targeting removed from the slot"))};return{name:"environment-targeting",init:function(){},exec:function(){const e=t("entorno");googletag.pubads().setTargeting("entorno",e),s(`Environment targeting set ${e}`)},configureOnce:function(){},configureSlot:function(t){e(t)}}}());const a=function(e,t){const n=e.slot.getSlotElementId();let o=e.slot.getResponseInformation();o=o?JSON.stringify(o).replace(/(,|:)/g,"$1 "):"⛔ empty",s(`Event ${t} for ${n} ➡️ ${o}`)},d=function(e){googletag.cmd.push((()=>{s((()=>`Destroying Google Ads for ${e.map((e=>e.id)).join()}`)),googletag.destroySlots(e.map((e=>e.googleObject)))}))},l=function(e){if(!i())return;const t=e.map((e=>{const t={_id:e.id,_code:e.code};return e.googleObject.getTargetingKeys().sort(),e.googleObject.getTargetingKeys().forEach((n=>{t[n]=e.googleObject.getTargeting(n).join()})),t}));r(t)},f=function(e,t){if(e.googleObject=e.sizes.length?googletag.defineSlot(e.adUnit,e.sizes,e.id):googletag.defineOutOfPageSlot(e.adUnit,e.id),e.mappings){const t=googletag.sizeMapping();e.mappings.forEach((e=>t.addSize(e[0],e[1]))),e.googleObject.defineSizeMapping(t.build())}t.forEach((t=>e.googleObject.setTargeting(t.key,t.value))),n.forEach((t=>t.configureSlot(e))),e.googleObject.addService(googletag.pubads()),googletag.display(e.id)},m=function(e){const t=(n=e.googleObject).getTargetingKeys().filter((e=>u.includes(e))).map((e=>({key:e,value:n.getTargeting(e)})));var n;d([e]),e.adUnit=e.newAdUnit;const o=[...t,...e.newTargetings];f(e,o)},h=function(e){var t;(t=e.googleObject).getTargetingKeys().forEach((e=>{u.includes(e)||t.clearTargeting(e)})),e.newTargetings.forEach((t=>{e.googleObject.setTargeting(t.key,t.value)})),n.forEach((t=>t.configureSlot(e)))};return function(){const t=document.createElement("script");t.async=!0,t.src="//securepubads.g.doubleclick.net/tag/js/gpt.js";const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o),s(`Google AdManager modules: ${n.map((e=>e.name)).join()||"none"}`),n.forEach((t=>t.init(e))),window.googletag=window.googletag||{},window.googletag.cmd=googletag.cmd||[],googletag.cmd.push((()=>{s("Google AdManager JS ready"),googletag.pubads().disableInitialLoad(),e.singleRequest&&googletag.pubads().enableSingleRequest(),e.collapseEmptyDivs&&(s("Enable collapseEmptyDivs"),googletag.pubads().collapseEmptyDivs(!1)),i()&&["slotResponseReceived","slotRenderEnded","slotOnload","impressionViewable"].forEach((e=>{googletag.pubads().addEventListener(e,(function(t){a(t,e)}))})),n.forEach((e=>e.exec())),googletag.enableServices()}))}(),{configure:function(t,i){i.forEach((n=>{const o=e.slots.find((e=>e.code===n.code));n.adUnit=e.adUnitPrefix+t.googleAdUnit+n.code,n.sizes=o.sizes,n.mappings=o.mappings||void 0,n.googleObject=void 0})),googletag.cmd.push((()=>{o||(n.forEach((e=>e.configureOnce())),o=!0);const e=t.targetings.map((e=>({key:e.key,value:g(e.value,40)})));i.forEach((t=>{f(t,e),t.googleObject.setTargeting("pos",t.code),t.googleObject.setTargeting("refresh","0"),t.googleObject.setTargeting("infi_v","0")}))}))},reconfigure:function(t,n){const o=t.targetings.map((e=>({key:e.key,value:g(e.value,40)})));n.forEach((n=>{if(n.newAdUnit=e.adUnitPrefix+t.googleAdUnit+n.code,n.newTargetings=o,i()){const e=JSON.stringify(n.newTargetings);s(`Save ${n.id} adunit (${n.newAdUnit}) & targetings (${e})`)}}))},fetch:function(e){googletag.cmd.push((()=>{const t=e.map((e=>e.id));s(`Fetching Google Ads for ${t.join()}`),l(e),e.forEach((e=>{e.newAdUnit&&e.adUnit!==e.newAdUnit?m(e):e.newTargetings&&h(e),e.newAdUnit=void 0,e.newTargetings=void 0})),googletag.pubads().refresh(e.map((e=>e.googleObject)))}))},clear:function(e){googletag.cmd.push((()=>{s((()=>`Clearing Google Ads for ${e.map((e=>e.id)).join()}`)),googletag.pubads().clear(e.map((e=>e.googleObject)))}))},destroy:d,queue:function(e){const t=Math.random().toString(36).substring(2,7);s(`Google Ads queue: adding ${t}`),googletag.cmd.push((()=>{s(`Google Ads queue: running ${t}`),e()}))}}},C=function(e){if(e.manager.adsSelector){const t=[...document.querySelectorAll(e.manager.adsSelector)].map((e=>e.id));return s(`Slots loaded from page: ${t.join()}`),t}const t=e.manager.slots.map((e=>e.code));return s(`Slots loaded from configuration: ${t.join()}`),t},j=function(){return!0===Didomi.getUserConsentStatusForVendor("google")},O=function(){return!1===Didomi.getUserConsentStatusForVendor("google")};const U=function(e,t){t||function(e,t){e&&(function(e,t){return e.querySelectorAll(".article-small-list").length>=t}(e,6)?I(e,[6,7],{selector:".article-small-list"}):function(e,t){return e.querySelectorAll(".interview-line").length>=t}(e,2)?I(e,t,{selector:".interview-line"}):I(e,t))}(e,[2,5])};let P;const D=function(){return P||F(window.dataLayer[0]||{}),P},F=function(e){P={contentId:e.noticia_id,disabled:"0"===e.ads,layout:e.layout,mainCategory:q(e.categoria),secondaryCategory:e.subcategoria,tags:e.seotag?e.seotag.split(",").filter(Boolean):[],tertiaryCategory:G(e.terciariacategoria)}},B=function(){const e=D();return e.disabled||"articulo_patrocinado"===e.layout||"paginas_libres"===e.layout||"branded-content"===e.mainCategory},M=function(){const e=D().layout;return"articulo"===e||"articulo_opinion"===e},H=function(){return"ciudades"===D().mainCategory},q=function(e){return"zona-20"===e?"zona20":e},G=function(e){return"coruna"===e?"a-coruna":"ciudadreal"===e?"ciudad-real":e},N=function(){return window.location.hostname.match(/local/)};function W(e){e&&F(e);const t=D(),n=t.contentId,o=t.layout,i=t.mainCategory,s=t.secondaryCategory,r=t.tags,a=t.tertiaryCategory,c=function(){return!!i&&("comunitat-valenciana"===D().secondaryCategory?"valenciano":H()?"local":"opinion"===D().mainCategory?"opiniones":i)},d=function(){const e=[];return i&&(e.push(i),s&&e.push(s),a&&e.push(a)),e},l=function(){if(!H()||!s)return[];switch(s){case"andalucia":case"aragon":case"canarias":case"castilla-la-mancha":case"castilla-y-leon":case"cataluna":case"comunidad-valenciana":case"comunitat-valenciana":case"extremadura":case"galicia":case"pais-vasco":return a?[a,"c_"+s]:["c_"+s];default:return[s,"c_"+s]}};return{googleAdUnit:function(){let e=function(){if(!o)return!1;switch(o){case"home":case"subhome":case"minuteca":return"portada";case"articulo":case"articulo_especial":case"articulo_opinion":case"video":case"encuesta":return"noticia";case"galeria":return"fotogaleria"}return o}(),t=c();return"home"!==o||t?"minuteca"!==o||t?(e||(e="hb_error"),t||(t="generales"),t+"/"+e+"/"):"minuteca/portada/":"home/portada/"}(),targetings:function(){const e=[];o&&e.push({key:"m20_page",value:o});const t=d();t.length&&e.push({key:"m20_secc",value:t}),r.length&&e.push({key:"m20_tags",value:r}),M()&&n&&e.push({key:"m20_id",value:n});const i=l();return i.length>0&&e.push({key:"region",value:i}),N()&&e.push({key:"entorno",value:"local"}),e}()}}function J(){return{name:"citiservi-segments",init:function(){},exec:function(){},configureOnce:function(){const e=function(){try{return decodeURIComponent("; "+document.cookie).split("; btrseg=").pop().split(";").shift().split(",")}catch(e){return s("CitiserviSegments: ⛔️ Error decoding URI"),!1}}();Array.isArray(e)&&(s(`CitiserviSegments: Setting targeting ${e.join()}`),googletag.pubads().setTargeting("cservi_segments",e))},configureSlot:function(){}}}function K(){const e=function(){return function(){const e="adstest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}()?window.localStorage.getItem("_pr_active_segments_admngr"):""};return{name:"prometeo-segments",init:function(){},exec:function(){},configureOnce:function(){const t=e();s(`Setting Prometeo Segments targeting: ${t}`),googletag.pubads().setTargeting("pr_alayans_seg",t?t.split(","):[])},configureSlot:function(){}}}function V(e=!1){e=e||{fetchMarginPercent:300,renderMarginPercent:150,mobileScaling:1};return{name:"lazy-loading",init:function(){},exec:function(){googletag.pubads().enableLazyLoad(e)},configureOnce:function(){},configureSlot:function(){}}}function Q(e=!1,t=null){const n=function(){var t,n,o;window._PROMETEO_MEDIA_SU=window._PROMETEO_MEDIA_SU||(o="_SUIPROMETEO",t=document.cookie.match("(^|;)\\s*"+o+"\\s*=\\s*([^;]+)"),void(n=t?t.pop():"0"),"0"===n&&function(){var e=new XMLHttpRequest;e.open("GET","https://cmanager-prometeo.appspot.com/v1"),e.withCredentials=!0,e.onreadystatechange=function(){4==this.readyState&&200==this.status&&function(e){n=e||"0";var t=new Date;t.setTime(t.getTime()+2592e6),document.cookie=o+"="+n+"; expires="+t.toGMTString()+"; path=/"}(e.responseText)},e.send()}(),{read:function(){return n}}),s(`Loading Prometeo Superuser (PPID ${e?"enabled":"disabled"})`)};return{name:"prometeo-superuser",init:function(){k("PrometeoSuperuser").then((e=>{e.purpose.consents[1]?n():s("⛔️ Prometeo Superuser code not loaded (consent rejected)")}))},exec:function(){},configureOnce:function(){const t=void 0!==window._PROMETEO_MEDIA_SU&&"function"==typeof window._PROMETEO_MEDIA_SU.read?window._PROMETEO_MEDIA_SU.read():"-1";s(`Setting Prometeo Superuser targeting: ${t}`),googletag.pubads().setTargeting("su_prometeo",t),e&&t.length>=36&&(s("Setting PPID & user logged targetting"),googletag.pubads().setPublisherProvidedId(t))},configureSlot:function(){}}}const Y={init:(X={},X.cmpTimeout="cmpTimeout"in X?X.cmpTimeout:50,{pubID:"3661",deals:!0,adServer:"googletag",gdpr:{cmpTimeout:X.cmpTimeout}}),timeout:1300};var X;const Z={jsUrl:"https://hb.20m.es/prebid/6.11.0.js",init:function(e){return e.cmpTimeout="cmpTimeout"in e?e.cmpTimeout:50,{priceGranularity:"dense",enableSendAllBids:!1,consentManagement:{gdpr:{cmpApi:"iab",defaultGdprScope:!0,timeout:e.cmpTimeout}},userSync:{filterSettings:{all:{bidders:"*",filter:"include"}}}}}({}),analytics:{provider:"rubicon",options:{accountId:17212,endpoint:"https://prebid-a.rubiconproject.com/event"}},bidders:{criteo:{network:3340}},timeout:1300};var ee={manager:{adsSelector:".henneoHB",timeout:3e3},amazon:Y,prebid:Z};const te={OutOfPage:[],Top:[[1,1],[728,90],[950,90],[970,90],[970,250],[980,50],[980,90],[980,250],[990,90],[990,200],[990,250]],SmallTop:[[1,1],[728,90],[950,90],[970,90],[980,50],[980,90],[990,90]],Right:[[300,250],[300,300],[300,600]],Button:[[300,250],[300,300]],Left:[[580,400],[655,400]],LeftSky:[[120,600],[160,600],[480,1e3]],RightSky:[[120,600],[120,601],[160,600],[160,601],[480,1001]],Fluid:["fluid"]},ne={Top:[[[990,0],te.Top],[[0,0],[[1,1],[728,90]]]],SmallTop:[[[990,0],te.SmallTop],[[0,0],[[1,1],[728,90]]]],LeftSky:[[[1120,0],te.LeftSky],[[0,0],[]]],RightSky:[[[1120,0],te.RightSky],[[0,0],[]]]},oe={FullTop:[[728,90],[970,90],[970,250]],SmallFullTop:[[728,90],[970,90]],Top:[[728,90],[970,250]],SmallTop:[[728,90]],Right:[[300,250],[300,300],[300,600]],Button:[[300,250],[300,300]],Left:[[580,400],[655,400]],Sky:[[120,600],[160,600]]};var ie={manager:{slots:[{code:"x01"},{code:"x31"},{code:"x41"},{code:"Top"},{code:"Left1"},{code:"Left2"},{code:"Left3"},{code:"Right1"},{code:"Right2"},{code:"Right3"},{code:"Right4"},{code:"Right5"},{code:"Right6"},{code:"Right7"},{code:"Right8"},{code:"Right9"},{code:"Intext"},{code:"Intext2"},{code:"Cintillo1"},{code:"Cintillo2"},{code:"Cintillo3"},{code:"Cintillo4"},{code:"Cintillo5"}],adsSelector:ee.manager.adsSelector,getPageConfigFn:void 0,beforeLoadAdsFn:void 0,timeout:ee.manager.timeout},loader:{name:"didomi-paywall"},google:{adUnitPrefix:"/34616581,22653889300/20minutos.es/",slots:[{code:"x01",sizes:te.OutOfPage},{code:"x31",sizes:te.LeftSky,mappings:ne.LeftSky},{code:"x41",sizes:te.RightSky,mappings:ne.RightSky},{code:"Top",sizes:te.Top},{code:"Left1",sizes:te.Left},{code:"Left2",sizes:te.Left},{code:"Left3",sizes:te.Left},{code:"Right1",sizes:te.Right},{code:"Right2",sizes:te.Right},{code:"Right3",sizes:te.Right},{code:"Right4",sizes:te.Right},{code:"Right5",sizes:te.Right},{code:"Right6",sizes:te.Right},{code:"Right7",sizes:te.Right},{code:"Right8",sizes:te.Right},{code:"Right9",sizes:te.Right},{code:"Intext",sizes:te.OutOfPage},{code:"Intext2",sizes:te.OutOfPage},{code:"Cintillo1",sizes:te.Top},{code:"Cintillo2",sizes:te.Top},{code:"Cintillo3",sizes:te.Top},{code:"Cintillo4",sizes:te.Top},{code:"Cintillo5",sizes:te.Top}],modules:[J(),V(),Q(!0,"20M_USER"),K(),y("Top",5311346354,["x31","x41"])]},amazon:{page:"/34616581/20minutos_portada/",slots:[{code:"x31",sizes:oe.Sky},{code:"x41",sizes:oe.Sky},{code:"Top",sizes:oe.Top},{code:"Right1",sizes:oe.Right},{code:"Right2",sizes:oe.Right},{code:"Right3",sizes:oe.Right},{code:"Right4",sizes:oe.Right},{code:"Right5",sizes:oe.Right}],init:ee.amazon.init,timeout:ee.amazon.timeout},prebid:{slots:[{code:"x31",sizes:oe.Sky},{code:"x41",sizes:oe.Sky},{code:"Top",sizes:oe.FullTop},{code:"Right1",sizes:oe.Right},{code:"Right2",sizes:oe.Right},{code:"Right3",sizes:oe.Right},{code:"Right4",sizes:oe.Right},{code:"Right5",sizes:oe.Right},{code:"Left1",sizes:oe.Left},{code:"Left2",sizes:oe.Left},{code:"Left3",sizes:oe.Left}],bidders:[{name:"adform",slots:{x31:1221061,x41:1221050,Top:1221048,Right1:1221043,Right2:1221044,Right3:1221047,Right4:1221046,Right5:1221049}},{name:"appnexus",slots:{x31:17061390,x41:17061348,Top:12341677,Right1:12341673,Right2:12341674,Right3:12341675,Right4:12341676,Right5:12923154}},{name:"criteo",publisherSub:"20m_es_desktop",network:ee.prebid.bidders.criteo.network,slots:{Top:!0,Right1:!0,Right2:!0,Right3:!0,Right4:!0,Right5:!0,Left1:!0,Left2:!0,Left3:!0}},{name:"rubicon",account:17212,site:159348,slots:{x31:1421604,x41:1421602,Top:764168,Right1:764186,Right2:764184,Right3:764182,Right4:764180,Right5:764180}},{name:"smartadserver",site:267234,page:1002510,slots:{x31:70220,x41:70220,Top:70225,Right1:70223,Right2:70223,Right3:70223,Right4:70223,Right5:70223}},{name:"richaudience",slots:{x31:"1jPmAbPaBK",x41:"KU347wu1Uv",Top:["4d88i8jvwZ","TjSeIaO0B2"],Right1:"0oybnavaC9",Right2:"hLqGweDIMF",Right3:"DZ96geBhTw",Right4:"8Srdaz0PTX",Right5:"0rvz2GkudU"}}],jsUrl:"https://hb.20m.es/prebid/6.11.0-adf.js",init:ee.prebid.init,analytics:ee.prebid.analytics,timeout:ee.prebid.timeout}};var se={manager:{slots:[{code:"x01"},{code:"x31"},{code:"x41"},{code:"Top"},{code:"Left1"},{code:"Left2"},{code:"Left3"},{code:"Right1"},{code:"Right2"},{code:"Right3"},{code:"Right4"},{code:"Right5"},{code:"Intext"},{code:"Intext2"}],adsSelector:ee.manager.adsSelector,getPageConfigFn:void 0,beforeLoadAdsFn:void 0,timeout:ee.manager.timeout},loader:{name:"didomi-paywall"},google:{adUnitPrefix:"/34616581,22653889300/20minutos.es/",slots:[{code:"x01",sizes:te.OutOfPage},{code:"x31",sizes:te.LeftSky,mappings:ne.LeftSky},{code:"x41",sizes:te.RightSky,mappings:ne.RightSky},{code:"Top",sizes:te.Top},{code:"Left1",sizes:te.Left},{code:"Left2",sizes:te.Left},{code:"Left3",sizes:te.Left},{code:"Right1",sizes:te.Right},{code:"Right2",sizes:te.Right},{code:"Right3",sizes:te.Right},{code:"Right4",sizes:te.Right},{code:"Right5",sizes:te.Right},{code:"Intext",sizes:te.OutOfPage},{code:"Intext2",sizes:te.OutOfPage}],modules:[J(),V(),Q(!0,"20M_USER"),K(),y("Top",5311346354,["x31","x41"])]},amazon:{page:"/34616581/20minutos_interior/",slots:[{code:"x31",sizes:oe.Sky},{code:"x41",sizes:oe.Sky},{code:"Top",sizes:oe.Top},{code:"Right1",sizes:oe.Right},{code:"Right2",sizes:oe.Right},{code:"Right3",sizes:oe.Right},{code:"Right4",sizes:oe.Right},{code:"Right5",sizes:oe.Right},{code:"Left1",sizes:oe.Left},{code:"Left2",sizes:oe.Left}],init:ee.amazon.init,timeout:ee.amazon.timeout},prebid:{slots:[{code:"x31",sizes:oe.Sky},{code:"x41",sizes:oe.Sky},{code:"Top",sizes:oe.FullTop},{code:"Right1",sizes:oe.Right},{code:"Right2",sizes:oe.Right},{code:"Right3",sizes:oe.Right},{code:"Right4",sizes:oe.Right},{code:"Right5",sizes:oe.Right},{code:"Left1",sizes:oe.Left},{code:"Left2",sizes:oe.Left}],bidders:[{name:"adform",slots:{x31:1221052,x41:1221051,Top:1221045,Right1:1221039,Right2:1221040,Right3:1221041,Right4:1221042,Right5:1221060}},{name:"appnexus",slots:{x31:17061485,x41:17061480,Top:12341671,Right1:12341666,Right2:12341667,Right3:12341668,Right4:12341669,Right5:12341670}},{name:"criteo",publisherSub:"20m_es_desktop",network:ee.prebid.bidders.criteo.network,slots:{Top:!0,Right1:!0,Right2:!0,Right3:!0,Right4:!0,Right5:!0,Left1:!0,Left2:!0}},{name:"rubicon",account:17212,site:159348,slots:{x31:1421596,x41:1421600,Top:764190,Right1:764192,Right2:764194,Right3:764196,Right4:764198,Right5:764200}},{name:"smartadserver",site:267234,page:1002511,slots:{x31:70220,x41:70220,Top:70225,Right1:70222,Right2:70222,Right3:70222,Right4:70222,Right5:70222}},{name:"richaudience",slots:{x31:"QuMc3cqo27",x41:"3AyY3tiUIH",Top:["4d88i8jvwZ","0XAXZsS0xX"],Right1:"0QkN2l53xO",Right2:"OADxeloeQO",Right3:"RfXqCucqAn",Right4:"sNfezkoftZ",Right5:"M03bs1G0rT"}}],jsUrl:"https://hb.20m.es/prebid/6.11.0-adf.js",init:ee.prebid.init,analytics:ee.prebid.analytics,timeout:ee.prebid.timeout}};const re=new _;!function(e,{offsetTop:t=0,paddingTop:n=10,closeTimeout:o=3e3}){const i="__hnads_sticky_top",r=`.${i} {\n      position:fixed;\n      top:${t}px;\n      left:0;\n      right:0;\n      z-index:25;\n      height:auto !important;\n      width:100% !important;\n      max-width:990px;\n      margin:0px auto;\n      padding-top:${n}px;\n      padding-bottom:10px;\n      background:#fff;\n  }`;let a,c,l;const g=function(){u()?(d(r),m()):s("StickyTop: Behaviour is not enabled because slot is visible")},u=function(){return a.getBoundingClientRect().top<0},m=function(){c.classList.add(i),l=window.setTimeout(h,o),document.addEventListener("scroll",p,!0),s("StickyTop: Enabled sticky behaviour")},h=()=>{c.classList.remove(i),clearTimeout(l),document.removeEventListener("scroll",p,!0),s("StickyTop: Disabled sticky behaviour")},p=()=>{(0===window.scrollY||a.getBoundingClientRect().top>=t+n)&&h()};!function(e,{id:t=null,once:n=!1}={}){f("slotOnload",e,{id:t,once:n})}((t=>{t.slot.getResponseInformation()?(a=document.getElementById(e),a?(c=a.firstElementChild,s(`StickyTop: Slot detected ${e}`),g()):s(`StickyTop: ⛔️ Invalid DOM element ${e}`)):s(`StickyTop: ⛔️ Empty response ${e}`)}),{id:e,once:!0})}("Top",{offsetTop:50,paddingTop:20}),function(e){const t=function(e){return e.vendor.consents[1080]&&e.purpose.consents[1]&&e.purpose.consents[2]&&e.purpose.consents[3]&&e.purpose.consents[4]&&e.purpose.consents[5]&&e.purpose.consents[6]&&e.purpose.consents[7]&&e.purpose.consents[8]&&e.purpose.consents[9]&&e.purpose.consents[10]},n=function(t){const n=void 0!==window._PROMETEO_MEDIA_SU&&"function"==typeof window._PROMETEO_MEDIA_SU.read?window._PROMETEO_MEDIA_SU.read():"-1",o=function(e){const t=document.cookie.split("; ").find((t=>t.startsWith(`${e}=`)));return t?t.slice(e.length+1):null}("_btrid");return t=encodeURIComponent(t),`https://dmp.citiservi.es/pxtrack.js?m=2&sid=${e}&p=vvbtlaox&bt=${o}&id=${n}&ref=${t}`},o=function(){const t=n(window.location.href);c(t,`CitiserviPixel (${e})`)},i=function(){document.addEventListener("is.history",(t=>{const o=t.detail.path||window.location.href,i=n(o);c(i,`CitiserviPixel (${e}) in infinite scroll (${o})`)}))};k("CitiserviPixel").then((e=>{t(e)?(s("CitiserviPixel: Consent accepted ➡️ Load library"),o(),i()):s("CitiserviPixel: Consent rejected ➡️ ⛔️ Library not loaded")}))}(3355),function(e=!1){const t=document.createElement("script");t.async=!0,t.src="https://pghub.io/js/pandg-sdk.js",t.onload=function(){window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push((function(t){if(!0===t.getUserConsentStatusForVendor(89)&&!0===t.getUserConsentStatusForVendor(577)){const n={gdpr:1,gdpr_consent:t.getUserStatus().consent_string,ccpa:null,bp_id:"bluemedia"},o={name:"P&G",pixelUrl:"https://pandg.tapad.com/tag"},i=window.Tapad.init(n,o),r={category:e||""};i.sync(r).then(console.log),s("Library P&G injected")}else s("Didomi consent rejected, Library P&G not loaded")}))};const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}(D().mainCategory),function(e){const t={optOut:!1,hashedRecords:[{type:"email",record:""}],duration:1209600},n=function(){e.getUser().then((e=>o(e,!1))),e.addLoginHandler((e=>o(e,!0))),e.addLogoutHandler((()=>i())),Didomi.on("consent.changed",(()=>{e.getUser().then((e=>o(e,!0)))}))},o=function(e,n){if(e.isAnonymous())return s("AmazonAudienceId: User is not logged"),void i();const o=r(e.getEmail());a(o)?function(e){const t=(new TextEncoder).encode(e);return crypto.subtle.digest("SHA-256",t).then((function(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}))}(o).then((e=>{t.hashedRecords[0].record=e,n?(apstag.upa(t),s(`AmazonAudienceId: Token updated (apstag.upa) for ${o}`)):(apstag.rpa(t),s(`AmazonAudienceId: Token generated (apstag.rpa) for ${o}`))})):s(`AmazonAudienceId: ⛔️ No valid email ${o}`)},i=function(){apstag.dpa(),s("AmazonAudienceId: Token deleted if exists (apstag.dpa)")},r=function(e){return e.trim().toLowerCase().replace(/\+[^@]*@/g,"@")},a=function(e){return 1===(e.match(/@/g)||[]).length};s("AmazonAudienceId: Loading ..."),(s("Wait: For Didomi ..."),new Promise((e=>{window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push((()=>{s("Wait: Didomi is ready"),e()}))}))).then((()=>R("apstag"))).then((()=>R("gigya"))).then((()=>n())).catch((e=>s(`AmazonAudienceId: ⛔️ ${e}`)))}(re),function(e){const t=function(e){return e.purpose.consents[1]},n=function(){window.teads_analytics=window.teads_analytics||{},window.teads_analytics.analytics_tag_id=e,window.teads_analytics.share=window.teads_analytics.share||function(){(window.teads_analytics.shared_data=window.teads_analytics.shared_data||[]).push(arguments)};c("https://a.teads.tv/analytics/tag.js",`TeadsUserId (${e})`)};k("TeadsUserId").then((e=>{t(e)?(s("TeadsUserId: Consent accepted ➡️ Load library"),n()):s("TeadsUserId: Consent rejected ➡️ ⛔️ Library not loaded")}))}("PUB_10133");const ae="home"===D().layout?ie:se;N()&&function(e){e.google.adUnitPrefix=e.google.adUnitPrefix.replace(/,\d+/,"")}(ae),ae.google.modules.push(function(e,t="/"){return{name:"follow-me-targeting",init:function(){},exec:function(){},configureOnce:function(){if(!document.referrer)return;if("articulo"!==e)return;const n=new URL(document.referrer);n.pathname===t&&n.hostname===window.location.hostname&&googletag.pubads().setTargeting("bd_publi","followme")},configureSlot:function(){}}}(D().layout)),ae.manager.getPageConfigFn=W,ae.manager.beforeLoadAdsFn=function(){if(B())return z(),!1;if(window.location.hostname.match(/admin/))return d("\n#axds-x01, #axds-Skyscraper {display:none !important;}\n.axds-lane.lane-750 {display: block !important;}\n.axds {background-color:#ddd; padding: 50px 0; text-align: center;}\n.axds.axds-Left {height: 400px;}\n.axds.axds-Right {height: 250px;}\n.axds #Top {margin: 0;}\n"),A(),!1;if(M()){const e=document.querySelector(".page-article");U(e,D().tags.includes("publirreportajes-fundacio-la-caixa"))}if(w(".henneoHB-Right","Right"),w(".henneoHB-Left","Left"),w(".henneoHB-Cintillo","Cintillo"),"articulo_especial"===D().layout){const e=["x01","x31","x41"];document.querySelectorAll(".henneoHB").forEach((t=>{e.includes(t.id)&&t.remove()})),function(e=!1){const t=document.querySelector(".content-modules");if(!t)return;const n=[...t.querySelectorAll(":scope > div, :scope > p")].filter(((e,t)=>0!==t||!e.classList.contains("special-free-html-ad"))).filter((e=>{const t=e.innerHTML.trim();return 0!==t.length&&"&nbsp;"!==t}));[1,3].forEach((function(t,o){if(n.length>t){const i=e?`<div id="right${o+1}" class="ad-unit"></div>`:`<div id="axds-Right${o+1}" class="axds">\n            <div id="Right${o+1}" class="henneoHB"></div>\n          </div>`;n[t-1].insertAdjacentHTML("afterend",i),s(`Injected right ad after ${t} blocks`)}}))}()}return T(de,function(e){return{allowedIds:x(e),allowedAdvertisers:[...E,605220621,2019300021,2104793061,2236549461,4599570866]}}(ae)),M()&&new v(re).load(),!0};const ce=function(e){let t,n;const o=function(){return e.enabled},i=function(){s("Paywall: Configuring listener"),document.addEventListener("blockContent",(function(e){t=!0===e.blockedContent,s(`Paywall: Event "blockContent" received: ${t}`),n&&(s("Paywall: Running Ads callback"),n(t),n=void 0)}))};return o()&&i(),{isEnabled:o,isUnknownState:function(){return void 0===t},isUnblockedState:function(){return!1===t},isBlockedState:function(){}